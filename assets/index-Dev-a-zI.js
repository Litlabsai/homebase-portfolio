import{j as E,A as Gr,m as $}from"./motion-K6OG_hvw.js";import{a as aA,b as sA,g as lA,r as et,R as Br,N as oA,L as uA,c as cA,d as Va,e as hA,B as fA}from"./router-CmIGl_H7.js";import{L as r0,g as a0,i as dA,a as mA,_ as Gd,C as Kd,r as bo,b as pA,S as $s,E as mm,c as gn,d as Ie,e as gA,f as Qn,h as sn,F as uh,j as yA,q as ko,k as Lo,l as pm,m as _A,n as s0,o as qc,p as l0,u as o0,s as vA,t as TA,v as mo,w as po,x as EA,y as AA,z as SA,A as wA,B as bA,D as RA,G as IA}from"./firebase-t01oaRlO.js";import{r as CA}from"./xterm-ajz_2wqH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Dd={exports:{}},ho={},Vd={exports:{}},Od={};var I_;function xA(){return I_||(I_=1,(function(a){function t(G,tt){var ut=G.length;G.push(tt);t:for(;0<ut;){var kt=ut-1>>>1,Gt=G[kt];if(0<o(Gt,tt))G[kt]=tt,G[ut]=Gt,ut=kt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var tt=G[0],ut=G.pop();if(ut!==tt){G[0]=ut;t:for(var kt=0,Gt=G.length,Ce=Gt>>>1;kt<Ce;){var Qt=2*(kt+1)-1,Nt=G[Qt],te=Qt+1,Xe=G[te];if(0>o(Nt,ut))te<Gt&&0>o(Xe,Nt)?(G[kt]=Xe,G[te]=ut,kt=te):(G[kt]=Nt,G[Qt]=ut,kt=Qt);else if(te<Gt&&0>o(Xe,ut))G[kt]=Xe,G[te]=ut,kt=te;else break t}}return tt}function o(G,tt){var ut=G.sortIndex-tt.sortIndex;return ut!==0?ut:G.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],v=[],S=1,w=null,V=3,B=!1,X=!1,J=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function Pt(G){for(var tt=i(v);tt!==null;){if(tt.callback===null)s(v);else if(tt.startTime<=G)s(v),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(v)}}function st(G){if(J=!1,Pt(G),!X)if(i(_)!==null)X=!0,Et||(Et=!0,k());else{var tt=i(v);tt!==null&&Oe(st,tt.startTime-G)}}var Et=!1,N=-1,b=5,C=-1;function O(){return Z?!0:!(a.unstable_now()-C<b)}function D(){if(Z=!1,Et){var G=a.unstable_now();C=G;var tt=!0;try{t:{X=!1,J&&(J=!1,_t(N),N=-1),B=!0;var ut=V;try{e:{for(Pt(G),w=i(_);w!==null&&!(w.expirationTime>G&&O());){var kt=w.callback;if(typeof kt=="function"){w.callback=null,V=w.priorityLevel;var Gt=kt(w.expirationTime<=G);if(G=a.unstable_now(),typeof Gt=="function"){w.callback=Gt,Pt(G),tt=!0;break e}w===i(_)&&s(_),Pt(G)}else s(_);w=i(_)}if(w!==null)tt=!0;else{var Ce=i(v);Ce!==null&&Oe(st,Ce.startTime-G),tt=!1}}break t}finally{w=null,V=ut,B=!1}tt=void 0}}finally{tt?k():Et=!1}}}var k;if(typeof Tt=="function")k=function(){Tt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,he=I.port2;I.port1.onmessage=D,k=function(){he.postMessage(null)}}else k=function(){ht(D,0)};function Oe(G,tt){N=ht(function(){G(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G||(b=0<G?Math.floor(1e3/G):5)},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(G){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ut=V;V=tt;try{return G()}finally{V=ut}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return tt()}finally{V=ut}},a.unstable_scheduleCallback=function(G,tt,ut){var kt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ut+Gt,G={id:S++,callback:tt,priorityLevel:G,startTime:ut,expirationTime:Gt,sortIndex:-1},ut>kt?(G.sortIndex=ut,t(v,G),i(_)===null&&G===i(v)&&(J?(_t(N),N=-1):J=!0,Oe(st,ut-kt))):(G.sortIndex=Gt,t(_,G),X||B||(X=!0,Et||(Et=!0,k()))),G},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(G){var tt=V;return function(){var ut=V;V=tt;try{return G.apply(this,arguments)}finally{V=ut}}}})(Od)),Od}var C_;function NA(){return C_||(C_=1,Vd.exports=xA()),Vd.exports}var x_;function DA(){if(x_)return ho;x_=1;var a=NA(),t=aA(),i=sA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(s(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case st:return"Suspense";case Et:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case Tt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var Oe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},kt=[],Gt=-1;function Ce(e){return{current:e}}function Qt(e){0>Gt||(e.current=kt[Gt],kt[Gt]=null,Gt--)}function Nt(e,n){Gt++,kt[Gt]=e.current,e.current=n}var te=Ce(null),Xe=Ce(null),_n=Ce(null),nr=Ce(null);function ir(e,n){switch(Nt(_n,n),Nt(Xe,e),Nt(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Qt(te),Nt(te,e)}function Ci(){Qt(te),Qt(Xe),Qt(_n)}function sl(e){e.memoizedState!==null&&Nt(nr,e);var n=te.current,r=Zy(n,e.type);n!==r&&(Nt(Xe,e),Nt(te,r))}function Ka(e){Xe.current===e&&(Qt(te),Qt(Xe)),nr.current===e&&(Qt(nr),lo._currentValue=ut)}var Qa,Ya;function $n(e){if(Qa===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Qa=n&&n[1]||"",Ya=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qa+e+Ya}var ll=!1;function na(e,n){if(!e||ll)return"";ll=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),U=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===U.length)for(l=R.length-1,h=U.length-1;1<=l&&0<=h&&R[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==U[h]){var H=`
`+R[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=h);break}}}finally{ll=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?$n(r):""}function ol(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return na(e.type,!1);case 11:return na(e.type.render,!1);case 1:return na(e.type,!0);case 31:return $n("Activity");default:return""}}function ul(e){try{var n="",r=null;do n+=ol(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fe=Object.prototype.hasOwnProperty,we=a.unstable_scheduleCallback,rr=a.unstable_cancelCallback,Vh=a.unstable_shouldYield,Xo=a.unstable_requestPaint,Ke=a.unstable_now,ia=a.unstable_getCurrentPriorityLevel,cl=a.unstable_ImmediatePriority,hl=a.unstable_UserBlockingPriority,ar=a.unstable_NormalPriority,Oh=a.unstable_LowPriority,Jo=a.unstable_IdlePriority,Zo=a.log,Wo=a.unstable_setDisableYieldValue,kn=null,Me=null;function vn(e){if(typeof Zo=="function"&&Wo(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(kn,e)}catch{}}var ae=Math.clz32?Math.clz32:tu,$o=Math.log,Xa=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-($o(e)/Xa|0)|0}var ti=256,ra=262144,de=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ei(l):(g&=T,g!==0?h=ei(g):r||(r=T&~e,r!==0&&(h=ei(r))))):(T=l&~f,T!==0?h=ei(T):g!==0?h=ei(g):r||(r=l&~e,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=de;return de<<=1,(de&62914560)===0&&(de=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function aa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,r,l,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,U=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-ae(r),K=1<<H;T[H]=0,R[H]=-1;var j=U[H];if(j!==null)for(U[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}r&=~K}l!==0&&sa(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function sa(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ae(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function fl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-ae(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function dl(e,n){var r=n&-n;return r=(r&42)!==0?1:la(r),(r&(e.suspendedLanes|n))!==0?0:r}function la(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:T_(e.type))}function Pn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Un=Math.random().toString(36).slice(2),me="__reactFiber$"+Un,xe="__reactProps$"+Un,ri="__reactContainer$"+Un,Ja="__reactEvents$"+Un,Lh="__reactListeners$"+Un,iu="__reactHandles$"+Un,ru="__reactResources$"+Un,ai="__reactMarker$"+Un;function Za(e){delete e[me],delete e[xe],delete e[Ja],delete e[Lh],delete e[iu]}function si(e){var n=e[me];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ri]||r[me]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=r_(e);e!==null;){if(r=e[me])return r;e=r_(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[me]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ln(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function li(e){var n=e[ru];return n||(n=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(e){e[ai]=!0}var ml=new Set,pl={};function oi(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(pl[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},_l={};function au(e){return fe.call(_l,e)?!0:fe.call(yl,e)?!1:gl.test(e)?_l[e]=!0:(yl[e]=!0,!1)}function Wa(e,n,r){if(au(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function on(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ge(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function Ne(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ut(e){if(!e._valueTracker){var n=sr(e)?"checked":"value";e._valueTracker=vl(e,n,""+e[n])}}function oa(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=sr(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ua=/[\n"\\]/g;function Je(e){return e.replace(ua,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $a(e,n,r,l,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ne(n)):e.value!==""+Ne(n)&&(e.value=""+Ne(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Tl(e,g,Ne(n)):r!=null?Tl(e,g,Ne(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ne(T):e.removeAttribute("name")}function su(e,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ut(e);return}r=r!=null?""+Ne(r):"",n=n!=null?""+Ne(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ut(e)}function Tl(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function lr(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Ne(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,r){if(n!=null&&(n=""+Ne(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ne(r):""}function or(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ne(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Ut(e)}function Ze(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||ou.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Al(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&El(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&El(e,f,n[f])}function ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(e){return ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Sl=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,hi=null;function ca(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if($a(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Je(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[xe]||null;if(!h)throw Error(s(90));$a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&oa(l)}break t;case"textarea":lu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&lr(e,!!r.multiple,n,!1)}}}var ns=!1;function hr(e,n,r){if(ns)return e(n,r);ns=!0;try{var l=e(n);return l}finally{if(ns=!1,(cr!==null||hi!==null)&&(nc(),cr&&(n=cr,e=hi,hi=cr=null,ca(n),e)))for(n=0;n<e.length;n++)ca(e[n])}}function zn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[xe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(An)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){ha=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{ha=!1}var fi=null,wl=null,fa=null;function bl(){if(fa)return fa;var e,n=wl,r=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return fa=h.slice(e,1<l?1-l:void 0)}function da(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function ke(e){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ke(Di),fr=w({},Di,{view:0,detail:0}),Rl=ke(fr),dr,is,mi,rs=w({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(dr=e.screenX-mi.screenX,is=e.screenY-mi.screenY):is=dr=0,mi=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:is}}),Il=ke(rs),ma=w({},rs,{dataTransfer:0}),cu=ke(ma),hu=w({},fr,{relatedTarget:0}),pa=ke(hu),Cl=w({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=ke(Cl),as=w({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=ke(as),mu=w({},Di,{data:0}),pi=ke(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function mr(){return _u}var Qe=w({},fr,{key:function(e){if(e.key){var n=pu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=ke(Qe),Tu=w({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ke(Tu),u=w({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=ke(u),y=w({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ke(y),L=w({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z=ke(L),W=w({},Di,{newState:0,oldState:0}),gt=ke(W),se=[9,13,27,32],Ot=An&&"CompositionEvent"in window,Wt=null;An&&"documentMode"in document&&(Wt=document.documentMode);var Sn=An&&"TextEvent"in window&&!Wt,gi=An&&(!Ot||Wt&&8<Wt&&11>=Wt),Bn=" ",Hn=!1;function ga(e,n){switch(e){case"keyup":return se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ss(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function xE(e,n){switch(e){case"compositionend":return ss(n);case"keypress":return n.which!==32?null:(Hn=!0,Bn);case"textInput":return e=n.data,e===Bn&&Hn?null:e;default:return null}}function NE(e,n){if(ls)return e==="compositionend"||!Ot&&ga(e,n)?(e=bl(),fa=wl=fi=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var DE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!DE[e.type]:n==="textarea"}function op(e,n,r,l){cr?hi?hi.push(l):hi=[l]:cr=l,n=uc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var xl=null,Nl=null;function VE(e){Fy(e,0)}function Eu(e){var n=ln(e);if(oa(n))return e}function up(e,n){if(e==="change")return n}var cp=!1;if(An){var Ph;if(An){var Uh="oninput"in document;if(!Uh){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),Uh=typeof hp.oninput=="function"}Ph=Uh}else Ph=!1;cp=Ph&&(!document.documentMode||9<document.documentMode)}function fp(){xl&&(xl.detachEvent("onpropertychange",dp),Nl=xl=null)}function dp(e){if(e.propertyName==="value"&&Eu(Nl)){var n=[];op(n,Nl,e,En(e)),hr(VE,n)}}function OE(e,n,r){e==="focusin"?(fp(),xl=n,Nl=r,xl.attachEvent("onpropertychange",dp)):e==="focusout"&&fp()}function ME(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Nl)}function kE(e,n){if(e==="click")return Eu(n)}function LE(e,n){if(e==="input"||e==="change")return Eu(n)}function PE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:PE;function Dl(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!fe.call(n,h)||!un(e[h],n[h]))return!1}return!0}function mp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pp(e,n){var r=mp(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=mp(r)}}function gp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var UE=An&&"documentMode"in document&&11>=document.documentMode,os=null,zh=null,Vl=null,qh=!1;function _p(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||os==null||os!==ci(l)||(l=os,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vl&&Dl(Vl,l)||(Vl=l,l=uc(zh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=os)))}function ya(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var us={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Bh={},vp={};An&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function _a(e){if(Bh[e])return Bh[e];if(!us[e])return e;var n=us[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in vp)return Bh[e]=n[r];return e}var Tp=_a("animationend"),Ep=_a("animationiteration"),Ap=_a("animationstart"),jE=_a("transitionrun"),zE=_a("transitionstart"),qE=_a("transitioncancel"),Sp=_a("transitionend"),wp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Fn(e,n){wp.set(e,n),oi(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}},wn=[],cs=0,Fh=0;function Su(){for(var e=cs,n=Fh=cs=0;n<e;){var r=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&bp(r,h,f)}}function wu(e,n,r,l){wn[cs++]=e,wn[cs++]=n,wn[cs++]=r,wn[cs++]=l,Fh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gh(e,n,r,l){return wu(e,n,r,l),bu(e)}function va(e,n){return wu(e,null,null,n),bu(e)}function bp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ae(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function bu(e){if(50<to)throw to=0,ed=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var hs={};function BE(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,r,l){return new BE(e,n,r,l)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var r=e.alternate;return r===null?(r=cn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Rp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,r,l,h,f){var g=0;if(l=e,typeof e=="function")Kh(e)&&(g=1);else if(typeof e=="string")g=Q1(e,r,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=cn(31,r,n,h),e.elementType=C,e.lanes=f,e;case J:return Ta(r.children,h,f,n);case Z:g=8,h|=24;break;case ht:return e=cn(12,r,n,h|2),e.elementType=ht,e.lanes=f,e;case st:return e=cn(13,r,n,h),e.elementType=st,e.lanes=f,e;case Et:return e=cn(19,r,n,h),e.elementType=Et,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:g=10;break t;case _t:g=9;break t;case Pt:g=11;break t;case N:g=14;break t;case b:g=16,l=null;break t}g=29,r=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=cn(g,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ta(e,n,r,l){return e=cn(7,e,l,n),e.lanes=r,e}function Qh(e,n,r){return e=cn(6,e,null,n),e.lanes=r,e}function Ip(e){var n=cn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,r){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Cp=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var r=Cp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ul(n)},Cp.set(e,n),n)}return{value:e,source:n,stack:ul(n)}}var fs=[],ds=0,Iu=null,Ol=0,Rn=[],In=0,pr=null,yi=1,_i="";function Mi(e,n){fs[ds++]=Ol,fs[ds++]=Iu,Iu=e,Ol=n}function xp(e,n,r){Rn[In++]=yi,Rn[In++]=_i,Rn[In++]=pr,pr=e;var l=yi;e=_i;var h=32-ae(l)-1;l&=~(1<<h),r+=1;var f=32-ae(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,yi=1<<32-ae(n)+h|r<<h|l,_i=f+e}else yi=1<<f|r<<h|l,_i=e}function Xh(e){e.return!==null&&(Mi(e,1),xp(e,1,0))}function Jh(e){for(;e===Iu;)Iu=fs[--ds],fs[ds]=null,Ol=fs[--ds],fs[ds]=null;for(;e===pr;)pr=Rn[--In],Rn[In]=null,_i=Rn[--In],Rn[In]=null,yi=Rn[--In],Rn[In]=null}function Np(e,n){Rn[In++]=yi,Rn[In++]=_i,Rn[In++]=pr,yi=n.id,_i=n.overflow,pr=e}var Le=null,Xt=null,Ct=!1,gr=null,Cn=!1,Zh=Error(s(519));function yr(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(bn(n,e)),Zh}function Dp(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[me]=e,n[xe]=l,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(r=0;r<no.length;r++)St(no[r],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":St("invalid",n),su(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":St("invalid",n);break;case"textarea":St("invalid",n),or(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Yy(n.textContent,r)?(l.popover!=null&&(St("beforetoggle",n),St("toggle",n)),l.onScroll!=null&&St("scroll",n),l.onScrollEnd!=null&&St("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||yr(e,!0)}function Vp(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Le=Le.return}}function ms(e){if(e!==Le)return!1;if(!Ct)return Vp(e),Ct=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||gd(e.type,e.memoizedProps)),r=!r),r&&Xt&&yr(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xt=i_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Xt=i_(e)}else n===27?(n=Xt,Dr(e.type)?(e=Ed,Ed=null,Xt=e):Xt=n):Xt=Le?Nn(e.stateNode.nextSibling):null;return!0}function Ea(){Xt=Le=null,Ct=!1}function Wh(){var e=gr;return e!==null&&(en===null?en=e:en.push.apply(en,e),gr=null),e}function Ml(e){gr===null?gr=[e]:gr.push(e)}var $h=Ce(null),Aa=null,ki=null;function _r(e,n,r){Nt($h,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=$h.current,Qt($h)}function tf(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function ef(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),tf(f.return,r,e),l||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),tf(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ps(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var T=h.type;un(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===nr.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}h=h.return}e!==null&&ef(n,e,r,l),n.flags|=262144}function Cu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sa(e){Aa=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return Op(Aa,e)}function xu(e,n){return Aa===null&&Sa(e),Op(e,n)}function Op(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ki===null){if(e===null)throw Error(s(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return r}var HE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},FE=a.unstable_scheduleCallback,GE=a.unstable_NormalPriority,ye={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new HE,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&FE(GE,function(){e.controller.abort()})}var Ll=null,rf=0,gs=0,ys=null;function KE(e,n){if(Ll===null){var r=Ll=[];rf=0,gs=ld(),ys={status:"pending",value:void 0,then:function(l){r.push(l)}}}return rf++,n.then(Mp,Mp),n}function Mp(){if(--rf===0&&Ll!==null){ys!==null&&(ys.status="fulfilled");var e=Ll;Ll=null,gs=0,ys=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function QE(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var kp=G.S;G.S=function(e,n){_y=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&KE(e,n),kp!==null&&kp(e,n)};var wa=Ce(null);function af(){var e=wa.current;return e!==null?e:Kt.pooledCache}function Nu(e,n){n===null?Nt(wa,wa.current):Nt(wa,n.pool)}function Lp(){var e=af();return e===null?null:{parent:ye._currentValue,pool:e}}var _s=Error(s(460)),sf=Error(s(474)),Du=Error(s(542)),Vu={then:function(){}};function Pp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Up(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(jn,jn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zp(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Kt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zp(e),e}throw Ra=n,_s}}function ba(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ra=r,_s):r}}var Ra=null;function jp(){if(Ra===null)throw Error(s(459));var e=Ra;return Ra=null,e}function zp(e){if(e===_s||e===Du)throw Error(s(483))}var vs=null,Pl=0;function Ou(e){var n=Pl;return Pl+=1,vs===null&&(vs=[]),Up(vs,e,n)}function Ul(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===V?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qp(e){function n(M,x){if(e){var P=M.deletions;P===null?(M.deletions=[x],M.flags|=16):P.push(x)}}function r(M,x){if(!e)return null;for(;x!==null;)n(M,x),x=x.sibling;return null}function l(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function h(M,x){return M=Oi(M,x),M.index=0,M.sibling=null,M}function f(M,x,P){return M.index=P,e?(P=M.alternate,P!==null?(P=P.index,P<x?(M.flags|=67108866,x):P):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,x,P,F){return x===null||x.tag!==6?(x=Qh(P,M.mode,F),x.return=M,x):(x=h(x,P),x.return=M,x)}function R(M,x,P,F){var lt=P.type;return lt===J?H(M,x,P.props.children,F,P.key):x!==null&&(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&ba(lt)===x.type)?(x=h(x,P.props),Ul(x,P),x.return=M,x):(x=Ru(P.type,P.key,P.props,null,M.mode,F),Ul(x,P),x.return=M,x)}function U(M,x,P,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Yh(P,M.mode,F),x.return=M,x):(x=h(x,P.children||[]),x.return=M,x)}function H(M,x,P,F,lt){return x===null||x.tag!==7?(x=Ta(P,M.mode,F,lt),x.return=M,x):(x=h(x,P),x.return=M,x)}function K(M,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Qh(""+x,M.mode,P),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case B:return P=Ru(x.type,x.key,x.props,null,M.mode,P),Ul(P,x),P.return=M,P;case X:return x=Yh(x,M.mode,P),x.return=M,x;case b:return x=ba(x),K(M,x,P)}if(Oe(x)||k(x))return x=Ta(x,M.mode,P,null),x.return=M,x;if(typeof x.then=="function")return K(M,Ou(x),P);if(x.$$typeof===Tt)return K(M,xu(M,x),P);Mu(M,x)}return null}function j(M,x,P,F){var lt=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return lt!==null?null:T(M,x,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===lt?R(M,x,P,F):null;case X:return P.key===lt?U(M,x,P,F):null;case b:return P=ba(P),j(M,x,P,F)}if(Oe(P)||k(P))return lt!==null?null:H(M,x,P,F,null);if(typeof P.then=="function")return j(M,x,Ou(P),F);if(P.$$typeof===Tt)return j(M,x,xu(M,P),F);Mu(M,P)}return null}function q(M,x,P,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(P)||null,T(x,M,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return M=M.get(F.key===null?P:F.key)||null,R(x,M,F,lt);case X:return M=M.get(F.key===null?P:F.key)||null,U(x,M,F,lt);case b:return F=ba(F),q(M,x,P,F,lt)}if(Oe(F)||k(F))return M=M.get(P)||null,H(x,M,F,lt,null);if(typeof F.then=="function")return q(M,x,P,Ou(F),lt);if(F.$$typeof===Tt)return q(M,x,P,xu(x,F),lt);Mu(x,F)}return null}function rt(M,x,P,F){for(var lt=null,Dt=null,at=x,vt=x=0,bt=null;at!==null&&vt<P.length;vt++){at.index>vt?(bt=at,at=null):bt=at.sibling;var Vt=j(M,at,P[vt],F);if(Vt===null){at===null&&(at=bt);break}e&&at&&Vt.alternate===null&&n(M,at),x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt,at=bt}if(vt===P.length)return r(M,at),Ct&&Mi(M,vt),lt;if(at===null){for(;vt<P.length;vt++)at=K(M,P[vt],F),at!==null&&(x=f(at,x,vt),Dt===null?lt=at:Dt.sibling=at,Dt=at);return Ct&&Mi(M,vt),lt}for(at=l(at);vt<P.length;vt++)bt=q(at,M,vt,P[vt],F),bt!==null&&(e&&bt.alternate!==null&&at.delete(bt.key===null?vt:bt.key),x=f(bt,x,vt),Dt===null?lt=bt:Dt.sibling=bt,Dt=bt);return e&&at.forEach(function(Lr){return n(M,Lr)}),Ct&&Mi(M,vt),lt}function ct(M,x,P,F){if(P==null)throw Error(s(151));for(var lt=null,Dt=null,at=x,vt=x=0,bt=null,Vt=P.next();at!==null&&!Vt.done;vt++,Vt=P.next()){at.index>vt?(bt=at,at=null):bt=at.sibling;var Lr=j(M,at,Vt.value,F);if(Lr===null){at===null&&(at=bt);break}e&&at&&Lr.alternate===null&&n(M,at),x=f(Lr,x,vt),Dt===null?lt=Lr:Dt.sibling=Lr,Dt=Lr,at=bt}if(Vt.done)return r(M,at),Ct&&Mi(M,vt),lt;if(at===null){for(;!Vt.done;vt++,Vt=P.next())Vt=K(M,Vt.value,F),Vt!==null&&(x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt);return Ct&&Mi(M,vt),lt}for(at=l(at);!Vt.done;vt++,Vt=P.next())Vt=q(at,M,vt,Vt.value,F),Vt!==null&&(e&&Vt.alternate!==null&&at.delete(Vt.key===null?vt:Vt.key),x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt);return e&&at.forEach(function(rA){return n(M,rA)}),Ct&&Mi(M,vt),lt}function Ft(M,x,P,F){if(typeof P=="object"&&P!==null&&P.type===J&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var lt=P.key;x!==null;){if(x.key===lt){if(lt=P.type,lt===J){if(x.tag===7){r(M,x.sibling),F=h(x,P.props.children),F.return=M,M=F;break t}}else if(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&ba(lt)===x.type){r(M,x.sibling),F=h(x,P.props),Ul(F,P),F.return=M,M=F;break t}r(M,x);break}else n(M,x);x=x.sibling}P.type===J?(F=Ta(P.props.children,M.mode,F,P.key),F.return=M,M=F):(F=Ru(P.type,P.key,P.props,null,M.mode,F),Ul(F,P),F.return=M,M=F)}return g(M);case X:t:{for(lt=P.key;x!==null;){if(x.key===lt)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){r(M,x.sibling),F=h(x,P.children||[]),F.return=M,M=F;break t}else{r(M,x);break}else n(M,x);x=x.sibling}F=Yh(P,M.mode,F),F.return=M,M=F}return g(M);case b:return P=ba(P),Ft(M,x,P,F)}if(Oe(P))return rt(M,x,P,F);if(k(P)){if(lt=k(P),typeof lt!="function")throw Error(s(150));return P=lt.call(P),ct(M,x,P,F)}if(typeof P.then=="function")return Ft(M,x,Ou(P),F);if(P.$$typeof===Tt)return Ft(M,x,xu(M,P),F);Mu(M,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(r(M,x.sibling),F=h(x,P),F.return=M,M=F):(r(M,x),F=Qh(P,M.mode,F),F.return=M,M=F),g(M)):r(M,x)}return function(M,x,P,F){try{Pl=0;var lt=Ft(M,x,P,F);return vs=null,lt}catch(at){if(at===_s||at===Du)throw at;var Dt=cn(29,at,null,M.mode);return Dt.lanes=F,Dt.return=M,Dt}}}var Ia=qp(!0),Bp=qp(!1),vr=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Mt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=bu(e),bp(e,null,r),n}return wu(e,l,n,r),bu(e)}function jl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,fl(e,r)}}function uf(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var cf=!1;function zl(){if(cf){var e=ys;if(e!==null)throw e}}function ql(e,n,r,l){cf=!1;var h=e.updateQueue;vr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,U=R.next;R.next=null,g===null?f=U:g.next=U,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==g&&(T===null?H.firstBaseUpdate=U:T.next=U,H.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,H=U=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(wt&j)===j:(l&j)===j){j!==0&&j===gs&&(cf=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=e,ct=T;j=n;var Ft=r;switch(ct.tag){case 1:if(rt=ct.payload,typeof rt=="function"){K=rt.call(Ft,K,j);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ct.payload,j=typeof rt=="function"?rt.call(Ft,K,j):rt,j==null)break t;K=w({},K,j);break t;case 2:vr=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(U=H=q,R=K):H=H.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=K),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Rr|=g,e.lanes=g,e.memoizedState=K}}function Hp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Fp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Hp(r[e],n)}var Ts=Ce(null),ku=Ce(0);function Gp(e,n){e=Gi,Nt(ku,e),Nt(Ts,n),Gi=e|n.baseLanes}function hf(){Nt(ku,Gi),Nt(Ts,Ts.current)}function ff(){Gi=ku.current,Qt(Ts),Qt(ku)}var hn=Ce(null),xn=null;function Ar(e){var n=e.alternate;Nt(le,le.current&1),Nt(hn,e),xn===null&&(n===null||Ts.current!==null||n.memoizedState!==null)&&(xn=e)}function df(e){Nt(le,le.current),Nt(hn,e),xn===null&&(xn=e)}function Kp(e){e.tag===22?(Nt(le,le.current),Nt(hn,e),xn===null&&(xn=e)):Sr()}function Sr(){Nt(le,le.current),Nt(hn,hn.current)}function fn(e){Qt(hn),xn===e&&(xn=null),Qt(le)}var le=Ce(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||vd(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,yt=null,Bt=null,_e=null,Pu=!1,Es=!1,Ca=!1,Uu=0,Bl=0,As=null,YE=0;function ie(){throw Error(s(321))}function mf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!un(e[r],n[r]))return!1;return!0}function pf(e,n,r,l,h,f){return Pi=f,yt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?xg:Nf,Ca=!1,f=r(l,h),Ca=!1,Es&&(f=Yp(n,r,l,h)),Qp(e),f}function Qp(e){G.H=Gl;var n=Bt!==null&&Bt.next!==null;if(Pi=0,_e=Bt=yt=null,Pu=!1,Bl=0,As=null,n)throw Error(s(300));e===null||ve||(e=e.dependencies,e!==null&&Cu(e)&&(ve=!0))}function Yp(e,n,r,l){yt=e;var h=0;do{if(Es&&(As=null),Bl=0,Es=!1,25<=h)throw Error(s(301));if(h+=1,_e=Bt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Ng,f=n(r,l)}while(Es);return f}function XE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Hl(n):n,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(yt.flags|=1024),n}function gf(){var e=Uu!==0;return Uu=0,e}function yf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function _f(e){if(Pu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Pu=!1}Pi=0,_e=Bt=yt=null,Es=!1,Bl=Uu=0,As=null}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?yt.memoizedState=_e=e:_e=_e.next=e,_e}function oe(){if(Bt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var n=_e===null?yt.memoizedState:_e.next;if(n!==null)_e=n,Bt=e;else{if(e===null)throw yt.alternate===null?Error(s(467)):Error(s(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},_e===null?yt.memoizedState=_e=e:_e=_e.next=e}return _e}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hl(e){var n=Bl;return Bl+=1,As===null&&(As=[]),e=Up(As,e,n),n=yt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?xg:Nf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Hl(e);if(e.$$typeof===Tt)return Pe(e)}throw Error(s(438,String(e)))}function vf(e){var n=null,r=yt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ju(),yt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=O;return n.index++,r}function Ui(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=oe();return Tf(n,Bt,e)}function Tf(e,n,r){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,U=n,H=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(wt&K)===K:(Pi&K)===K){var j=U.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===gs&&(H=!0);else if((Pi&j)===j){U=U.next,j===gs&&(H=!0);continue}else K={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=K,g=f):R=R.next=K,yt.lanes|=j,Rr|=j;K=U.action,Ca&&r(f,K),f=U.hasEagerState?U.eagerState:r(f,K)}else j={lane:K,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=j,g=f):R=R.next=j,yt.lanes|=K,Rr|=K;U=U.next}while(U!==null&&U!==n);if(R===null?g=f:R.next=T,!un(f,e.memoizedState)&&(ve=!0,H&&(r=ys,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ef(e){var n=oe(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);un(f,n.memoizedState)||(ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Xp(e,n,r){var l=yt,h=oe(),f=Ct;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var g=!un((Bt||h).memoizedState,r);if(g&&(h.memoizedState=r,ve=!0),h=h.queue,wf(Wp.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Ss(9,{destroy:void 0},Zp.bind(null,l,h,r,n),null),Kt===null)throw Error(s(349));f||(Pi&127)!==0||Jp(l,n,r)}return r}function Jp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=yt.updateQueue,n===null?(n=ju(),yt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Zp(e,n,r,l){n.value=r,n.getSnapshot=l,$p(n)&&tg(e)}function Wp(e,n,r){return r(function(){$p(n)&&tg(e)})}function $p(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!un(e,r)}catch{return!0}}function tg(e){var n=va(e,2);n!==null&&nn(n,e,2)}function Af(e){var n=Ye();if(typeof e=="function"){var r=e;if(e=r(),Ca){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n}function eg(e,n,r,l){return e.baseState=r,Tf(e,Bt,typeof l=="function"?l:Ui)}function JE(e,n,r,l,h){if(Fu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ng(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ng(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=r(h,l),R=G.S;R!==null&&R(g,T),ig(e,n,T)}catch(U){Sf(e,n,U)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,l),ig(e,n,f)}catch(U){Sf(e,n,U)}}function ig(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){rg(e,n,l)},function(l){return Sf(e,n,l)}):rg(e,n,r)}function rg(e,n,r){n.status="fulfilled",n.value=r,ag(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ng(e,r)))}function Sf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ag(n),n=n.next;while(n!==l)}e.action=null}function ag(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sg(e,n){return n}function lg(e,n){if(Ct){var r=Kt.formState;if(r!==null){t:{var l=yt;if(Ct){if(Xt){e:{for(var h=Xt,f=Cn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Xt=Nn(h.nextSibling),l=h.data==="F!";break t}}yr(l)}l=!1}l&&(n=r[0])}}return r=Ye(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},r.queue=l,r=Rg.bind(null,yt,l),l.dispatch=r,l=Af(!1),f=xf.bind(null,yt,!1,l.queue),l=Ye(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=JE.bind(null,yt,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function og(e){var n=oe();return ug(n,Bt,e)}function ug(e,n,r){if(n=Tf(e,n,sg)[0],e=qu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Hl(n)}catch(g){throw g===_s?Du:g}else l=n;n=oe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(yt.flags|=2048,Ss(9,{destroy:void 0},ZE.bind(null,h,r),null)),[l,f,e]}function ZE(e,n){e.action=n}function cg(e){var n=oe(),r=Bt;if(r!==null)return ug(n,r,e);oe(),n=n.memoizedState,r=oe();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Ss(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=yt.updateQueue,n===null&&(n=ju(),yt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function hg(){return oe().memoizedState}function Bu(e,n,r,l){var h=Ye();yt.flags|=e,h.memoizedState=Ss(1|n,{destroy:void 0},r,l===void 0?null:l)}function Hu(e,n,r,l){var h=oe();l=l===void 0?null:l;var f=h.memoizedState.inst;Bt!==null&&l!==null&&mf(l,Bt.memoizedState.deps)?h.memoizedState=Ss(n,f,r,l):(yt.flags|=e,h.memoizedState=Ss(1|n,f,r,l))}function fg(e,n){Bu(8390656,8,e,n)}function wf(e,n){Hu(2048,8,e,n)}function WE(e){yt.flags|=4;var n=yt.updateQueue;if(n===null)n=ju(),yt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function dg(e){var n=oe().memoizedState;return WE({ref:n,nextImpl:e}),function(){if((Mt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function mg(e,n){return Hu(4,2,e,n)}function pg(e,n){return Hu(4,4,e,n)}function gg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yg(e,n,r){r=r!=null?r.concat([e]):null,Hu(4,4,gg.bind(null,n,e),r)}function bf(){}function _g(e,n){var r=oe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&mf(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function vg(e,n){var r=oe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&mf(n,l[1]))return l[0];if(l=e(),Ca){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[l,n],l}function Rf(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(wt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ty(),yt.lanes|=e,Rr|=e,r)}function Tg(e,n,r,l){return un(r,n)?r:Ts.current!==null?(e=Rf(e,r,l),un(e,n)||(ve=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(wt&261930)===0?(ve=!0,e.memoizedState=r):(e=Ty(),yt.lanes|=e,Rr|=e,n)}function Eg(e,n,r,l,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,xf(e,!1,n,r);try{var R=h(),U=G.S;if(U!==null&&U(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=QE(R,l);Fl(e,n,H,pn(e))}else Fl(e,n,l,pn(e))}catch(K){Fl(e,n,{then:function(){},status:"rejected",reason:K},pn())}finally{tt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function $E(){}function If(e,n,r,l){if(e.tag!==5)throw Error(s(476));var h=Ag(e).queue;Eg(e,h,n,ut,r===null?$E:function(){return Sg(e),r(l)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Sg(e){var n=Ag(e);n.next===null&&(n=e.alternate.memoizedState),Fl(e,n.next.queue,{},pn())}function Cf(){return Pe(lo)}function wg(){return oe().memoizedState}function bg(){return oe().memoizedState}function t1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=pn();e=Tr(r);var l=Er(n,e,r);l!==null&&(nn(l,n,r),jl(l,n,r)),n={cache:nf()},e.payload=n;return}n=n.return}}function e1(e,n,r){var l=pn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Ig(n,r):(r=Gh(e,n,r,l),r!==null&&(nn(r,e,l),Cg(r,n,l)))}function Rg(e,n,r){var l=pn();Fl(e,n,r,l)}function Fl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Ig(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,un(T,g))return wu(e,n,h,0),Kt===null&&Su(),!1}catch{}if(r=Gh(e,n,h,l),r!==null)return nn(r,e,l),Cg(r,n,l),!0}return!1}function xf(e,n,r,l){if(l={lane:2,revertLane:ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(s(479))}else n=Gh(e,r,l,2),n!==null&&nn(n,e,2)}function Fu(e){var n=e.alternate;return e===yt||n!==null&&n===yt}function Ig(e,n){Es=Pu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Cg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,fl(e,r)}}var Gl={readContext:Pe,use:zu,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useLayoutEffect:ie,useInsertionEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useSyncExternalStore:ie,useId:ie,useHostTransitionStatus:ie,useFormState:ie,useActionState:ie,useOptimistic:ie,useMemoCache:ie,useCacheRefresh:ie};Gl.useEffectEvent=ie;var xg={readContext:Pe,use:zu,useCallback:function(e,n){return Ye().memoizedState=[e,n===void 0?null:n],e},useContext:Pe,useEffect:fg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Bu(4194308,4,gg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var r=Ye();n=n===void 0?null:n;var l=e();if(Ca){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=Ye();if(r!==void 0){var h=r(n);if(Ca){vn(!0);try{r(n)}finally{vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=e1.bind(null,yt,e),[l.memoizedState,e]},useRef:function(e){var n=Ye();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,r=Rg.bind(null,yt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:bf,useDeferredValue:function(e,n){var r=Ye();return Rf(r,e,n)},useTransition:function(){var e=Af(!1);return e=Eg.bind(null,yt,e.queue,!0,!1),Ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=yt,h=Ye();if(Ct){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Kt===null)throw Error(s(349));(wt&127)!==0||Jp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,fg(Wp.bind(null,l,f,e),[e]),l.flags|=2048,Ss(9,{destroy:void 0},Zp.bind(null,l,f,r,n),null),r},useId:function(){var e=Ye(),n=Kt.identifierPrefix;if(Ct){var r=_i,l=yi;r=(l&~(1<<32-ae(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=YE++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:lg,useActionState:lg,useOptimistic:function(e){var n=Ye();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xf.bind(null,yt,!0,r),r.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return Ye().memoizedState=t1.bind(null,yt)},useEffectEvent:function(e){var n=Ye(),r={impl:e};return n.memoizedState=r,function(){if((Mt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Nf={readContext:Pe,use:zu,useCallback:_g,useContext:Pe,useEffect:wf,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:vg,useReducer:qu,useRef:hg,useState:function(){return qu(Ui)},useDebugValue:bf,useDeferredValue:function(e,n){var r=oe();return Tg(r,Bt.memoizedState,e,n)},useTransition:function(){var e=qu(Ui)[0],n=oe().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Xp,useId:wg,useHostTransitionStatus:Cf,useFormState:og,useActionState:og,useOptimistic:function(e,n){var r=oe();return eg(r,Bt,e,n)},useMemoCache:vf,useCacheRefresh:bg};Nf.useEffectEvent=dg;var Ng={readContext:Pe,use:zu,useCallback:_g,useContext:Pe,useEffect:wf,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:pg,useMemo:vg,useReducer:Ef,useRef:hg,useState:function(){return Ef(Ui)},useDebugValue:bf,useDeferredValue:function(e,n){var r=oe();return Bt===null?Rf(r,e,n):Tg(r,Bt.memoizedState,e,n)},useTransition:function(){var e=Ef(Ui)[0],n=oe().memoizedState;return[typeof e=="boolean"?e:Hl(e),n]},useSyncExternalStore:Xp,useId:wg,useHostTransitionStatus:Cf,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var r=oe();return Bt!==null?eg(r,Bt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:vf,useCacheRefresh:bg};Ng.useEffectEvent=dg;function Df(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=pn(),h=Tr(l);h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,l),n!==null&&(nn(n,e,l),jl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=pn(),h=Tr(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Er(e,h,l),n!==null&&(nn(n,e,l),jl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=pn(),l=Tr(r);l.tag=2,n!=null&&(l.callback=n),n=Er(e,l,r),n!==null&&(nn(n,e,r),jl(n,e,r))}};function Dg(e,n,r,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Dl(r,l)||!Dl(h,f):!0}function Vg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function xa(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Og(e){Au(e)}function Mg(e){}function kg(e){Au(e)}function Gu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lg(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,r){return r=Tr(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(e,n)},r}function Pg(e){return e=Tr(e),e.tag=3,e}function Ug(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Lg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Lg(n,r,l),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function n1(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ps(n,r,h,!0),r=hn.current,r!==null){switch(r.tag){case 31:case 13:return xn===null?ic():r.alternate===null&&re===0&&(re=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),rd(e,l,h)),!1;case 22:return r.flags|=65536,l===Vu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),rd(e,l,h)),!1}throw Error(s(435,r.tag))}return rd(e,l,h),ic(),!1}if(Ct)return n=hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(e=Error(s(422),{cause:l}),Ml(bn(e,r)))):(l!==Zh&&(n=Error(s(423),{cause:l}),Ml(bn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,r),h=Of(e.stateNode,l,h),uf(e,h),re!==4&&(re=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,r),$l===null?$l=[f]:$l.push(f),re!==4&&(re=2),n===null)return!0;l=bn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Of(r.stateNode,l,e),uf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ir===null||!Ir.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Pg(h),Ug(h,e,r,l),uf(r,h),!1}r=r.return}while(r!==null);return!1}var Mf=Error(s(461)),ve=!1;function Ue(e,n,r,l){n.child=e===null?Bp(n,null,r,l):Ia(n,e.child,r,l)}function jg(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Sa(n),l=pf(e,n,r,g,f,h),T=gf(),e!==null&&!ve?(yf(e,n,h),ji(e,n,h)):(Ct&&T&&Xh(n),n.flags|=1,Ue(e,n,l,h),n.child)}function zg(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,qg(e,n,f,l,h)):(e=Ru(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Dl,r(g,l)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Oi(f,l),e.ref=n.ref,e.return=n,n.child=e}function qg(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(Dl(f,l)&&e.ref===n.ref)if(ve=!1,n.pendingProps=l=f,Bf(e,h))(e.flags&131072)!==0&&(ve=!0);else return n.lanes=e.lanes,ji(e,n,h)}return kf(e,n,r,l,h)}function Bg(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Hg(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Gp(n,f):hf(),Kp(n);else return l=n.lanes=536870912,Hg(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Nu(n,f.cachePool),Gp(n,f),Sr(),n.memoizedState=null):(e!==null&&Nu(n,null),hf(),Sr());return Ue(e,n,h,r),n.child}function Kl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hg(e,n,r,l,h){var f=af();return f=f===null?null:{parent:ye._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Nu(n,null),hf(),Kp(n),e!==null&&ps(e,n,l,!0),n.childLanes=h,null}function Ku(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Fg(e,n,r){return Ia(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,fn(n),n.memoizedState=null,e}function i1(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ct){if(l.mode==="hidden")return e=Ku(n,l),n.lanes=536870912,Kl(null,e);if(df(n),(e=Xt)?(e=n_(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Ip(e),r.return=n,n.child=r,Le=n,Xt=null)):e=null,e===null)throw yr(n);return n.lanes=536870912,null}return Ku(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=Fg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(ve||ps(e,n,r,!1),h=(r&e.childLanes)!==0,ve||h){if(l=Kt,l!==null&&(g=dl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,va(e,g),nn(l,e,g),Mf;ic(),n=Fg(e,n,r)}else e=f.treeContext,Xt=Nn(g.nextSibling),Le=n,Ct=!0,gr=null,Cn=!1,e!==null&&Np(n,e),n=Ku(n,l),n.flags|=4096;return n}return e=Oi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function kf(e,n,r,l,h){return Sa(n),r=pf(e,n,r,l,void 0,h),l=gf(),e!==null&&!ve?(yf(e,n,h),ji(e,n,h)):(Ct&&l&&Xh(n),n.flags|=1,Ue(e,n,r,h),n.child)}function Gg(e,n,r,l,h,f){return Sa(n),n.updateQueue=null,r=Yp(n,l,r,h),Qp(e),l=gf(),e!==null&&!ve?(yf(e,n,f),ji(e,n,f)):(Ct&&l&&Xh(n),n.flags|=1,Ue(e,n,r,f),n.child)}function Kg(e,n,r,l,h){if(Sa(n),n.stateNode===null){var f=hs,g=r.contextType;typeof g=="object"&&g!==null&&(f=Pe(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Pe(g):hs,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Df(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Vf.enqueueReplaceState(f,f.state,null),ql(n,l,f,h),zl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=xa(r,T);f.props=R;var U=f.context,H=r.contextType;g=hs,typeof H=="object"&&H!==null&&(g=Pe(H));var K=r.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==g)&&Vg(n,f,l,g),vr=!1;var j=n.memoizedState;f.state=j,ql(n,l,f,h),zl(),U=n.memoizedState,T||j!==U||vr?(typeof K=="function"&&(Df(n,r,K,l),U=n.memoizedState),(R=vr||Dg(n,r,R,l,j,U,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,H=xa(r,g),f.props=H,K=n.pendingProps,j=f.context,U=r.contextType,R=hs,typeof U=="object"&&U!==null&&(R=Pe(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==R)&&Vg(n,f,l,R),vr=!1,j=n.memoizedState,f.state=j,ql(n,l,f,h),zl();var q=n.memoizedState;g!==K||j!==q||vr||e!==null&&e.dependencies!==null&&Cu(e.dependencies)?(typeof T=="function"&&(Df(n,r,T,l),q=n.memoizedState),(H=vr||Dg(n,r,H,l,j,q,R)||e!==null&&e.dependencies!==null&&Cu(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ia(n,e.child,null,h),n.child=Ia(n,null,r,h)):Ue(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Qg(e,n,r,l){return Ea(),n.flags|=256,Ue(e,n,r,l),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Lp()}}function Uf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=mn),e}function Yg(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(le.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ct){if(h?Ar(n):Sr(),(e=Xt)?(e=n_(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Ip(e),r.return=n,n.child=r,Le=n,Xt=null)):e=null,e===null)throw yr(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Sr(),h=n.mode,T=Yu({mode:"hidden",children:T},h),l=Ta(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Pf(r),l.childLanes=Uf(e,g,r),n.memoizedState=Lf,Kl(null,l)):(Ar(n),jf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=zf(e,n,r)):n.memoizedState!==null?(Sr(),n.child=e.child,n.flags|=128,n=null):(Sr(),T=l.fallback,h=n.mode,l=Yu({mode:"visible",children:l.children},h),T=Ta(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ia(n,e.child,null,r),l=n.child,l.memoizedState=Pf(r),l.childLanes=Uf(e,g,r),n.memoizedState=Lf,n=Kl(null,l));else if(Ar(n),Td(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var U=g.dgst;g=U,l=Error(s(419)),l.stack="",l.digest=g,Ml({value:l,source:null,stack:null}),n=zf(e,n,r)}else if(ve||ps(e,n,r,!1),g=(r&e.childLanes)!==0,ve||g){if(g=Kt,g!==null&&(l=dl(g,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,va(e,l),nn(g,e,l),Mf;vd(T)||ic(),n=zf(e,n,r)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Xt=Nn(T.nextSibling),Le=n,Ct=!0,gr=null,Cn=!1,e!==null&&Np(n,e),n=jf(n,l.children),n.flags|=4096);return n}return h?(Sr(),T=l.fallback,h=n.mode,R=e.child,U=R.sibling,l=Oi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,U!==null?T=Oi(U,T):(T=Ta(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Kl(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Pf(r):(h=T.cachePool,h!==null?(R=ye._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Lp(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=Uf(e,g,r),n.memoizedState=Lf,Kl(e.child,l)):(Ar(n),r=e.child,e=r.sibling,r=Oi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function jf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=cn(22,e,null,n),e.lanes=0,e}function zf(e,n,r){return Ia(n,e.child,null,r),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xg(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),tf(e.return,n,r)}function qf(e,n,r,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Jg(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=le.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,Nt(le,g),Ue(e,n,l,r),l=Ct?Ol:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xg(e,r,n);else if(e.tag===19)Xg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),qf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}qf(n,!0,r,null,f,l);break;case"together":qf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Rr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ps(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Oi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Oi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Cu(e)))}function r1(e,n,r){switch(n.tag){case 3:ir(n,n.stateNode.containerInfo),_r(n,ye,e.memoizedState.cache),Ea();break;case 27:case 5:sl(n);break;case 4:ir(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ar(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Yg(e,n,r):(Ar(n),e=ji(e,n,r),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ps(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Jg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Nt(le,le.current),l)break;return null;case 22:return n.lanes=0,Bg(e,n,r,n.pendingProps);case 24:_r(n,ye,e.memoizedState.cache)}return ji(e,n,r)}function Zg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ve=!0;else{if(!Bf(e,r)&&(n.flags&128)===0)return ve=!1,r1(e,n,r);ve=(e.flags&131072)!==0}else ve=!1,Ct&&(n.flags&1048576)!==0&&xp(n,Ol,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=ba(n.elementType),n.type=e,typeof e=="function")Kh(e)?(l=xa(e,l),n.tag=1,n=Kg(null,n,e,l,r)):(n.tag=0,n=kf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=jg(null,n,e,l,r);break t}else if(h===N){n.tag=14,n=zg(null,n,e,l,r);break t}}throw n=he(e)||e,Error(s(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=xa(l,n.pendingProps),Kg(e,n,l,h,r);case 3:t:{if(ir(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),ql(n,l,null,r);var g=n.memoizedState;if(l=g.cache,_r(n,ye,l),l!==f.cache&&ef(n,[ye],r,!0),zl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qg(e,n,l,r);break t}else if(l!==h){h=bn(Error(s(424)),n),Ml(h),n=Qg(e,n,l,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xt=Nn(e.firstChild),Le=n,Ct=!0,gr=null,Cn=!0,r=Bp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ea(),l===h){n=ji(e,n,r);break t}Ue(e,n,l,r)}n=n.child}return n;case 26:return Qu(e,n),e===null?(r=o_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ct||(r=n.type,e=n.pendingProps,l=cc(_n.current).createElement(r),l[me]=n,l[xe]=e,je(l,r,e),pe(l),n.stateNode=l):n.memoizedState=o_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sl(n),e===null&&Ct&&(l=n.stateNode=a_(n.type,n.pendingProps,_n.current),Le=n,Cn=!0,h=Xt,Dr(n.type)?(Ed=h,Xt=Nn(l.firstChild)):Xt=h),Ue(e,n,n.pendingProps.children,r),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ct&&((h=l=Xt)&&(l=M1(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Le=n,Xt=Nn(l.firstChild),Cn=!1,h=!0):h=!1),h||yr(n)),sl(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,gd(h,f)?l=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=pf(e,n,XE,null,null,r),lo._currentValue=h),Qu(e,n),Ue(e,n,l,r),n.child;case 6:return e===null&&Ct&&((e=r=Xt)&&(r=k1(r,n.pendingProps,Cn),r!==null?(n.stateNode=r,Le=n,Xt=null,e=!0):e=!1),e||yr(n)),null;case 13:return Yg(e,n,r);case 4:return ir(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ia(n,null,l,r):Ue(e,n,l,r),n.child;case 11:return jg(e,n,n.type,n.pendingProps,r);case 7:return Ue(e,n,n.pendingProps,r),n.child;case 8:return Ue(e,n,n.pendingProps.children,r),n.child;case 12:return Ue(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,_r(n,n.type,l.value),Ue(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Sa(n),h=Pe(h),l=l(h),n.flags|=1,Ue(e,n,l,r),n.child;case 14:return zg(e,n,n.type,n.pendingProps,r);case 15:return qg(e,n,n.type,n.pendingProps,r);case 19:return Jg(e,n,r);case 31:return i1(e,n,r);case 22:return Bg(e,n,r,n.pendingProps);case 24:return Sa(n),l=Pe(ye),e===null?(h=af(),h===null&&(h=Kt,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},lf(n),_r(n,ye,h)):((e.lanes&r)!==0&&(of(e,n),ql(n,null,null,r),zl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_r(n,ye,l)):(l=f.cache,_r(n,ye,l),l!==h.cache&&ef(n,[ye],r,!0))),Ue(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function zi(e){e.flags|=4}function Hf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(wy())e.flags|=8192;else throw Ra=Vu,sf}else e.flags&=-16777217}function Wg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!d_(n))if(wy())e.flags|=8192;else throw Ra=Vu,sf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Is|=n)}function Ql(e,n){if(!Ct)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function a1(e,n,r){var l=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Li(ye),Ci(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ms(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),Jt(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(Jt(n),Wg(n,f)):(Jt(n),Hf(n,h,null,l,r))):f?f!==e.memoizedState?(zi(n),Jt(n),Wg(n,f)):(Jt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&zi(n),Jt(n),Hf(n,h,e,l,r)),null;case 27:if(Ka(n),r=_n.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}e=te.current,ms(n)?Dp(n):(e=a_(h,l,r),n.stateNode=e,zi(n))}return Jt(n),null;case 5:if(Ka(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(f=te.current,ms(n))Dp(n);else{var g=cc(_n.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[me]=n,f[xe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return Jt(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=_n.current,ms(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Le,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[me]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Yy(e.nodeValue,r)),e||yr(n,!0)}else e=cc(e).createTextNode(l),e[me]=n,n.stateNode=e}return Jt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=ms(n),r!==null){if(e===null){if(!l)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[me]=n}else Ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),e=!1}else r=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(fn(n),n):(fn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Jt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ms(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[me]=n}else Ea(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(fn(n),n):(fn(n),null)}return fn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),Jt(n),null);case 4:return Ci(),e===null&&hd(n.stateNode.containerInfo),Jt(n),null;case 10:return Li(n.type),Jt(n),null;case 19:if(Qt(le),l=n.memoizedState,l===null)return Jt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Ql(l,!1);else{if(re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Ql(l,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Rp(r,e),r=r.sibling;return Nt(le,le.current&1|2),Ct&&Mi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ke()>tc&&(n.flags|=128,h=!0,Ql(l,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ct)return Jt(n),null}else 2*Ke()-l.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,Ql(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,r=le.current,Nt(le,h?r&1|2:r&1),Ct&&Mi(n,l.treeForkCount),e):(Jt(n),null);case 22:case 23:return fn(n),ff(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&Qt(wa),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(ye),Jt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function s1(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(ye),Ci(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ka(n),null;case 31:if(n.memoizedState!==null){if(fn(n),n.alternate===null)throw Error(s(340));Ea()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ea()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Qt(le),null;case 4:return Ci(),null;case 10:return Li(n.type),null;case 22:case 23:return fn(n),ff(),e!==null&&Qt(wa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(ye),null;case 25:return null;default:return null}}function $g(e,n){switch(Jh(n),n.tag){case 3:Li(ye),Ci();break;case 26:case 27:case 5:Ka(n);break;case 4:Ci();break;case 31:n.memoizedState!==null&&fn(n);break;case 13:fn(n);break;case 19:Qt(le);break;case 10:Li(n.type);break;case 22:case 23:fn(n),ff(),e!==null&&Qt(wa);break;case 24:Li(ye)}}function Yl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){zt(n,n.return,T)}}function wr(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=r,U=T;try{U()}catch(H){zt(h,R,H)}}}l=l.next}while(l!==f)}}catch(H){zt(n,n.return,H)}}function ty(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Fp(n,r)}catch(l){zt(e,e.return,l)}}}function ey(e,n,r){r.props=xa(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){zt(e,n,l)}}function Xl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){zt(e,n,h)}}function vi(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){zt(e,n,h)}else r.current=null}function ny(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){zt(e,e.return,h)}}function Ff(e,n,r){try{var l=e.stateNode;C1(l,e.type,r,n),l[xe]=n}catch(h){zt(e,e.return,h)}}function iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Kf(e,n,r),e=e.sibling;e!==null;)Kf(e,n,r),e=e.sibling}function Ju(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ju(e,n,r),e=e.sibling;e!==null;)Ju(e,n,r),e=e.sibling}function ry(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,l,r),n[me]=e,n[xe]=r}catch(f){zt(e,e.return,f)}}var qi=!1,Te=!1,Qf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,De=null;function l1(e,n){if(e=e.containerInfo,md=yc,e=yp(e),jh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,T=-1,R=-1,U=0,H=0,K=e,j=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(T=g+h),K!==f||l!==0&&K.nodeType!==3||(R=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===r&&++U===h&&(T=g),j===f&&++H===l&&(R=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(pd={focusedElem:e,selectionRange:r},yc=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=xa(r.type,h);e=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ct){zt(r,r.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)_d(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function sy(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Hi(e,r),l&4&&Yl(5,r);break;case 1:if(Hi(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){zt(r,r.return,g)}else{var h=xa(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){zt(r,r.return,g)}}l&64&&ty(r),l&512&&Xl(r,r.return);break;case 3:if(Hi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Fp(e,n)}catch(g){zt(r,r.return,g)}}break;case 27:n===null&&l&4&&ry(r);case 26:case 5:Hi(e,r),n===null&&l&4&&ny(r),l&512&&Xl(r,r.return);break;case 12:Hi(e,r);break;case 31:Hi(e,r),l&4&&uy(e,r);break;case 13:Hi(e,r),l&4&&cy(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=g1.bind(null,r),L1(e,r))));break;case 22:if(l=r.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||Te,h=qi;var f=Te;qi=l,(Te=n)&&!f?Fi(e,r,(r.subtreeFlags&8772)!==0):Hi(e,r),qi=h,Te=f}break;case 30:break;default:Hi(e,r)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Za(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,We=!1;function Bi(e,n,r){for(r=r.child;r!==null;)oy(e,n,r),r=r.sibling}function oy(e,n,r){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(kn,r)}catch{}switch(r.tag){case 26:Te||vi(r,n),Bi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Te||vi(r,n);var l=$t,h=We;Dr(r.type)&&($t=r.stateNode,We=!1),Bi(e,n,r),ro(r.stateNode),$t=l,We=h;break;case 5:Te||vi(r,n);case 6:if(l=$t,h=We,$t=null,Bi(e,n,r),$t=l,We=h,$t!==null)if(We)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(r.stateNode)}catch(f){zt(r,n,f)}else try{$t.removeChild(r.stateNode)}catch(f){zt(r,n,f)}break;case 18:$t!==null&&(We?(e=$t,t_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ks(e)):t_($t,r.stateNode));break;case 4:l=$t,h=We,$t=r.stateNode.containerInfo,We=!0,Bi(e,n,r),$t=l,We=h;break;case 0:case 11:case 14:case 15:wr(2,r,n),Te||wr(4,r,n),Bi(e,n,r);break;case 1:Te||(vi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ey(r,n,l)),Bi(e,n,r);break;case 21:Bi(e,n,r);break;case 22:Te=(l=Te)||r.memoizedState!==null,Bi(e,n,r),Te=l;break;default:Bi(e,n,r)}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ks(e)}catch(r){zt(n,n.return,r)}}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ks(e)}catch(r){zt(n,n.return,r)}}function o1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ay),n;default:throw Error(s(435,e.tag))}}function Zu(e,n){var r=o1(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=y1.bind(null,e,l);l.then(h,h)}})}function $e(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Dr(T.type)){$t=T.stateNode,We=!1;break t}break;case 5:$t=T.stateNode,We=!1;break t;case 3:case 4:$t=T.stateNode.containerInfo,We=!0;break t}T=T.return}if($t===null)throw Error(s(160));oy(f,g,h),$t=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hy(n,e),n=n.sibling}var Gn=null;function hy(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$e(n,e),tn(e),l&4&&(wr(3,e,e.return),Yl(3,e),wr(5,e,e.return));break;case 1:$e(n,e),tn(e),l&512&&(Te||r===null||vi(r,r.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Gn;if($e(n,e),tn(e),l&512&&(Te||r===null||vi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,l,r),f[me]=e,pe(f),l=f;break t;case"link":var g=h_("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(l),je(f,l,r),h.head.appendChild(f);break;case"meta":if(g=h_("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break e}}f=h.createElement(l),je(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[me]=e,pe(f),l=f}e.stateNode=l}else f_(h,e.type,e.stateNode);else e.stateNode=c_(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?f_(h,e.type,e.stateNode):c_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,r.memoizedProps)}break;case 27:$e(n,e),tn(e),l&512&&(Te||r===null||vi(r,r.return)),r!==null&&l&4&&Ff(e,e.memoizedProps,r.memoizedProps);break;case 5:if($e(n,e),tn(e),l&512&&(Te||r===null||vi(r,r.return)),e.flags&32){h=e.stateNode;try{Ze(h,"")}catch(rt){zt(e,e.return,rt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if($e(n,e),tn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(rt){zt(e,e.return,rt)}}break;case 3:if(dc=null,h=Gn,Gn=hc(n.containerInfo),$e(n,e),Gn=h,tn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ks(n.containerInfo)}catch(rt){zt(e,e.return,rt)}Qf&&(Qf=!1,fy(e));break;case 4:l=Gn,Gn=hc(e.stateNode.containerInfo),$e(n,e),tn(e),Gn=l;break;case 12:$e(n,e),tn(e);break;case 31:$e(n,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zu(e,l)));break;case 13:$e(n,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($u=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zu(e,l)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,U=qi,H=Te;if(qi=U||h,Te=H||R,$e(n,e),Te=H,qi=U,tn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||qi||Te||Na(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){zt(R,R.return,rt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){zt(R,R.return,rt)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?e_(q,!0):e_(R.stateNode,!1)}catch(rt){zt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Zu(e,r))));break;case 19:$e(n,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Zu(e,l)));break;case 30:break;case 21:break;default:$e(n,e),tn(e)}}function tn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(iy(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=Gf(e);Ju(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Ze(g,""),r.flags&=-33);var T=Gf(e);Ju(e,T,g);break;case 3:case 4:var R=r.stateNode.containerInfo,U=Gf(e);Kf(e,U,R);break;default:throw Error(s(161))}}catch(H){zt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sy(e,n.alternate,n),n=n.sibling}function Na(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wr(4,n,n.return),Na(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ey(n,n.return,r),Na(n);break;case 27:ro(n.stateNode);case 26:case 5:vi(n,n.return),Na(n);break;case 22:n.memoizedState===null&&Na(n);break;case 30:Na(n);break;default:Na(n)}e=e.sibling}}function Fi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),Yl(4,f);break;case 1:if(Fi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){zt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Hp(R[h],T)}catch(U){zt(l,l.return,U)}}r&&g&64&&ty(f),Xl(f,f.return);break;case 27:ry(f);case 26:case 5:Fi(h,f,r),r&&l===null&&g&4&&ny(f),Xl(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&uy(h,f);break;case 13:Fi(h,f,r),r&&g&4&&cy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Xl(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Yf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&kl(r))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function Kn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(e,n,r,l),n=n.sibling}function dy(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,r,l),h&2048&&Yl(9,n);break;case 1:Kn(e,n,r,l);break;case 3:Kn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(h&2048){Kn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){zt(n,n.return,R)}}else Kn(e,n,r,l);break;case 31:Kn(e,n,r,l);break;case 13:Kn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,r,l):Jl(e,n):f._visibility&2?Kn(e,n,r,l):(f._visibility|=2,ws(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:Kn(e,n,r,l),h&2048&&Xf(n.alternate,n);break;default:Kn(e,n,r,l)}}function ws(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=r,R=l,U=g.flags;switch(g.tag){case 0:case 11:case 15:ws(f,g,T,R,h),Yl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ws(f,g,T,R,h):Jl(f,g):(H._visibility|=2,ws(f,g,T,R,h)),h&&U&2048&&Yf(g.alternate,g);break;case 24:ws(f,g,T,R,h),h&&U&2048&&Xf(g.alternate,g);break;default:ws(f,g,T,R,h)}n=n.sibling}}function Jl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:Jl(r,l),h&2048&&Yf(l.alternate,l);break;case 24:Jl(r,l),h&2048&&Xf(l.alternate,l);break;default:Jl(r,l)}n=n.sibling}}var Zl=8192;function bs(e,n,r){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)my(e,n,r),e=e.sibling}function my(e,n,r){switch(e.tag){case 26:bs(e,n,r),e.flags&Zl&&e.memoizedState!==null&&Y1(r,Gn,e.memoizedState,e.memoizedProps);break;case 5:bs(e,n,r);break;case 3:case 4:var l=Gn;Gn=hc(e.stateNode.containerInfo),bs(e,n,r),Gn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Zl,Zl=16777216,bs(e,n,r),Zl=l):bs(e,n,r));break;default:bs(e,n,r)}}function py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,yy(l,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&wr(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):Wl(e);break;default:Wl(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];De=l,yy(l,e)}py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wr(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function yy(e,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:wr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,De=l;else t:for(r=e;De!==null;){l=De;var h=l.sibling,f=l.return;if(ly(l),l===r){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var u1={getCacheForType:function(e){var n=Pe(ye),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Pe(ye).controller.signal}},c1=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Kt=null,At=null,wt=0,jt=0,dn=null,br=!1,Rs=!1,Jf=!1,Gi=0,re=0,Rr=0,Da=0,Zf=0,mn=0,Is=0,$l=null,en=null,Wf=!1,$u=0,_y=0,tc=1/0,ec=null,Ir=null,be=0,Cr=null,Cs=null,Ki=0,$f=0,td=null,vy=null,to=0,ed=null;function pn(){return(Mt&2)!==0&&wt!==0?wt&-wt:G.T!==null?ld():nu()}function Ty(){if(mn===0)if((wt&536870912)===0||Ct){var e=ra;ra<<=1,(ra&3932160)===0&&(ra=262144),mn=e}else mn=536870912;return e=hn.current,e!==null&&(e.flags|=32),mn}function nn(e,n,r){(e===Kt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(xs(e,0),xr(e,wt,mn,!1)),aa(e,r),((Mt&2)===0||e!==Kt)&&(e===Kt&&((Mt&2)===0&&(Da|=r),re===4&&xr(e,wt,mn,!1)),Ti(e))}function Ey(e,n,r){if((Mt&6)!==0)throw Error(s(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=l?d1(e,n):id(e,n,!0),f=l;do{if(h===0){Rs&&!l&&xr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!h1(r)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=$l;var R=T.current.memoizedState.isDehydrated;if(R&&(xs(T,g).flags|=256),g=id(T,g,!1),g!==2){if(Jf&&!R){T.errorRecoveryDisabledLanes|=f,Da|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){xs(e,0),xr(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:xr(l,n,mn,!br);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=$u+300-Ke(),10<h)){if(xr(l,n,mn,!br),ni(l,0,!0)!==0)break t;Ki=n,l.timeoutHandle=Wy(Ay.bind(null,l,r,en,ec,Wf,n,mn,Da,Is,br,f,"Throttled",-0,0),h);break t}Ay(l,r,en,ec,Wf,n,mn,Da,Is,br,f,null,-0,0)}}break}while(!0);Ti(e)}function Ay(e,n,r,l,h,f,g,T,R,U,H,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},my(n,f,K);var rt=(f&62914560)===f?$u-Ke():(f&4194048)===f?_y-Ke():0;if(rt=X1(K,rt),rt!==null){Ki=f,e.cancelPendingCommit=rt(Ny.bind(null,e,n,f,r,l,h,g,T,R,H,K,null,j,q)),xr(e,f,g,!U);return}}Ny(e,n,f,r,l,h,g,T,R)}function h1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xr(e,n,r,l){n&=~Zf,n&=~Da,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-ae(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&sa(e,r,n)}function nc(){return(Mt&6)===0?(eo(0),!1):!0}function nd(){if(At!==null){if(jt===0)var e=At.return;else e=At,ki=Aa=null,_f(e),vs=null,Pl=0,e=At;for(;e!==null;)$g(e.alternate,e),e=e.return;At=null}}function xs(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,D1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ki=0,nd(),Kt=e,At=r=Oi(e.current,null),wt=n,jt=0,dn=null,br=!1,Rs=Ln(e,n),Jf=!1,Is=mn=Zf=Da=Rr=re=0,en=$l=null,Wf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ae(l),f=1<<h;n|=e[h],l&=~f}return Gi=n,Su(),r}function Sy(e,n){yt=null,G.H=Gl,n===_s||n===Du?(n=jp(),jt=3):n===sf?(n=jp(),jt=4):jt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,At===null&&(re=1,Gu(e,bn(n,e.current)))}function wy(){var e=hn.current;return e===null?!0:(wt&4194048)===wt?xn===null:(wt&62914560)===wt||(wt&536870912)!==0?e===xn:!1}function by(){var e=G.H;return G.H=Gl,e===null?Gl:e}function Ry(){var e=G.A;return G.A=u1,e}function ic(){re=4,br||(wt&4194048)!==wt&&hn.current!==null||(Rs=!0),(Rr&134217727)===0&&(Da&134217727)===0||Kt===null||xr(Kt,wt,mn,!1)}function id(e,n,r){var l=Mt;Mt|=2;var h=by(),f=Ry();(Kt!==e||wt!==n)&&(ec=null,xs(e,n)),n=!1;var g=re;t:do try{if(jt!==0&&At!==null){var T=At,R=dn;switch(jt){case 8:nd(),g=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(n=!0);var U=jt;if(jt=0,dn=null,Ns(e,T,R,U),r&&Rs){g=0;break t}break;default:U=jt,jt=0,dn=null,Ns(e,T,R,U)}}f1(),g=re;break}catch(H){Sy(e,H)}while(!0);return n&&e.shellSuspendCounter++,ki=Aa=null,Mt=l,G.H=h,G.A=f,At===null&&(Kt=null,wt=0,Su()),g}function f1(){for(;At!==null;)Iy(At)}function d1(e,n){var r=Mt;Mt|=2;var l=by(),h=Ry();Kt!==e||wt!==n?(ec=null,tc=Ke()+500,xs(e,n)):Rs=Ln(e,n);t:do try{if(jt!==0&&At!==null){n=At;var f=dn;e:switch(jt){case 1:jt=0,dn=null,Ns(e,n,f,1);break;case 2:case 9:if(Pp(f)){jt=0,dn=null,Cy(n);break}n=function(){jt!==2&&jt!==9||Kt!==e||(jt=7),Ti(e)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:Pp(f)?(jt=0,dn=null,Cy(n)):(jt=0,dn=null,Ns(e,n,f,7));break;case 5:var g=null;switch(At.tag){case 26:g=At.memoizedState;case 5:case 27:var T=At;if(g?d_(g):T.stateNode.complete){jt=0,dn=null;var R=T.sibling;if(R!==null)At=R;else{var U=T.return;U!==null?(At=U,rc(U)):At=null}break e}}jt=0,dn=null,Ns(e,n,f,5);break;case 6:jt=0,dn=null,Ns(e,n,f,6);break;case 8:nd(),re=6;break t;default:throw Error(s(462))}}m1();break}catch(H){Sy(e,H)}while(!0);return ki=Aa=null,G.H=l,G.A=h,Mt=r,At!==null?0:(Kt=null,wt=0,Su(),re)}function m1(){for(;At!==null&&!Vh();)Iy(At)}function Iy(e){var n=Zg(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?rc(e):At=n}function Cy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Gg(r,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=Gg(r,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:_f(n);default:$g(r,n),n=At=Rp(n,Gi),n=Zg(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?rc(e):At=n}function Ns(e,n,r,l){ki=Aa=null,_f(n),vs=null,Pl=0;var h=n.return;try{if(n1(e,h,n,r,wt)){re=1,Gu(e,bn(r,e.current)),At=null;return}}catch(f){if(h!==null)throw At=h,f;re=1,Gu(e,bn(r,e.current)),At=null;return}n.flags&32768?(Ct||l===1?e=!0:Rs||(wt&536870912)!==0?e=!1:(br=e=!0,(l===2||l===9||l===3||l===6)&&(l=hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xy(n,e)):rc(n)}function rc(e){var n=e;do{if((n.flags&32768)!==0){xy(n,br);return}e=n.return;var r=a1(n.alternate,n,Gi);if(r!==null){At=r;return}if(n=n.sibling,n!==null){At=n;return}At=n=e}while(n!==null);re===0&&(re=5)}function xy(e,n){do{var r=s1(e.alternate,e);if(r!==null){r.flags&=32767,At=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){At=e;return}At=e=r}while(e!==null);re=6,At=null}function Ny(e,n,r,l,h,f,g,T,R){e.cancelPendingCommit=null;do ac();while(be!==0);if((Mt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Fh,kh(e,r,f,g,T,R),e===Kt&&(At=Kt=null,wt=0),Cs=n,Cr=e,Ki=r,$f=f,td=h,vy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_1(ar,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=tt.p,tt.p=2,g=Mt,Mt|=4;try{l1(e,n,r)}finally{Mt=g,tt.p=h,G.T=l}}be=1,Dy(),Vy(),Oy()}}function Dy(){if(be===1){be=0;var e=Cr,n=Cs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=tt.p;tt.p=2;var h=Mt;Mt|=4;try{hy(n,e);var f=pd,g=yp(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&gp(T.ownerDocument.documentElement,T)){if(R!==null&&jh(T)){var U=R.start,H=R.end;if(H===void 0&&(H=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(H,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),rt=T.textContent.length,ct=Math.min(R.start,rt),Ft=R.end===void 0?ct:Math.min(R.end,rt);!q.extend&&ct>Ft&&(g=Ft,Ft=ct,ct=g);var M=pp(T,ct),x=pp(T,Ft);if(M&&x&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var P=K.createRange();P.setStart(M.node,M.offset),q.removeAllRanges(),ct>Ft?(q.addRange(P),q.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),q.addRange(P))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var F=K[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}yc=!!md,pd=md=null}finally{Mt=h,tt.p=l,G.T=r}}e.current=n,be=2}}function Vy(){if(be===2){be=0;var e=Cr,n=Cs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=tt.p;tt.p=2;var h=Mt;Mt|=4;try{sy(e,n.alternate,n)}finally{Mt=h,tt.p=l,G.T=r}}be=3}}function Oy(){if(be===4||be===3){be=0,Xo();var e=Cr,n=Cs,r=Ki,l=vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?be=5:(be=0,Cs=Cr=null,My(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),xi(r),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,tt.p=h}}(Ki&3)!==0&&ac(),Ti(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===ed?to++:(to=0,ed=e):to=0,eo(0)}}function My(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function ac(){return Dy(),Vy(),Oy(),ky()}function ky(){if(be!==5)return!1;var e=Cr,n=$f;$f=0;var r=xi(Ki),l=G.T,h=tt.p;try{tt.p=32>r?32:r,G.T=null,r=td,td=null;var f=Cr,g=Ki;if(be=0,Cs=Cr=null,Ki=0,(Mt&6)!==0)throw Error(s(331));var T=Mt;if(Mt|=4,gy(f.current),dy(f,f.current,g,r),Mt=T,eo(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{tt.p=h,G.T=l,My(e,n)}}function Ly(e,n,r){n=bn(r,n),n=Of(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(aa(e,2),Ti(e))}function zt(e,n,r){if(e.tag===3)Ly(e,e,r);else for(;n!==null;){if(n.tag===3){Ly(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){e=bn(r,e),r=Pg(2),l=Er(n,r,2),l!==null&&(Ug(r,l,n,e),aa(l,2),Ti(l));break}}n=n.return}}function rd(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new c1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Jf=!0,h.add(r),e=p1.bind(null,e,n,r),n.then(e,e))}function p1(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Kt===e&&(wt&r)===r&&(re===4||re===3&&(wt&62914560)===wt&&300>Ke()-$u?(Mt&2)===0&&xs(e,0):Zf|=r,Is===wt&&(Is=0)),Ti(e)}function Py(e,n){n===0&&(n=eu()),e=va(e,n),e!==null&&(aa(e,n),Ti(e))}function g1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Py(e,r)}function y1(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Py(e,r)}function _1(e,n){return we(e,n)}var sc=null,Ds=null,ad=!1,lc=!1,sd=!1,Nr=0;function Ti(e){e!==Ds&&e.next===null&&(Ds===null?sc=Ds=e:Ds=Ds.next=e),lc=!0,ad||(ad=!0,T1())}function eo(e,n){if(!sd&&lc){sd=!0;do for(var r=!1,l=sc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ae(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,qy(l,f))}else f=wt,f=ni(l,l===Kt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(r=!0,qy(l,f));l=l.next}while(r);sd=!1}}function v1(){Uy()}function Uy(){lc=ad=!1;var e=0;Nr!==0&&N1()&&(e=Nr);for(var n=Ke(),r=null,l=sc;l!==null;){var h=l.next,f=jy(l,n);f===0?(l.next=null,r===null?sc=h:r.next=h,h===null&&(Ds=r)):(r=l,(e!==0||(f&3)!==0)&&(lc=!0)),l=h}be!==0&&be!==5||eo(e),Nr!==0&&(Nr=0)}function jy(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ae(f),T=1<<g,R=h[g];R===-1?((T&r)===0||(T&l)!==0)&&(h[g]=Mh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=Kt,r=wt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rr(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Ln(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&rr(l),xi(r)){case 2:case 8:r=hl;break;case 32:r=ar;break;case 268435456:r=Jo;break;default:r=ar}return l=zy.bind(null,e),r=we(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&rr(l),e.callbackPriority=2,e.callbackNode=null,2}function zy(e,n){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ac()&&e.callbackNode!==r)return null;var l=wt;return l=ni(e,e===Kt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ey(e,l,n),jy(e,Ke()),e.callbackNode!=null&&e.callbackNode===r?zy.bind(null,e):null)}function qy(e,n){if(ac())return null;Ey(e,n,!0)}function T1(){V1(function(){(Mt&6)!==0?we(cl,v1):Uy()})}function ld(){if(Nr===0){var e=gs;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Nr=e}return Nr}function By(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:es(""+e)}function Hy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function E1(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=By((h[xe]||null).action),g=l.submitter;g&&(n=(n=g[xe]||null)?By(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new di("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Nr!==0){var R=g?Hy(h,g):new FormData(h);If(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?Hy(h,g):new FormData(h),If(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var od=0;od<Hh.length;od++){var ud=Hh[od],A1=ud.toLowerCase(),S1=ud[0].toUpperCase()+ud.slice(1);Fn(A1,"on"+S1)}Fn(Tp,"onAnimationEnd"),Fn(Ep,"onAnimationIteration"),Fn(Ap,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(jE,"onTransitionRun"),Fn(zE,"onTransitionStart"),Fn(qE,"onTransitionCancel"),Fn(Sp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function Fy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,U=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(H){Au(H)}h.currentTarget=null,f=R}}}}function St(e,n){var r=n[Ja];r===void 0&&(r=n[Ja]=new Set);var l=e+"__bubble";r.has(l)||(Gy(n,e,2,!1),r.add(l))}function cd(e,n,r){var l=0;n&&(l|=4),Gy(r,e,l,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[oc]){e[oc]=!0,ml.forEach(function(r){r!=="selectionchange"&&(w1.has(r)||cd(r,!1,e),cd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,cd("selectionchange",!1,n))}}function Gy(e,n,r,l){switch(T_(n)){case 2:var h=W1;break;case 8:h=$1;break;default:h=Rd}r=h.bind(null,n,r,e),h=void 0,!ha||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function fd(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=si(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}T=T.parentNode}}l=l.return}hr(function(){var U=f,H=En(r),K=[];t:{var j=wp.get(e);if(j!==void 0){var q=di,rt=e;switch(e){case"keypress":if(da(r)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":rt="focus",q=pa;break;case"focusout":rt="blur",q=pa;break;case"beforeblur":case"afterblur":q=pa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tp:case Ep:case Ap:q=fu;break;case Sp:q=A;break;case"scroll":case"scrollend":q=Rl;break;case"wheel":q=z;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=gt}var ct=(n&4)!==0,Ft=!ct&&(e==="scroll"||e==="scrollend"),M=ct?j!==null?j+"Capture":null:j;ct=[];for(var x=U,P;x!==null;){var F=x;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||M===null||(F=zn(x,M),F!=null&&ct.push(io(x,F,P))),Ft)break;x=x.return}0<ct.length&&(j=new q(j,rt,null,r,H),K.push({event:j,listeners:ct}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Sl&&(rt=r.relatedTarget||r.fromElement)&&(si(rt)||rt[ri]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=U,rt=rt?si(rt):null,rt!==null&&(Ft=c(rt),ct=rt.tag,rt!==Ft||ct!==5&&ct!==27&&ct!==6)&&(rt=null)):(q=null,rt=U),q!==rt)){if(ct=Il,F="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Vi,F="onPointerLeave",M="onPointerEnter",x="pointer"),Ft=q==null?j:ln(q),P=rt==null?j:ln(rt),j=new ct(F,x+"leave",q,r,H),j.target=Ft,j.relatedTarget=P,F=null,si(H)===U&&(ct=new ct(M,x+"enter",rt,r,H),ct.target=P,ct.relatedTarget=Ft,F=ct),Ft=F,q&&rt)e:{for(ct=b1,M=q,x=rt,P=0,F=M;F;F=ct(F))P++;F=0;for(var lt=x;lt;lt=ct(lt))F++;for(;0<P-F;)M=ct(M),P--;for(;0<F-P;)x=ct(x),F--;for(;P--;){if(M===x||x!==null&&M===x.alternate){ct=M;break e}M=ct(M),x=ct(x)}ct=null}else ct=null;q!==null&&Ky(K,j,q,ct,!1),rt!==null&&Ft!==null&&Ky(K,Ft,rt,ct,!0)}}t:{if(j=U?ln(U):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Dt=up;else if(lp(j))if(cp)Dt=LE;else{Dt=ME;var at=OE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?U&&ts(U.elementType)&&(Dt=up):Dt=kE;if(Dt&&(Dt=Dt(e,U))){op(K,Dt,r,H);break t}at&&at(e,j,U),e==="focusout"&&U&&j.type==="number"&&U.memoizedProps.value!=null&&Tl(j,"number",j.value)}switch(at=U?ln(U):window,e){case"focusin":(lp(at)||at.contentEditable==="true")&&(os=at,zh=U,Vl=null);break;case"focusout":Vl=zh=os=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,_p(K,r,H);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":_p(K,r,H)}var vt;if(Ot)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else ls?ga(e,r)&&(bt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(bt="onCompositionStart");bt&&(gi&&r.locale!=="ko"&&(ls||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&ls&&(vt=bl()):(fi=H,wl="value"in fi?fi.value:fi.textContent,ls=!0)),at=uc(U,bt),0<at.length&&(bt=new pi(bt,e,null,r,H),K.push({event:bt,listeners:at}),vt?bt.data=vt:(vt=ss(r),vt!==null&&(bt.data=vt)))),(vt=Sn?xE(e,r):NE(e,r))&&(bt=uc(U,"onBeforeInput"),0<bt.length&&(at=new pi("onBeforeInput","beforeinput",null,r,H),K.push({event:at,listeners:bt}),at.data=vt)),E1(K,e,U,r,H)}Fy(K,n)})}function io(e,n,r){return{instance:e,listener:n,currentTarget:r}}function uc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=zn(e,r),h!=null&&l.unshift(io(e,h,f)),h=zn(e,n),h!=null&&l.push(io(e,h,f))),e.tag===3)return l;e=e.return}return[]}function b1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,R=T.alternate,U=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||U===null||(R=U,h?(U=zn(r,f),U!=null&&g.unshift(io(r,U,R))):h||(U=zn(r,f),U!=null&&g.push(io(r,U,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var R1=/\r\n?/g,I1=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(R1,`
`).replace(I1,"")}function Yy(e,n){return n=Qy(n),Qy(e)===n}function Ht(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ze(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ze(e,""+l);break;case"className":on(e,"class",l);break;case"tabIndex":on(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(e,r,l);break;case"style":Al(e,l,f);break;case"data":if(n!=="object"){on(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=es(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ht(e,n,"name",h.name,h,null),Ht(e,n,"formEncType",h.formEncType,h,null),Ht(e,n,"formMethod",h.formMethod,h,null),Ht(e,n,"formTarget",h.formTarget,h,null)):(Ht(e,n,"encType",h.encType,h,null),Ht(e,n,"method",h.method,h,null),Ht(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=es(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=jn);break;case"onScroll":l!=null&&St("scroll",e);break;case"onScrollEnd":l!=null&&St("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=es(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":St("beforetoggle",e),St("toggle",e),Wa(e,"popover",l);break;case"xlinkActuate":ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ge(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ge(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ge(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ge(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Wa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,Wa(e,r,l))}}function dd(e,n,r,l,h,f){switch(r){case"style":Al(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Ze(e,l):(typeof l=="number"||typeof l=="bigint")&&Ze(e,""+l);break;case"onScroll":l!=null&&St("scroll",e);break;case"onScrollEnd":l!=null&&St("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pl.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[xe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Wa(e,r,l)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",e),St("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ht(e,n,f,g,r,null)}}h&&Ht(e,n,"srcSet",r.srcSet,r,null),l&&Ht(e,n,"src",r.src,r,null);return;case"input":St("invalid",e);var T=f=g=h=null,R=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":U=H;break;case"value":f=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Ht(e,n,l,H,r,null)}}su(e,f,T,R,U,g,h,!1);return;case"select":St("invalid",e),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:Ht(e,n,h,T,r,null)}n=f,r=g,e.multiple=!!l,n!=null?lr(e,!!l,n,!1):r!=null&&lr(e,!!l,r,!0);return;case"textarea":St("invalid",e),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ht(e,n,g,T,r,null)}or(e,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ht(e,n,R,l,r,null));return;case"dialog":St("beforetoggle",e),St("toggle",e),St("cancel",e),St("close",e);break;case"iframe":case"object":St("load",e);break;case"video":case"audio":for(l=0;l<no.length;l++)St(no[l],e);break;case"image":St("error",e),St("load",e);break;case"details":St("toggle",e);break;case"embed":case"source":case"link":St("error",e),St("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ht(e,n,U,l,r,null)}return;default:if(ts(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&dd(e,n,H,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Ht(e,n,T,l,r,null))}function C1(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,U=null,H=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(q)||Ht(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=r[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":U=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==K&&Ht(e,n,j,q,l,K)}}$a(e,g,T,R,U,H,f,h);return;case"select":q=g=T=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Ht(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&Ht(e,n,h,f,l,R)}n=T,r=g,l=q,j!=null?lr(e,!!r,j,!1):!!l!=!!r&&(n!=null?lr(e,!!r,n,!0):lr(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ht(e,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Ht(e,n,g,h,l,f)}lu(e,j,q);return;case"option":for(var rt in r)j=r[rt],r.hasOwnProperty(rt)&&j!=null&&!l.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Ht(e,n,rt,null,l,j));for(R in l)j=l[R],q=r[R],l.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Ht(e,n,R,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)j=r[ct],r.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct)&&Ht(e,n,ct,null,l,j);for(U in l)if(j=l[U],q=r[U],l.hasOwnProperty(U)&&j!==q&&(j!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Ht(e,n,U,j,l,q)}return;default:if(ts(n)){for(var Ft in r)j=r[Ft],r.hasOwnProperty(Ft)&&j!==void 0&&!l.hasOwnProperty(Ft)&&dd(e,n,Ft,void 0,l,j);for(H in l)j=l[H],q=r[H],!l.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||dd(e,n,H,j,l,q);return}}for(var M in r)j=r[M],r.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Ht(e,n,M,null,l,j);for(K in l)j=l[K],q=r[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||Ht(e,n,K,j,l,q)}function Xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Xy(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],U=R.startTime;if(U>T)break;var H=R.transferSize,K=R.initiatorType;H&&Xy(K)&&(R=R.responseEnd,g+=H*(R<T?1:(T-U)/(R-U)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,pd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function N1(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(O1)}:Wy;function O1(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function t_(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),ks(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")ro(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ro(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&ro(e.ownerDocument.body);r=h}while(r);ks(n)}function e_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_d(r),Za(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function M1(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function k1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function n_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function L1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function i_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Nn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function r_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function a_(e,n,r){switch(n=cc(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ro(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Za(e)}var Dn=new Map,s_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=tt.d;tt.d={f:P1,r:U1,D:j1,C:z1,L:q1,m:B1,X:F1,S:H1,M:G1};function P1(){var e=Qi.f(),n=nc();return e||n}function U1(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?Sg(n):Qi.r(e)}var Vs=typeof document>"u"?null:document;function l_(e,n,r){var l=Vs;if(l&&typeof n=="string"&&n){var h=Je(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),s_.has(h)||(s_.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),je(n,"link",e),pe(n),l.head.appendChild(n)))}}function j1(e){Qi.D(e),l_("dns-prefetch",e,null)}function z1(e,n){Qi.C(e,n),l_("preconnect",e,n)}function q1(e,n,r){Qi.L(e,n,r);var l=Vs;if(l&&e&&n){var h='link[rel="preload"][as="'+Je(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Je(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Je(r.imageSizes)+'"]')):h+='[href="'+Je(e)+'"]';var f=h;switch(n){case"style":f=Os(e);break;case"script":f=Ms(e)}Dn.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Dn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ao(f))||n==="script"&&l.querySelector(so(f))||(n=l.createElement("link"),je(n,"link",e),pe(n),l.head.appendChild(n)))}}function B1(e,n){Qi.m(e,n);var r=Vs;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Je(l)+'"][href="'+Je(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ms(e)}if(!Dn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Dn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(so(f)))return}l=r.createElement("link"),je(l,"link",e),pe(l),r.head.appendChild(l)}}}function H1(e,n,r){Qi.S(e,n,r);var l=Vs;if(l&&e){var h=li(l).hoistableStyles,f=Os(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(ao(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Dn.get(f))&&Ad(e,r);var R=g=l.createElement("link");pe(R),je(R,"link",e),R._p=new Promise(function(U,H){R.onload=U,R.onerror=H}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,fc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function F1(e,n){Qi.X(e,n);var r=Vs;if(r&&e){var l=li(r).hoistableScripts,h=Ms(e),f=l.get(h);f||(f=r.querySelector(so(h)),f||(e=w({src:e,async:!0},n),(n=Dn.get(h))&&Sd(e,n),f=r.createElement("script"),pe(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function G1(e,n){Qi.M(e,n);var r=Vs;if(r&&e){var l=li(r).hoistableScripts,h=Ms(e),f=l.get(h);f||(f=r.querySelector(so(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Dn.get(h))&&Sd(e,n),f=r.createElement("script"),pe(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function o_(e,n,r,l){var h=(h=_n.current)?hc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Os(r.href),r=li(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Os(r.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ao(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Dn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(e,r),f||K1(h,e,r,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ms(r),r=li(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Os(e){return'href="'+Je(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function u_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function K1(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",r),pe(n),e.head.appendChild(n))}function Ms(e){return'[src="'+Je(e)+'"]'}function so(e){return"script[async]"+e}function c_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Je(r.href)+'"]');if(l)return n.instance=l,pe(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pe(l),je(l,"style",h),fc(l,r.precedence,e),n.instance=l;case"stylesheet":h=Os(r.href);var f=e.querySelector(ao(h));if(f)return n.state.loading|=4,n.instance=f,pe(f),f;l=u_(r),(h=Dn.get(h))&&Ad(l,h),f=(e.ownerDocument||e).createElement("link"),pe(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),je(f,"link",l),n.state.loading|=4,fc(f,r.precedence,e),n.instance=f;case"script":return f=Ms(r.src),(h=e.querySelector(so(f)))?(n.instance=h,pe(h),h):(l=r,(h=Dn.get(f))&&(l=w({},r),Sd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),pe(h),je(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fc(l,r.precedence,e));return n.instance}function fc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function h_(e,n,r){if(dc===null){var l=new Map,h=dc=new Map;h.set(r,l)}else h=dc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ai]||f[me]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function f_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Q1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function d_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Y1(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Os(l.href),f=n.querySelector(ao(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,pe(f);return}f=n.ownerDocument||n,l=u_(l),(h=Dn.get(h))&&Ad(l,h),f=f.createElement("link"),pe(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),je(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=mc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function X1(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*x1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,n.forEach(J1,e),pc=null,mc.call(e))}function J1(e,n){if(!(n.state.loading&4)){var r=pc.get(e);if(r)var l=r.get(null);else{r=new Map,pc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=mc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function Z1(e,n,r,l,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function m_(e,n,r,l,h,f,g,T,R,U,H,K){return e=new Z1(e,n,r,g,R,U,H,K,T),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},lf(f),e}function p_(e){return e?(e=hs,e):hs}function g_(e,n,r,l,h,f){h=p_(h),l.context===null?l.context=h:l.pendingContext=h,l=Tr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Er(e,l,n),r!==null&&(nn(r,e,n),jl(r,e,n))}function y_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function bd(e,n){y_(e,n),(e=e.alternate)&&y_(e,n)}function __(e){if(e.tag===13||e.tag===31){var n=va(e,67108864);n!==null&&nn(n,e,67108864),bd(e,67108864)}}function v_(e){if(e.tag===13||e.tag===31){var n=pn();n=la(n);var r=va(e,n);r!==null&&nn(r,e,n),bd(e,n)}}var yc=!0;function W1(e,n,r,l){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,Rd(e,n,r,l)}finally{tt.p=f,G.T=h}}function $1(e,n,r,l){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,Rd(e,n,r,l)}finally{tt.p=f,G.T=h}}function Rd(e,n,r,l){if(yc){var h=Id(l);if(h===null)fd(e,n,l,_c,r),E_(e,l);else if(eA(h,e,n,r,l))l.stopPropagation();else if(E_(e,l),n&4&&-1<tA.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-ae(g);T.entanglements[1]|=R,g&=~R}Ti(f),(Mt&6)===0&&(tc=Ke()+500,eo(0))}}break;case 31:case 13:T=va(f,2),T!==null&&nn(T,f,2),nc(),bd(f,2)}if(f=Id(l),f===null&&fd(e,n,l,_c,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else fd(e,n,l,null,r)}}function Id(e){return e=En(e),Cd(e)}var _c=null;function Cd(e){if(_c=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function T_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case cl:return 2;case hl:return 8;case ar:case Oh:return 32;case Jo:return 268435456;default:return 32}default:return 32}}var xd=!1,Vr=null,Or=null,Mr=null,oo=new Map,uo=new Map,kr=[],tA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&__(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function eA(e,n,r,l,h){switch(n){case"focusin":return Vr=co(Vr,e,n,r,l,h),!0;case"dragenter":return Or=co(Or,e,n,r,l,h),!0;case"mouseover":return Mr=co(Mr,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return oo.set(f,co(oo.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,uo.set(f,co(uo.get(f)||null,e,n,r,l,h)),!0}return!1}function A_(e){var n=si(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){v_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){v_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Id(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Sl=l,r.target.dispatchEvent(l),Sl=null}else return n=Tn(r),n!==null&&__(n),e.blockedOn=r,!1;n.shift()}return!0}function S_(e,n,r){vc(e)&&r.delete(n)}function nA(){xd=!1,Vr!==null&&vc(Vr)&&(Vr=null),Or!==null&&vc(Or)&&(Or=null),Mr!==null&&vc(Mr)&&(Mr=null),oo.forEach(S_),uo.forEach(S_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,nA)))}var Ec=null;function w_(e){Ec!==e&&(Ec=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Cd(l||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ks(e){function n(R){return Tc(R,e)}Vr!==null&&Tc(Vr,e),Or!==null&&Tc(Or,e),Mr!==null&&Tc(Mr,e),oo.forEach(n),uo.forEach(n);for(var r=0;r<kr.length;r++){var l=kr[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kr.length&&(r=kr[0],r.blockedOn===null);)A_(r),r.blockedOn===null&&kr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[xe]||null;if(typeof f=="function")g||w_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)T=g.formAction;else if(Cd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),w_(r)}}}function b_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}Ac.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=pn();g_(r,l,e,n,null,null)},Ac.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;g_(e.current,2,null,e,null,null),nc(),n[ri]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<kr.length&&n!==0&&n<kr[r].priority;r++);kr.splice(r,0,e),r===0&&A_(e)}};var R_=t.version;if(R_!=="19.2.4")throw Error(s(527,R_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=v(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var iA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{kn=Sc.inject(iA),Me=Sc}catch{}}return ho.createRoot=function(e,n){if(!o(e))throw Error(s(299));var r=!1,l="",h=Og,f=Mg,g=kg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=m_(e,1,!1,null,null,r,l,null,h,f,g,b_),e[ri]=n.current,hd(e),new Nd(n)},ho.hydrateRoot=function(e,n,r){if(!o(e))throw Error(s(299));var l=!1,h="",f=Og,g=Mg,T=kg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=m_(e,1,!0,n,r??null,l,h,R,f,g,T,b_),n.context=p_(null),r=n.current,l=pn(),l=la(l),h=Tr(l),h.callback=null,Er(r,h,l),r=l,n.current.lanes=r,aa(n,r),Ti(n),e[ri]=n.current,hd(e),new Ac(n)},ho.version="19.2.4",ho}var N_;function VA(){if(N_)return Dd.exports;N_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch{}}return a(),Dd.exports=DA(),Dd.exports}var OA=VA();const MA=lA(OA);function u0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kA=u0,c0=new mm("auth","Firebase",u0());const Bc=new r0("@firebase/auth");function LA(a,...t){Bc.logLevel<=Qn.WARN&&Bc.warn(`Auth (${$s}): ${a}`,...t)}function Nc(a,...t){Bc.logLevel<=Qn.ERROR&&Bc.error(`Auth (${$s}): ${a}`,...t)}function Mn(a,...t){throw ym(a,...t)}function Xn(a,...t){return ym(a,...t)}function gm(a,t,i){const s={...kA(),[t]:i};return new mm("auth","Firebase",s).create(t,{appName:a.name})}function Zi(a){return gm(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PA(a,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&Mn(a,"argument-error"),gm(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ym(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return c0.create(a,...t)}function ft(a,t,...i){if(!a)throw ym(t,...i)}function Xi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Nc(t),new Error(t)}function Wi(a,t){a||Xi(t)}function Qd(){return typeof self<"u"&&self.location?.href||""}function UA(){return D_()==="http:"||D_()==="https:"}function D_(){return typeof self<"u"&&self.location?.protocol||null}function jA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UA()||pA()||"connection"in navigator)?navigator.onLine:!0}function zA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Po{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=dA()||mA()}get(){return jA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _m(a,t){Wi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class h0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HA=new Po(3e4,6e4);function Wr(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function er(a,t,i,s,o={}){return f0(a,o,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const p=ko({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v={method:t,headers:_,...c};return EA()||(v.referrerPolicy="no-referrer"),a.emulatorConfig&&Lo(a.emulatorConfig.host)&&(v.credentials="include"),h0.fetch()(await d0(a,a.config.apiHost,i,p),v)})}async function f0(a,t,i){a._canInitEmulator=!1;const s={...qA,...t};try{const o=new GA(a),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(a,"user-disabled",d);const S=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw gm(a,S,v);Mn(a,S)}}catch(o){if(o instanceof uh)throw o;Mn(a,"network-request-failed",{message:String(o)})}}async function Uo(a,t,i,s,o={}){const c=await er(a,t,i,s,o);return"mfaPendingCredential"in c&&Mn(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function d0(a,t,i,s){const o=`${t}${i}?${s}`,c=a,d=c.config.emulator?_m(a.config,o):`${a.config.apiScheme}://${o}`;return BA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function FA(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),HA.get())})}}function wc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const o=Xn(a,t,s);return o.customData._tokenResponse=i,o}function V_(a){return a!==void 0&&a.enterprise!==void 0}class KA{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return FA(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QA(a,t){return er(a,"GET","/v2/recaptchaConfig",Wr(a,t))}async function YA(a,t){return er(a,"POST","/v1/accounts:delete",t)}async function Hc(a,t){return er(a,"POST","/v1/accounts:lookup",t)}function To(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function XA(a,t=!1){const i=Ie(a),s=await i.getIdToken(t),o=vm(s);ft(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:s,authTime:To(Md(o.auth_time)),issuedAtTime:To(Md(o.iat)),expirationTime:To(Md(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Md(a){return Number(a)*1e3}function vm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const o=yA(i);return o?JSON.parse(o):(Nc("Failed to decode base64 JWT payload"),null)}catch(o){return Nc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function O_(a){const t=vm(a);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ks(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof uh&&JA(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function JA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class ZA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Fc(a){const t=a.auth,i=await a.getIdToken(),s=await Ks(a,Hc(t,{idToken:i}));ft(s?.users.length,t,"internal-error");const o=s.users[0];a._notifyReloadListener(o);const c=o.providerUserInfo?.length?m0(o.providerUserInfo):[],d=$A(a.providerData,c),p=a.isAnonymous,_=!(a.email&&o.passwordHash)&&!d?.length,v=p?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Yd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(a,S)}async function WA(a){const t=Ie(a);await Fc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $A(a,t){return[...a.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function m0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function tS(a,t){const i=await f0(a,{},async()=>{const s=ko({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=a.config,d=await d0(a,o,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return a.emulatorConfig&&Lo(a.emulatorConfig.host)&&(_.credentials="include"),h0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function eS(a,t){return er(a,"POST","/v2/accounts:revokeToken",Wr(a,t))}class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):O_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ft(t.length!==0,"internal-error");const i=O_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:o,expiresIn:c}=await tS(t,i);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:o,expirationTime:c}=i,d=new zs;return s&&(ft(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),o&&(ft(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(ft(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Pr(a,t){ft(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ZA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ks(this,this.stsTokenManager.getToken(this.auth,t));return ft(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return XA(this,t)}reload(){return WA(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Fc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Ks(this,YA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:B,providerData:X,stsTokenManager:J}=i;ft(w&&J,t,"internal-error");const Z=zs.fromJSON(this.name,J);ft(typeof w=="string",t,"internal-error"),Pr(s,t.name),Pr(o,t.name),ft(typeof V=="boolean",t,"internal-error"),ft(typeof B=="boolean",t,"internal-error"),Pr(c,t.name),Pr(d,t.name),Pr(p,t.name),Pr(_,t.name),Pr(v,t.name),Pr(S,t.name);const ht=new Yn({uid:w,auth:t,email:o,emailVerified:V,displayName:s,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:S});return X&&Array.isArray(X)&&(ht.providerData=X.map(_t=>({..._t}))),_&&(ht._redirectEventId=_),ht}static async _fromIdTokenResponse(t,i,s=!1){const o=new zs;o.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Fc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const o=i.users[0];ft(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?m0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new zs;p.updateFromIdToken(s);const _=new Yn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Yd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const M_=new Map;function Ji(a){Wi(a instanceof Function,"Expected a class definition");let t=M_.get(a);return t?(Wi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,M_.set(a,t),t)}class p0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}p0.type="NONE";const k_=p0;function Dc(a,t,i){return`firebase:${a}:${t}:${i}`}class qs{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Dc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Hc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new qs(Ji(k_),t,s);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Ji(k_);const d=Dc(s,t.config.apiKey,t.name);let p=null;for(const v of i)try{const S=await v._get(d);if(S){let w;if(typeof S=="string"){const V=await Hc(t,{idToken:S}).catch(()=>{});if(!V)break;w=await Yn._fromGetAccountInfoResponse(t,V,S)}else w=Yn._fromJSON(t,S);v!==c&&(p=w),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new qs(c,t,s):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new qs(c,t,s))}}function L_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(v0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(g0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E0(t))return"Blackberry";if(A0(t))return"Webos";if(y0(t))return"Safari";if((t.includes("chrome/")||_0(t))&&!t.includes("edge/"))return"Chrome";if(T0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if(s?.length===2)return s[1]}return"Other"}function g0(a=sn()){return/firefox\//i.test(a)}function y0(a=sn()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _0(a=sn()){return/crios\//i.test(a)}function v0(a=sn()){return/iemobile/i.test(a)}function T0(a=sn()){return/android/i.test(a)}function E0(a=sn()){return/blackberry/i.test(a)}function A0(a=sn()){return/webos/i.test(a)}function Tm(a=sn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function nS(a=sn()){return Tm(a)&&!!window.navigator?.standalone}function iS(){return vA()&&document.documentMode===10}function S0(a=sn()){return Tm(a)||T0(a)||A0(a)||E0(a)||/windows phone/i.test(a)||v0(a)}function w0(a,t=[]){let i;switch(a){case"Browser":i=L_(sn());break;case"Worker":i=`${L_(sn())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$s}/${s}`}class rS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});s.onAbort=i,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function aS(a,t={}){return er(a,"GET","/v2/passwordPolicy",Wr(a,t))}const sS=6;class lS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??sS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class oS{constructor(t,i,s,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P_(this),this.idTokenSubscription=new P_(this),this.beforeStateQueue=new rS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qs.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Hc(this,{idToken:t}),s=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch{await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Fc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(gn(this.app))return Promise.reject(Zi(this));const i=t?Ie(t):null;return i&&ft(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return gn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aS(this),i=new lS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new mm("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await eS(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;ft(i,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=w0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&LA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $r(a){return Ie(a)}class P_{constructor(t){this.auth=t,this.observer=null,this.addObserver=gA(i=>this.observer=i)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uS(a){ch=a}function b0(a){return ch.loadJS(a)}function cS(){return ch.recaptchaEnterpriseScript}function hS(){return ch.gapiScript}function fS(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class dS{constructor(){this.enterprise=new mS}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class mS{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const pS="recaptcha-enterprise",R0="NO_RECAPTCHA";class gS{constructor(t){this.type=pS,this.auth=$r(t)}async verify(t="verify",i=!1){async function s(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{QA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new KA(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(c,d,p){const _=window.grecaptcha;V_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(R0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dS().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(p=>{if(!i&&V_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=cS();_.length!==0&&(_+=p),b0(_).then(()=>{o(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function U_(a,t,i,s=!1,o=!1){const c=new gS(a);let d;if(o)d=R0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Xd(a,t,i,s,o){if(a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await U_(a,t,i,i==="getOobCode");return s(a,c)}else return s(a,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){const d=await U_(a,t,i,i==="getOobCode");return s(a,d)}else return Promise.reject(c)})}function yS(a,t){const i=pm(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(qc(c,t??{}))return o;Mn(o,"already-initialized")}return i.initialize({options:t})}function _S(a,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t?.popupRedirectResolver)}function vS(a,t,i){const s=$r(a);ft(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,c=I0(t),{host:d,port:p}=TS(t),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ft(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ft(qc(v,s.config.emulator)&&qc(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,Lo(d)?(l0(`${c}//${d}${_}`),o0("Auth",!0)):ES()}function I0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function TS(a){const t=I0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:j_(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:j_(d)}}}function j_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function ES(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Em{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function AS(a,t){return er(a,"POST","/v1/accounts:signUp",t)}async function SS(a,t){return Uo(a,"POST","/v1/accounts:signInWithPassword",Wr(a,t))}async function wS(a,t){return Uo(a,"POST","/v1/accounts:signInWithEmailLink",Wr(a,t))}async function bS(a,t){return Uo(a,"POST","/v1/accounts:signInWithEmailLink",Wr(a,t))}class Ro extends Em{constructor(t,i,s,o=null){super("password",s),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Ro(t,i,"password")}static _fromEmailAndCode(t,i,s=null){return new Ro(t,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(t,i,"signInWithPassword",SS);case"emailLink":return wS(t,{email:this._email,oobCode:this._password});default:Mn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xd(t,s,"signUpPassword",AS);case"emailLink":return bS(t,{idToken:i,email:this._email,oobCode:this._password});default:Mn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Bs(a,t){return Uo(a,"POST","/v1/accounts:signInWithIdp",Wr(a,t))}const RS="http://localhost";class Ua extends Em{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Mn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...c}=i;if(!s||!o)return null;const d=new Ua(s,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Bs(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Bs(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Bs(t,i)}buildRequest(){const t={requestUri:RS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ko(i)}return t}}function IS(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CS(a){const t=mo(po(a)).link,i=t?mo(po(t)).deep_link_id:null,s=mo(po(a)).deep_link_id;return(s?mo(po(s)).link:null)||s||i||t||a}class Am{constructor(t){const i=mo(po(t)),s=i.apiKey??null,o=i.oobCode??null,c=IS(i.mode??null);ft(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=CS(t);try{return new Am(i)}catch{return null}}}class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(t,i){return Ro._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const s=Am.parseLink(i);return ft(s,"argument-error"),Ro._fromEmailAndCode(t,s.code,s.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Sm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class jo extends Sm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ur extends jo{constructor(){super("facebook.com")}static credential(t){return Ua._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class Yi extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ua._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Yi.credential(i,s)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class jr extends jo{constructor(){super("github.com")}static credential(t){return Ua._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";class zr extends jo{constructor(){super("twitter.com")}static credential(t,i){return Ua._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return zr.credential(i,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";async function xS(a,t){return Uo(a,"POST","/v1/accounts:signUp",Wr(a,t))}class ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,o=!1){const c=await Yn._fromIdTokenResponse(t,s,o),d=z_(s);return new ja({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const o=z_(s);return new ja({user:t,providerId:o,_tokenResponse:s,operationType:i})}}function z_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Gc extends uh{constructor(t,i,s,o){super(i.code,i.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,o){return new Gc(t,i,s,o)}}function C0(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(a,c,t,s):c})}async function NS(a,t,i=!1){const s=await Ks(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ja._forOperation(a,"link",s)}async function DS(a,t,i=!1){const{auth:s}=a;if(gn(s.app))return Promise.reject(Zi(s));const o="reauthenticate";try{const c=await Ks(a,C0(s,o,t,a),i);ft(c.idToken,s,"internal-error");const d=vm(c.idToken);ft(d,s,"internal-error");const{sub:p}=d;return ft(a.uid===p,s,"user-mismatch"),ja._forOperation(a,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Mn(s,"user-mismatch"),c}}async function x0(a,t,i=!1){if(gn(a.app))return Promise.reject(Zi(a));const s="signIn",o=await C0(a,s,t),c=await ja._fromIdTokenResponse(a,s,o);return i||await a._updateCurrentUser(c.user),c}async function VS(a,t){return x0($r(a),t)}async function N0(a){const t=$r(a);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function OS(a,t,i){if(gn(a.app))return Promise.reject(Zi(a));const s=$r(a),d=await Xd(s,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xS).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&N0(a),_}),p=await ja._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function MS(a,t,i){return gn(a.app)?Promise.reject(Zi(a)):VS(Ie(a),tl.credential(t,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&N0(a),s})}async function kS(a,t){return er(a,"POST","/v1/accounts:update",t)}async function LS(a,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const s=Ie(a),c={idToken:await s.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await Ks(s,kS(s.auth,c));s.displayName=d.displayName||null,s.photoURL=d.photoUrl||null;const p=s.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(d)}function PS(a,t,i,s){return Ie(a).onIdTokenChanged(t,i,s)}function US(a,t,i){return Ie(a).beforeAuthStateChanged(t,i)}function jS(a,t,i,s){return Ie(a).onAuthStateChanged(t,i,s)}const Kc="__sak";class D0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const zS=1e3,qS=10;class V0 extends D0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),o=this.localCache[i];s!==o&&t(i,o,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);iS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,qS):o()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},zS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}V0.type="LOCAL";const BS=V0;class O0 extends D0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}O0.type="SESSION";const M0=O0;function HS(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const s=new hh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await HS(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function wm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}class FS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=wm("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function GS(a){Ai().location.href=a}function k0(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function KS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QS(){return navigator?.serviceWorker?.controller||null}function YS(){return k0()?self:null}const L0="firebaseLocalStorageDb",XS=1,Qc="firebaseLocalStorage",P0="fbase_key";class zo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(a,t){return a.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function JS(){const a=indexedDB.deleteDatabase(L0);return new zo(a).toPromise()}function Jd(){const a=indexedDB.open(L0,XS);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Qc,{keyPath:P0})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Qc)?t(s):(s.close(),await JS(),t(await Jd()))})})}async function q_(a,t,i){const s=fh(a,!0).put({[P0]:t,value:i});return new zo(s).toPromise()}async function ZS(a,t){const i=fh(a,!1).get(t),s=await new zo(i).toPromise();return s===void 0?null:s.value}function B_(a,t){const i=fh(a,!0).delete(t);return new zo(i).toPromise()}const WS=800,$S=3;class U0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>$S)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(YS()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await KS(),!this.activeServiceWorker)return;this.sender=new FS(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jd();return await q_(t,Kc,"1"),await B_(t,Kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>q_(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>ZS(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>B_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=fh(o,!1).getAll();return new zo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U0.type="LOCAL";const t2=U0;new Po(3e4,6e4);function j0(a,t){return t?Ji(t):(ft(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class bm extends Em{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bs(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Bs(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Bs(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function e2(a){return x0(a.auth,new bm(a),a.bypassAuthState)}function n2(a){const{auth:t,user:i}=a;return ft(i,t,"internal-error"),DS(i,new bm(a),a.bypassAuthState)}async function i2(a){const{auth:t,user:i}=a;return ft(i,t,"internal-error"),NS(i,new bm(a),a.bypassAuthState)}class z0{constructor(t,i,s,o,c=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return e2;case"linkViaPopup":case"linkViaRedirect":return i2;case"reauthViaPopup":case"reauthViaRedirect":return n2;default:Mn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const r2=new Po(2e3,1e4);async function a2(a,t,i){if(gn(a.app))return Promise.reject(Xn(a,"operation-not-supported-in-this-environment"));const s=$r(a);PA(a,t,Sm);const o=j0(s,i);return new Oa(s,"signInViaPopup",t,o).executeNotNull()}class Oa extends z0{constructor(t,i,s,o,c){super(t,i,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,r2.get())};t()}}Oa.currentPopupAction=null;const s2="pendingRedirect",Vc=new Map;class l2 extends z0{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const s=await o2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o2(a,t){const i=h2(t),s=c2(a);if(!await s._isAvailable())return!1;const o=await s._get(i)==="true";return await s._remove(i),o}function u2(a,t){Vc.set(a._key(),t)}function c2(a){return Ji(a._redirectPersistence)}function h2(a){return Dc(s2,a.config.apiKey,a.name)}async function f2(a,t,i=!1){if(gn(a.app))return Promise.reject(Zi(a));const s=$r(a),o=j0(s,t),d=await new l2(s,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}const d2=600*1e3;class m2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!p2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!q0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Xn(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=d2&&this.cachedEventUids.clear(),this.cachedEventUids.has(H_(t))}saveEventToCache(t){this.cachedEventUids.add(H_(t)),this.lastProcessedEventTime=Date.now()}}function H_(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function q0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function p2(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q0(a);default:return!1}}async function g2(a,t={}){return er(a,"GET","/v1/projects",t)}const y2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_2=/^https?/;async function v2(a){if(a.config.emulator)return;const{authorizedDomains:t}=await g2(a);for(const i of t)try{if(T2(i))return}catch{}Mn(a,"unauthorized-domain")}function T2(a){const t=Qd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!_2.test(i))return!1;if(y2.test(a))return s===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const E2=new Po(3e4,6e4);function F_(){const a=Ai().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function A2(a){return new Promise((t,i)=>{function s(){F_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{F_(),i(Xn(a,"network-request-failed"))},timeout:E2.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)s();else{const o=fS("iframefcb");return Ai()[o]=()=>{gapi.load?s():i(Xn(a,"network-request-failed"))},b0(`${hS()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Oc=null,t})}let Oc=null;function S2(a){return Oc=Oc||A2(a),Oc}const w2=new Po(5e3,15e3),b2="__/auth/iframe",R2="emulator/auth/iframe",I2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x2(a){const t=a.config;ft(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?_m(t,R2):`https://${a.config.authDomain}/${b2}`,s={apiKey:t.apiKey,appName:a.name,v:$s},o=C2.get(a.config.apiHost);o&&(s.eid=o);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${ko(s).slice(1)}`}async function N2(a){const t=await S2(a),i=Ai().gapi;return ft(i,a,"internal-error"),t.open({where:document.body,url:x2(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I2,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const d=Xn(a,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},w2.get());function _(){Ai().clearTimeout(p),o(s)}s.ping(_).then(_,()=>{c(d)})}))}const D2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V2=500,O2=600,M2="_blank",k2="http://localhost";class G_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function L2(a,t,i,s=V2,o=O2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...D2,width:s.toString(),height:o.toString(),top:c,left:d},v=sn().toLowerCase();i&&(p=_0(v)?M2:i),g0(v)&&(t=t||k2,_.scrollbars="yes");const S=Object.entries(_).reduce((V,[B,X])=>`${V}${B}=${X},`,"");if(nS(v)&&p!=="_self")return P2(t||"",p),new G_(null);const w=window.open(t||"",p,S);ft(w,a,"popup-blocked");try{w.focus()}catch{}return new G_(w)}function P2(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const U2="__/auth/handler",j2="emulator/auth/handler",z2=encodeURIComponent("fac");async function K_(a,t,i,s,o,c){ft(a.config.authDomain,a,"auth-domain-config-required"),ft(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:$s,eventId:o};if(t instanceof Sm){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",TA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(t instanceof jo){const S=t.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await a._getAppCheckToken(),v=_?`#${z2}=${encodeURIComponent(_)}`:"";return`${q2(a)}?${ko(p).slice(1)}${v}`}function q2({config:a}){return a.emulator?_m(a,j2):`https://${a.authDomain}/${U2}`}const kd="webStorageSupport";class B2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M0,this._completeRedirectFn=f2,this._overrideRedirectResult=u2}async _openPopup(t,i,s,o){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await K_(t,i,s,Qd(),o);return L2(t,c,wm())}async _openRedirect(t,i,s,o){await this._originValidation(t);const c=await K_(t,i,s,Qd(),o);return GS(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Wi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await N2(t),s=new m2(t);return i.register("authEvent",o=>(ft(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},o=>{const c=o?.[0]?.[kd];c!==void 0&&i(!!c),Mn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=v2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return S0()||y0()||Tm()}}const H2=B2;var Q_="@firebase/auth",Y_="1.12.0";class F2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function G2(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K2(a){Gd(new Kd("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;ft(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:w0(a)},v=new oS(s,o,c,_);return _S(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Gd(new Kd("auth-internal",t=>{const i=$r(t.getProvider("auth").getImmediate());return(s=>new F2(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),bo(Q_,Y_,G2(a)),bo(Q_,Y_,"esm2020")}const Q2=300,Y2=a0("authIdTokenMaxAge")||Q2;let X_=null;const X2=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Y2)return;const o=i?.token;X_!==o&&(X_=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function J2(a=s0()){const t=pm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=yS(a,{popupRedirectResolver:H2,persistence:[t2,BS,M0]}),s=a0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=X2(c.toString());US(i,d,()=>d(i.currentUser)),PS(i,p=>d(p))}}const o=_A("auth");return o&&vS(i,`http://${o}`),i}function Z2(){return document.getElementsByTagName("head")?.[0]??document}uS({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=o=>{const c=Xn("internal-error");c.customData=o,i(c)},s.type="text/javascript",s.charset="UTF-8",Z2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K2("Browser");var W2="firebase",$2="12.9.0";bo(W2,$2,"app");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,B0;(function(){var a;function t(N,b){function C(){}C.prototype=b.prototype,N.F=b.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(O,D,k){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return b.prototype[D].apply(O,I)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,C){C||(C=0);const O=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)O[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=N.g[0],C=N.g[1],D=N.g[2];let k=N.g[3],I;I=b+(k^C&(D^k))+O[0]+3614090360&4294967295,b=C+(I<<7&4294967295|I>>>25),I=k+(D^b&(C^D))+O[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=D+(C^k&(b^C))+O[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(b^D&(k^b))+O[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=b+(k^C&(D^k))+O[4]+4118548399&4294967295,b=C+(I<<7&4294967295|I>>>25),I=k+(D^b&(C^D))+O[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=D+(C^k&(b^C))+O[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(b^D&(k^b))+O[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=b+(k^C&(D^k))+O[8]+1770035416&4294967295,b=C+(I<<7&4294967295|I>>>25),I=k+(D^b&(C^D))+O[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=D+(C^k&(b^C))+O[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(b^D&(k^b))+O[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=b+(k^C&(D^k))+O[12]+1804603682&4294967295,b=C+(I<<7&4294967295|I>>>25),I=k+(D^b&(C^D))+O[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=D+(C^k&(b^C))+O[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(b^D&(k^b))+O[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=b+(D^k&(C^D))+O[1]+4129170786&4294967295,b=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(b^C))+O[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=D+(b^C&(k^b))+O[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^b&(D^k))+O[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=b+(D^k&(C^D))+O[5]+3593408605&4294967295,b=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(b^C))+O[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=D+(b^C&(k^b))+O[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^b&(D^k))+O[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=b+(D^k&(C^D))+O[9]+568446438&4294967295,b=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(b^C))+O[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=D+(b^C&(k^b))+O[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^b&(D^k))+O[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=b+(D^k&(C^D))+O[13]+2850285829&4294967295,b=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(b^C))+O[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=D+(b^C&(k^b))+O[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^b&(D^k))+O[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=b+(C^D^k)+O[5]+4294588738&4294967295,b=C+(I<<4&4294967295|I>>>28),I=k+(b^C^D)+O[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=D+(k^b^C)+O[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^b)+O[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=b+(C^D^k)+O[1]+2763975236&4294967295,b=C+(I<<4&4294967295|I>>>28),I=k+(b^C^D)+O[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=D+(k^b^C)+O[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^b)+O[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=b+(C^D^k)+O[13]+681279174&4294967295,b=C+(I<<4&4294967295|I>>>28),I=k+(b^C^D)+O[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=D+(k^b^C)+O[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^b)+O[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=b+(C^D^k)+O[9]+3654602809&4294967295,b=C+(I<<4&4294967295|I>>>28),I=k+(b^C^D)+O[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=D+(k^b^C)+O[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^b)+O[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=b+(D^(C|~k))+O[0]+4096336452&4294967295,b=C+(I<<6&4294967295|I>>>26),I=k+(C^(b|~D))+O[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=D+(b^(k|~C))+O[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~b))+O[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=b+(D^(C|~k))+O[12]+1700485571&4294967295,b=C+(I<<6&4294967295|I>>>26),I=k+(C^(b|~D))+O[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=D+(b^(k|~C))+O[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~b))+O[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=b+(D^(C|~k))+O[8]+1873313359&4294967295,b=C+(I<<6&4294967295|I>>>26),I=k+(C^(b|~D))+O[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=D+(b^(k|~C))+O[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~b))+O[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=b+(D^(C|~k))+O[4]+4149444226&4294967295,b=C+(I<<6&4294967295|I>>>26),I=k+(C^(b|~D))+O[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=D+(b^(k|~C))+O[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~b))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}s.prototype.v=function(N,b){b===void 0&&(b=N.length);const C=b-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<b;)if(O[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<b;)if(O[D++]=N[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=b},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)N[b++]=this.g[C]>>>O&255;return N};function c(N,b){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=b(N)}function d(N,b){this.h=b;const C=[];let O=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;O&&k==b||(C[D]=k,O=!1)}this.g=C}var p={};function _(N){return-128<=N&&N<128?c(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return Z(v(-N));const b=[];let C=1;for(let O=0;N>=C;O++)b[O]=N/C|0,C*=4294967296;return new d(b,0)}function S(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return Z(S(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(b,8));let O=w;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+D),b);D<8?(D=v(Math.pow(b,D)),O=O.j(D).add(v(I))):(O=O.j(C),O=O.add(v(I)))}return O}var w=_(0),V=_(1),B=_(16777216);a=d.prototype,a.m=function(){if(J(this))return-Z(this).m();let N=0,b=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);N+=(O>=0?O:4294967296+O)*b,b*=4294967296}return N},a.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(J(this))return"-"+Z(this).toString(N);const b=v(Math.pow(N,6));var C=this;let O="";for(;;){const D=Pt(C,b).g;C=ht(C,D.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,X(C))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},a.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function J(N){return N.h==-1}a.l=function(N){return N=ht(this,N),J(N)?-1:X(N)?0:1};function Z(N){const b=N.g.length,C=[];for(let O=0;O<b;O++)C[O]=~N.g[O];return new d(C,~N.h).add(V)}a.abs=function(){return J(this)?Z(this):this},a.add=function(N){const b=Math.max(this.g.length,N.g.length),C=[];let O=0;for(let D=0;D<=b;D++){let k=O+(this.i(D)&65535)+(N.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=I>>>16,k&=65535,I&=65535,C[D]=I<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ht(N,b){return N.add(Z(b))}a.j=function(N){if(X(this)||X(N))return w;if(J(this))return J(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(J(N))return Z(this.j(Z(N)));if(this.l(B)<0&&N.l(B)<0)return v(this.m()*N.m());const b=this.g.length+N.g.length,C=[];for(var O=0;O<2*b;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const k=this.i(O)>>>16,I=this.i(O)&65535,he=N.i(D)>>>16,Oe=N.i(D)&65535;C[2*O+2*D]+=I*Oe,_t(C,2*O+2*D),C[2*O+2*D+1]+=k*Oe,_t(C,2*O+2*D+1),C[2*O+2*D+1]+=I*he,_t(C,2*O+2*D+1),C[2*O+2*D+2]+=k*he,_t(C,2*O+2*D+2)}for(N=0;N<b;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=b;N<2*b;N++)C[N]=0;return new d(C,0)};function _t(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function Tt(N,b){this.g=N,this.h=b}function Pt(N,b){if(X(b))throw Error("division by zero");if(X(N))return new Tt(w,w);if(J(N))return b=Pt(Z(N),b),new Tt(Z(b.g),Z(b.h));if(J(b))return b=Pt(N,Z(b)),new Tt(Z(b.g),b.h);if(N.g.length>30){if(J(N)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var C=V,O=b;O.l(N)<=0;)C=st(C),O=st(O);var D=Et(C,1),k=Et(O,1);for(O=Et(O,2),C=Et(C,2);!X(O);){var I=k.add(O);I.l(N)<=0&&(D=D.add(C),k=I),O=Et(O,1),C=Et(C,1)}return b=ht(N,D.j(b)),new Tt(D,b)}for(D=w;N.l(b)>=0;){for(C=Math.max(1,Math.floor(N.m()/b.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=v(C),I=k.j(b);J(I)||I.l(N)>0;)C-=O,k=v(C),I=k.j(b);X(k)&&(k=V),D=D.add(k),N=ht(N,I)}return new Tt(D,N)}a.B=function(N){return Pt(this,N).h},a.and=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)&N.i(O);return new d(C,this.h&N.h)},a.or=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)|N.i(O);return new d(C,this.h|N.h)},a.xor=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)^N.i(O);return new d(C,this.h^N.h)};function st(N){const b=N.g.length+1,C=[];for(let O=0;O<b;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(C,N.h)}function Et(N,b){const C=b>>5;b%=32;const O=N.g.length-C,D=[];for(let k=0;k<O;k++)D[k]=b>0?N.i(k+C)>>>b|N.i(k+C+1)<<32-b:N.i(k+C);return new d(D,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,B0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Hr=d}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var H0,go,F0,Mc,Zd,G0,K0,Q0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in y))break t;y=y[L]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&y.push([A,m[A]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(A,L,z){for(var W=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)W[gt-2]=arguments[gt];return m.prototype[L].apply(A,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function X(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const z=L.length||0;u.length=y+z;for(let W=0;W<z;W++)u[y+W]=L[W]}else u.push(L)}}class J{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,y){const A=Tt.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var Tt=new J(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let st,Et=!1,N=new _t,b=()=>{const u=Promise.resolve(void 0);st=()=>{u.then(C)}};function C(){for(var u;u=ht();){try{u.h.call(u.g)}catch(y){Z(y)}var m=Tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Et=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(he,D),he.prototype.init=function(u,m){const y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,y,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function Gt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function Ce(u){const m={};for(const y in u)m[y]=u[y];return m}const Qt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nt(u,m){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)u[y]=A[y];for(let z=0;z<Qt.length;z++)y=Qt[z],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function te(u){this.src=u,this.g={},this.h=0}te.prototype.add=function(u,m,y,A,L){const z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);const W=_n(u,m,A,L);return W>-1?(m=u[W],y||(m.fa=!1)):(m=new tt(m,this.src,z,!!A,L),m.fa=y,u.push(m)),m};function Xe(u,m){const y=m.type;if(y in u.g){var A=u.g[y],L=Array.prototype.indexOf.call(A,m,void 0),z;(z=L>=0)&&Array.prototype.splice.call(A,L,1),z&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function _n(u,m,y,A){for(let L=0;L<u.length;++L){const z=u[L];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==A)return L}return-1}var nr="closure_lm_"+(Math.random()*1e6|0),ir={};function Ci(u,m,y,A,L){if(Array.isArray(m)){for(let z=0;z<m.length;z++)Ci(u,m[z],y,A,L);return null}return y=ul(y),u&&u[Oe]?u.J(m,y,p(A)?!!A.capture:!1,L):sl(u,m,y,!1,A,L)}function sl(u,m,y,A,L,z){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let gt=na(u);if(gt||(u[nr]=gt=new te(u)),y=gt.add(m,y,A,W,z),y.proxy)return y;if(A=Ka(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)k||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent($n(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ka(){function u(y){return m.call(u.src,u.listener,y)}const m=ll;return u}function Qa(u,m,y,A,L){if(Array.isArray(m))for(var z=0;z<m.length;z++)Qa(u,m[z],y,A,L);else A=p(A)?!!A.capture:!!A,y=ul(y),u&&u[Oe]?(u=u.i,z=String(m).toString(),z in u.g&&(m=u.g[z],y=_n(m,y,A,L),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[z],u.h--)))):u&&(u=na(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_n(m,y,A,L)),(y=u>-1?m[u]:null)&&Ya(y))}function Ya(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Oe])Xe(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent($n(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=na(m))?(Xe(y,u),y.h==0&&(y.src=null,m[nr]=null)):ut(u)}}}function $n(u){return u in ir?ir[u]:ir[u]="on"+u}function ll(u,m){if(u.da)u=!0;else{m=new he(m,this);const y=u.listener,A=u.ha||u.src;u.fa&&Ya(u),u=y.call(A,m)}return u}function na(u){return u=u[nr],u instanceof te?u:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(u){return typeof u=="function"?u:(u[ol]||(u[ol]=function(m){return u.handleEvent(m)}),u[ol])}function fe(){O.call(this),this.i=new te(this),this.M=this,this.G=null}w(fe,O),fe.prototype[Oe]=!0,fe.prototype.removeEventListener=function(u,m,y,A){Qa(this,u,m,y,A)};function we(u,m){var y,A=u.G;if(A)for(y=[];A;A=A.G)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(A,u),Nt(m,L)}L=!0;let z,W;if(y)for(W=y.length-1;W>=0;W--)z=m.g=y[W],L=rr(z,A,!0,m)&&L;if(z=m.g=u,L=rr(z,A,!0,m)&&L,L=rr(z,A,!1,m)&&L,y)for(W=0;W<y.length;W++)z=m.g=y[W],L=rr(z,A,!1,m)&&L}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let A=0;A<y.length;A++)ut(y[A]);delete u.g[m],u.h--}}this.G=null},fe.prototype.J=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},fe.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function rr(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let z=0;z<m.length;++z){const W=m[z];if(W&&!W.da&&W.capture==y){const gt=W.listener,se=W.ha||W.src;W.fa&&Xe(u.i,W),L=gt.call(se,A)!==!1&&L}}return L&&!A.defaultPrevented}function Vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xo(u){u.g=Vh(()=>{u.g=null,u.i&&(u.i=!1,Xo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ke extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(u){O.call(this),this.h=u,this.g={}}w(ia,O);var cl=[];function hl(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ya(m)},u),u.g={}}ia.prototype.N=function(){ia.Z.N.call(this),hl(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=d.JSON.stringify,Oh=d.JSON.parse,Jo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zo(){}function Wo(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){D.call(this,"d")}w(Me,D);function vn(){D.call(this,"c")}w(vn,D);var ae={},$o=null;function Xa(){return $o=$o||new fe}ae.Ia="serverreachability";function tu(u){D.call(this,ae.Ia,u)}w(tu,D);function ti(u){const m=Xa();we(m,new tu(m))}ae.STAT_EVENT="statevent";function ra(u,m){D.call(this,ae.STAT_EVENT,u),this.stat=m}w(ra,D);function de(u){const m=Xa();we(m,new ra(m,u))}ae.Ja="timingevent";function ei(u,m){D.call(this,ae.Ja,u),this.size=m}w(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Mh(u,m,y,A,L,z){u.info(function(){if(u.g)if(z){var W="",gt=z.split("&");for(let Ot=0;Ot<gt.length;Ot++){var se=gt[Ot].split("=");if(se.length>1){const Wt=se[0];se=se[1];const Sn=Wt.split("_");W=Sn.length>=2&&Sn[1]=="type"?W+(Wt+"="+se+"&"):W+(Wt+"=redacted&")}}}else W=null;else W=z;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+y+`
`+W})}function eu(u,m,y,A,L,z,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+y+`
`+z+" "+W})}function ii(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,y)+(A?" "+A:"")})}function aa(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const z=JSON.parse(m);if(z){for(u=0;u<z.length;u++)if(Array.isArray(z[u])){var y=z[u];if(!(y.length<2)){var A=y[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return ar(z)}catch{return m}}var sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},dl;function la(){}w(la,Zo),la.prototype.g=function(){return new XMLHttpRequest},dl=new la;function xi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Pn(u,m,y,A){this.j=u,this.i=m,this.l=y,this.S=A||1,this.V=new ia(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var me={},xe={};function ri(u,m,y){u.M=1,u.A=oa(ge(m)),u.u=y,u.R=!0,Ja(u,null)}function Ja(u,m){u.F=Date.now(),ai(u),u.B=ge(u.A);var y=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ts(y.i,"t",A),u.C=0,y=u.j.L,u.h=new Un,u.g=yu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ke(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(cl[0]=L.toString()),L=cl);for(let z=0;z<L.length;z++){const W=Ci(y,L[z],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?Ce(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const gt=qn(this.g),se=this.g.ya(),Ot=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||gt!=4||se==7||(se==8||Ot<=0?ti(3):ti(2)),si(this);var m=this.g.ca();this.X=m;var y=Lh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,gt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var z=A;break e}}z=null}if(u=z)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,de(12),ln(this),Tn(this);break t}}if(this.R){u=!0;let Wt;for(;!this.K&&this.C<y.length;)if(Wt=ru(this,y),Wt==xe){gt==4&&(this.m=4,de(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==me){this.m=4,de(15),ii(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,Wt,null),li(this,Wt);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||y.length!=0||this.h.h||(this.m=1,de(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,y,"[Invalid Chunked Response]"),ln(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Cl(W),W.P=!0,de(11))}}else ii(this.i,this.l,y,null),li(this,y);gt==4&&ln(this),this.o&&!this.K&&(gt==4?du(this.j,this):(this.o=!1,ai(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),ln(this),Tn(this)}}}catch{}};function Lh(u){if(!iu(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let y="";const A=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ln(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let z=0;z<A;z++)u.h.h=!0,y+=u.h.i.decode(m[z],{stream:!(L&&z==A-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ru(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?xe:(y=Number(m.substring(y,A)),isNaN(y)?me:(A+=1,A+y>m.length?xe:(m=m.slice(A,A+y),u.C=A+y,m)))}Pn.prototype.cancel=function(){this.K=!0,ln(this)};function ai(u){u.T=Date.now()+u.H,Za(u,u.H)}function Za(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(v(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(aa(this.i,this.B),this.M!=2&&(ti(),de(17)),ln(this),this.m=2,Tn(this)):Za(this,this.T-u)};function Tn(u){u.j.I==0||u.K||du(u.j,u)}function ln(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ui(y.h,u))){if(!u.L&&ui(y.h,u)&&y.I==3){try{var A=y.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)as(y),dr(y);else break t;pa(y),de(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ni(v(y.Va,y),6e3));oi(y.h)<=1&&y.ta&&(y.ta=void 0)}else pi(y,11)}else if((u.L||y.g==u)&&as(y),!I(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];const Wt=Ot[0];if(!(Wt<=y.K))if(y.K=Wt,Ot=Ot[1],y.I==2)if(Ot[0]=="c"){y.M=Ot[1],y.ba=Ot[2];const Sn=Ot[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const gi=Ot[4];gi!=null&&(y.za=gi,y.j.info("SVER="+y.za));const Bn=Ot[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(A=1.5*Bn,y.O=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Hn=u.g;if(Hn){const ga=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var z=A.h;z.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(gl(z,z.h),z.h=null))}if(A.G){const ss=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ss&&(A.wa=ss,Ut(A.J,A.G,ss))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),A=y;var W=u;if(A.na=gu(A,A.L?A.ba:null,A.W),W.L){yl(A.h,W);var gt=W,se=A.O;se&&(gt.H=se),gt.D&&(si(gt),ai(gt)),A.g=W}else hu(A);y.i.length>0&&mi(y)}else Ot[0]!="stop"&&Ot[0]!="close"||pi(y,7);else y.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?pi(y,7):Rl(y):Ot[0]!="noop"&&y.l&&y.l.qa(Ot),y.A=0)}}ti(4)}catch{}}var pe=class{constructor(u,m){this.g=u,this.map=m}};function ml(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function gl(u,m){u.g?u.g.add(m):u.h=m}function yl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ml.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _l(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return B(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const A=u[y].indexOf("=");let L,z=null;A>=0?(L=u[y].substring(0,A),z=u[y].substring(A+1)):L=u[y],m(L,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function on(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof on?(this.l=u.l,Ne(this,u.j),this.o=u.o,this.g=u.g,sr(this,u.u),this.h=u.h,vl(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,Ne(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),sr(this,m[4]),this.h=ci(m[5]||"",!0),vl(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new or(null,this.l))}on.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ua(m,$a,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ua(m,$a,!0),"@"),u.push(xi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ua(y,y.charAt(0)=="/"?Tl:su,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ua(y,lu)),u.join("")},on.prototype.resolve=function(u){const m=ge(this);let y=!!u.j;y?Ne(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var A=u.h;if(y)sr(m,u.u);else if(y=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const z=[];for(let W=0;W<L.length;){const gt=L[W++];gt=="."?A&&W==L.length&&z.push(""):gt==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),A&&W==L.length&&z.push("")):(z.push(gt),A=!0)}A=z.join("/")}else A=L}return y?m.h=A:y=u.i.toString()!=="",y?vl(m,uu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ge(u){return new on(u)}function Ne(u,m,y){u.j=y?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function sr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vl(u,m,y){m instanceof or?(u.i=m,es(u.i,u.l)):(y||(m=ua(m,lr)),u.i=new or(m,u.l))}function Ut(u,m,y){u.i.set(m,y)}function oa(u){return Ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ua(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Je),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Je(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $a=/[#\/\?@]/g,su=/[#\?:]/g,Tl=/[#\?]/g,lr=/[#\?@]/g,lu=/#/g;function or(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ze(u){u.g||(u.g=new Map,u.h=0,u.i&&Wa(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=or.prototype,a.add=function(u,m){Ze(this),this.i=null,u=ur(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ou(u,m){Ze(u),m=ur(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function El(u,m){return Ze(u),m=ur(u,m),u.g.has(m)}a.forEach=function(u,m){Ze(this),this.g.forEach(function(y,A){y.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Al(u,m){Ze(u);let y=[];if(typeof m=="string")El(u,m)&&(y=y.concat(u.g.get(ur(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return Ze(this),this.i=null,u=ur(this,u),El(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Al(this,u),u.length>0?String(u[0]):m):m};function ts(u,m,y){ou(u,m),y.length>0&&(u.i=null,u.g.set(ur(u,m),B(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var y=m[A];const L=xi(y);y=Al(this,y);for(let z=0;z<y.length;z++){let W=L;y[z]!==""&&(W+="="+xi(y[z])),u.push(W)}}return this.i=u.join("&")};function uu(u){const m=new or;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ur(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function es(u,m){m&&!u.j&&(Ze(u),u.i=null,u.g.forEach(function(y,A){const L=A.toLowerCase();A!=L&&(ou(this,A),ts(this,L,y))},u)),u.j=m}function jn(u,m){const y=new Ln;if(d.Image){const A=new Image;A.onload=S(En,y,"TestLoadImage: loaded",!0,m,A),A.onerror=S(En,y,"TestLoadImage: error",!1,m,A),A.onabort=S(En,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(En,y,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Sl(u,m){const y=new Ln,A=new AbortController,L=setTimeout(()=>{A.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(z=>{clearTimeout(L),z.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function cr(){this.g=new Jo}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,Zo),hi.prototype.g=function(){return new ca(this.i,this.h)};function ca(u,m){fe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ca,fe),a=ca.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ns(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ns(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):zn(this),this.readyState==3&&ns(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},a.Na=function(u){this.g&&(this.response=u,hr(this))},a.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return kt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function ha(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=An(y),typeof u=="string"?y!=null&&xi(y):Ut(u,m,y))}function qt(u){fe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(qt,fe);var fi=/^https?$/i,wl=["POST","PUT"];a=qt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():dl.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){fa(this,z);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const z of A.keys())y.set(z,A.get(z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wl,m,void 0)>=0)||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,W]of y)this.g.setRequestHeader(z,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(z){fa(this,z)}};function fa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,bl(u),Ni(u)}function bl(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),Ni(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),qt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?da(this):this.Xa())},a.Xa=function(){da(this)};function da(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),qn(u)==4){u.h=!1;try{const z=u.ca();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=z===0){let W=String(u.D).match(au)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!fi.test(W?W.toLowerCase():"")}y=A}if(y)we(u,"complete"),we(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",bl(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||we(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var y=nu(u[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[L]||[];m[L]=z,z.push(y)}Gt(m,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function fr(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ml(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=fr.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,A){de(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.J=gu(this,null,this.W),mi(this)};function Rl(u){if(is(u),u.I==3){var m=u.V++,y=ge(u.J);if(Ut(y,"SID",u.M),Ut(y,"RID",m),Ut(y,"TYPE","terminate"),ma(u,y),m=new Pn(u,u.j,m),m.M=2,m.A=oa(ge(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}pu(u)}function dr(u){u.g&&(Cl(u),u.g.cancel(),u.g=null)}function is(u){dr(u),u.v&&(d.clearTimeout(u.v),u.v=null),as(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;st||b(),Et||(st(),Et=!0),N.add(m,u),u.D=0}}function rs(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(v(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let z=this.o;if(this.U&&(z?(z=Ce(z),Nt(z,this.U)):z=this.U),this.u!==null||this.R||(L.J=z,z=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=cu(this,L,m),y=ge(this.J),Ut(y,"RID",u),Ut(y,"CVER",22),this.G&&Ut(y,"X-HTTP-Session-Id",this.G),ma(this,y),z&&(this.R?m="headers="+xi(An(z))+"&"+m:this.u&&ha(y,this.u,z)),gl(this.h,L),this.Ra&&Ut(y,"TYPE","init"),this.S?(Ut(y,"$req",m),Ut(y,"SID","null"),L.U=!0,ri(L,y,null)):ri(L,y,m),this.I=2}}else this.I==3&&(u?Il(this,u):this.i.length==0||pl(this.h)||Il(this))};function Il(u,m){var y;m?y=m.l:y=u.V++;const A=ge(u.J);Ut(A,"SID",u.M),Ut(A,"RID",y),Ut(A,"AID",u.K),ma(u,A),u.u&&u.o&&ha(A,u.u,u.o),y=new Pn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),gl(u.h,y),ri(y,A,m)}function ma(u,m){u.H&&kt(u.H,function(y,A){Ut(m,A,y)}),u.l&&kt({},function(y,A){Ut(m,A,y)})}function cu(u,m,y){y=Math.min(u.i.length,y);const A=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let gt=-1;for(;;){const se=["count="+y];gt==-1?y>0?(gt=L[0].g,se.push("ofs="+gt)):gt=0:se.push("ofs="+gt);let Ot=!0;for(let Wt=0;Wt<y;Wt++){var z=L[Wt].g;const Sn=L[Wt].map;if(z-=gt,z<0)gt=Math.max(0,L[Wt].g-100),Ot=!1;else try{z="req"+z+"_"||"";try{var W=Sn instanceof Map?Sn:Object.entries(Sn);for(const[gi,Bn]of W){let Hn=Bn;p(Bn)&&(Hn=ar(Bn)),se.push(z+gi+"="+encodeURIComponent(Hn))}}catch(gi){throw se.push(z+"type="+encodeURIComponent("_badmap")),gi}}catch{A&&A(Sn)}}if(Ot){W=se.join("&");break t}}W=void 0}return u=u.i.splice(0,y),m.G=u,W}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;st||b(),Et||(st(),Et=!0),N.add(m,u),u.A=0}}function pa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(v(u.Da,u),mu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(v(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),dr(this),fu(this))};function Cl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ge(u.na);Ut(m,"RID","rpc"),Ut(m,"SID",u.M),Ut(m,"AID",u.K),Ut(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ut(m,"TO",u.ia),Ut(m,"TYPE","xmlhttp"),ma(u,m),u.u&&u.o&&ha(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=oa(ge(m)),y.u=null,y.R=!0,Ja(y,u)}a.Va=function(){this.C!=null&&(this.C=null,dr(this),pa(this),de(19))};function as(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var y=null;if(u.g==m){as(u),Cl(u),u.g=null;var A=2}else if(ui(u.h,m))y=m.G,yl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=Xa(),we(A,new ei(A,y)),mi(u)}else hu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&rs(u,m)||A==2&&pa(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function mu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),A=u.Ua;const L=!A;A=new on(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ne(A,"https"),oa(A),L?jn(A.toString(),y):Sl(A.toString(),y)}else de(2);u.I=0,u.l&&u.l.pa(m),pu(u),is(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function pu(u){if(u.I=0,u.ja=[],u.l){const m=_l(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,y){var A=y instanceof on?ge(y):new on(y);if(A.g!="")m&&(A.g=m+"."+A.g),sr(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const z=new on(null);A&&Ne(z,A),m&&(z.g=m),L&&sr(z,L),y&&(z.h=y),A=z}return y=u.G,m=u.wa,y&&m&&Ut(A,y,m),Ut(A,"VER",u.ka),ma(u,A),A}function yu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new qt(new hi({ab:y})):new qt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}a=_u.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new Qe(u,m)};function Qe(u,m){fe.call(this),this.g=new fr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}w(Qe,fe),Qe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qe.prototype.close=function(){Rl(this.g)},Qe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ar(u),u=y);m.i.push(new pe(m.Ya++,u)),m.I==3&&mi(m)},Qe.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,Qe.Z.N.call(this)};function vu(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(vu,Me);function Tu(){vn.call(this),this.status=1}w(Tu,vn);function Vi(u){this.g=u}w(Vi,_u),Vi.prototype.ra=function(){we(this.g,"a")},Vi.prototype.qa=function(u){we(this.g,new vu(u))},Vi.prototype.pa=function(u){we(this.g,new Tu)},Vi.prototype.oa=function(){we(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,Qe.prototype.send=Qe.prototype.o,Qe.prototype.open=Qe.prototype.m,Qe.prototype.close=Qe.prototype.close,Q0=function(){return new mr},K0=function(){return Xa()},G0=ae,Zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,Mc=sa,fl.COMPLETE="complete",F0=fl,Wo.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",fe.prototype.listen=fe.prototype.J,go=Wo,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,H0=qt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");let el="12.9.0";function tw(a){el=a}const za=new r0("@firebase/firestore");function Ls(){return za.logLevel}function nt(a,...t){if(za.logLevel<=Qn.DEBUG){const i=t.map(Rm);za.debug(`Firestore (${el}): ${a}`,...i)}}function $i(a,...t){if(za.logLevel<=Qn.ERROR){const i=t.map(Rm);za.error(`Firestore (${el}): ${a}`,...i)}}function qa(a,...t){if(za.logLevel<=Qn.WARN){const i=t.map(Rm);za.warn(`Firestore (${el}): ${a}`,...i)}}function Rm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function dt(a,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,Y0(a,s,i)}function Y0(a,t,i){let s=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw $i(s),new Error(s)}function Lt(a,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||Y0(t,o,s)}function pt(a,t){return a}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends uh{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ka{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class X0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ew{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class nw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class iw{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Lt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let c=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ka,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ka)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Lt(typeof s.accessToken=="string",31837,{l:s}),new X0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Lt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class rw{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aw{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new rw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Lt(this.o===void 0,3512);const s=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const o=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Z_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lw(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lw(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function Rt(a,t){return a<t?-1:a>t?1:0}function Wd(a,t){const i=Math.min(a.length,t.length);for(let s=0;s<i;s++){const o=a.charAt(s),c=t.charAt(s);if(o!==c)return Ld(o)===Ld(c)?Rt(o,c):Ld(o)?1:-1}return Rt(a.length,t.length)}const ow=55296,uw=57343;function Ld(a){const t=a.charCodeAt(0);return t>=ow&&t<=uw}function Qs(a,t,i){return a.length===t.length&&a.every(((s,o)=>i(s,t[o])))}const W_="__name__";class Ei{constructor(t,i,s){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&dt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=Ei.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Rt(t.length,i.length)}static compareSegments(t,i){const s=Ei.isNumericId(t),o=Ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Wd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class Yt extends Ei{construct(t,i,s){return new Yt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new it(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Yt(i)}static emptyPath(){return new Yt([])}}const cw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Ei{construct(t,i,s){return new qe(t,i,s)}static isValidIdentifier(t){return cw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W_}static keyField(){return new qe([W_])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new it(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new it(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(Yt.fromString(t))}static fromName(t){return new ot(Yt.fromString(t).popFirst(5))}static empty(){return new ot(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Yt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new Yt(t.slice()))}}function J0(a,t,i){if(!i)throw new it(Q.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function hw(a,t,i,s){if(t===!0&&s===!0)throw new it(Q.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function $_(a){if(!ot.isDocumentKey(a))throw new it(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function tv(a){if(ot.isDocumentKey(a))throw new it(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Z0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function dh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":dt(12329,{type:typeof a})}function Si(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new it(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(a);throw new it(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function Se(a,t){const i={typeString:a};return t&&(i.value=t),i}function qo(a,t){if(!Z0(a))throw new it(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new it(Q.INVALID_ARGUMENT,i);return!0}const ev=-62135596800,nv=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*nv);return new Zt(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ev)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nv}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(qo(t,Zt._jsonSchema))return new Zt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Se("string",Zt._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};class mt{static fromTimestamp(t){return new mt(t)}static min(){return new mt(new Zt(0,0))}static max(){return new mt(new Zt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;function fw(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=mt.fromTimestamp(s===1e9?new Zt(i+1,0):new Zt(i,s));return new Kr(o,ot.empty(),t)}function dw(a){return new Kr(a.readTime,a.key,Io)}class Kr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Kr(mt.min(),ot.empty(),Io)}static max(){return new Kr(mt.max(),ot.empty(),Io)}}function mw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ot.comparator(a.documentKey,t.documentKey),i!==0?i:Rt(a.largestBatchId,t.largestBatchId))}const pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function nl(a){if(a.code!==Q.FAILED_PRECONDITION||a.message!==pw)throw a;nt("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,s)=>{i(t)}))}static reject(t){return new Y(((i,s)=>{s(t)}))}static waitFor(t){return new Y(((i,s)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>s(_)))})),d=!0,c===o&&i()}))}static or(t){let i=Y.resolve(!1);for(const s of t)i=i.next((o=>o?Y.resolve(o):s()));return i}static forEach(t,i){const s=[];return t.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(t,i){return new Y(((s,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(t[v]).next((S=>{d[v]=S,++p,p===c&&s(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new Y(((s,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):s()};c()}))}}function yw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function il(a){return a.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Cm=-1;function ph(a){return a==null}function Yc(a){return a===0&&1/a==-1/0}function _w(a){return typeof a=="number"&&Number.isInteger(a)&&!Yc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const W0="";function vw(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=iv(t)),t=Tw(a.get(i),t);return iv(t)}function Tw(a,t){let i=t;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case W0:i+="";break;default:i+=c}}return i}function iv(a){return a+W0+""}function rv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function ta(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function $0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ee{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new ze(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,s,o,c){return this}insert(t,i,s){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new av(this.data.getIterator())}getIteratorFrom(t){return new av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new yn([])}unionWith(t){let i=new Re(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qs(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}class tT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tT("Invalid base64 string: "+c):c}})(t);return new Be(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Ew=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(a){if(Lt(!!a,39018),typeof a=="string"){let t=0;const i=Ew.exec(a);if(Lt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ue(a.seconds),nanos:ue(a.nanos)}}function ue(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Yr(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}const eT="server_timestamp",nT="__type__",iT="__previous_value__",rT="__local_write_time__";function xm(a){return(a?.mapValue?.fields||{})[nT]?.stringValue===eT}function gh(a){const t=a.mapValue.fields[iT];return xm(t)?gh(t):t}function Co(a){const t=Qr(a.mapValue.fields[rT].timestampValue);return new Zt(t.seconds,t.nanos)}class Aw{constructor(t,i,s,o,c,d,p,_,v,S,w){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S,this.apiKey=w}}const Xc="(default)";class xo{constructor(t,i){this.projectId=t,this.database=i||Xc}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(t){return t instanceof xo&&t.projectId===this.projectId&&t.database===this.database}}function Sw(a,t){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new it(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(a.options.projectId,t)}const aT="__type__",ww="__max__",Ic={mapValue:{}},sT="__vector__",Jc="value";function Xr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?xm(a)?4:Rw(a)?9007199254740991:bw(a)?10:11:dt(28295,{value:a})}function Ii(a,t){if(a===t)return!0;const i=Xr(a);if(i!==Xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Co(a).isEqual(Co(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Qr(o.timestampValue),p=Qr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(o,c){return Yr(o.bytesValue).isEqual(Yr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(o,c){return ue(o.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(c.geoPointValue.longitude)})(a,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ue(o.integerValue)===ue(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ue(o.doubleValue),p=ue(c.doubleValue);return d===p?Yc(d)===Yc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Qs(a.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(rv(d)!==rv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ii(d[_],p[_])))return!1;return!0})(a,t);default:return dt(52216,{left:a})}}function No(a,t){return(a.values||[]).find((i=>Ii(i,t)))!==void 0}function Ys(a,t){if(a===t)return 0;const i=Xr(a),s=Xr(t);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ue(c.integerValue||c.doubleValue),_=ue(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return sv(a.timestampValue,t.timestampValue);case 4:return sv(Co(a),Co(t));case 5:return Wd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Yr(c),_=Yr(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const S=Rt(p[v],_[v]);if(S!==0)return S}return Rt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Rt(ue(c.latitude),ue(d.latitude));return p!==0?p:Rt(ue(c.longitude),ue(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return lv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[Jc]?.arrayValue,S=_[Jc]?.arrayValue,w=Rt(v?.values?.length||0,S?.values?.length||0);return w!==0?w:lv(v,S)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let w=0;w<_.length&&w<S.length;++w){const V=Wd(_[w],S[w]);if(V!==0)return V;const B=Ys(p[_[w]],v[S[w]]);if(B!==0)return B}return Rt(_.length,S.length)})(a.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function sv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Rt(a,t);const i=Qr(a),s=Qr(t),o=Rt(i.seconds,s.seconds);return o!==0?o:Rt(i.nanos,s.nanos)}function lv(a,t){const i=a.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ys(i[o],s[o]);if(c)return c}return Rt(i.length,s.length)}function Xs(a){return $d(a)}function $d(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const s=Qr(i);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Yr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return ot.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=$d(c);return s+"]"})(a.arrayValue):"mapValue"in a?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${$d(i.fields[d])}`;return o+"}"})(a.mapValue):dt(61005,{value:a})}function kc(a){switch(Xr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(a);return t?16+kc(t):16;case 5:return 2*a.stringValue.length;case 6:return Yr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+kc(c)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return ta(s.fields,((c,d)=>{o+=c.length+kc(d)})),o})(a.mapValue);default:throw dt(13486,{value:a})}}function ov(a,t){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${t.path.canonicalString()}`}}function tm(a){return!!a&&"integerValue"in a}function Nm(a){return!!a&&"arrayValue"in a}function uv(a){return!!a&&"nullValue"in a}function cv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Lc(a){return!!a&&"mapValue"in a}function bw(a){return(a?.mapValue?.fields||{})[aT]?.stringValue===sT}function Eo(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return ta(a.mapValue.fields,((i,s)=>t.mapValue.fields[i]=Eo(s))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Eo(a.arrayValue.values[i]);return t}return{...a}}function Rw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===ww}class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eo(i)}setAll(t){let i=qe.emptyPath(),s={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Eo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){ta(i,((o,c)=>t[o]=c));for(const o of s)delete t[o]}clone(){return new an(Eo(this.value))}}function lT(a){const t=[];return ta(a.fields,((i,s)=>{const o=new qe([i]);if(Lc(s)){const c=lT(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new yn(t)}class Ge{constructor(t,i,s,o,c,d,p){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ge(t,0,mt.min(),mt.min(),mt.min(),an.empty(),0)}static newFoundDocument(t,i,s,o){return new Ge(t,1,i,mt.min(),s,o,0)}static newNoDocument(t,i){return new Ge(t,2,i,mt.min(),mt.min(),an.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,mt.min(),mt.min(),an.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function hv(a,t,i){let s=0;for(let o=0;o<a.position.length;o++){const c=t[o],d=a.position[o];if(c.field.isKeyField()?s=ot.comparator(ot.fromName(d.referenceValue),i.key):s=Ys(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function fv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ii(a.position[i],t.position[i]))return!1;return!0}class Wc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Iw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class oT{}class Ae extends oT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new xw(t,i,s):i==="array-contains"?new Vw(t,s):i==="in"?new Ow(t,s):i==="not-in"?new Mw(t,s):i==="array-contains-any"?new kw(t,s):new Ae(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Nw(t,s):new Dw(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ys(i,this.value)):i!==null&&Xr(this.value)===Xr(i)&&this.matchesComparison(Ys(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends oT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wn(t,i)}matches(t){return uT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uT(a){return a.op==="and"}function cT(a){return Cw(a)&&uT(a)}function Cw(a){for(const t of a.filters)if(t instanceof Wn)return!1;return!0}function em(a){if(a instanceof Ae)return a.field.canonicalString()+a.op.toString()+Xs(a.value);if(cT(a))return a.filters.map((t=>em(t))).join(",");{const t=a.filters.map((i=>em(i))).join(",");return`${a.op}(${t})`}}function hT(a,t){return a instanceof Ae?(function(s,o){return o instanceof Ae&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)})(a,t):a instanceof Wn?(function(s,o){return o instanceof Wn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,d,p)=>c&&hT(d,o.filters[p])),!0):!1})(a,t):void dt(19439)}function fT(a){return a instanceof Ae?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xs(i.value)}`})(a):a instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(fT).join(" ,")+"}"})(a):"Filter"}class xw extends Ae{constructor(t,i,s){super(t,i,s),this.key=ot.fromName(s.referenceValue)}matches(t){const i=ot.comparator(t.key,this.key);return this.matchesComparison(i)}}class Nw extends Ae{constructor(t,i){super(t,"in",i),this.keys=dT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Dw extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=dT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function dT(a,t){return(t.arrayValue?.values||[]).map((i=>ot.fromName(i.referenceValue)))}class Vw extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Nm(i)&&No(i.arrayValue,this.value)}}class Ow extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&No(this.value.arrayValue,i)}}class Mw extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!No(this.value.arrayValue,i)}}class kw extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>No(this.value.arrayValue,s)))}}class Lw{constructor(t,i=null,s=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function dv(a,t=null,i=[],s=[],o=null,c=null,d=null){return new Lw(a,t,i,s,o,c,d)}function Dm(a){const t=pt(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>em(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Xs(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Xs(s))).join(",")),t.Te=i}return t.Te}function Vm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Iw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!hT(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!fv(a.startAt,t.startAt)&&fv(a.endAt,t.endAt)}function nm(a){return ot.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class Bo{constructor(t,i=null,s=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Pw(a,t,i,s,o,c,d,p){return new Bo(a,t,i,s,o,c,d,p)}function Om(a){return new Bo(a)}function mv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Uw(a){return ot.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}function mT(a){return a.collectionGroup!==null}function Ao(a){const t=pt(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Re(qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Wc(c,s))})),i.has(qe.keyField().canonicalString())||t.Ie.push(new Wc(qe.keyField(),s))}return t.Ie}function wi(a){const t=pt(a);return t.Ee||(t.Ee=jw(t,Ao(a))),t.Ee}function jw(a,t){if(a.limitType==="F")return dv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Wc(o.field,c)}));const i=a.endAt?new Zc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Zc(a.startAt.position,a.startAt.inclusive):null;return dv(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function im(a,t){const i=a.filters.concat([t]);return new Bo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function rm(a,t,i){return new Bo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function yh(a,t){return Vm(wi(a),wi(t))&&a.limitType===t.limitType}function pT(a){return`${Dm(wi(a))}|lt:${a.limitType}`}function Ps(a){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>fT(o))).join(", ")}]`),ph(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Xs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Xs(o))).join(",")),`Target(${s})`})(wi(a))}; limitType=${a.limitType})`}function _h(a,t){return t.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ot.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(a,t)&&(function(s,o){for(const c of Ao(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(a,t)&&(function(s,o){return!(s.startAt&&!(function(d,p,_){const v=hv(d,p,_);return d.inclusive?v<=0:v<0})(s.startAt,Ao(s),o)||s.endAt&&!(function(d,p,_){const v=hv(d,p,_);return d.inclusive?v>=0:v>0})(s.endAt,Ao(s),o))})(a,t)}function zw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function gT(a){return(t,i)=>{let s=!1;for(const o of Ao(a)){const c=qw(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function qw(a,t,i){const s=a.field.isKeyField()?ot.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Ys(_,v):dt(42886)})(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:a.dir})}}class Fa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ta(this.inner,((i,s)=>{for(const[o,c]of s)t(o,c)}))}isEmpty(){return $0(this.inner)}size(){return this.innerSize}}const Bw=new ee(ot.comparator);function tr(){return Bw}const yT=new ee(ot.comparator);function yo(...a){let t=yT;for(const i of a)t=t.insert(i.key,i);return t}function _T(a){let t=yT;return a.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ma(){return So()}function vT(){return So()}function So(){return new Fa((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Hw=new ee(ot.comparator),Fw=new Re(ot.comparator);function It(...a){let t=Fw;for(const i of a)t=t.add(i);return t}const Gw=new Re(Rt);function Kw(){return Gw}function Mm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function TT(a){return{integerValue:""+a}}function Qw(a,t){return _w(t)?TT(t):Mm(a,t)}class vh{constructor(){this._=void 0}}function Yw(a,t,i){return a instanceof Do?(function(o,c){const d={fields:{[nT]:{stringValue:eT},[rT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xm(c)&&(c=gh(c)),c&&(d.fields[iT]=c),{mapValue:d}})(i,t):a instanceof Vo?AT(a,t):a instanceof Oo?ST(a,t):(function(o,c){const d=ET(o,c),p=pv(d)+pv(o.Ae);return tm(d)&&tm(o.Ae)?TT(p):Mm(o.serializer,p)})(a,t)}function Xw(a,t,i){return a instanceof Vo?AT(a,t):a instanceof Oo?ST(a,t):i}function ET(a,t){return a instanceof $c?(function(s){return tm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Do extends vh{}class Vo extends vh{constructor(t){super(),this.elements=t}}function AT(a,t){const i=wT(t);for(const s of a.elements)i.some((o=>Ii(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Oo extends vh{constructor(t){super(),this.elements=t}}function ST(a,t){let i=wT(t);for(const s of a.elements)i=i.filter((o=>!Ii(o,s)));return{arrayValue:{values:i}}}class $c extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function pv(a){return ue(a.integerValue||a.doubleValue)}function wT(a){return Nm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Jw{constructor(t,i){this.field=t,this.transform=i}}function Zw(a,t){return a.field.isEqual(t.field)&&(function(s,o){return s instanceof Vo&&o instanceof Vo||s instanceof Oo&&o instanceof Oo?Qs(s.elements,o.elements,Ii):s instanceof $c&&o instanceof $c?Ii(s.Ae,o.Ae):s instanceof Do&&o instanceof Do})(a.transform,t.transform)}class Ww{constructor(t,i){this.version=t,this.transformResults=i}}class On{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new On}static exists(t){return new On(void 0,t)}static updateTime(t){return new On(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Th{}function bT(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new km(a.key,On.none()):new Ho(a.key,a.data,On.none());{const i=a.data,s=an.empty();let o=new Re(qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new ea(a.key,s,new yn(o.toArray()),On.none())}}function $w(a,t,i){a instanceof Ho?(function(o,c,d){const p=o.value.clone(),_=yv(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof ea?(function(o,c,d){if(!Pc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=yv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(RT(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wo(a,t,i,s){return a instanceof Ho?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const v=c.value.clone(),S=_v(c.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(a,t,i,s):a instanceof ea?(function(c,d,p,_){if(!Pc(c.precondition,d))return p;const v=_v(c.fieldTransforms,_,d),S=d.data;return S.setAll(RT(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(a,t,i,s):(function(c,d,p){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function tb(a,t){let i=null;for(const s of a.fieldTransforms){const o=t.data.field(s.field),c=ET(s.transform,o||null);c!=null&&(i===null&&(i=an.empty()),i.set(s.field,c))}return i||null}function gv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Qs(s,o,((c,d)=>Zw(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Ho extends Th{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends Th{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RT(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}})),t}function yv(a,t,i){const s=new Map;Lt(a.length===i.length,32656,{Ve:i.length,de:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,p=t.data.field(c.field);s.set(c.field,Xw(d,p,i[o]))}return s}function _v(a,t,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,Yw(c,d,t))}return s}class km extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eb extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nb{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&$w(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=wo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=wo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=vT();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=bT(d,p);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),It())}isEqual(t){return this.batchId===t.batchId&&Qs(this.mutations,t.mutations,((i,s)=>gv(i,s)))&&Qs(this.baseMutations,t.baseMutations,((i,s)=>gv(i,s)))}}class Lm{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Lt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return Hw})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Lm(t,i,s,o)}}class ib{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rb{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ee,xt;function ab(a){switch(a){case Q.OK:return dt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return dt(15467,{code:a})}}function IT(a){if(a===void 0)return $i("GRPC error has no .code"),Q.UNKNOWN;switch(a){case Ee.OK:return Q.OK;case Ee.CANCELLED:return Q.CANCELLED;case Ee.UNKNOWN:return Q.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return Q.INTERNAL;case Ee.UNAVAILABLE:return Q.UNAVAILABLE;case Ee.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ee.NOT_FOUND:return Q.NOT_FOUND;case Ee.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ee.ABORTED:return Q.ABORTED;case Ee.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ee.DATA_LOSS:return Q.DATA_LOSS;default:return dt(39323,{code:a})}}(xt=Ee||(Ee={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function sb(){return new TextEncoder}const lb=new Hr([4294967295,4294967295],0);function vv(a){const t=sb().encode(a),i=new B0;return i.update(t),new Uint8Array(i.digest())}function Tv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Hr([i,s],0),new Hr([o,c],0)]}class Pm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new _o(`Invalid padding: ${i}`);if(s<0)throw new _o(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new _o(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,s){let o=t.add(i.multiply(Hr.fromNumber(s)));return o.compare(lb)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=vv(t),[s,o]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,o,i);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=vv(t),[s,o]=Tv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,Fo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Eh(mt.min(),o,new ee(Rt),tr(),It())}}class Fo{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Fo(s,i,It(),It(),It())}}class Uc{constructor(t,i,s,o){this.Se=t,this.removedTargetIds=i,this.key=s,this.De=o}}class CT{constructor(t,i){this.targetId=t,this.Ce=i}}class xT{constructor(t,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Ev{constructor(){this.ve=0,this.Fe=Av(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=It(),i=It(),s=It();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:dt(38017,{changeType:c})}})),new Fo(this.Me,this.xe,t,i,s)}Ke(){this.Oe=!1,this.Fe=Av()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ob{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.He=Cc(),this.Je=Cc(),this.Ze=new ee(Rt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,s=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(nm(c))if(s===0){const d=new ot(c.path);this.et(i,d,Ge.newNoDocument(d,mt.min()))}else Lt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Yr(s).toUint8Array()}catch(_){if(_ instanceof tT)return qa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Pm(d,o,c)}catch(_){return qa(_ instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&nm(p.target)){const _=new ot(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ge.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let s=It();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Eh(t,i,this.Ze,this.je,s);return this.je=tr(),this.He=Cc(),this.Je=Cc(),this.Ze=new ee(Rt),o}Ye(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Ev,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Re(Rt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Re(Rt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ev),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new ee(ot.comparator)}function Av(){return new ee(ot.comparator)}const ub={asc:"ASCENDING",desc:"DESCENDING"},cb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hb={and:"AND",or:"OR"};class fb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(a,t){return a.useProto3Json||ph(t)?t:{value:t}}function th(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function NT(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function db(a,t){return th(a,t.toTimestamp())}function bi(a){return Lt(!!a,49232),mt.fromTimestamp((function(i){const s=Qr(i);return new Zt(s.seconds,s.nanos)})(a))}function Um(a,t){return sm(a,t).canonicalString()}function sm(a,t){const i=(function(o){return new Yt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return t===void 0?i:i.child(t)}function DT(a){const t=Yt.fromString(a);return Lt(LT(t),10190,{key:t.toString()}),t}function lm(a,t){return Um(a.databaseId,t.path)}function Pd(a,t){const i=DT(t);if(i.get(1)!==a.databaseId.projectId)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new it(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ot(OT(i))}function VT(a,t){return Um(a.databaseId,t)}function mb(a){const t=DT(a);return t.length===4?Yt.emptyPath():OT(t)}function om(a){return new Yt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function OT(a){return Lt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Sv(a,t,i){return{name:lm(a,t),fields:i.value.mapValue.fields}}function pb(a,t){let i;if("targetChange"in t){t.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,S){return v.useProto3Json?(Lt(S===void 0||typeof S=="string",58123),Be.fromBase64String(S||"")):(Lt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Be.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const S=v.code===void 0?Q.UNKNOWN:IT(v.code);return new it(S,v.message||"")})(d);i=new xT(s,o,c,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pd(a,s.document.name),c=bi(s.document.updateTime),d=s.document.createTime?bi(s.document.createTime):mt.min(),p=new an({mapValue:{fields:s.document.fields}}),_=Ge.newFoundDocument(o,c,d,p),v=s.targetIds||[],S=s.removedTargetIds||[];i=new Uc(v,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Pd(a,s.document),c=s.readTime?bi(s.readTime):mt.min(),d=Ge.newNoDocument(o,c),p=s.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Pd(a,s.document),c=s.removedTargetIds||[];i=new Uc([],c,o,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new rb(o,c),p=s.targetId;i=new CT(p,d)}}return i}function gb(a,t){let i;if(t instanceof Ho)i={update:Sv(a,t.key,t.value)};else if(t instanceof km)i={delete:lm(a,t.key)};else if(t instanceof ea)i={update:Sv(a,t.key,t.data),updateMask:bb(t.fieldMask)};else{if(!(t instanceof eb))return dt(16599,{dt:t.type});i={verify:lm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const p=d.transform;if(p instanceof Do)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $c)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:db(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)})(a,t.precondition)),i}function yb(a,t){return a&&a.length>0?(Lt(t!==void 0,14353),a.map((i=>(function(o,c){let d=o.updateTime?bi(o.updateTime):bi(c);return d.isEqual(mt.min())&&(d=bi(c)),new Ww(d,o.transformResults||[])})(i,t)))):[]}function _b(a,t){return{documents:[VT(a,t.path)]}}function vb(a,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=VT(a,o);const c=(function(v){if(v.length!==0)return kT(Wn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((S=>(function(V){return{field:Us(V.field),direction:Ab(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function Tb(a){let t=mb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Lt(s===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const V=MT(w);return V instanceof Wn&&cT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(X){return new Wc(js(X.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let V;return V=typeof w=="object"?w.value:w,ph(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(w){const V=!!w.before,B=w.values||[];return new Zc(B,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const V=!w.before,B=w.values||[];return new Zc(B,V)})(i.endAt)),Pw(t,o,d,c,p,"F",_,v)}function Eb(a,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function MT(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=js(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=js(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=js(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=js(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Ae.create(js(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((s=>MT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(a):dt(30097,{filter:a})}function Ab(a){return ub[a]}function Sb(a){return cb[a]}function wb(a){return hb[a]}function Us(a){return{fieldPath:a.canonicalString()}}function js(a){return qe.fromServerFormat(a.fieldPath)}function kT(a){return a instanceof Ae?(function(i){if(i.op==="=="){if(cv(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NAN"}};if(uv(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(cv(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NOT_NAN"}};if(uv(i.value))return{unaryFilter:{field:Us(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(i.field),op:Sb(i.op),value:i.value}}})(a):a instanceof Wn?(function(i){const s=i.getFilters().map((o=>kT(o)));return s.length===1?s[0]:{compositeFilter:{op:wb(i.op),filters:s}}})(a):dt(54877,{filter:a})}function bb(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function LT(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}function PT(a){return!!a&&typeof a._toProto=="function"&&a._protoValueType==="ProtoValue"}class qr{constructor(t,i,s,o,c=mt.min(),d=mt.min(),p=Be.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Rb{constructor(t){this.yt=t}}function Ib(a){const t=Tb({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?rm(t,t.limit,"L"):t}class Cb{constructor(){this.Sn=new xb}addToCollectionParentIndex(t,i){return this.Sn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Kr.min())}updateCollectionGroup(t,i,s){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class xb{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Re(Yt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(Yt.comparator)).toArray()}}const wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UT=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(UT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class Js{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Js(0)}static ar(){return new Js(-1)}}const bv="LruGarbageCollector",Nb=1048576;function Rv([a,t],[i,s]){const o=Rt(a,i);return o===0?Rt(t,s):o}class Db{constructor(t){this.Pr=t,this.buffer=new Re(Rv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Rv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Vb{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){nt(bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){il(i)?nt(bv,"Ignoring IndexedDB error during garbage collection: ",i):await nl(i)}await this.Ar(3e5)}))}}class Ob{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(mh.ce);const s=new Db(i);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.Vr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(wv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let s,o,c,d,p,_,v;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(s=w,p=Date.now(),this.removeTargets(t,s,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((w=>(v=Date.now(),Ls()<=Qn.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function Mb(a,t){return new Ob(a,t)}class kb{constructor(){this.changes=new Fa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Lb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Pb{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(s!==null&&wo(s.mutation,o,yn.empty(),Zt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,It()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=It()){const o=Ma();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,s).next((c=>{let d=yo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ma();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,It())))}populateOverlays(t,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,s,o){let c=tr();const d=So(),p=(function(){return So()})();return i.forEach(((_,v)=>{const S=s.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof ea)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),wo(S.mutation,v,S.mutation.getFieldMask(),Zt.now())):d.set(v.key,yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>p.set(v,new Lb(S,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const s=So();let o=new ee(((d,p)=>d-p)),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=s.get(_)||yn.empty();S=p.applyToLocalView(v,S),s.set(_,S);const w=(o.get(p.batchId)||It()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,S=_.value,w=vT();S.forEach((V=>{if(!c.has(V)){const B=bT(i.get(V),s.get(V));B!==null&&w.set(V,B),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,w))}return Y.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,o){return Uw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):mT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):Y.resolve(Ma());let p=Io,_=c;return d.next((v=>Y.forEach(v,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{_=_.insert(S,V)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,_,v,It()))).next((S=>({batchId:p,changes:_T(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ot(i)).next((s=>{let o=yo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let d=yo();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(_=>{const v=(function(w,V){return new Bo(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,s,o).next((S=>{S.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o)))).next((d=>{c.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Ge.newInvalidDocument(S)))}));let p=yo();return d.forEach(((_,v)=>{const S=c.get(_);S!==void 0&&wo(S.mutation,v,yn.empty(),Zt.now()),_h(i,v)&&(p=p.insert(_,v))})),p}))}}class Ub{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Y.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Ib(o.bundledQuery),readTime:bi(o.readTime)}})(i)),Y.resolve()}}class jb{constructor(){this.overlays=new ee(ot.comparator),this.Lr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ma();return Y.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((o,c)=>{this.bt(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),Y.resolve()}getOverlaysForCollection(t,i,s){const o=Ma(),c=i.length+1,d=new ot(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new ee(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let S=c.get(v.largestBatchId);S===null&&(S=Ma(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=Ma(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>p.set(v,S))),!(p.size()>=o)););return Y.resolve(p)}bt(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ib(i,s));let c=this.Lr.get(i);c===void 0&&(c=It(),this.Lr.set(i,c)),this.Lr.set(i,c.add(s.key))}}class zb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class jm{constructor(){this.kr=new Re(Ve.Kr),this.qr=new Re(Ve.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const s=new Ve(t,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Wr(new Ve(t,i))}Qr(t,i){t.forEach((s=>this.removeReference(s,i)))}Gr(t){const i=new ot(new Yt([])),s=new Ve(i,t),o=new Ve(i,t+1),c=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ot(new Yt([])),s=new Ve(i,t),o=new Ve(i,t+1);let c=It();return this.qr.forEachInRange([s,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ve(t,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ot.comparator(t.key,i.key)||Rt(t.Hr,i.Hr)}static Ur(t,i){return Rt(t.Hr,i.Hr)||ot.comparator(t.key,i.key)}}class qb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Re(Ve.Kr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nb(c,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ve(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Cm:this.Yn-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Re(Rt);return i.forEach((o=>{const c=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{s=s.add(p.Hr)}))})),Y.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;ot.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new ot(c),0);let p=new Re(Rt);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Hr)),!0)}),d),Y.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Lt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Y.forEach(i.mutations,(o=>{const c=new Ve(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,i){const s=new Ve(i,0),o=this.Jr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Bb{constructor(t){this.ti=t,this.docs=(function(){return new ee(ot.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let s=tr();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ge.newInvalidDocument(o))})),Y.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=tr();const d=i.path,p=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||mw(dw(S),s)<=0||(o.has(S.key)||_h(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,s,o){dt(9500)}ni(t,i){return Y.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new Hb(this)}getSize(t){return Y.resolve(this.size)}}class Hb extends kb{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),Y.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Fb{constructor(t){this.persistence=t,this.ri=new Fa((i=>Dm(i)),Vm),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.ii=0,this.si=new jm,this.targetCount=0,this.oi=Js._r()}forEachTarget(t,i){return this.ri.forEach(((s,o)=>i(o))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),Y.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Js(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.lr(i),Y.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),Y.waitFor(c).next((()=>o))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const s=this.ri.get(i)||null;return Y.resolve(s)}addMatchingKeys(t,i,s){return this.si.$r(i,s),Y.resolve()}removeMatchingKeys(t,i,s){this.si.Qr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const s=this.si.jr(i);return Y.resolve(s)}containsKey(t,i){return Y.resolve(this.si.containsKey(i))}}class jT{constructor(t,i){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new zb,this.referenceDelegate=t(this),this.li=new Fb(this),this.indexManager=new Cb,this.remoteDocumentCache=(function(o){return new Bb(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Rb(i),this.Pi=new Ub(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new jb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this._i[t.toKey()];return s||(s=new qb(i,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,s){nt("MemoryPersistence","Starting transaction:",t);const o=new Gb(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return Y.or(Object.values(this._i).map((s=>()=>s.containsKey(t,i))))}}class Gb extends gw{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new jm,this.Ai=null}static Vi(t){return new zm(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),Y.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(s=>{const o=ot.fromPath(s);return this.mi(t,o).next((c=>{c||i.removeEntry(o,mt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class eh{constructor(t,i){this.persistence=t,this.fi=new Fa((s=>vw(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Mb(this,i)}static Vi(t,i){return new eh(t,i)}Ti(){}Ii(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((o=>s+o))))}pr(t){let i=0;return this.mr(t,(s=>{i++})).next((()=>i))}mr(t,i){return Y.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((c=>c?Y.resolve():i(o)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(s++,c.removeEntry(d,mt.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,s){return this.fi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}wr(t,i,s){return Y.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class qm{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Ts=s,this.Is=o}static Es(t,i){let s=It(),o=It();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qm(t,i.fromCache,s,o)}}class Kb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Qb{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wA()?8:yw(sn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Kb;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,s,o){return s.documentReadCount<this.Vs?(Ls()<=Qn.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ls()<=Qn.DEBUG&&nt("QueryEngine","Query:",Ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ls()<=Qn.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):Y.resolve())}gs(t,i){if(mv(i))return Y.resolve(null);let s=wi(i);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),s=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=It(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const v=this.bs(i,p);return this.Ss(i,v,d,_.readTime)?this.gs(t,rm(i,null,"F")):this.Ds(t,v,i,_)}))))})))))}ps(t,i,s,o){return mv(i)||o.isEqual(mt.min())?Y.resolve(null):this.fs.getDocuments(t,s).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,s,o)?Y.resolve(null):(Ls()<=Qn.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ps(i)),this.Ds(t,d,i,fw(o,Io)).next((p=>p)))}))}bs(t,i){let s=new Re(gT(t));return i.forEach(((o,c)=>{_h(t,c)&&(s=s.add(c))})),s}Ss(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,s){return Ls()<=Qn.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ps(i)),this.fs.getDocumentsMatchingQuery(t,i,Kr.min(),s)}Ds(t,i,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",Yb=3e8;class Xb{constructor(t,i,s,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ee(Rt),this.Fs=new Fa((c=>Dm(c)),Vm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pb(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function Jb(a,t,i,s){return new Xb(a,t,i,s)}async function zT(a,t){const i=pt(a);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],p=[];let _=It();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of c){p.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(s,_).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Zb(a,t){const i=pt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,S){const w=v.batch,V=w.keys();let B=Y.resolve();return V.forEach((X=>{B=B.next((()=>S.getEntry(_,X))).next((J=>{const Z=v.docVersions.get(X);Lt(Z!==null,48541),J.version.compareTo(Z)<0&&(w.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),S.addEntry(J)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=It();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function qT(a){const t=pt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function Wb(a,t){const i=pt(a),s=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];t.targetChanges.forEach(((S,w)=>{const V=o.get(w);if(!V)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let B=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?B=B.withResumeToken(Be.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):S.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(S.resumeToken,s)),o=o.insert(w,B),(function(J,Z,ht){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=Yb?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,B,S)&&p.push(i.li.updateTargetData(c,B))}));let _=tr(),v=It();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push($b(c,d,t.documentUpdates).next((S=>{_=S.Bs,v=S.Ls}))),!s.isEqual(mt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(S)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=o,c)))}function $b(a,t,i){let s=It(),o=It();return i.forEach((c=>s=s.add(c))),t.getEntries(a,s).next((c=>{let d=tr();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(mt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):nt(Bm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function tR(a,t){const i=pt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function eR(a,t){const i=pt(a);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.li.getTargetData(s,t).next((c=>c?(o=c,Y.resolve(o)):i.li.allocateTargetId(s).next((d=>(o=new qr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(t,s.targetId)),s}))}async function um(a,t,i){const s=pt(a),o=s.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!il(d))throw d;nt(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function Iv(a,t,i){const s=pt(a);let o=mt.min(),c=It();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const w=pt(_),V=w.Fs.get(S);return V!==void 0?Y.resolve(w.vs.get(V)):w.li.getTargetData(v,S)})(s,d,wi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,i?o:mt.min(),i?c:It()))).next((p=>(nR(s,zw(t),p),{documents:p,ks:c})))))}function nR(a,t,i){let s=a.Ms.get(t)||mt.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),a.Ms.set(t,s)}class Cv{constructor(){this.activeTargetIds=Kw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iR{constructor(){this.vo=new Cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,s){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Cv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class rR{Mo(t){}shutdown(){}}const xv="ConnectivityMonitor";class Nv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){nt(xv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){nt(xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function cm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Ud="RestConnection",aR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class sR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Xc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,i,s,o,c){const d=cm(),p=this.Qo(t,i.toUriEncodedString());nt(Ud,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:v}=new URL(p),S=Lo(v);return this.zo(t,p,_,s,S).then((w=>(nt(Ud,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw qa(Ud,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",s),w}))}jo(t,i,s,o,c,d){return this.Wo(t,i,s,o,c)}Go(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+el})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),s&&s.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const s=aR[t];let o=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class lR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const He="WebChannelConnection",fo=(a,t,i)=>{a.listen(t,(s=>{try{i(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Hs extends sR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Hs.c_){const t=K0();fo(t,G0.STAT_EVENT,(i=>{i.stat===Zd.PROXY?nt(He,"STAT_EVENT: detected buffering proxy"):i.stat===Zd.NOPROXY&&nt(He,"STAT_EVENT: detected no buffering proxy")})),Hs.c_=!0}}zo(t,i,s,o,c){const d=cm();return new Promise(((p,_)=>{const v=new H0;v.setWithCredentials(!0),v.listenOnce(F0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Mc.NO_ERROR:const w=v.getResponseJson();nt(He,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Mc.TIMEOUT:nt(He,`RPC '${t}' ${d} timed out`),_(new it(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const V=v.getStatus();if(nt(He,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let B=v.getResponseJson();Array.isArray(B)&&(B=B[0]);const X=B?.error;if(X&&X.status&&X.message){const J=(function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(_t)>=0?_t:Q.UNKNOWN})(X.status);_(new it(J,X.message))}else _(new it(Q.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new it(Q.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{nt(He,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);nt(He,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",S,s,15)}))}T_(t,i,s){const o=cm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const v=c.join("");nt(He,`Creating RPC '${t}' stream ${o}: ${v}`,p);const S=d.createWebChannel(v,p);this.I_(S);let w=!1,V=!1;const B=new lR({Ho:X=>{V?nt(He,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(w||(nt(He,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),nt(He,`RPC '${t}' stream ${o} sending:`,X),S.send(X))},Jo:()=>S.close()});return fo(S,go.EventType.OPEN,(()=>{V||(nt(He,`RPC '${t}' stream ${o} transport opened.`),B.i_())})),fo(S,go.EventType.CLOSE,(()=>{V||(V=!0,nt(He,`RPC '${t}' stream ${o} transport closed`),B.o_(),this.E_(S))})),fo(S,go.EventType.ERROR,(X=>{V||(V=!0,qa(He,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),B.o_(new it(Q.UNAVAILABLE,"The operation could not be completed")))})),fo(S,go.EventType.MESSAGE,(X=>{if(!V){const J=X.data[0];Lt(!!J,16349);const Z=J,ht=Z?.error||Z[0]?.error;if(ht){nt(He,`RPC '${t}' stream ${o} received error:`,ht);const _t=ht.status;let Tt=(function(Et){const N=Ee[Et];if(N!==void 0)return IT(N)})(_t),Pt=ht.message;_t==="NOT_FOUND"&&Pt.includes("database")&&Pt.includes("does not exist")&&Pt.includes(this.databaseId.database)&&qa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Tt===void 0&&(Tt=Q.INTERNAL,Pt="Unknown error status: "+_t+" with message "+ht.message),V=!0,B.o_(new it(Tt,Pt)),S.close()}else nt(He,`RPC '${t}' stream ${o} received:`,J),B.__(J)}})),Hs.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,s){super.Go(t,i,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Q0()}}function oR(a){return new Hs(a)}function jd(){return typeof document<"u"?document:null}function Ah(a){return new fb(a,!0)}Hs.c_=!1;class BT{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Dv="PersistentStream";class HT{constructor(t,i,s,o,c,d,p,_){this.Ci=t,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{t((()=>{const o=new it(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,i){const s=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Dv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(nt(Dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uR extends HT{constructor(t,i,s,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=pb(this.serializer,t),s=(function(c){if(!("targetChange"in c))return mt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?bi(d.readTime):mt.min()})(t);return this.listener.J_(i,s)}Z_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=nm(_)?{documents:_b(c,_)}:{query:vb(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=NT(c,d.resumeToken);const v=am(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){p.readTime=th(c,d.snapshotVersion.toTimestamp());const v=am(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const s=Eb(this.serializer,t);s&&(i.labels=s),this.K_(i)}X_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.K_(i)}}class cR extends HT{constructor(t,i,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Lt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Lt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Lt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=yb(t.writeResults,t.commitTime),s=bi(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=om(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>gb(this.serializer,s)))};this.K_(i)}}class hR{}class fR extends hR{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,sm(i,s),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(Q.UNKNOWN,c.toString())}))}jo(t,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,sm(i,s),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function dR(a,t,i,s){return new fR(a,t,i,s)}class mR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ba="RemoteStore";class pR{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Ga(this)&&(nt(Ba,"Restarting streams for network reachability change."),await(async function(_){const v=pt(_);v.Ea.add(4),await Go(v),v.Va.set("Unknown"),v.Ea.delete(4),await Sh(v)})(this))}))})),this.Va=new mR(s,o)}}async function Sh(a){if(Ga(a))for(const t of a.Ra)await t(!0)}async function Go(a){for(const t of a.Ra)await t(!1)}function FT(a,t){const i=pt(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Km(i)?Gm(i):rl(i).O_()&&Fm(i,t))}function Hm(a,t){const i=pt(a),s=rl(i);i.Ia.delete(t),s.O_()&&GT(i,t),i.Ia.size===0&&(s.O_()?s.L_():Ga(i)&&i.Va.set("Unknown"))}function Fm(a,t){if(a.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}rl(a).Z_(t)}function GT(a,t){a.da.$e(t),rl(a).X_(t)}function Gm(a){a.da=new ob({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),rl(a).start(),a.Va.ua()}function Km(a){return Ga(a)&&!rl(a).x_()&&a.Ia.size>0}function Ga(a){return pt(a).Ea.size===0}function KT(a){a.da=void 0}async function gR(a){a.Va.set("Online")}async function yR(a){a.Ia.forEach(((t,i)=>{Fm(a,t)}))}async function _R(a,t){KT(a),Km(a)?(a.Va.ha(t),Gm(a)):a.Va.set("Unknown")}async function vR(a,t,i){if(a.Va.set("Online"),t instanceof xT&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(a,t)}catch(s){nt(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await nh(a,s)}else if(t instanceof Uc?a.da.Xe(t):t instanceof CT?a.da.st(t):a.da.tt(t),!i.isEqual(mt.min()))try{const s=await qT(a.localStore);i.compareTo(s)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(v);S&&c.Ia.set(v,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Be.EMPTY_BYTE_STRING,S.snapshotVersion)),GT(c,_);const w=new qr(S.target,_,v,S.sequenceNumber);Fm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(s){nt(Ba,"Failed to raise snapshot:",s),await nh(a,s)}}async function nh(a,t,i){if(!il(t))throw t;a.Ea.add(1),await Go(a),a.Va.set("Offline"),i||(i=()=>qT(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{nt(Ba,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Sh(a)}))}function QT(a,t){return t().catch((i=>nh(a,i,t)))}async function wh(a){const t=pt(a),i=Jr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;TR(t);)try{const o=await tR(t.localStore,s);if(o===null){t.Ta.length===0&&i.L_();break}s=o.batchId,ER(t,o)}catch(o){await nh(t,o)}YT(t)&&XT(t)}function TR(a){return Ga(a)&&a.Ta.length<10}function ER(a,t){a.Ta.push(t);const i=Jr(a);i.O_()&&i.Y_&&i.ea(t.mutations)}function YT(a){return Ga(a)&&!Jr(a).x_()&&a.Ta.length>0}function XT(a){Jr(a).start()}async function AR(a){Jr(a).ra()}async function SR(a){const t=Jr(a);for(const i of a.Ta)t.ea(i.mutations)}async function wR(a,t,i){const s=a.Ta.shift(),o=Lm.from(s,t,i);await QT(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await wh(a)}async function bR(a,t){t&&Jr(a).Y_&&await(async function(s,o){if((function(d){return ab(d)&&d!==Q.ABORTED})(o.code)){const c=s.Ta.shift();Jr(s).B_(),await QT(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await wh(s)}})(a,t),YT(a)&&XT(a)}async function Vv(a,t){const i=pt(a);i.asyncQueue.verifyOperationInProgress(),nt(Ba,"RemoteStore received new credentials");const s=Ga(i);i.Ea.add(3),await Go(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function RR(a,t){const i=pt(a);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Go(i),i.Va.set("Unknown"))}function rl(a){return a.ma||(a.ma=(function(i,s,o){const c=pt(i);return c.sa(),new uR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Zo:gR.bind(null,a),Yo:yR.bind(null,a),t_:_R.bind(null,a),J_:vR.bind(null,a)}),a.Ra.push((async t=>{t?(a.ma.B_(),Km(a)?Gm(a):a.Va.set("Unknown")):(await a.ma.stop(),KT(a))}))),a.ma}function Jr(a){return a.fa||(a.fa=(function(i,s,o){const c=pt(i);return c.sa(),new cR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AR.bind(null,a),t_:bR.bind(null,a),ta:SR.bind(null,a),na:wR.bind(null,a)}),a.Ra.push((async t=>{t?(a.fa.B_(),await wh(a)):(await a.fa.stop(),a.Ta.length>0&&(nt(Ba,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Qm{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const d=Date.now()+s,p=new Qm(t,i,d,o,c);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(a,t){if($i("AsyncQueue",`${t}: ${a}`),il(a))return new it(Q.UNAVAILABLE,`${t}: ${a}`);throw a}class Fs{static emptySet(t){return new Fs(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ot.comparator(i.key,s.key):(i,s)=>ot.comparator(i.key,s.key),this.keyedMap=yo(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fs)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Fs;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Ov{constructor(){this.ga=new ee(ot.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Zs{constructor(t,i,s,o,c,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Zs(t,i,Fs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class IR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class CR{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=pt(i),c=o.queries;o.queries=Mv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new it(Q.ABORTED,"Firestore shutting down"))}}function Mv(){return new Fa((a=>pT(a)),yh)}async function xR(a,t){const i=pt(a);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(s=2):(c=new IR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Ym(d,`Initialization of query '${Ps(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Xm(i)}async function NR(a,t){const i=pt(a),s=t.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function DR(a,t){const i=pt(a);let s=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(s=!0);d.wa=o}}s&&Xm(i)}function VR(a,t,i){const s=pt(a),o=s.queries.get(t);if(o)for(const c of o.ba)c.onError(i);s.queries.delete(t)}function Xm(a){a.Ca.forEach((t=>{t.next()}))}var hm,kv;(kv=hm||(hm={})).Ma="default",kv.Cache="cache";class OR{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Zs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Zs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}class JT{constructor(t){this.key=t}}class ZT{constructor(t){this.key=t}}class MR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.eu=gT(t),this.tu=new Fs(this.eu)}get nu(){return this.Za}ru(t,i){const s=i?i.iu:new Ov,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,w)=>{const V=o.get(S),B=_h(this.query,w)?w:null,X=!!V&&this.mutatedKeys.has(V.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;V&&B?V.data.isEqual(B.data)?X!==J&&(s.track({type:3,doc:B}),Z=!0):this.su(V,B)||(s.track({type:2,doc:B}),Z=!0,(_&&this.eu(B,_)>0||v&&this.eu(B,v)<0)&&(p=!0)):!V&&B?(s.track({type:0,doc:B}),Z=!0):V&&!B&&(s.track({type:1,doc:V}),Z=!0,(_||v)&&(p=!0)),Z&&(B?(d=d.add(B),c=J?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,w)=>(function(B,X){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:Z})}};return J(B)-J(X)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Xa;return this.Xa=_,d.length!==0||v?{snapshot:new Zs(this.query,t.tu,c,d,t.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ov,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=It(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return t.forEach((s=>{this.Ya.has(s)||i.push(new ZT(s))})),this.Ya.forEach((s=>{t.has(s)||i.push(new JT(s))})),i}cu(t){this.Za=t.ks,this.Ya=It();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Zs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jm="SyncEngine";class kR{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class LR{constructor(t){this.key=t,this.hu=!1}}class PR{constructor(t,i,s,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fa((p=>pT(p)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ee(ot.comparator),this.Au=new Map,this.Vu=new jm,this.du={},this.mu=new Map,this.fu=Js.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UR(a,t,i=!0){const s=iE(a);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await WT(s,t,i,!0),o}async function jR(a,t){const i=iE(a);await WT(i,t,!0,!1)}async function WT(a,t,i,s){const o=await eR(a.localStore,wi(t)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await zR(a,t,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&FT(a.remoteStore,o),p}async function zR(a,t,i,s,o){a.pu=(w,V,B)=>(async function(J,Z,ht,_t){let Tt=Z.view.ru(ht);Tt.Ss&&(Tt=await Iv(J.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,Tt))));const Pt=_t&&_t.targetChanges.get(Z.targetId),st=_t&&_t.targetMismatches.get(Z.targetId)!=null,Et=Z.view.applyChanges(Tt,J.isPrimaryClient,Pt,st);return Pv(J,Z.targetId,Et.au),Et.snapshot})(a,w,V,B);const c=await Iv(a.localStore,t,!0),d=new MR(t,c.ks),p=d.ru(c.documents),_=Fo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),v=d.applyChanges(p,a.isPrimaryClient,_);Pv(a,i,v.au);const S=new kR(t,i,d);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),v.snapshot}async function qR(a,t,i){const s=pt(a),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((d=>!yh(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await um(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Hm(s.remoteStore,o.targetId),fm(s,o.targetId)})).catch(nl)):(fm(s,o.targetId),await um(s.localStore,o.targetId,!0))}async function BR(a,t){const i=pt(a),s=i.Tu.get(t),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Hm(i.remoteStore,s.targetId))}async function HR(a,t,i){const s=JR(a);try{const o=await(function(d,p){const _=pt(d),v=Zt.now(),S=p.reduce(((B,X)=>B.add(X.key)),It());let w,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let X=tr(),J=It();return _.xs.getEntries(B,S).next((Z=>{X=Z,X.forEach(((ht,_t)=>{_t.isValidDocument()||(J=J.add(ht))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,X))).next((Z=>{w=Z;const ht=[];for(const _t of p){const Tt=tb(_t,w.get(_t.key).overlayedDocument);Tt!=null&&ht.push(new ea(_t.key,Tt,lT(Tt.value.mapValue),On.exists(!0)))}return _.mutationQueue.addMutationBatch(B,v,ht,p)})).next((Z=>{V=Z;const ht=Z.applyToLocalDocumentSet(w,J);return _.documentOverlayCache.saveOverlays(B,Z.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:_T(w)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.du[d.currentUser.toKey()];v||(v=new ee(Rt)),v=v.insert(p,_),d.du[d.currentUser.toKey()]=v})(s,o.batchId,i),await Ko(s,o.changes),await wh(s.remoteStore)}catch(o){const c=Ym(o,"Failed to persist write");i.reject(c)}}async function $T(a,t){const i=pt(a);try{const s=await Wb(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Lt(d.hu,14607):o.removedDocuments.size>0&&(Lt(d.hu,42227),d.hu=!1))})),await Ko(i,s,t)}catch(s){await nl(s)}}function Lv(a,t,i){const s=pt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=pt(d);_.onlineState=p;let v=!1;_.queries.forEach(((S,w)=>{for(const V of w.ba)V.va(p)&&(v=!0)})),v&&Xm(_)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function FR(a,t,i){const s=pt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Au.get(t),c=o&&o.key;if(c){let d=new ee(ot.comparator);d=d.insert(c,Ge.newNoDocument(c,mt.min()));const p=It().add(c),_=new Eh(mt.min(),new Map,new ee(Rt),d,p);await $T(s,_),s.Ru=s.Ru.remove(c),s.Au.delete(t),Zm(s)}else await um(s.localStore,t,!1).then((()=>fm(s,t,i))).catch(nl)}async function GR(a,t){const i=pt(a),s=t.batch.batchId;try{const o=await Zb(i.localStore,t);eE(i,s,null),tE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ko(i,o)}catch(o){await nl(o)}}async function KR(a,t,i){const s=pt(a);try{const o=await(function(d,p){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,p).next((w=>(Lt(w!==null,37113),S=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(s.localStore,t);eE(s,t,i),tE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ko(s,o)}catch(o){await nl(o)}}function tE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function eE(a,t,i){const s=pt(a);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function fm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.Iu.get(t))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(t),a.isPrimaryClient&&a.Vu.Gr(t).forEach((s=>{a.Vu.containsKey(s)||nE(a,s)}))}function nE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.Ru.get(t);i!==null&&(Hm(a.remoteStore,i),a.Ru=a.Ru.remove(t),a.Au.delete(i),Zm(a))}function Pv(a,t,i){for(const s of i)s instanceof JT?(a.Vu.addReference(s.key,t),QR(a,s)):s instanceof ZT?(nt(Jm,"Document no longer in limbo: "+s.key),a.Vu.removeReference(s.key,t),a.Vu.containsKey(s.key)||nE(a,s.key)):dt(19791,{wu:s})}function QR(a,t){const i=t.key,s=i.path.canonicalString();a.Ru.get(i)||a.Eu.has(s)||(nt(Jm,"New document in limbo: "+i),a.Eu.add(s),Zm(a))}function Zm(a){for(;a.Eu.size>0&&a.Ru.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new ot(Yt.fromString(t)),s=a.fu.next();a.Au.set(s,new LR(i)),a.Ru=a.Ru.insert(i,s),FT(a.remoteStore,new qr(wi(Om(i.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function Ko(a,t,i){const s=pt(a),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,i).then((v=>{if((v||i)&&s.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;s.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){o.push(v);const S=qm.Es(_.targetId,v);c.push(S)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(_,v){const S=pt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Y.forEach(v,(V=>Y.forEach(V.Ts,(B=>S.persistence.referenceDelegate.addReference(w,V.targetId,B))).next((()=>Y.forEach(V.Is,(B=>S.persistence.referenceDelegate.removeReference(w,V.targetId,B)))))))))}catch(w){if(!il(w))throw w;nt(Bm,"Failed to update sequence numbers: "+w)}for(const w of v){const V=w.targetId;if(!w.fromCache){const B=S.vs.get(V),X=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(X);S.vs=S.vs.insert(V,J)}}})(s.localStore,c))}async function YR(a,t){const i=pt(a);if(!i.currentUser.isEqual(t)){nt(Jm,"User change. New user:",t.toKey());const s=await zT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new it(Q.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ko(i,s.Ns)}}function XR(a,t){const i=pt(a),s=i.Au.get(t);if(s&&s.hu)return It().add(s.key);{let o=It();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function iE(a){const t=pt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FR.bind(null,t),t.Pu.J_=DR.bind(null,t.eventManager),t.Pu.yu=VR.bind(null,t.eventManager),t}function JR(a){const t=pt(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=KR.bind(null,t),t}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Jb(this.persistence,new Qb,t.initialUser,this.serializer)}Cu(t){return new jT(zm.Vi,this.serializer)}Du(t){return new iR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class ZR extends ih{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Lt(this.persistence.referenceDelegate instanceof eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Vb(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new jT((s=>eh.Vi(s,i)),this.serializer)}}class dm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=YR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new CR})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),s=oR(t.databaseInfo);return dR(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,o,c,d,p){return new pR(s,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Lv(this.syncEngine,i,0)),(function(){return Nv.v()?new Nv:new rR})())}createSyncEngine(t,i){return(function(o,c,d,p,_,v,S){const w=new PR(o,c,d,p,_,v);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=pt(i);nt(Ba,"RemoteStore shutting down."),s.Ea.add(5),await Go(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};class WR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Zr="FirestoreClient";class $R{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{nt(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(nt(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Ym(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function zd(a,t){a.asyncQueue.verifyOperationInProgress(),nt(Zr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await zT(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Uv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await tI(a);nt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((s=>Vv(t.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>Vv(t.remoteStore,o))),a._onlineComponents=t}async function tI(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){nt(Zr,"Using user provided OfflineComponentProvider");try{await zd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await zd(a,new ih)}}else nt(Zr,"Using default OfflineComponentProvider"),await zd(a,new ZR(void 0));return a._offlineComponents}async function rE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(nt(Zr,"Using user provided OnlineComponentProvider"),await Uv(a,a._uninitializedComponentsProvider._online)):(nt(Zr,"Using default OnlineComponentProvider"),await Uv(a,new dm))),a._onlineComponents}function eI(a){return rE(a).then((t=>t.syncEngine))}async function jv(a){const t=await rE(a),i=t.eventManager;return i.onListen=UR.bind(null,t.syncEngine),i.onUnlisten=qR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=jR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=BR.bind(null,t.syncEngine),i}function nI(a,t,i,s){const o=new WR(s),c=new OR(t,o,i);return a.asyncQueue.enqueueAndForget((async()=>xR(await jv(a),c))),()=>{o.Nu(),a.asyncQueue.enqueueAndForget((async()=>NR(await jv(a),c)))}}function iI(a,t){const i=new ka;return a.asyncQueue.enqueueAndForget((async()=>HR(await eI(a),t,i))),i.promise}function aE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const rI="ComponentProvider",zv=new Map;function aI(a,t,i,s,o){return new Aw(a,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,aE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const sE="firestore.googleapis.com",qv=!0;class Bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sE,this.ssl=qv}else this.host=t.host,this.ssl=t.ssl??qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Nb)throw new it(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aE(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ew;switch(s.type){case"firstParty":return new aw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=zv.get(i);s&&(nt(rI,"Removing Datastore"),zv.delete(i),s.terminate())})(this),Promise.resolve()}}function sI(a,t,i,s={}){a=Si(a,bh);const o=Lo(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;o&&(l0(`https://${p}`),o0("Firestore",!0)),c.host!==sE&&c.host!==p&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:s};if(!qc(_,d)&&(a._setSettings(_),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=Fe.MOCK_USER;else{v=SA(s.mockUserToken,a._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new it(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Fe(w)}a._authCredentials=new nw(new X0(v,S))}}class al{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new al(this.firestore,t,this._query)}}class ce{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ce(this.firestore,t,this._key)}toJSON(){return{type:ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(qo(i,ce._jsonSchema))return new ce(t,s||null,new ot(Yt.fromString(i.referencePath)))}}ce._jsonSchemaVersion="firestore/documentReference/1.0",ce._jsonSchema={type:Se("string",ce._jsonSchemaVersion),referencePath:Se("string")};class Fr extends al{constructor(t,i,s){super(t,i,Om(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ce(this.firestore,null,new ot(t))}withConverter(t){return new Fr(this.firestore,t,this._path)}}function rh(a,t,...i){if(a=Ie(a),J0("collection","path",t),a instanceof bh){const s=Yt.fromString(t,...i);return tv(s),new Fr(a,null,s)}{if(!(a instanceof ce||a instanceof Fr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Yt.fromString(t,...i));return tv(s),new Fr(a.firestore,null,s)}}function ah(a,t,...i){if(a=Ie(a),arguments.length===1&&(t=Im.newId()),J0("doc","path",t),a instanceof bh){const s=Yt.fromString(t,...i);return $_(s),new ce(a,null,new ot(s))}{if(!(a instanceof ce||a instanceof Fr))throw new it(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Yt.fromString(t,...i));return $_(s),new ce(a.firestore,a instanceof Fr?a.converter:null,new ot(s))}}const Hv="AsyncQueue";class Fv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BT(this,"async_queue_retry"),this._c=()=>{const s=jd();s&&nt(Hv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!il(t))throw t;nt(Hv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Gv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Qm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:Gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Gv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}class Ha extends bh{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new Fv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fv(t),this._firestoreClient=void 0,await t}}}function lI(a,t){const i=typeof a=="object"?a:s0(),s=typeof a=="string"?a:Xc,o=pm(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=AA("firestore");c&&sI(o,...c)}return o}function lE(a){if(a._terminated)throw new it(Q.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||oI(a),a._firestoreClient}function oI(a){const t=a._freezeSettings(),i=aI(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new $R(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(a._componentsProvider))}class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Be.fromBase64String(t))}catch(i){throw new it(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(qo(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Se("string",Vn._jsonSchemaVersion),bytes:Se("string")};class Wm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Rh{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(qo(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Se("string",Ri._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};class Jn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(qo(t,Jn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Jn(t.vectorValues);throw new it(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:Se("string",Jn._jsonSchemaVersion),vectorValues:Se("object")};const uI=/^__.*__$/;class cI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ea(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ho(t,this.data,i,this.fieldTransforms)}}class oE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new ea(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function uE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:a})}}class $m{constructor(t,i,s,o,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new $m({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const i=this.path?.child(t),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return sh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(uE(this.dataSource)&&uI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class hI{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Ah(t)}createContext(t,i,s,o=!1){return new $m({dataSource:t,methodName:i,targetDoc:s,path:qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(a){const t=a._freezeSettings(),i=Ah(a._databaseId);return new hI(a._databaseId,!!t.ignoreUndefinedProperties,i)}function cE(a,t,i,s,o,c={}){const d=a.createContext(c.merge||c.mergeFields?2:0,t,i,o);ep("Data must be an object, but it was:",d,s);const p=hE(s,d);let _,v;if(c.merge)_=new yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const V=Ws(t,w,i);if(!d.contains(V))throw new it(Q.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);mE(S,V)||S.push(V)}_=new yn(S),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new cI(new an(p),_,v)}class Ch extends Rh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}class tp extends Rh{_toFieldTransform(t){return new Jw(t.path,new Do)}isEqual(t){return t instanceof tp}}function fI(a,t,i,s){const o=a.createContext(1,t,i);ep("Data must be an object, but it was:",o,s);const c=[],d=an.empty();ta(s,((_,v)=>{const S=dE(t,_,i);v=Ie(v);const w=o.childContextForFieldPath(S);if(v instanceof Ch)c.push(S);else{const V=Qo(v,w);V!=null&&(c.push(S),d.set(S,V))}}));const p=new yn(c);return new oE(d,p,o.fieldTransforms)}function dI(a,t,i,s,o,c){const d=a.createContext(1,t,i),p=[Ws(t,s,i)],_=[o];if(c.length%2!=0)throw new it(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Ws(t,c[V])),_.push(c[V+1]);const v=[],S=an.empty();for(let V=p.length-1;V>=0;--V)if(!mE(v,p[V])){const B=p[V];let X=_[V];X=Ie(X);const J=d.childContextForFieldPath(B);if(X instanceof Ch)v.push(B);else{const Z=Qo(X,J);Z!=null&&(v.push(B),S.set(B,Z))}}const w=new yn(v);return new oE(S,w,d.fieldTransforms)}function mI(a,t,i,s=!1){return Qo(i,a.createContext(s?4:3,t))}function Qo(a,t){if(fE(a=Ie(a)))return ep("Unsupported field value:",t,a),hE(a,t);if(a instanceof Rh)return(function(s,o){if(!uE(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const c=[];let d=0;for(const p of s){let _=Qo(p,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(s,o){if((s=Ie(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Qw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Zt.fromDate(s);return{timestampValue:th(o.serializer,c)}}if(s instanceof Zt){const c=new Zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:th(o.serializer,c)}}if(s instanceof Ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:NT(o.serializer,s._byteString)};if(s instanceof ce){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Jn)return(function(d,p){const _=d instanceof Jn?d.toArray():d;return{mapValue:{fields:{[aT]:{stringValue:sT},[Jc]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Mm(p.serializer,S)}))}}}}}})(s,o);if(PT(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${dh(s)}`)})(a,t)}function hE(a,t){const i={};return $0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ta(a,((s,o)=>{const c=Qo(o,t.childContextForField(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function fE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Zt||a instanceof Ri||a instanceof Vn||a instanceof ce||a instanceof Rh||a instanceof Jn||PT(a))}function ep(a,t,i){if(!fE(i)||!Z0(i)){const s=dh(i);throw s==="an object"?t.createError(a+" a custom object"):t.createError(a+" "+s)}}function Ws(a,t,i){if((t=Ie(t))instanceof Wm)return t._internalPath;if(typeof t=="string")return dE(a,t);throw sh("Field path arguments must be of type string or ",a,!1,void 0,i)}const pI=new RegExp("[~\\*/\\[\\]]");function dE(a,t,i){if(t.search(pI)>=0)throw sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Wm(...t.split("."))._internalPath}catch{throw sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function sh(a,t,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new it(Q.INVALID_ARGUMENT,p+a+_)}function mE(a,t){return a.some((i=>i.isEqual(t)))}class gI{convertValue(t,i="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ta(t,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[Jc].arrayValue?.values?.map((s=>ue(s.doubleValue)));return new Jn(i)}convertGeoPoint(t){return new Ri(ue(t.latitude),ue(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=gh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Co(t));default:return null}}convertTimestamp(t){const i=Qr(t);return new Zt(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Yt.fromString(t);Lt(LT(s),9688,{name:t});const o=new xo(s.get(1),s.get(3)),c=new ot(s.popFirst(5));return o.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class pE extends gI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ce(this.firestore,null,i)}}function Mo(){return new tp("serverTimestamp")}const Kv="@firebase/firestore",Qv="4.11.0";function Yv(a){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(a,["next","error","complete"])}class gE{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ws("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class yI extends gE{data(){return super.data()}}function _I(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new it(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class np{}class vI extends np{}function yE(a,t,...i){let s=[];t instanceof np&&s.push(t),s=s.concat(i),(function(c){const d=c.filter((_=>_ instanceof ip)).length,p=c.filter((_=>_ instanceof xh)).length;if(d>1||d>0&&p>0)throw new it(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class xh extends vI{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new xh(t,i,s)}_apply(t){const i=this._parse(t);return vE(t._query,i),new al(t.firestore,t.converter,im(t._query,i))}_parse(t){const i=Ih(t.firestore);return(function(c,d,p,_,v,S,w){let V;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new it(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Jv(w,S);const X=[];for(const J of w)X.push(Xv(_,c,J));V={arrayValue:{values:X}}}else V=Xv(_,c,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Jv(w,S),V=mI(p,d,w,S==="in"||S==="not-in");return Ae.create(v,S,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function _E(a,t,i){const s=t,o=Ws("where",a);return xh._create(o,s,i)}class ip extends np{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ip(t,i)}_parse(t){const i=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)vE(d,_),d=im(d,_)})(t._query,i),new al(t.firestore,t.converter,im(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xv(a,t,i){if(typeof(i=Ie(i))=="string"){if(i==="")throw new it(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mT(t)&&i.indexOf("/")!==-1)throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Yt.fromString(i));if(!ot.isDocumentKey(s))throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ov(a,new ot(s))}if(i instanceof ce)return ov(a,i._key);throw new it(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function Jv(a,t){if(!Array.isArray(a)||a.length===0)throw new it(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vE(a,t){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function TE(a,t,i){let s;return s=a?a.toFirestore(t):t,s}class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class La extends gE{constructor(t,i,s,o,c,d){super(t,i,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Ws("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=La._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}La._jsonSchemaVersion="firestore/documentSnapshot/1.0",La._jsonSchema={type:Se("string",La._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class jc extends La{data(t={}){return super.data(t)}}class Gs{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new jc(this._firestore,this._userDataWriter,s.key,s,new vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new jc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:TI(p.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Gs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function TI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:a})}}Gs._jsonSchemaVersion="firestore/querySnapshot/1.0",Gs._jsonSchema={type:Se("string",Gs._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};function EI(a,t,i){a=Si(a,ce);const s=Si(a.firestore,Ha),o=TE(a.converter,t),c=Ih(s);return Nh(s,[cE(c,"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,On.none())])}function AI(a,t,i,...s){a=Si(a,ce);const o=Si(a.firestore,Ha),c=Ih(o);let d;return d=typeof(t=Ie(t))=="string"||t instanceof Wm?dI(c,"updateDoc",a._key,t,i,s):fI(c,"updateDoc",a._key,t),Nh(o,[d.toMutation(a._key,On.exists(!0))])}function SI(a){return Nh(Si(a.firestore,Ha),[new km(a._key,On.none())])}function EE(a,t){const i=Si(a.firestore,Ha),s=ah(a),o=TE(a.converter,t),c=Ih(a.firestore);return Nh(i,[cE(c,"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,On.exists(!1))]).then((()=>s))}function rp(a,...t){a=Ie(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Yv(t[s])||(i=t[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Yv(t[s])){const v=t[s];t[s]=v.next?.bind(v),t[s+1]=v.error?.bind(v),t[s+2]=v.complete?.bind(v)}let c,d,p;if(a instanceof ce)d=Si(a.firestore,Ha),p=Om(a._key.path),c={next:v=>{t[s]&&t[s](wI(d,a,v))},error:t[s+1],complete:t[s+2]};else{const v=Si(a,al);d=Si(v.firestore,Ha),p=v._query;const S=new pE(d);c={next:w=>{t[s]&&t[s](new Gs(d,S,v,w))},error:t[s+1],complete:t[s+2]},_I(a._query)}const _=lE(d);return nI(_,p,o,c)}function Nh(a,t){const i=lE(a);return iI(i,t)}function wI(a,t,i){const s=i.docs.get(t._key),o=new pE(a);return new La(a,o,t._key,s,new vo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){tw($s),Gd(new Kd("firestore",((s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new Ha(new iw(s.getProvider("auth-internal")),new sw(d,s.getProvider("app-check-internal")),Sw(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),bo(Kv,Qv,t),bo(Kv,Qv,"esm2020")})();const bI={apiKey:"AIzaSyDvRoWoEBdqdS85YJApVdKG5KcPOYzOg6k",authDomain:"studio-6082148059-d1fec.web.app",projectId:"studio-6082148059-d1fec",storageBucket:"studio-6082148059-d1fec.appspot.com",messagingSenderId:"144415804580",appId:"1:144415804580:web:7e6465f633e54e8e186a31"},AE=bA(bI),Zn=J2(AE),RI=new Yi,Pa=lI(AE),Dh=()=>{const[a,t]=et.useState(null),[i,s]=et.useState(!0);return et.useEffect(()=>{const o=jS(Zn,c=>{t(c),s(!1)});return()=>o()},[]),{user:a,loading:i}},SE=et.createContext(),ap=()=>et.useContext(SE),II=({message:a,onDismiss:t})=>E.jsx($.div,{className:"aurora-card notification",initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},onClick:t,children:a}),CI=({children:a})=>{const[t,i]=et.useState([]),s=et.useCallback(c=>{const d=Date.now();i(p=>[...p,{id:d,message:c}])},[]);et.useEffect(()=>{if(t.length===0)return;const c=t.map(d=>setTimeout(()=>{i(p=>p.filter(_=>_.id!==d.id))},5e3));return()=>c.forEach(clearTimeout)},[t]);const o=c=>{i(d=>d.filter(p=>p.id!==c))};return E.jsxs(SE.Provider,{value:{notify:s},children:[a,E.jsx("div",{className:"notification-container",children:E.jsx(Gr,{children:t.map(({id:c,message:d})=>E.jsx(II,{message:d,onDismiss:()=>o(c)},c))})})]})};var wE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zv=Br.createContext&&Br.createContext(wE),xI=["attr","size","title"];function NI(a,t){if(a==null)return{};var i=DI(a,t),s,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(o=0;o<c.length;o++)s=c[o],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function DI(a,t){if(a==null)return{};var i={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(t.indexOf(s)>=0)continue;i[s]=a[s]}return i}function lh(){return lh=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},lh.apply(this,arguments)}function Wv(a,t){var i=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),i.push.apply(i,s)}return i}function oh(a){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Wv(Object(i),!0).forEach(function(s){VI(a,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)):Wv(Object(i)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s))})}return a}function VI(a,t,i){return t=OI(t),t in a?Object.defineProperty(a,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[t]=i,a}function OI(a){var t=MI(a,"string");return typeof t=="symbol"?t:t+""}function MI(a,t){if(typeof a!="object"||!a)return a;var i=a[Symbol.toPrimitive];if(i!==void 0){var s=i.call(a,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function bE(a){return a&&a.map((t,i)=>Br.createElement(t.tag,oh({key:i},t.attr),bE(t.child)))}function ne(a){return t=>Br.createElement(kI,lh({attr:oh({},a.attr)},t),bE(a.child))}function kI(a){var t=i=>{var{attr:s,size:o,title:c}=a,d=NI(a,xI),p=o||i.size||"1em",_;return i.className&&(_=i.className),a.className&&(_=(_?_+" ":"")+a.className),Br.createElement("svg",lh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,d,{className:_,style:oh(oh({color:a.color||i.color},i.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Br.createElement("title",null,c),a.children)};return Zv!==void 0?Br.createElement(Zv.Consumer,null,i=>t(i)):t(wE)}function LI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(a)}function PI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(a)}function UI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(a)}function jI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(a)}function zI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(a)}function RE(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(a)}function qI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(a)}function BI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(a)}function $v(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(a)}function HI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(a)}function FI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(a)}function qd(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(a)}function t0(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(a)}function GI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(a)}function KI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(a)}function QI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(a)}function YI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(a)}function XI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"20",y2:"19"},child:[]}]})(a)}function JI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(a)}function ZI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(a)}function zc(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(a)}function WI(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(a)}function $I(a){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(a)}const tC=()=>{const{notify:a}=ap(),[t,i]=et.useState(!1),[s,o]=et.useState(!1),[c,d]=et.useState(""),[p,_]=et.useState(""),[v,S]=et.useState(""),w=async()=>{i(!0);try{await a2(Zn,RI),a("Welcome to HomeBase Pro! ")}catch{a("Sign-in failed. Please try again.")}finally{i(!1)}},V=async Z=>{if(Z.preventDefault(),p!==v){a("Passwords do not match");return}i(!0);try{await OS(Zn,c,p),a("Welcome to HomeBase Pro! ")}catch(ht){a(ht.message)}finally{i(!1)}},B=async Z=>{Z.preventDefault(),i(!0);try{await MS(Zn,c,p),a("Welcome back! ")}catch(ht){a(ht.message)}finally{i(!1)}},X={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},J={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return E.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px",position:"relative",overflow:"hidden"},children:[E.jsx($.div,{style:{position:"absolute",width:"300px",height:"300px",borderRadius:"50%",background:"radial-gradient(circle, var(--accent-primary) 0%, transparent 70%)",filter:"blur(60px)",opacity:.3},animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),E.jsx($.div,{style:{position:"absolute",width:"400px",height:"400px",borderRadius:"50%",background:"radial-gradient(circle, var(--accent-secondary) 0%, transparent 70%)",filter:"blur(80px)",opacity:.2,right:"10%",bottom:"10%"},animate:{x:[0,-80,0],y:[0,80,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),E.jsxs($.div,{className:"aurora-card",style:{padding:"3rem",textAlign:"center",maxWidth:"420px",width:"100%",position:"relative",zIndex:1},variants:X,initial:"hidden",animate:"visible",children:[E.jsx($.div,{variants:J,children:E.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 1.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)"},children:""})}),E.jsx($.h1,{variants:J,style:{fontSize:"2rem",fontWeight:700,marginBottom:"0.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"HomeBase Pro"}),E.jsx($.p,{variants:J,style:{color:"var(--text-secondary)",marginBottom:"2rem",fontSize:"1rem"},children:"The Future of Portfolio Management"}),E.jsxs($.button,{variants:J,className:"aurora-button",onClick:w,disabled:t,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",padding:"14px 24px",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"1.5rem",opacity:t?.7:1,cursor:t?"wait":"pointer"},children:[t?E.jsx($.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:""}):E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t?"Signing in...":"Sign in with Google"]}),E.jsxs($.div,{variants:J,style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",color:"var(--text-secondary)",fontSize:"0.875rem"},children:[E.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}}),E.jsx("span",{children:"or"}),E.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}})]}),E.jsx($.div,{variants:J,children:s?E.jsxs("form",{onSubmit:V,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[E.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:Z=>d(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:p,onChange:Z=>_(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Confirm Password",value:v,onChange:Z=>S(Z.target.value),className:"aurora-input",required:!0}),E.jsx("button",{type:"submit",className:"aurora-button",disabled:t,children:t?"Creating Account...":"Sign Up"})]}):E.jsxs("form",{onSubmit:B,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[E.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:Z=>d(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:p,onChange:Z=>_(Z.target.value),className:"aurora-input",required:!0}),E.jsx("button",{type:"submit",className:"aurora-button",disabled:t,children:t?"Signing In...":"Sign In"})]})}),E.jsx($.div,{variants:J,style:{marginTop:"1rem"},children:E.jsx("button",{onClick:()=>o(!s),className:"aurora-button secondary",style:{width:"100%"},children:s?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),E.jsx($.div,{variants:J,style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",padding:"1rem",background:"rgba(127, 90, 240, 0.1)",borderRadius:"12px",marginTop:"1.5rem"},children:[{icon:"",label:"Analytics"},{icon:"",label:"Deploy"},{icon:"",label:"Secure"}].map((Z,ht)=>E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"4px"},children:Z.icon}),E.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:Z.label})]},ht))}),E.jsxs($.div,{variants:J,style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"2rem",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(zI,{size:12})," Website"]}),E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(jI,{size:12})," GitHub"]}),E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(ZI,{size:12})," Twitter"]})]}),E.jsx($.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},style:{fontSize:"0.625rem",color:"var(--text-secondary)",marginTop:"1rem",opacity:.5},children:" Try the Konami code for a surprise..."})]})]})},IE=et.createContext(),eC=({children:a})=>{const[t,i]=et.useState(()=>localStorage.getItem("theme")||"dark");et.useEffect(()=>{document.body.className=t,localStorage.setItem("theme",t)},[t]);const s=()=>{i(c=>c==="light"?"dark":"light")},o=et.useMemo(()=>({theme:t,toggleTheme:s}),[t]);return E.jsx(IE.Provider,{value:o,children:a})},nC=()=>{const a=et.useContext(IE);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a},iC=()=>{const{theme:a,toggleTheme:t}=nC();return E.jsx($.button,{className:"aurora-button secondary theme-toggle-btn",onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Switch to ${a==="light"?"dark":"light"} mode`,children:E.jsx(Gr,{mode:"wait",children:a==="light"?E.jsx($.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:E.jsx(FI,{})},"moon"):E.jsx($.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:E.jsx(YI,{})},"sun")})})},rC=()=>{const a=Zn.currentUser,[t,i]=et.useState(!1),s=[{to:"/",text:"Dashboard",icon:E.jsx(RE,{}),color:"#7F5AF0"},{to:"/projects",text:"Projects",icon:E.jsx(PI,{}),color:"#2CB67D"},{to:"/analytics",text:"Analytics",icon:E.jsx(LI,{}),color:"#F2B900"},{to:"/termux",text:"Termux",icon:E.jsx(XI,{}),color:"#00D4AA"},{to:"/profile",text:"Profile",icon:E.jsx(zc,{}),color:"#E91E63"},{to:"/settings",text:"Settings",icon:E.jsx(KI,{}),color:"#FF6B6B"}],o=()=>{Zn.signOut(),i(!1)},c={hidden:{x:-100,opacity:0},visible:{x:0,opacity:1,transition:{duration:.5,ease:[.4,0,.2,1],staggerChildren:.1,delayChildren:.2}}},d={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{duration:.3}}};return E.jsxs(E.Fragment,{children:[E.jsx($.button,{className:"mobile-menu-btn",onClick:()=>i(!t),"aria-label":"Toggle menu",whileTap:{scale:.95},children:E.jsx(Gr,{mode:"wait",children:t?E.jsx($.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:E.jsx(WI,{size:24})},"close"):E.jsx($.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:E.jsx(HI,{size:24})},"menu")})}),E.jsx(Gr,{children:t&&E.jsx($.div,{className:"mobile-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)})}),E.jsxs($.aside,{className:`sidebar-container ${t?"mobile-open":""}`,variants:c,initial:"hidden",animate:"visible",children:[E.jsxs($.div,{className:"sidebar-header",variants:d,children:[E.jsx($.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:E.jsx("h1",{className:"sidebar-logo",children:"HomeBase"})}),E.jsx($.span,{className:"sidebar-version",whileHover:{scale:1.1},animate:{boxShadow:["0 0 0 rgba(127, 90, 240, 0)","0 0 20px rgba(127, 90, 240, 0.5)","0 0 0 rgba(127, 90, 240, 0)"]},transition:{duration:2,repeat:1/0},children:"Pro"})]}),E.jsx("nav",{className:"sidebar-nav",children:s.map((p,_)=>E.jsx($.div,{variants:d,custom:_,children:E.jsx(oA,{to:p.to,className:"nav-link",onClick:()=>i(!1),children:({isActive:v})=>E.jsxs($.div,{style:{display:"flex",alignItems:"center",gap:"12px",width:"100%"},whileHover:{x:4},whileTap:{scale:.98},children:[E.jsx($.span,{className:"nav-icon",animate:v?{color:p.color,scale:[1,1.2,1]}:{},transition:{duration:.3},style:{color:v?p.color:void 0},children:p.icon}),E.jsx("span",{className:"nav-text",children:p.text}),v&&E.jsx($.div,{layoutId:"activeIndicator",className:"active-indicator",style:{background:p.color},transition:{type:"spring",stiffness:500,damping:30}})]})})},p.to))}),E.jsxs($.div,{className:"sidebar-footer",variants:d,children:[E.jsxs($.div,{className:"user-profile",whileHover:{scale:1.02},children:[E.jsx($.div,{className:"user-avatar",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5},children:a?.photoURL?E.jsx("img",{src:a.photoURL,alt:a.displayName}):a?.displayName?.[0]||"?"}),E.jsxs("div",{className:"user-info",children:[E.jsx($.span,{className:"user-name",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},children:a?.displayName||"Guest"}),E.jsx("span",{className:"user-email",children:a?.email})]})]}),E.jsxs("div",{className:"sidebar-actions",children:[E.jsx(iC,{}),E.jsxs($.button,{className:"aurora-button secondary sign-out-btn",onClick:o,whileHover:{scale:1.02},whileTap:{scale:.98},children:[E.jsx(BI,{}),E.jsx("span",{children:"Sign Out"})]})]})]}),E.jsx($.div,{className:"sidebar-credits",variants:d,initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:E.jsx("span",{children:"v2.0  Made with "})})]})]})};var e0=CA();const n0={ls:"eza",ll:"eza -l --icons --git --header",la:"eza -la --icons --git",cat:"bat",gs:"git status",ga:"git add .",gc:"git commit -m",gp:"git push",gpl:"git pull",gpp:"git push",nv:"nvim",h:"cd ~",u:"cd /storage/emulated/0/Download",up:"pkg update && pkg upgrade -y",cl:"pkg autoclean && rm -rf ~/.cache/*","savage-clean":"up && cl","backup-config":"cp ~/.zshrc ~/.zshrc.bak",py:"python"},aC=a=>{const[t]=a.split(" ");return n0[t]?n0[t]+a.substring(t.length):a},sC=(a,t)=>{if(a.startsWith("eza")){if(!t||t.length===0)return"No projects found.";let i=`Projects:
`;return a.includes("-l")?i+=t.map(s=>`drwxr-xr-x  - staff ${new Date(s.createdAt?.toDate()).toLocaleDateString()}  ${s.title}`).join(`
`):i+=t.map(s=>` ${s.title}`).join("  "),i}if(a.startsWith("bat")){const i=a.split(" ").slice(1).join(" "),s=t.find(o=>o.title.toLowerCase()===i.toLowerCase());return s?`--- Project: ${s.title} ---
Status: ${s.status}
Description: ${s.description||"N/A"}
Tags: ${s.tags?.join(", ")||"N/A"}`:`File not found: ${i}`}return a.startsWith("git")?"Git commands are not fully functional in this simulated environment. Use the Projects page to manage your portfolio.":null},lC=(a,t)=>{if(/^(hello|hi|hey|greetings)/.test(a)){const i=["Greetings, human. I'm Online and ready to assist.","Hello! The matrix has you... just kidding. How can I help?"];return i[Math.floor(Math.random()*i.length)]}if(a==="help"||a==="?")return`HomeBase Pro - Savage Edition Help:

  CORE COMMANDS:
   projects      - List all your projects (alias: ls)
   bat <project> - Show details for a specific project (alias: cat)
   stats         - Show project statistics
   ai <prompt>   - Ask Gemini AI anything (powered by Firebase AI)
   clear         - Clear terminal screen
   whoami        - Show current user info
   date          - Show current date/time
   uptime        - Show simulated system uptime

  SAVAGE ALIASES:
   ll, la        - Detailed project listings
   gs, ga, gp    - Simulated Git commands
   up, cl        - Simulated system maintenance
   h             - Go to 'home' (simulated)
   nv            - Open Neovim (simulated)
    `;if(a==="whoami")return Zn.currentUser?`Logged in as: ${Zn.currentUser.displayName} (${Zn.currentUser.email})`:"Not logged in";if(a==="date")return new Date().toLocaleString();if(a==="stats"){if(!t||t.length===0)return"No project data to analyze.";const i=t.filter(o=>o.status==="Active").length,s=t.filter(o=>o.status==="Completed").length;return`Project Stats:
   Total Projects: ${t.length}
   Active: ${i}
   Completed: ${s}`}return a==="projects"?CE("eza -l",t):a==="uptime"?`System uptime: ${Math.floor(Math.random()*999)} days...`:null},CE=(a,t,i)=>{const s=a.toLowerCase().trim(),o=sC(s,t);if(o)return o;const c=lC(s,t);return c||(s==="clear"?(i(),null):["nvim","cd ~","pkg update && pkg upgrade -y","pkg autoclean && rm -rf ~/.cache/*"].includes(s)?`Simulating command: ${s}`:`Command not found: ${a}. Type "help" for a list of commands.`)},oC=()=>{const[a,t]=et.useState([{type:"response",text:"Welcome to HomeBase Pro - Savage Edition. Type 'help' for commands."}]),[i,s]=et.useState(!0),[o,c]=et.useState([]),d=Zn.currentUser;et.useEffect(()=>{if(!d){s(!1);return}const v=yE(rh(Pa,"projects"),_E("userId","==",d.uid)),S=rp(v,w=>{const V=[];w.forEach(B=>{V.push({...B.data(),id:B.id})}),c(V),s(!1)});return()=>S()},[d]);const p=et.useCallback(async v=>{if(!d)return;const S=v.trim(),w=aC(S),V={type:"command",text:S};if(w.startsWith("ai ")){const B=w.slice(3);t(X=>[...X,V]);try{const X=RA(),Z=await IA(X,{model:"gemini-1.5-flash"}).generateContentStream(B);let ht="";for await(const _t of Z.stream)ht+=_t.text(),t(Tt=>{const Pt=[...Tt];return Pt[Pt.length-1]={type:"response",text:ht},Pt})}catch(X){t(J=>[...J,{type:"response",text:`AI Error: ${X.message}`}])}}else{const B=CE(w,o);B!==null&&t(X=>[...X,V,{type:"response",text:B}])}try{await EE(rh(Pa,"terminal-history"),{type:"command",text:S,userId:d.uid,createdAt:Mo()})}catch{}},[d,o]),_=et.useCallback(()=>{t([{type:"response",text:'Terminal cleared. Type "help" for commands.'}])},[]);return{history:a,loading:i,executeCommand:p,clear:_,projects:o}},uC=()=>{const[a,t]=et.useState(""),{history:i,loading:s,executeCommand:o,clear:c}=oC(),d=et.useRef(null),p=et.useRef(null),_=et.useRef(null);et.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[i]),et.useEffect(()=>{const V=new e0.Terminal({fontFamily:"Fira Code",theme:{background:"var(--terminal-bg)",foreground:"var(--terminal-fg)",cursor:"var(--terminal-cursor)",selection:"var(--terminal-selection)",black:"var(--terminal-black)",red:"var(--terminal-red)",green:"var(--terminal-green)",yellow:"var(--terminal-yellow)",blue:"var(--terminal-blue)",magenta:"var(--terminal-magenta)",cyan:"var(--terminal-cyan)",white:"var(--terminal-white)"}});return V.open(d.current),()=>{V.dispose()}},[]);const v=V=>{t(V.target.value)},S=async V=>{V.preventDefault(),a.trim()&&(await o(a),t(""))};et.useEffect(()=>{const V=new e0.Terminal({fontFamily:"Fira Code",theme:{background:"var(--terminal-bg)",foreground:"var(--terminal-fg)",cursor:"var(--terminal-cursor)",selection:"var(--terminal-selection)",black:"var(--terminal-black)",red:"var(--terminal-red)",green:"var(--terminal-green)",yellow:"var(--terminal-yellow)",blue:"var(--terminal-blue)",magenta:"var(--terminal-magenta)",cyan:"var(--terminal-cyan)",white:"var(--terminal-white)"}});return V.open(d.current),()=>{V.dispose()}},[]),et.useEffect(()=>{_.current?.focus()},[]);const w=()=>{_.current?.focus()};return et.useEffect(()=>{const V=B=>{(B.ctrlKey||B.metaKey)&&B.key==="l"&&(B.preventDefault(),c()),B.key==="Escape"&&_.current?.focus()};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[c]),E.jsxs($.div,{className:"terminal-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:w,children:[E.jsxs("div",{className:"terminal-header",children:[E.jsxs("div",{className:"terminal-buttons",children:[E.jsx("span",{className:"button red"}),E.jsx("span",{className:"button yellow"}),E.jsx("span",{className:"button green"})]}),E.jsx("div",{className:"terminal-title",children:"Termux"})]}),E.jsxs("div",{className:"terminal-body",ref:d,children:[E.jsxs("div",{className:"output-area",children:[s&&E.jsx("div",{children:"Loading terminal history..."}),E.jsx(Gr,{children:i.map((V,B)=>E.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:`output-line ${V.type}`,children:[V.type==="command"&&E.jsx("span",{className:"prompt-symbol",children:"$ "}),E.jsx("span",{className:"output-text",children:V.text})]},B))}),E.jsx("div",{ref:p})]}),E.jsxs("form",{onSubmit:S,className:"terminal-input-form",children:[E.jsxs("span",{className:"prompt",children:[E.jsx("span",{className:"prompt-user",children:"homebase"}),E.jsx("span",{className:"prompt-at",children:"@"}),E.jsx("span",{className:"prompt-host",children:"pro"}),E.jsx("span",{className:"prompt-symbol",children:":$ "})]}),E.jsx("input",{ref:_,type:"text",value:a,onChange:v,className:"terminal-input",autoFocus:!0,autoComplete:"off",spellCheck:"false"}),E.jsx($.span,{className:"cursor",animate:{opacity:[1,0]},transition:{duration:.5,repeat:1/0},children:""})]})]}),E.jsx("div",{className:"terminal-footer",children:E.jsxs("span",{className:"terminal-hint",children:[E.jsx("kbd",{children:"Ctrl"})," + ",E.jsx("kbd",{children:"L"})," to clear  Type ",E.jsx("code",{children:"help"})," for commands"]})})]})},cC=({children:a})=>E.jsxs("div",{className:"dashboard-layout",children:[E.jsx(rC,{}),E.jsx("main",{className:"dashboard-main",children:a})]}),sp=()=>{const[a,t]=et.useState([]),[i,s]=et.useState(!0),o=Zn.currentUser;return et.useEffect(()=>{if(!o){s(!1);return}const p=yE(rh(Pa,"projects"),_E("userId","==",o.uid)),_=rp(p,v=>{const S=[];v.forEach(w=>{S.push({...w.data(),id:w.id})}),t(S),s(!1)});return()=>_()},[o]),{projects:a,loading:i,addProject:async p=>{o&&await EE(rh(Pa,"projects"),{...p,userId:o.uid,createdAt:Mo(),lastUpdated:Mo()})},deleteProject:async p=>{await SI(ah(Pa,"projects",p))}}},Yo=()=>E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader-spinner"})}),hC=()=>{const{projects:a,loading:t,addProject:i,deleteProject:s}=sp(),[o,c]=et.useState("All"),[d,p]=et.useState(""),[_,v]=et.useState("grid"),[S,w]=et.useState(!1),[V,B]=et.useState({title:"",tags:"",description:""}),{notify:X}=ap(),J=async st=>{if(st.preventDefault(),!V.title.trim()){X("Project title is required");return}await i({...V,tags:V.tags.split(",").map(Et=>Et.trim()).filter(Et=>Et),status:"Active"}),B({title:"",tags:"",description:""}),w(!1),X("Project added successfully! ")},Z=async(st,Et)=>{window.confirm(`Delete "${Et}"? This cannot be undone.`)&&(await s(st),X("Project deleted"))};if(t)return E.jsx(Yo,{});const ht=a.filter(st=>{const Et=o==="All"||st.status===o,N=!d||st.title?.toLowerCase().includes(d.toLowerCase())||st.tags?.some(b=>b.toLowerCase().includes(d.toLowerCase()));return Et&&N}),_t={Active:"#2CB67D",Pending:"#F2B900",Completed:"#7F5AF0"},Tt={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},Pt={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return E.jsxs("div",{className:"projects-container",children:[E.jsxs($.header,{className:"page-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[E.jsxs("div",{children:[E.jsx($.h1,{className:"page-title",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:"Projects"}),E.jsx($.p,{className:"page-subtitle",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Manage and track your portfolio projects"})]}),E.jsxs($.div,{className:"stats-badge",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30,delay:.3},children:[E.jsx("span",{children:a.length})," Projects"]})]}),E.jsxs($.div,{className:"toolbar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[E.jsx("div",{className:"filter-tabs",children:["All","Active","Pending","Completed"].map(st=>E.jsx($.button,{className:`filter-tab ${o===st?"active":""}`,onClick:()=>c(st),whileHover:{scale:1.05},whileTap:{scale:.95},style:o===st?{background:_t[st]||"var(--accent-primary)"}:{},children:st},st))}),E.jsxs("div",{className:"toolbar-actions",children:[E.jsxs("div",{className:"search-box",children:[E.jsx(GI,{className:"search-icon"}),E.jsx("input",{type:"text",placeholder:"Search projects...",value:d,onChange:st=>p(st.target.value),className:"search-input"})]}),E.jsxs("div",{className:"view-toggle",children:[E.jsx($.button,{className:_==="grid"?"active":"",onClick:()=>v("grid"),whileHover:{scale:1.1},whileTap:{scale:.9},children:E.jsx(RE,{})}),E.jsx($.button,{className:_==="list"?"active":"",onClick:()=>v("list"),whileHover:{scale:1.1},whileTap:{scale:.9},children:E.jsx(qI,{})})]}),E.jsxs($.button,{className:"aurora-button",onClick:()=>w(!0),whileHover:{scale:1.05},whileTap:{scale:.95},children:[E.jsx(qd,{})," Add Project"]})]})]}),E.jsx($.div,{layout:!0,className:`project-grid ${_}`,variants:Tt,initial:"hidden",animate:"visible",children:E.jsx(Gr,{mode:"popLayout",children:ht.length>0?ht.map((st,Et)=>E.jsxs($.div,{layout:!0,variants:Pt,initial:"hidden",animate:"visible",exit:{opacity:0,scale:.8},transition:{duration:.3},className:"aurora-card project-card",whileHover:{y:-5,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[E.jsxs("div",{className:"project-card-header",children:[E.jsx("h3",{className:"project-card-title",children:st.title}),E.jsx($.div,{className:"status-dot",style:{backgroundColor:_t[st.status]||"#888"},title:st.status,whileHover:{scale:1.5},animate:{boxShadow:[`0 0 0 ${_t[st.status]||"#888"}`,`0 0 10px ${_t[st.status]||"#888"}`,`0 0 0 ${_t[st.status]||"#888"}`]},transition:{duration:2,repeat:1/0}})]}),st.description&&E.jsx("p",{className:"project-description",children:st.description}),E.jsxs("p",{className:"project-meta",children:["Updated ",st.lastUpdated?.toDate?new Date(st.lastUpdated.toDate()).toLocaleDateString():"Recently"]}),E.jsx("div",{className:"project-card-tags",children:st.tags?.map((N,b)=>E.jsx($.span,{className:"tech-tag",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:b*.1},whileHover:{scale:1.1},children:N},N))}),E.jsxs("div",{className:"project-card-footer",children:[E.jsx("div",{className:"project-stats",children:E.jsxs("span",{children:["#",String(Et+1).padStart(3,"0")]})}),E.jsx($.button,{className:"delete-btn",onClick:()=>Z(st.id,st.title),title:"Delete Project",whileHover:{scale:1.2,color:"#E53E3E"},whileTap:{scale:.9},children:E.jsx(JI,{})})]})]},st.id)):E.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"empty-state aurora-card",children:[E.jsx($.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),E.jsxs("p",{children:["No projects found",d?` for "${d}"`:"","."]}),E.jsx("p",{style:{fontSize:"0.875rem",opacity:.7},children:d?"Try a different search term":"Add one to get started!"})]})})}),E.jsx(Gr,{children:S&&E.jsx($.div,{className:"modal-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(!1),children:E.jsx($.div,{className:"aurora-card modal-content",initial:{y:-50,opacity:0,scale:.9},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.9},onClick:st=>st.stopPropagation(),children:E.jsxs("form",{onSubmit:J,className:"add-project-form",children:[E.jsxs("h2",{className:"modal-title",children:[E.jsx(qd,{style:{verticalAlign:"middle",marginRight:"8px"}}),"Add New Project"]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"project-title",children:"Project Title *"}),E.jsx("input",{id:"project-title",type:"text",className:"aurora-input",value:V.title,onChange:st=>B({...V,title:st.target.value}),placeholder:"e.g., My Awesome App",required:!0,autoFocus:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"project-description",children:"Description"}),E.jsx("textarea",{id:"project-description",className:"aurora-input",value:V.description,onChange:st=>B({...V,description:st.target.value}),placeholder:"Brief description of your project...",rows:3,style:{resize:"vertical"}})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"project-tags",children:"Tags (comma-separated)"}),E.jsx("input",{id:"project-tags",type:"text",className:"aurora-input",value:V.tags,onChange:st=>B({...V,tags:st.target.value}),placeholder:"e.g., React, Node.js, AI"})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx($.button,{type:"button",className:"aurora-button secondary",onClick:()=>w(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),E.jsxs($.button,{type:"submit",className:"aurora-button",whileHover:{scale:1.02},whileTap:{scale:.98},children:[E.jsx(qd,{style:{marginRight:"4px"}})," Add Project"]})]})]})})})})]})},fC=()=>{const{projects:a,loading:t}=sp(),[i,s]=et.useState({totalProjects:0,activeProjects:0,completedProjects:0,projectsByTag:{}});return et.useEffect(()=>{if(!t){const o=a.length,c=a.filter(_=>_.status==="Active").length,d=a.filter(_=>_.status==="Completed").length,p=a.reduce((_,v)=>(v.tags?.forEach(S=>{_[S]=(_[S]||0)+1}),_),{});s({totalProjects:o,activeProjects:c,completedProjects:d,projectsByTag:p})}},[a,t]),{stats:i,loading:t}},dC=()=>{const{stats:a,loading:t}=fC();return t?E.jsx(Yo,{}):E.jsxs("div",{className:"analytics-container",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Analytics"}),E.jsx("p",{className:"page-subtitle",children:"An overview of your project landscape"})]}),E.jsxs("div",{className:"stats-grid",children:[E.jsxs($.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Total Projects"}),E.jsx("p",{children:a.totalProjects})]}),E.jsxs($.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Active Projects"}),E.jsx("p",{children:a.activeProjects})]}),E.jsxs($.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Completed Projects"}),E.jsx("p",{children:a.completedProjects})]})]}),E.jsxs("div",{className:"aurora-card chart-card",children:[E.jsx("h3",{children:"Projects by Tag"}),Object.entries(a.projectsByTag).map(([i,s])=>E.jsxs("div",{className:"chart-bar",children:[E.jsx("span",{className:"chart-label",children:i}),E.jsx("div",{className:"chart-value",style:{width:`${a.totalProjects>0?s/a.totalProjects*100:0}%`},children:s})]},i))]})]})},mC=()=>{const[a,t]=et.useState(null),[i,s]=et.useState(!0),{user:o}=Dh();return et.useEffect(()=>{if(!o){t(null),s(!1);return}s(!0);const d=ah(Pa,"users",o.uid),p=rp(d,_=>{if(_.exists())t(_.data());else{const v={displayName:o.displayName,email:o.email,photoURL:o.photoURL,createdAt:Mo()};EI(d,v).catch(()=>{}),t(v)}s(!1)},()=>{s(!1)});return()=>p()},[o]),{userProfile:a,loading:i,updateUserProfile:async d=>{if(!o)return;const p=ah(Pa,"users",o.uid);await AI(p,{...d,updatedAt:Mo()})},user:o}},pC=()=>{const{userProfile:a,loading:t,updateUserProfile:i}=mC(),[s,o]=et.useState(""),{notify:c}=ap();et.useEffect(()=>{a&&o(a.displayName||"")},[a]);const d=async p=>{p.preventDefault(),await i({displayName:s}),c("Settings saved successfully!")};return t?E.jsx(Yo,{}):E.jsxs("div",{className:"settings-container",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Settings"}),E.jsx("p",{className:"page-subtitle",children:"Manage your profile and application settings"})]}),E.jsx($.div,{className:"aurora-card",children:E.jsxs("form",{onSubmit:d,style:{padding:"var(--space-5)"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Display Name"}),E.jsx("input",{type:"text",className:"form-input",value:s,onChange:p=>o(p.target.value)})]}),E.jsx("div",{className:"form-actions",children:E.jsx("button",{type:"submit",className:"aurora-button",children:"Save Changes"})})]})})]})},gC=()=>{const{projects:a,loading:t}=sp();return t?E.jsx(Yo,{}):E.jsx("div",{children:E.jsx(uC,{projects:a})})};function yC(){const{user:a}=Dh(),[t,i]=et.useState(""),[s,o]=et.useState(""),[c,d]=et.useState(!1),[p,_]=et.useState(""),[v,S]=et.useState(!1);et.useEffect(()=>{a&&(i(a.displayName||""),o(a.email||""))},[a]);const w=async X=>{X.preventDefault(),d(!0),_("");try{a&&(await LS(a,{displayName:t.trim()||null}),_("Profile updated successfully! "),S(!1))}catch(J){_("Error: "+J.message)}finally{d(!1)}};if(!a)return E.jsx("div",{className:"aurora-card",style:{padding:"2rem",textAlign:"center"},children:E.jsx("h2",{children:"Please sign in to view your profile."})});const V={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.1}}},B={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return E.jsxs($.div,{className:"profile-container",variants:V,initial:"hidden",animate:"visible",children:[E.jsxs($.header,{className:"page-header",variants:B,children:[E.jsx("h1",{className:"page-title",children:"litreelabmeta Profile"}),E.jsx("p",{className:"page-subtitle",children:"Manage your HomeBase Pro identity"})]}),E.jsx($.div,{className:"aurora-card",variants:B,style:{padding:"2rem",marginBottom:"2rem",background:"linear-gradient(135deg, rgba(127, 90, 240, 0.1), rgba(44, 182, 125, 0.1))"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem",flexWrap:"wrap"},children:[E.jsxs($.div,{style:{width:"100px",height:"100px",borderRadius:"50%",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem",fontWeight:"bold",color:"white",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)",position:"relative"},whileHover:{scale:1.05},animate:{boxShadow:["0 10px 40px rgba(127, 90, 240, 0.4)","0 10px 60px rgba(127, 90, 240, 0.6)","0 10px 40px rgba(127, 90, 240, 0.4)"]},transition:{duration:2,repeat:1/0},children:[a.photoURL?E.jsx("img",{src:a.photoURL,alt:t,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):t?.charAt(0)?.toUpperCase()||E.jsx(zc,{}),E.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",background:"#2CB67D",borderRadius:"50%",border:"3px solid var(--background-primary)"}})]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"0.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:t||"litreelabmeta"}),E.jsxs("p",{style:{color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx($v,{size:16})," ",s]}),E.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",fontFamily:"var(--font-mono)"},children:["ID: ",a.uid?.slice(0,8),"...",a.uid?.slice(-8)]})]}),E.jsxs($.button,{className:"aurora-button secondary",onClick:()=>S(!v),whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v?E.jsx(t0,{}):E.jsx(UI,{}),v?"Cancel":"Edit Profile"]})]})}),E.jsx($.div,{variants:B,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[{icon:E.jsx(QI,{}),label:"Status",value:a.emailVerified?"Verified ":"Unverified",color:a.emailVerified?"#2CB67D":"#F2B900"},{icon:E.jsx($I,{}),label:"Provider",value:a.providerData[0]?.providerId?.split(".")[0]||"Google",color:"#7F5AF0"},{icon:E.jsx(zc,{}),label:"Member Since",value:a.metadata?.creationTime?new Date(a.metadata.creationTime).toLocaleDateString():"N/A",color:"#00D4AA"}].map((X,J)=>E.jsxs($.div,{className:"aurora-card",style:{padding:"1.5rem",textAlign:"center",borderLeft:`4px solid ${X.color}`},whileHover:{y:-5},children:[E.jsx("div",{style:{fontSize:"2rem",color:X.color,marginBottom:"0.5rem"},children:X.icon}),E.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:X.label}),E.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:X.value})]},J))}),E.jsx(Gr,{children:v&&E.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"aurora-card",style:{padding:"2rem"},children:[E.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Edit Profile"}),E.jsxs("form",{onSubmit:w,children:[E.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx(zc,{size:16})," Display Name"]}),E.jsx("input",{type:"text",className:"aurora-input",value:t,onChange:X=>i(X.target.value),placeholder:"Enter your display name"})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx($v,{size:16})," Email (Read-only)"]}),E.jsx("input",{type:"email",className:"aurora-input",value:s,disabled:!0,style:{opacity:.6}})]}),p&&E.jsx($.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"1rem",background:p.includes("Error")?"rgba(229, 62, 62, 0.1)":"rgba(44, 182, 125, 0.1)",borderRadius:"8px",marginBottom:"1rem",color:p.includes("Error")?"var(--color-error)":"var(--color-success)"},children:p}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsx($.button,{type:"button",className:"aurora-button secondary",onClick:()=>S(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),E.jsx($.button,{type:"submit",className:"aurora-button",disabled:c,whileHover:{scale:1.02},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:c?"Saving...":E.jsxs(E.Fragment,{children:[E.jsx(t0,{})," Save Changes"]})})]})]})]})})]})}const _C=()=>{const{user:a}=Dh(),t=a?.displayName||a?.email?.split("@")[0]||"Guest";return E.jsxs($.div,{className:"aurora-card",style:{padding:"var(--space-5)",textAlign:"center"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[E.jsx($.div,{style:{width:"80px",height:"80px",margin:"0 auto 1.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)"},animate:{rotate:[0,10,-10,0]},transition:{duration:5,repeat:1/0},children:""}),E.jsxs("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Welcome, ",t]}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.125rem",marginBottom:"2rem"},children:"Your HomeBase Pro command center is ready"}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",maxWidth:"600px",margin:"0 auto"},children:[{icon:"",label:"Projects",path:"/projects"},{icon:"",label:"Analytics",path:"/analytics"},{icon:"",label:"Termux",path:"/termux"},{icon:"",label:"Profile",path:"/profile"}].map((i,s)=>E.jsx($.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:E.jsxs(uA,{to:i.path,className:"aurora-card",style:{padding:"1.5rem",textDecoration:"none",color:"var(--text-primary)",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"2rem"},children:i.icon}),E.jsx("span",{style:{fontWeight:600},children:i.label})]})},s))})]})};function vC(){const{user:a,loading:t}=Dh();return t?E.jsx(Yo,{}):a?E.jsx(cC,{children:E.jsxs(cA,{children:[E.jsx(Va,{path:"/",element:E.jsx(_C,{})}),E.jsx(Va,{path:"/projects",element:E.jsx(hC,{})}),E.jsx(Va,{path:"/analytics",element:E.jsx(dC,{})}),E.jsx(Va,{path:"/settings",element:E.jsx(pC,{})}),E.jsx(Va,{path:"/termux",element:E.jsx(gC,{})}),E.jsx(Va,{path:"/profile",element:E.jsx(yC,{})}),E.jsx(Va,{path:"*",element:E.jsx(hA,{to:"/"})})]})}):E.jsx(tC,{})}const i0=()=>{const a=et.useRef(null),t=et.useRef(null);return et.useEffect(()=>{const i=a.current,s=i.getContext("2d"),o=()=>{i.width=window.innerWidth,i.height=window.innerHeight};o(),window.addEventListener("resize",o);const d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),p=14,_=i.width/p,v=[];for(let V=0;V<_;V++)v[V]=Math.random()*-100;let S=0;const w=()=>{if(S++,S%2!==0){t.current=requestAnimationFrame(w);return}s.fillStyle="rgba(10, 10, 16, 0.05)",s.fillRect(0,0,i.width,i.height),s.fillStyle="#0F0",s.font=`${p}px monospace`;for(let V=0;V<v.length;V++){const B=d[Math.floor(Math.random()*d.length)],X=Math.floor(Math.random()*155+100);s.fillStyle=`rgba(0, ${X}, 0, ${Math.random()*.5+.3})`,s.fillText(B,V*p,v[V]*p),v[V]*p>i.height&&Math.random()>.975&&(v[V]=0),v[V]++}t.current=requestAnimationFrame(w)};return w(),()=>{window.removeEventListener("resize",o),t.current&&cancelAnimationFrame(t.current)}},[]),E.jsx("canvas",{ref:a,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,opacity:.15,pointerEvents:"none"}})};class TC{constructor(t,i){this.x=Math.random()*t,this.y=Math.random()*i,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.size=Math.random()*2+1,this.color=Math.random()>.5?"#7F5AF0":"#2CB67D"}update(t,i,s){if(this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t)&&(this.vx*=-1),(this.y<0||this.y>i)&&(this.vy*=-1),s.x!==null){const o=s.x-this.x,c=s.y-this.y,d=Math.sqrt(o*o+c*c);if(d<100){const p=(100-d)/100;this.vx+=o/d*p*.02,this.vy+=c/d*p*.02}}}draw(t){t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fillStyle=this.color,t.fill()}}const Bd=()=>{const a=et.useRef(null),t=et.useRef(null),i=et.useRef({x:null,y:null});return et.useEffect(()=>{const s=a.current,o=s.getContext("2d"),c=()=>{s.width=window.innerWidth,s.height=window.innerHeight};c(),window.addEventListener("resize",c);const d=S=>{i.current={x:S.clientX,y:S.clientY}};window.addEventListener("mousemove",d);const p=[];for(let S=0;S<50;S++)p.push(new TC(s.width,s.height));let _=0;const v=()=>{if(_++,_%2!==0){t.current=requestAnimationFrame(v);return}o.clearRect(0,0,s.width,s.height),p.forEach((S,w)=>{S.update(s.width,s.height,i.current),S.draw(o),p.slice(w+1).forEach(V=>{const B=S.x-V.x,X=S.y-V.y,J=Math.sqrt(B*B+X*X);J<150&&(o.beginPath(),o.strokeStyle=`rgba(127, 90, 240, ${.2*(1-J/150)})`,o.lineWidth=.5,o.moveTo(S.x,S.y),o.lineTo(V.x,V.y),o.stroke())})}),t.current=requestAnimationFrame(v)};return v(),()=>{window.removeEventListener("resize",c),window.removeEventListener("mousemove",d),t.current&&cancelAnimationFrame(t.current)}},[]),E.jsx("canvas",{ref:a,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,pointerEvents:"none"}})},Hd=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],EC=a=>{const[t,i]=et.useState([]),[s,o]=et.useState(!1);return et.useEffect(()=>{const c=d=>{const p=[...t,d.key];p.length>Hd.length&&p.shift(),i(p),p.length===Hd.length&&p.every((v,S)=>v===Hd[S])&&!s&&(o(!0),a?.())};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,a,s]),{activated:s,reset:()=>{o(!1),i([])}}},Fd=(a,t)=>{const[i,s]=et.useState([]),o=typeof a=="string"?a.split(""):a;et.useEffect(()=>{const c=d=>{const p=[...i,d.key.toLowerCase()];p.length>o.length&&p.shift(),s(p),p.length===o.length&&p.every((v,S)=>v===o[S].toLowerCase())&&(t?.(),s([]))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[i,o,t])},AC=()=>{const[a,t]=et.useState("normal"),[i,s]=et.useState("");return EC(()=>{t("god");const o=new Audio;o.volume=.3;const c=new(window.AudioContext||window.webkitAudioContext),d=c.createOscillator(),p=c.createGain();d.connect(p),p.connect(c.destination),d.frequency.setValueAtTime(440,c.currentTime),d.frequency.exponentialRampToValueAtTime(880,c.currentTime+.1),p.gain.setValueAtTime(.3,c.currentTime),p.gain.exponentialRampToValueAtTime(.01,c.currentTime+.5),d.start(c.currentTime),d.stop(c.currentTime+.5)}),Fd("matrix",()=>t(o=>o==="matrix"?"normal":"matrix")),Fd("hacker",()=>t(o=>o==="hacker"?"normal":"hacker")),Fd("particles",()=>t(o=>o==="particles"?"normal":"particles")),et.useEffect(()=>{if(a==="hacker"){const o="01",c=setInterval(()=>{s(o[Math.floor(Math.random()*o.length)])},50);return()=>clearInterval(c)}},[a]),E.jsxs(E.Fragment,{children:[a==="normal"&&E.jsx(Bd,{}),a==="matrix"&&E.jsx(i0,{}),a==="particles"&&E.jsx(Bd,{}),a==="god"&&E.jsxs(E.Fragment,{children:[E.jsx(i0,{}),E.jsx(Bd,{})]}),a==="hacker"&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 255, 0, 0.05)",zIndex:9999,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"monospace",fontSize:"20vw",color:"rgba(0, 255, 0, 0.1)",fontWeight:"bold"},children:i}),a!=="normal"&&E.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"8px 16px",background:a==="god"?"linear-gradient(135deg, #FFD700, #FF6B35)":"var(--accent-primary)",borderRadius:"8px",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",zIndex:1e4,animation:"pulse 2s infinite",boxShadow:a==="god"?"0 0 30px rgba(255, 215, 0, 0.5)":void 0},children:a==="god"?" GOD MODE ":`${a} mode`})]})};MA.createRoot(document.getElementById("root")).render(E.jsx(Br.StrictMode,{children:E.jsx(fA,{children:E.jsx(CI,{children:E.jsxs(eC,{children:[E.jsx(AC,{}),E.jsx(vC,{})]})})})}));
