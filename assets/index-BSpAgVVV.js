import{j as E,A as Kr,m as tt}from"./motion-K6OG_hvw.js";import{a as lS,b as oS,g as uS,r as $,R as Hr,N as cS,L as hS,c as fS,d as Os,e as dS,B as mS}from"./router-CmIGl_H7.js";import{L as a0,g as l0,i as pS,a as gS,_ as Kd,C as Qd,r as Co,b as yS,S as el,E as pm,c as gn,d as Ve,e as _S,f as Yn,h as an,F as ch,j as vS,q as Po,k as jo,l as gm,m as TS,n as o0,o as Fc,p as u0,u as c0,s as ES,t as SS,v as yo,w as _o,x as AS,y as wS,z as bS,A as RS,B as IS,D as CS,G as xS}from"./firebase-BJVn5zQt.js";import{r as NS}from"./xterm-DKb-39uv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Vd={exports:{}},po={},Od={exports:{}},Md={};var x_;function DS(){return x_||(x_=1,(function(s){function t(G,et){var ot=G.length;G.push(et);t:for(;0<ot;){var kt=ot-1>>>1,Ft=G[kt];if(0<o(Ft,et))G[kt]=et,G[ot]=Ft,ot=kt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var et=G[0],ot=G.pop();if(ot!==et){G[0]=ot;t:for(var kt=0,Ft=G.length,Ie=Ft>>>1;kt<Ie;){var Kt=2*(kt+1)-1,xt=G[Kt],$t=Kt+1,Xe=G[$t];if(0>o(xt,ot))$t<Ft&&0>o(Xe,xt)?(G[kt]=Xe,G[$t]=ot,kt=$t):(G[kt]=xt,G[Kt]=ot,kt=Kt);else if($t<Ft&&0>o(Xe,ot))G[kt]=Xe,G[$t]=ot,kt=$t;else break t}}return et}function o(G,et){var ot=G.sortIndex-et.sortIndex;return ot!==0?ot:G.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,w=null,V=3,B=!1,Q=!1,J=!1,Z=!1,ct=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function Ct(G){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=G)a(v),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(v)}}function re(G){if(J=!1,Ct(G),!Q)if(i(_)!==null)Q=!0,Mt||(Mt=!0,k());else{var et=i(v);et!==null&&Oe(re,et.startTime-G)}}var Mt=!1,R=-1,b=5,x=-1;function O(){return Z?!0:!(s.unstable_now()-x<b)}function D(){if(Z=!1,Mt){var G=s.unstable_now();x=G;var et=!0;try{t:{Q=!1,J&&(J=!1,vt(R),R=-1),B=!0;var ot=V;try{e:{for(Ct(G),w=i(_);w!==null&&!(w.expirationTime>G&&O());){var kt=w.callback;if(typeof kt=="function"){w.callback=null,V=w.priorityLevel;var Ft=kt(w.expirationTime<=G);if(G=s.unstable_now(),typeof Ft=="function"){w.callback=Ft,Ct(G),et=!0;break e}w===i(_)&&a(_),Ct(G)}else a(_);w=i(_)}if(w!==null)et=!0;else{var Ie=i(v);Ie!==null&&Oe(re,Ie.startTime-G),et=!1}}break t}finally{w=null,V=ot,B=!1}et=void 0}}finally{et?k():Mt=!1}}}var k;if(typeof _t=="function")k=function(){_t(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,he=C.port2;C.port1.onmessage=D,k=function(){he.postMessage(null)}}else k=function(){ct(D,0)};function Oe(G,et){R=ct(function(){G(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G||(b=0<G?Math.floor(1e3/G):5)},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ot=V;V=et;try{return G()}finally{V=ot}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ot=V;V=G;try{return et()}finally{V=ot}},s.unstable_scheduleCallback=function(G,et,ot){var kt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?kt+ot:kt):ot=kt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ot+Ft,G={id:A++,callback:et,priorityLevel:G,startTime:ot,expirationTime:Ft,sortIndex:-1},ot>kt?(G.sortIndex=ot,t(v,G),i(_)===null&&G===i(v)&&(J?(vt(R),R=-1):J=!0,Oe(re,ot-kt))):(G.sortIndex=Ft,t(_,G),Q||B||(Q=!0,Mt||(Mt=!0,k()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var et=V;return function(){var ot=V;V=et;try{return G.apply(this,arguments)}finally{V=ot}}}})(Md)),Md}var N_;function VS(){return N_||(N_=1,Od.exports=DS()),Od.exports}var D_;function OS(){if(D_)return po;D_=1;var s=VS(),t=lS(),i=oS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ct:return"Profiler";case Z:return"StrictMode";case re:return"Suspense";case Mt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case _t:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var Oe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},kt=[],Ft=-1;function Ie(e){return{current:e}}function Kt(e){0>Ft||(e.current=kt[Ft],kt[Ft]=null,Ft--)}function xt(e,n){Ft++,kt[Ft]=e.current,e.current=n}var $t=Ie(null),Xe=Ie(null),_n=Ie(null),ir=Ie(null);function rr(e,n){switch(xt(_n,n),xt(Xe,e),xt($t,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=$y(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Kt($t),xt($t,e)}function xi(){Kt($t),Kt(Xe),Kt(_n)}function ul(e){e.memoizedState!==null&&xt(ir,e);var n=$t.current,r=$y(n,e.type);n!==r&&(xt(Xe,e),xt($t,r))}function Ks(e){Xe.current===e&&(Kt($t),Kt(Xe)),ir.current===e&&(Kt(ir),co._currentValue=ot)}var Qs,Ys;function ti(e){if(Qs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Qs=n&&n[1]||"",Ys=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+e+Ys}var cl=!1;function is(e,n){if(!e||cl)return"";cl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),P=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var H=`
`+I[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ti(r):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return is(e.type,!1);case 11:return is(e.type.render,!1);case 1:return is(e.type,!0);case 31:return ti("Activity");default:return""}}function fl(e){try{var n="",r=null;do n+=hl(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fe=Object.prototype.hasOwnProperty,we=s.unstable_scheduleCallback,sr=s.unstable_cancelCallback,Oh=s.unstable_shouldYield,Wo=s.unstable_requestPaint,Ke=s.unstable_now,rs=s.unstable_getCurrentPriorityLevel,dl=s.unstable_ImmediatePriority,ml=s.unstable_UserBlockingPriority,ar=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,$o=s.unstable_IdlePriority,tu=s.log,eu=s.unstable_setDisableYieldValue,Ln=null,Me=null;function vn(e){if(typeof tu=="function"&&eu(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Ln,e)}catch{}}var se=Math.clz32?Math.clz32:iu,nu=Math.log,Xs=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/Xs|0)|0}var ei=256,ss=262144,de=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ni(l):(g&=T,g!==0?h=ni(g):r||(r=T&~e,r!==0&&(h=ni(r))))):(T=l&~f,T!==0?h=ni(T):g!==0?h=ni(g):r||(r=l&~e,r!==0&&(h=ni(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=de;return de<<=1,(de&62914560)===0&&(de=4194304),e}function ri(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function as(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lh(e,n,r,l,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-se(r),K=1<<H;T[H]=0,I[H]=-1;var j=P[H];if(j!==null)for(P[H]=null,H=0;H<j.length;H++){var q=j[H];q!==null&&(q.lane&=-536870913)}r&=~K}l!==0&&ls(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ls(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-se(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function pl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-se(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function gl(e,n){var r=n&-n;return r=(r&42)!==0?1:os(r),(r&(e.suspendedLanes|n))!==0?0:r}function os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function Pn(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var jn=Math.random().toString(36).slice(2),me="__reactFiber$"+jn,Ce="__reactProps$"+jn,si="__reactContainer$"+jn,Js="__reactEvents$"+jn,Uh="__reactListeners$"+jn,au="__reactHandles$"+jn,lu="__reactResources$"+jn,ai="__reactMarker$"+jn;function Zs(e){delete e[me],delete e[Ce],delete e[Js],delete e[Uh],delete e[au]}function li(e){var n=e[me];if(n)return n;for(var r=e.parentNode;r;){if(n=r[si]||r[me]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=a_(e);e!==null;){if(r=e[me])return r;e=a_(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[me]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ln(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(e){e[ai]=!0}var yl=new Set,_l={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},El={};function ou(e){return fe.call(El,e)?!0:fe.call(Tl,e)?!1:vl.test(e)?El[e]=!0:(Tl[e]=!0,!1)}function Ws(e,n,r){if(ou(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function on(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ge(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Sl(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ut(e){if(!e._valueTracker){var n=lr(e)?"checked":"value";e._valueTracker=Sl(e,n,""+e[n])}}function us(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=lr(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var cs=/[\n"\\]/g;function Je(e){return e.replace(cs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $s(e,n,r,l,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Al(e,g,xe(n)):r!=null?Al(e,g,xe(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+xe(T):e.removeAttribute("name")}function uu(e,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ut(e);return}r=r!=null?""+xe(r):"",n=n!=null?""+xe(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ut(e)}function Al(e,n,r){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function or(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,r){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+xe(r):""}function ur(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(Oe(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=xe(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Ut(e)}function Ze(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||hu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function bl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&wl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&wl(e,f,n[f])}function ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(e){return cr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zn(){}var Rl=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,fi=null;function hs(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[Ce]||null;t:switch(e=n.stateNode,n.type){case"input":if($s(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Je(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Ce]||null;if(!h)throw Error(a(90));$s(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&us(l)}break t;case"textarea":cu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&or(e,!!r.multiple,n,!1)}}}var na=!1;function fr(e,n,r){if(na)return e(n,r);na=!0;try{var l=e(n);return l}finally{if(na=!1,(hr!==null||fi!==null)&&(sc(),hr&&(n=hr,e=fi,fi=hr=null,hs(n),e)))for(n=0;n<e.length;n++)hs(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Ce]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(Sn)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){fs=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{fs=!1}var di=null,Il=null,ds=null;function Cl(){if(ds)return ds;var e,n=Il,r=n.length,l,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return ds=h.slice(e,1<l?1-l:void 0)}function ms(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Bn(){return!1}function ke(e){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Bn,this.isPropagationStopped=Bn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=ke(Vi),dr=w({},Vi,{view:0,detail:0}),xl=ke(dr),mr,ia,pi,ra=w({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(mr=e.screenX-pi.screenX,ia=e.screenY-pi.screenY):ia=mr=0,pi=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),Nl=ke(ra),ps=w({},ra,{dataTransfer:0}),du=ke(ps),mu=w({},dr,{relatedTarget:0}),gs=ke(mu),Dl=w({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=ke(Dl),sa=w({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=ke(sa),yu=w({},Vi,{data:0}),gi=ke(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function pr(){return Eu}var Qe=w({},dr,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=ke(Qe),Au=w({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=ke(Au),u=w({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),m=ke(u),y=w({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=ke(y),L=w({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z=ke(L),W=w({},Vi,{newState:0,oldState:0}),pt=ke(W),ae=[9,13,27,32],Vt=Sn&&"CompositionEvent"in window,Zt=null;Sn&&"documentMode"in document&&(Zt=document.documentMode);var An=Sn&&"TextEvent"in window&&!Zt,yi=Sn&&(!Vt||Zt&&8<Zt&&11>=Zt),Hn=" ",Fn=!1;function ys(e,n){switch(e){case"keyup":return ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function DE(e,n){switch(e){case"compositionend":return aa(n);case"keypress":return n.which!==32?null:(Fn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Fn?null:e;default:return null}}function VE(e,n){if(la)return e==="compositionend"||!Vt&&ys(e,n)?(e=Cl(),ds=Il=di=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!OE[e.type]:n==="textarea"}function cp(e,n,r,l){hr?fi?fi.push(l):fi=[l]:hr=l,n=fc(n,"onChange"),0<n.length&&(r=new mi("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Vl=null,Ol=null;function ME(e){Ky(e,0)}function wu(e){var n=ln(e);if(us(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(Sn){var Ph;if(Sn){var jh="oninput"in document;if(!jh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),jh=typeof dp.oninput=="function"}Ph=jh}else Ph=!1;fp=Ph&&(!document.documentMode||9<document.documentMode)}function mp(){Vl&&(Vl.detachEvent("onpropertychange",pp),Ol=Vl=null)}function pp(e){if(e.propertyName==="value"&&wu(Ol)){var n=[];cp(n,Ol,e,En(e)),fr(ME,n)}}function kE(e,n,r){e==="focusin"?(mp(),Vl=n,Ol=r,Vl.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function LE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Ol)}function UE(e,n){if(e==="click")return wu(n)}function PE(e,n){if(e==="input"||e==="change")return wu(n)}function jE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:jE;function Ml(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!fe.call(n,h)||!un(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var r=gp(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=gp(r)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=hi(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var zE=Sn&&"documentMode"in document&&11>=document.documentMode,oa=null,qh=null,kl=null,Bh=!1;function Tp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bh||oa==null||oa!==hi(l)||(l=oa,"selectionStart"in l&&zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Ml(kl,l)||(kl=l,l=fc(qh,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=oa)))}function _s(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ua={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Hh={},Ep={};Sn&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function vs(e){if(Hh[e])return Hh[e];if(!ua[e])return e;var n=ua[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ep)return Hh[e]=n[r];return e}var Sp=vs("animationend"),Ap=vs("animationiteration"),wp=vs("animationstart"),qE=vs("transitionrun"),BE=vs("transitionstart"),HE=vs("transitioncancel"),bp=vs("transitionend"),Rp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Gn(e,n){Rp.set(e,n),ui(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}},wn=[],ca=0,Gh=0;function Ru(){for(var e=ca,n=Gh=ca=0;n<e;){var r=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Ip(r,h,f)}}function Iu(e,n,r,l){wn[ca++]=e,wn[ca++]=n,wn[ca++]=r,wn[ca++]=l,Gh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Kh(e,n,r,l){return Iu(e,n,r,l),Cu(e)}function Ts(e,n){return Iu(e,null,null,n),Cu(e)}function Ip(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-se(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Cu(e){if(50<io)throw io=0,nd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={};function FE(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,r,l){return new FE(e,n,r,l)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mi(e,n){var r=e.alternate;return r===null?(r=cn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Cp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,r,l,h,f){var g=0;if(l=e,typeof e=="function")Qh(e)&&(g=1);else if(typeof e=="string")g=X1(e,r,$t.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=cn(31,r,n,h),e.elementType=x,e.lanes=f,e;case J:return Es(r.children,h,f,n);case Z:g=8,h|=24;break;case ct:return e=cn(12,r,n,h|2),e.elementType=ct,e.lanes=f,e;case re:return e=cn(13,r,n,h),e.elementType=re,e.lanes=f,e;case Mt:return e=cn(19,r,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case vt:g=9;break t;case Ct:g=11;break t;case R:g=14;break t;case b:g=16,l=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=cn(g,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Es(e,n,r,l){return e=cn(7,e,l,n),e.lanes=r,e}function Yh(e,n,r){return e=cn(6,e,null,n),e.lanes=r,e}function xp(e){var n=cn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,r){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var r=Np.get(e);return r!==void 0?r:(n={value:e,source:n,stack:fl(n)},Np.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var fa=[],da=0,Nu=null,Ll=0,Rn=[],In=0,gr=null,_i=1,vi="";function ki(e,n){fa[da++]=Ll,fa[da++]=Nu,Nu=e,Ll=n}function Dp(e,n,r){Rn[In++]=_i,Rn[In++]=vi,Rn[In++]=gr,gr=e;var l=_i;e=vi;var h=32-se(l)-1;l&=~(1<<h),r+=1;var f=32-se(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,_i=1<<32-se(n)+h|r<<h|l,vi=f+e}else _i=1<<f|r<<h|l,vi=e}function Jh(e){e.return!==null&&(ki(e,1),Dp(e,1,0))}function Zh(e){for(;e===Nu;)Nu=fa[--da],fa[da]=null,Ll=fa[--da],fa[da]=null;for(;e===gr;)gr=Rn[--In],Rn[In]=null,vi=Rn[--In],Rn[In]=null,_i=Rn[--In],Rn[In]=null}function Vp(e,n){Rn[In++]=_i,Rn[In++]=vi,Rn[In++]=gr,_i=n.id,vi=n.overflow,gr=e}var Le=null,Yt=null,Rt=!1,yr=null,Cn=!1,Wh=Error(a(519));function _r(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(bn(n,e)),Wh}function Op(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[me]=e,n[Ce]=l,r){case"dialog":Et("cancel",n),Et("close",n);break;case"iframe":case"object":case"embed":Et("load",n);break;case"video":case"audio":for(r=0;r<so.length;r++)Et(so[r],n);break;case"source":Et("error",n);break;case"img":case"image":case"link":Et("error",n),Et("load",n);break;case"details":Et("toggle",n);break;case"input":Et("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Et("invalid",n);break;case"textarea":Et("invalid",n),ur(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Jy(n.textContent,r)?(l.popover!=null&&(Et("beforetoggle",n),Et("toggle",n)),l.onScroll!=null&&Et("scroll",n),l.onScrollEnd!=null&&Et("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||_r(e,!0)}function Mp(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Le=Le.return}}function ma(e){if(e!==Le)return!1;if(!Rt)return Mp(e),Rt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||yd(e.type,e.memoizedProps)),r=!r),r&&Yt&&_r(e),Mp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Yt=s_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Yt=s_(e)}else n===27?(n=Yt,Vr(e.type)?(e=Sd,Sd=null,Yt=e):Yt=n):Yt=Le?Nn(e.stateNode.nextSibling):null;return!0}function Ss(){Yt=Le=null,Rt=!1}function $h(){var e=yr;return e!==null&&(en===null?en=e:en.push.apply(en,e),yr=null),e}function Ul(e){yr===null?yr=[e]:yr.push(e)}var tf=Ie(null),As=null,Li=null;function vr(e,n,r){xt(tf,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=tf.current,Kt(tf)}function ef(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function nf(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),ef(f.return,r,e),l||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),ef(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function pa(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;un(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===ir.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&nf(n,e,r,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ws(e){As=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ue(e){return kp(As,e)}function Vu(e,n){return As===null&&ws(e),kp(e,n)}function kp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return r}var GE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},KE=s.unstable_scheduleCallback,QE=s.unstable_NormalPriority,ye={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new GE,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&KE(QE,function(){e.controller.abort()})}var jl=null,sf=0,ga=0,ya=null;function YE(e,n){if(jl===null){var r=jl=[];sf=0,ga=od(),ya={status:"pending",value:void 0,then:function(l){r.push(l)}}}return sf++,n.then(Lp,Lp),n}function Lp(){if(--sf===0&&jl!==null){ya!==null&&(ya.status="fulfilled");var e=jl;jl=null,ga=0,ya=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function XE(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Up=G.S;G.S=function(e,n){Ty=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&YE(e,n),Up!==null&&Up(e,n)};var bs=Ie(null);function af(){var e=bs.current;return e!==null?e:Gt.pooledCache}function Ou(e,n){n===null?xt(bs,bs.current):xt(bs,n.pool)}function Pp(){var e=af();return e===null?null:{parent:ye._currentValue,pool:e}}var _a=Error(a(460)),lf=Error(a(474)),Mu=Error(a(542)),ku={then:function(){}};function jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(zn,zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bp(e),e;default:if(typeof n.status=="string")n.then(zn,zn);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bp(e),e}throw Is=n,_a}}function Rs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Is=r,_a):r}}var Is=null;function qp(){if(Is===null)throw Error(a(459));var e=Is;return Is=null,e}function Bp(e){if(e===_a||e===Mu)throw Error(a(483))}var va=null,zl=0;function Lu(e){var n=zl;return zl+=1,va===null&&(va=[]),zp(va,e,n)}function ql(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hp(e){function n(M,N){if(e){var U=M.deletions;U===null?(M.deletions=[N],M.flags|=16):U.push(N)}}function r(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=Mi(M,N),M.index=0,M.sibling=null,M}function f(M,N,U){return M.index=U,e?(U=M.alternate,U!==null?(U=U.index,U<N?(M.flags|=67108866,N):U):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,N,U,F){return N===null||N.tag!==6?(N=Yh(U,M.mode,F),N.return=M,N):(N=h(N,U),N.return=M,N)}function I(M,N,U,F){var at=U.type;return at===J?H(M,N,U.props.children,F,U.key):N!==null&&(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Rs(at)===N.type)?(N=h(N,U.props),ql(N,U),N.return=M,N):(N=xu(U.type,U.key,U.props,null,M.mode,F),ql(N,U),N.return=M,N)}function P(M,N,U,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Xh(U,M.mode,F),N.return=M,N):(N=h(N,U.children||[]),N.return=M,N)}function H(M,N,U,F,at){return N===null||N.tag!==7?(N=Es(U,M.mode,F,at),N.return=M,N):(N=h(N,U),N.return=M,N)}function K(M,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yh(""+N,M.mode,U),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case B:return U=xu(N.type,N.key,N.props,null,M.mode,U),ql(U,N),U.return=M,U;case Q:return N=Xh(N,M.mode,U),N.return=M,N;case b:return N=Rs(N),K(M,N,U)}if(Oe(N)||k(N))return N=Es(N,M.mode,U,null),N.return=M,N;if(typeof N.then=="function")return K(M,Lu(N),U);if(N.$$typeof===_t)return K(M,Vu(M,N),U);Uu(M,N)}return null}function j(M,N,U,F){var at=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return at!==null?null:T(M,N,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case B:return U.key===at?I(M,N,U,F):null;case Q:return U.key===at?P(M,N,U,F):null;case b:return U=Rs(U),j(M,N,U,F)}if(Oe(U)||k(U))return at!==null?null:H(M,N,U,F,null);if(typeof U.then=="function")return j(M,N,Lu(U),F);if(U.$$typeof===_t)return j(M,N,Vu(M,U),F);Uu(M,U)}return null}function q(M,N,U,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(U)||null,T(N,M,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return M=M.get(F.key===null?U:F.key)||null,I(N,M,F,at);case Q:return M=M.get(F.key===null?U:F.key)||null,P(N,M,F,at);case b:return F=Rs(F),q(M,N,U,F,at)}if(Oe(F)||k(F))return M=M.get(U)||null,H(N,M,F,at,null);if(typeof F.then=="function")return q(M,N,U,Lu(F),at);if(F.$$typeof===_t)return q(M,N,U,Vu(N,F),at);Uu(N,F)}return null}function rt(M,N,U,F){for(var at=null,Nt=null,st=N,yt=N=0,At=null;st!==null&&yt<U.length;yt++){st.index>yt?(At=st,st=null):At=st.sibling;var Dt=j(M,st,U[yt],F);if(Dt===null){st===null&&(st=At);break}e&&st&&Dt.alternate===null&&n(M,st),N=f(Dt,N,yt),Nt===null?at=Dt:Nt.sibling=Dt,Nt=Dt,st=At}if(yt===U.length)return r(M,st),Rt&&ki(M,yt),at;if(st===null){for(;yt<U.length;yt++)st=K(M,U[yt],F),st!==null&&(N=f(st,N,yt),Nt===null?at=st:Nt.sibling=st,Nt=st);return Rt&&ki(M,yt),at}for(st=l(st);yt<U.length;yt++)At=q(st,M,yt,U[yt],F),At!==null&&(e&&At.alternate!==null&&st.delete(At.key===null?yt:At.key),N=f(At,N,yt),Nt===null?at=At:Nt.sibling=At,Nt=At);return e&&st.forEach(function(Ur){return n(M,Ur)}),Rt&&ki(M,yt),at}function ut(M,N,U,F){if(U==null)throw Error(a(151));for(var at=null,Nt=null,st=N,yt=N=0,At=null,Dt=U.next();st!==null&&!Dt.done;yt++,Dt=U.next()){st.index>yt?(At=st,st=null):At=st.sibling;var Ur=j(M,st,Dt.value,F);if(Ur===null){st===null&&(st=At);break}e&&st&&Ur.alternate===null&&n(M,st),N=f(Ur,N,yt),Nt===null?at=Ur:Nt.sibling=Ur,Nt=Ur,st=At}if(Dt.done)return r(M,st),Rt&&ki(M,yt),at;if(st===null){for(;!Dt.done;yt++,Dt=U.next())Dt=K(M,Dt.value,F),Dt!==null&&(N=f(Dt,N,yt),Nt===null?at=Dt:Nt.sibling=Dt,Nt=Dt);return Rt&&ki(M,yt),at}for(st=l(st);!Dt.done;yt++,Dt=U.next())Dt=q(st,M,yt,Dt.value,F),Dt!==null&&(e&&Dt.alternate!==null&&st.delete(Dt.key===null?yt:Dt.key),N=f(Dt,N,yt),Nt===null?at=Dt:Nt.sibling=Dt,Nt=Dt);return e&&st.forEach(function(aS){return n(M,aS)}),Rt&&ki(M,yt),at}function Ht(M,N,U,F){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case B:t:{for(var at=U.key;N!==null;){if(N.key===at){if(at=U.type,at===J){if(N.tag===7){r(M,N.sibling),F=h(N,U.props.children),F.return=M,M=F;break t}}else if(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Rs(at)===N.type){r(M,N.sibling),F=h(N,U.props),ql(F,U),F.return=M,M=F;break t}r(M,N);break}else n(M,N);N=N.sibling}U.type===J?(F=Es(U.props.children,M.mode,F,U.key),F.return=M,M=F):(F=xu(U.type,U.key,U.props,null,M.mode,F),ql(F,U),F.return=M,M=F)}return g(M);case Q:t:{for(at=U.key;N!==null;){if(N.key===at)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){r(M,N.sibling),F=h(N,U.children||[]),F.return=M,M=F;break t}else{r(M,N);break}else n(M,N);N=N.sibling}F=Xh(U,M.mode,F),F.return=M,M=F}return g(M);case b:return U=Rs(U),Ht(M,N,U,F)}if(Oe(U))return rt(M,N,U,F);if(k(U)){if(at=k(U),typeof at!="function")throw Error(a(150));return U=at.call(U),ut(M,N,U,F)}if(typeof U.then=="function")return Ht(M,N,Lu(U),F);if(U.$$typeof===_t)return Ht(M,N,Vu(M,U),F);Uu(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(r(M,N.sibling),F=h(N,U),F.return=M,M=F):(r(M,N),F=Yh(U,M.mode,F),F.return=M,M=F),g(M)):r(M,N)}return function(M,N,U,F){try{zl=0;var at=Ht(M,N,U,F);return va=null,at}catch(st){if(st===_a||st===Mu)throw st;var Nt=cn(29,st,null,M.mode);return Nt.lanes=F,Nt.return=M,Nt}}}var Cs=Hp(!0),Fp=Hp(!1),Tr=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ot&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Cu(e),Ip(e,null,r),n}return Iu(e,l,n,r),Cu(e)}function Bl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,pl(e,r)}}function cf(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var hf=!1;function Hl(){if(hf){var e=ya;if(e!==null)throw e}}function Fl(e,n,r,l){hf=!1;var h=e.updateQueue;Tr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var H=e.alternate;H!==null&&(H=H.updateQueue,T=H.lastBaseUpdate,T!==g&&(T===null?H.firstBaseUpdate=P:T.next=P,H.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;g=0,H=P=I=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(St&j)===j:(l&j)===j){j!==0&&j===ga&&(hf=!0),H!==null&&(H=H.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var rt=e,ut=T;j=n;var Ht=r;switch(ut.tag){case 1:if(rt=ut.payload,typeof rt=="function"){K=rt.call(Ht,K,j);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ut.payload,j=typeof rt=="function"?rt.call(Ht,K,j):rt,j==null)break t;K=w({},K,j);break t;case 2:Tr=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},H===null?(P=H=q,I=K):H=H.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(I=K),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Ir|=g,e.lanes=g,e.memoizedState=K}}function Gp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kp(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Gp(r[e],n)}var Ta=Ie(null),Pu=Ie(0);function Qp(e,n){e=Ki,xt(Pu,e),xt(Ta,n),Ki=e|n.baseLanes}function ff(){xt(Pu,Ki),xt(Ta,Ta.current)}function df(){Ki=Pu.current,Kt(Ta),Kt(Pu)}var hn=Ie(null),xn=null;function Ar(e){var n=e.alternate;xt(le,le.current&1),xt(hn,e),xn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(xn=e)}function mf(e){xt(le,le.current),xt(hn,e),xn===null&&(xn=e)}function Yp(e){e.tag===22?(xt(le,le.current),xt(hn,e),xn===null&&(xn=e)):wr()}function wr(){xt(le,le.current),xt(hn,hn.current)}function fn(e){Kt(hn),xn===e&&(xn=null),Kt(le)}var le=Ie(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||Ed(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,gt=null,qt=null,_e=null,zu=!1,Ea=!1,xs=!1,qu=0,Gl=0,Sa=null,JE=0;function ne(){throw Error(a(321))}function pf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!un(e[r],n[r]))return!1;return!0}function gf(e,n,r,l,h,f){return Pi=f,gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Dg:Df,xs=!1,f=r(l,h),xs=!1,Ea&&(f=Jp(n,r,l,h)),Xp(e),f}function Xp(e){G.H=Yl;var n=qt!==null&&qt.next!==null;if(Pi=0,_e=qt=gt=null,zu=!1,Gl=0,Sa=null,n)throw Error(a(300));e===null||ve||(e=e.dependencies,e!==null&&Du(e)&&(ve=!0))}function Jp(e,n,r,l){gt=e;var h=0;do{if(Ea&&(Sa=null),Gl=0,Ea=!1,25<=h)throw Error(a(301));if(h+=1,_e=qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Vg,f=n(r,l)}while(Ea);return f}function ZE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Kl(n):n,e=e.useState()[0],(qt!==null?qt.memoizedState:null)!==e&&(gt.flags|=1024),n}function yf(){var e=qu!==0;return qu=0,e}function _f(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function vf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Pi=0,_e=qt=gt=null,Ea=!1,Gl=qu=0,Sa=null}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?gt.memoizedState=_e=e:_e=_e.next=e,_e}function oe(){if(qt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=qt.next;var n=_e===null?gt.memoizedState:_e.next;if(n!==null)_e=n,qt=e;else{if(e===null)throw gt.alternate===null?Error(a(467)):Error(a(310));qt=e,e={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},_e===null?gt.memoizedState=_e=e:_e=_e.next=e}return _e}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var n=Gl;return Gl+=1,Sa===null&&(Sa=[]),e=zp(Sa,e,n),n=gt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Dg:Df),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===_t)return Ue(e)}throw Error(a(438,String(e)))}function Tf(e){var n=null,r=gt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=gt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),gt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=O;return n.index++,r}function ji(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=oe();return Ef(n,qt,e)}function Ef(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,I=null,P=n,H=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(St&K)===K:(Pi&K)===K){var j=P.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===ga&&(H=!0);else if((Pi&j)===j){P=P.next,j===ga&&(H=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=K,g=f):I=I.next=K,gt.lanes|=j,Ir|=j;K=P.action,xs&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else j={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(T=I=j,g=f):I=I.next=j,gt.lanes|=K,Ir|=K;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=T,!un(f,e.memoizedState)&&(ve=!0,H&&(r=ya,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Sf(e){var n=oe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);un(f,n.memoizedState)||(ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Zp(e,n,r){var l=gt,h=oe(),f=Rt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!un((qt||h).memoizedState,r);if(g&&(h.memoizedState=r,ve=!0),h=h.queue,bf(tg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Aa(9,{destroy:void 0},$p.bind(null,l,h,r,n),null),Gt===null)throw Error(a(349));f||(Pi&127)!==0||Wp(l,n,r)}return r}function Wp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=gt.updateQueue,n===null?(n=Bu(),gt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function $p(e,n,r,l){n.value=r,n.getSnapshot=l,eg(n)&&ng(e)}function tg(e,n,r){return r(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!un(e,r)}catch{return!0}}function ng(e){var n=Ts(e,2);n!==null&&nn(n,e,2)}function Af(e){var n=Ye();if(typeof e=="function"){var r=e;if(e=r(),xs){vn(!0);try{r()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function ig(e,n,r,l){return e.baseState=r,Ef(e,qt,typeof l=="function"?l:ji)}function WE(e,n,r,l,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,rg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function rg(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=r(h,l),I=G.S;I!==null&&I(g,T),sg(e,n,T)}catch(P){wf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,l),sg(e,n,f)}catch(P){wf(e,n,P)}}function sg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){ag(e,n,l)},function(l){return wf(e,n,l)}):ag(e,n,r)}function ag(e,n,r){n.status="fulfilled",n.value=r,lg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,rg(e,r)))}function wf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,lg(n),n=n.next;while(n!==l)}e.action=null}function lg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function ug(e,n){if(Rt){var r=Gt.formState;if(r!==null){t:{var l=gt;if(Rt){if(Yt){e:{for(var h=Yt,f=Cn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Yt=Nn(h.nextSibling),l=h.data==="F!";break t}}_r(l)}l=!1}l&&(n=r[0])}}return r=Ye(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},r.queue=l,r=Cg.bind(null,gt,l),l.dispatch=r,l=Af(!1),f=Nf.bind(null,gt,!1,l.queue),l=Ye(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=WE.bind(null,gt,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function cg(e){var n=oe();return hg(n,qt,e)}function hg(e,n,r){if(n=Ef(e,n,og)[0],e=Fu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(g){throw g===_a?Mu:g}else l=n;n=oe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(gt.flags|=2048,Aa(9,{destroy:void 0},$E.bind(null,h,r),null)),[l,f,e]}function $E(e,n){e.action=n}function fg(e){var n=oe(),r=qt;if(r!==null)return hg(n,r,e);oe(),n=n.memoizedState,r=oe();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Aa(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=gt.updateQueue,n===null&&(n=Bu(),gt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function dg(){return oe().memoizedState}function Gu(e,n,r,l){var h=Ye();gt.flags|=e,h.memoizedState=Aa(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ku(e,n,r,l){var h=oe();l=l===void 0?null:l;var f=h.memoizedState.inst;qt!==null&&l!==null&&pf(l,qt.memoizedState.deps)?h.memoizedState=Aa(n,f,r,l):(gt.flags|=e,h.memoizedState=Aa(1|n,f,r,l))}function mg(e,n){Gu(8390656,8,e,n)}function bf(e,n){Ku(2048,8,e,n)}function t1(e){gt.flags|=4;var n=gt.updateQueue;if(n===null)n=Bu(),gt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function pg(e){var n=oe().memoizedState;return t1({ref:n,nextImpl:e}),function(){if((Ot&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return Ku(4,2,e,n)}function yg(e,n){return Ku(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,r){r=r!=null?r.concat([e]):null,Ku(4,4,_g.bind(null,n,e),r)}function Rf(){}function Tg(e,n){var r=oe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&pf(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Eg(e,n){var r=oe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&pf(n,l[1]))return l[0];if(l=e(),xs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[l,n],l}function If(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(St&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Sy(),gt.lanes|=e,Ir|=e,r)}function Sg(e,n,r,l){return un(r,n)?r:Ta.current!==null?(e=If(e,r,l),un(e,n)||(ve=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(St&261930)===0?(ve=!0,e.memoizedState=r):(e=Sy(),gt.lanes|=e,Ir|=e,n)}function Ag(e,n,r,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Nf(e,!1,n,r);try{var I=h(),P=G.S;if(P!==null&&P(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var H=XE(I,l);Ql(e,n,H,pn(e))}else Ql(e,n,l,pn(e))}catch(K){Ql(e,n,{then:function(){},status:"rejected",reason:K},pn())}finally{et.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function e1(){}function Cf(e,n,r,l){if(e.tag!==5)throw Error(a(476));var h=wg(e).queue;Ag(e,h,n,ot,r===null?e1:function(){return bg(e),r(l)})}function wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bg(e){var n=wg(e);n.next===null&&(n=e.alternate.memoizedState),Ql(e,n.next.queue,{},pn())}function xf(){return Ue(co)}function Rg(){return oe().memoizedState}function Ig(){return oe().memoizedState}function n1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=pn();e=Er(r);var l=Sr(n,e,r);l!==null&&(nn(l,n,r),Bl(l,n,r)),n={cache:rf()},e.payload=n;return}n=n.return}}function i1(e,n,r){var l=pn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qu(e)?xg(n,r):(r=Kh(e,n,r,l),r!==null&&(nn(r,e,l),Ng(r,n,l)))}function Cg(e,n,r){var l=pn();Ql(e,n,r,l)}function Ql(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))xg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,un(T,g))return Iu(e,n,h,0),Gt===null&&Ru(),!1}catch{}if(r=Kh(e,n,h,l),r!==null)return nn(r,e,l),Ng(r,n,l),!0}return!1}function Nf(e,n,r,l){if(l={lane:2,revertLane:od(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=Kh(e,r,l,2),n!==null&&nn(n,e,2)}function Qu(e){var n=e.alternate;return e===gt||n!==null&&n===gt}function xg(e,n){Ea=zu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ng(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,pl(e,r)}}var Yl={readContext:Ue,use:Hu,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne};Yl.useEffectEvent=ne;var Dg={readContext:Ue,use:Hu,useCallback:function(e,n){return Ye().memoizedState=[e,n===void 0?null:n],e},useContext:Ue,useEffect:mg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Gu(4194308,4,_g.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var r=Ye();n=n===void 0?null:n;var l=e();if(xs){vn(!0);try{e()}finally{vn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=Ye();if(r!==void 0){var h=r(n);if(xs){vn(!0);try{r(n)}finally{vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=i1.bind(null,gt,e),[l.memoizedState,e]},useRef:function(e){var n=Ye();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,r=Cg.bind(null,gt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(e,n){var r=Ye();return If(r,e,n)},useTransition:function(){var e=Af(!1);return e=Ag.bind(null,gt,e.queue,!0,!1),Ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=gt,h=Ye();if(Rt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Gt===null)throw Error(a(349));(St&127)!==0||Wp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,mg(tg.bind(null,l,f,e),[e]),l.flags|=2048,Aa(9,{destroy:void 0},$p.bind(null,l,f,r,n),null),r},useId:function(){var e=Ye(),n=Gt.identifierPrefix;if(Rt){var r=vi,l=_i;r=(l&~(1<<32-se(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=JE++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:xf,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=Ye();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nf.bind(null,gt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Tf,useCacheRefresh:function(){return Ye().memoizedState=n1.bind(null,gt)},useEffectEvent:function(e){var n=Ye(),r={impl:e};return n.memoizedState=r,function(){if((Ot&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:Ue,use:Hu,useCallback:Tg,useContext:Ue,useEffect:bf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Fu,useRef:dg,useState:function(){return Fu(ji)},useDebugValue:Rf,useDeferredValue:function(e,n){var r=oe();return Sg(r,qt.memoizedState,e,n)},useTransition:function(){var e=Fu(ji)[0],n=oe().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:xf,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var r=oe();return ig(r,qt,e,n)},useMemoCache:Tf,useCacheRefresh:Ig};Df.useEffectEvent=pg;var Vg={readContext:Ue,use:Hu,useCallback:Tg,useContext:Ue,useEffect:bf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Eg,useReducer:Sf,useRef:dg,useState:function(){return Sf(ji)},useDebugValue:Rf,useDeferredValue:function(e,n){var r=oe();return qt===null?If(r,e,n):Sg(r,qt.memoizedState,e,n)},useTransition:function(){var e=Sf(ji)[0],n=oe().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:xf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var r=oe();return qt!==null?ig(r,qt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Ig};Vg.useEffectEvent=pg;function Vf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Of={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=pn(),h=Er(l);h.payload=n,r!=null&&(h.callback=r),n=Sr(e,h,l),n!==null&&(nn(n,e,l),Bl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=pn(),h=Er(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Sr(e,h,l),n!==null&&(nn(n,e,l),Bl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=pn(),l=Er(r);l.tag=2,n!=null&&(l.callback=n),n=Sr(e,l,r),n!==null&&(nn(n,e,r),Bl(n,e,r))}};function Og(e,n,r,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ml(r,l)||!Ml(h,f):!0}function Mg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Ns(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function kg(e){bu(e)}function Lg(e){}function Ug(e){bu(e)}function Yu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,r){return r=Er(r),r.tag=3,r.payload={element:null},r.callback=function(){Yu(e,n)},r}function jg(e){return e=Er(e),e.tag=3,e}function zg(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Pg(n,r,l),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function r1(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&pa(n,r,h,!0),r=hn.current,r!==null){switch(r.tag){case 31:case 13:return xn===null?ac():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===ku?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),sd(e,l,h)),!1;case 22:return r.flags|=65536,l===ku?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),sd(e,l,h)),!1}throw Error(a(435,r.tag))}return sd(e,l,h),ac(),!1}if(Rt)return n=hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Wh&&(e=Error(a(422),{cause:l}),Ul(bn(e,r)))):(l!==Wh&&(n=Error(a(423),{cause:l}),Ul(bn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,r),h=Mf(e.stateNode,l,h),cf(e,h),ie!==4&&(ie=2)),!1;var f=Error(a(520),{cause:l});if(f=bn(f,r),no===null?no=[f]:no.push(f),ie!==4&&(ie=2),n===null)return!0;l=bn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Mf(r.stateNode,l,e),cf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=jg(h),zg(h,e,r,l),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),ve=!1;function Pe(e,n,r,l){n.child=e===null?Fp(n,null,r,l):Cs(n,e.child,r,l)}function qg(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return ws(n),l=gf(e,n,r,g,f,h),T=yf(),e!==null&&!ve?(_f(e,n,h),zi(e,n,h)):(Rt&&T&&Jh(n),n.flags|=1,Pe(e,n,l,h),n.child)}function Bg(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Hg(e,n,f,l,h)):(e=xu(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ml,r(g,l)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=Mi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hg(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(Ml(f,l)&&e.ref===n.ref)if(ve=!1,n.pendingProps=l=f,Hf(e,h))(e.flags&131072)!==0&&(ve=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Lf(e,n,r,l,h)}function Fg(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Gg(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?Qp(n,f):ff(),Yp(n);else return l=n.lanes=536870912,Gg(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Ou(n,f.cachePool),Qp(n,f),wr(),n.memoizedState=null):(e!==null&&Ou(n,null),ff(),wr());return Pe(e,n,h,r),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gg(e,n,r,l,h){var f=af();return f=f===null?null:{parent:ye._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ou(n,null),ff(),Yp(n),e!==null&&pa(e,n,l,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kg(e,n,r){return Cs(n,e.child,null,r),e=Xu(n,n.pendingProps),e.flags|=2,fn(n),n.memoizedState=null,e}function s1(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Rt){if(l.mode==="hidden")return e=Xu(n,l),n.lanes=536870912,Xl(null,e);if(mf(n),(e=Yt)?(e=r_(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=xp(e),r.return=n,n.child=r,Le=n,Yt=null)):e=null,e===null)throw _r(n);return n.lanes=536870912,null}return Xu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Kg(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ve||pa(e,n,r,!1),h=(r&e.childLanes)!==0,ve||h){if(l=Gt,l!==null&&(g=gl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ts(e,g),nn(l,e,g),kf;ac(),n=Kg(e,n,r)}else e=f.treeContext,Yt=Nn(g.nextSibling),Le=n,Rt=!0,yr=null,Cn=!1,e!==null&&Vp(n,e),n=Xu(n,l),n.flags|=4096;return n}return e=Mi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Lf(e,n,r,l,h){return ws(n),r=gf(e,n,r,l,void 0,h),l=yf(),e!==null&&!ve?(_f(e,n,h),zi(e,n,h)):(Rt&&l&&Jh(n),n.flags|=1,Pe(e,n,r,h),n.child)}function Qg(e,n,r,l,h,f){return ws(n),n.updateQueue=null,r=Jp(n,l,r,h),Xp(e),l=yf(),e!==null&&!ve?(_f(e,n,f),zi(e,n,f)):(Rt&&l&&Jh(n),n.flags|=1,Pe(e,n,r,f),n.child)}function Yg(e,n,r,l,h){if(ws(n),n.stateNode===null){var f=ha,g=r.contextType;typeof g=="object"&&g!==null&&(f=Ue(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},of(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Ue(g):ha,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Vf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Of.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=Ns(r,T);f.props=I;var P=f.context,H=r.contextType;g=ha,typeof H=="object"&&H!==null&&(g=Ue(H));var K=r.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Mg(n,f,l,g),Tr=!1;var j=n.memoizedState;f.state=j,Fl(n,l,f,h),Hl(),P=n.memoizedState,T||j!==P||Tr?(typeof K=="function"&&(Vf(n,r,K,l),P=n.memoizedState),(I=Tr||Og(n,r,I,l,j,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uf(e,n),g=n.memoizedProps,H=Ns(r,g),f.props=H,K=n.pendingProps,j=f.context,P=r.contextType,I=ha,typeof P=="object"&&P!==null&&(I=Ue(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==I)&&Mg(n,f,l,I),Tr=!1,j=n.memoizedState,f.state=j,Fl(n,l,f,h),Hl();var q=n.memoizedState;g!==K||j!==q||Tr||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof T=="function"&&(Vf(n,r,T,l),q=n.memoizedState),(H=Tr||Og(n,r,H,l,j,q,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ju(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Cs(n,e.child,null,h),n.child=Cs(n,null,r,h)):Pe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Xg(e,n,r,l){return Ss(),n.flags|=256,Pe(e,n,r,l),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Pp()}}function jf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=mn),e}function Jg(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(le.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Rt){if(h?Ar(n):wr(),(e=Yt)?(e=r_(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},r=xp(e),r.return=n,n.child=r,Le=n,Yt=null)):e=null,e===null)throw _r(n);return Ed(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(wr(),h=n.mode,T=Zu({mode:"hidden",children:T},h),l=Es(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Pf(r),l.childLanes=jf(e,g,r),n.memoizedState=Uf,Xl(null,l)):(Ar(n),zf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=qf(e,n,r)):n.memoizedState!==null?(wr(),n.child=e.child,n.flags|=128,n=null):(wr(),T=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),T=Es(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Cs(n,e.child,null,r),l=n.child,l.memoizedState=Pf(r),l.childLanes=jf(e,g,r),n.memoizedState=Uf,n=Xl(null,l));else if(Ar(n),Ed(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Ul({value:l,source:null,stack:null}),n=qf(e,n,r)}else if(ve||pa(e,n,r,!1),g=(r&e.childLanes)!==0,ve||g){if(g=Gt,g!==null&&(l=gl(g,r),l!==0&&l!==I.retryLane))throw I.retryLane=l,Ts(e,l),nn(g,e,l),kf;Td(T)||ac(),n=qf(e,n,r)}else Td(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,Yt=Nn(T.nextSibling),Le=n,Rt=!0,yr=null,Cn=!1,e!==null&&Vp(n,e),n=zf(n,l.children),n.flags|=4096);return n}return h?(wr(),T=l.fallback,h=n.mode,I=e.child,P=I.sibling,l=Mi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,P!==null?T=Mi(P,T):(T=Es(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Xl(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Pf(r):(h=T.cachePool,h!==null?(I=ye._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Pp(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=jf(e,g,r),n.memoizedState=Uf,Xl(e.child,l)):(Ar(n),r=e.child,e=r.sibling,r=Mi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function zf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=cn(22,e,null,n),e.lanes=0,e}function qf(e,n,r){return Cs(n,e.child,null,r),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ef(e.return,n,r)}function Bf(e,n,r,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Wg(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=le.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,xt(le,g),Pe(e,n,l,r),l=Rt?Ll:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,r,n);else if(e.tag===19)Zg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ju(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Bf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Bf(n,!0,r,null,f,l);break;case"together":Bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function zi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ir|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(pa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Mi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Mi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function a1(e,n,r){switch(n.tag){case 3:rr(n,n.stateNode.containerInfo),vr(n,ye,e.memoizedState.cache),Ss();break;case 27:case 5:ul(n);break;case 4:rr(n,n.stateNode.containerInfo);break;case 10:vr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ar(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jg(e,n,r):(Ar(n),e=zi(e,n,r),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(pa(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Wg(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),xt(le,le.current),l)break;return null;case 22:return n.lanes=0,Fg(e,n,r,n.pendingProps);case 24:vr(n,ye,e.memoizedState.cache)}return zi(e,n,r)}function $g(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)ve=!0;else{if(!Hf(e,r)&&(n.flags&128)===0)return ve=!1,a1(e,n,r);ve=(e.flags&131072)!==0}else ve=!1,Rt&&(n.flags&1048576)!==0&&Dp(n,Ll,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Rs(n.elementType),n.type=e,typeof e=="function")Qh(e)?(l=Ns(e,l),n.tag=1,n=Yg(null,n,e,l,r)):(n.tag=0,n=Lf(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===Ct){n.tag=11,n=qg(null,n,e,l,r);break t}else if(h===R){n.tag=14,n=Bg(null,n,e,l,r);break t}}throw n=he(e)||e,Error(a(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ns(l,n.pendingProps),Yg(e,n,l,h,r);case 3:t:{if(rr(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Fl(n,l,null,r);var g=n.memoizedState;if(l=g.cache,vr(n,ye,l),l!==f.cache&&nf(n,[ye],r,!0),Hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,l,r);break t}else if(l!==h){h=bn(Error(a(424)),n),Ul(h),n=Xg(e,n,l,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Yt=Nn(e.firstChild),Le=n,Rt=!0,yr=null,Cn=!0,r=Fp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ss(),l===h){n=zi(e,n,r);break t}Pe(e,n,l,r)}n=n.child}return n;case 26:return Ju(e,n),e===null?(r=c_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Rt||(r=n.type,e=n.pendingProps,l=dc(_n.current).createElement(r),l[me]=n,l[Ce]=e,je(l,r,e),pe(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ul(n),e===null&&Rt&&(l=n.stateNode=l_(n.type,n.pendingProps,_n.current),Le=n,Cn=!0,h=Yt,Vr(n.type)?(Sd=h,Yt=Nn(l.firstChild)):Yt=h),Pe(e,n,n.pendingProps.children,r),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Rt&&((h=l=Yt)&&(l=L1(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Le=n,Yt=Nn(l.firstChild),Cn=!1,h=!0):h=!1),h||_r(n)),ul(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,yd(h,f)?l=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,ZE,null,null,r),co._currentValue=h),Ju(e,n),Pe(e,n,l,r),n.child;case 6:return e===null&&Rt&&((e=r=Yt)&&(r=U1(r,n.pendingProps,Cn),r!==null?(n.stateNode=r,Le=n,Yt=null,e=!0):e=!1),e||_r(n)),null;case 13:return Jg(e,n,r);case 4:return rr(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Cs(n,null,l,r):Pe(e,n,l,r),n.child;case 11:return qg(e,n,n.type,n.pendingProps,r);case 7:return Pe(e,n,n.pendingProps,r),n.child;case 8:return Pe(e,n,n.pendingProps.children,r),n.child;case 12:return Pe(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,vr(n,n.type,l.value),Pe(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ws(n),h=Ue(h),l=l(h),n.flags|=1,Pe(e,n,l,r),n.child;case 14:return Bg(e,n,n.type,n.pendingProps,r);case 15:return Hg(e,n,n.type,n.pendingProps,r);case 19:return Wg(e,n,r);case 31:return s1(e,n,r);case 22:return Fg(e,n,r,n.pendingProps);case 24:return ws(n),l=Ue(ye),e===null?(h=af(),h===null&&(h=Gt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},of(n),vr(n,ye,h)):((e.lanes&r)!==0&&(uf(e,n),Fl(n,null,null,r),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vr(n,ye,l)):(l=f.cache,vr(n,ye,l),l!==h.cache&&nf(n,[ye],r,!0))),Pe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function Ff(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Is=ku,lf}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Is=ku,lf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Ia|=n)}function Jl(e,n){if(!Rt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function l1(e,n,r){var l=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(n),null;case 1:return Xt(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ui(ye),xi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ma(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),Xt(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(Xt(n),ty(n,f)):(Xt(n),Ff(n,h,null,l,r))):f?f!==e.memoizedState?(qi(n),Xt(n),ty(n,f)):(Xt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&qi(n),Xt(n),Ff(n,h,e,l,r)),null;case 27:if(Ks(n),r=_n.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Xt(n),null}e=$t.current,ma(n)?Op(n):(e=l_(h,l,r),n.stateNode=e,qi(n))}return Xt(n),null;case 5:if(Ks(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Xt(n),null}if(f=$t.current,ma(n))Op(n);else{var g=dc(_n.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[me]=n,f[Ce]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&qi(n)}}return Xt(n),Ff(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=_n.current,ma(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Le,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[me]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Jy(e.nodeValue,r)),e||_r(n,!0)}else e=dc(e).createTextNode(l),e[me]=n,n.stateNode=e}return Xt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=ma(n),r!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[me]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),e=!1}else r=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(fn(n),n):(fn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Xt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ma(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[me]=n}else Ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xt(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(fn(n),n):(fn(n),null)}return fn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Wu(n,n.updateQueue),Xt(n),null);case 4:return xi(),e===null&&fd(n.stateNode.containerInfo),Xt(n),null;case 10:return Ui(n.type),Xt(n),null;case 19:if(Kt(le),l=n.memoizedState,l===null)return Xt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Jl(l,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,Jl(l,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Cp(r,e),r=r.sibling;return xt(le,le.current&1|2),Rt&&ki(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ke()>ic&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),Jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Rt)return Xt(n),null}else 2*Ke()-l.renderingStartTime>ic&&r!==536870912&&(n.flags|=128,h=!0,Jl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,r=le.current,xt(le,h?r&1|2:r&1),Rt&&ki(n,l.treeForkCount),e):(Xt(n),null);case 22:case 23:return fn(n),df(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Xt(n),n.subtreeFlags&6&&(n.flags|=8192)):Xt(n),r=n.updateQueue,r!==null&&Wu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&Kt(bs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(ye),Xt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function o1(e,n){switch(Zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(ye),xi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ks(n),null;case 31:if(n.memoizedState!==null){if(fn(n),n.alternate===null)throw Error(a(340));Ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Kt(le),null;case 4:return xi(),null;case 10:return Ui(n.type),null;case 22:case 23:return fn(n),df(),e!==null&&Kt(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(ye),null;case 25:return null;default:return null}}function ey(e,n){switch(Zh(n),n.tag){case 3:Ui(ye),xi();break;case 26:case 27:case 5:Ks(n);break;case 4:xi();break;case 31:n.memoizedState!==null&&fn(n);break;case 13:fn(n);break;case 19:Kt(le);break;case 10:Ui(n.type);break;case 22:case 23:fn(n),df(),e!==null&&Kt(bs);break;case 24:Ui(ye)}}function Zl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){jt(n,n.return,T)}}function br(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=r,P=T;try{P()}catch(H){jt(h,I,H)}}}l=l.next}while(l!==f)}}catch(H){jt(n,n.return,H)}}function ny(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Kp(n,r)}catch(l){jt(e,e.return,l)}}}function iy(e,n,r){r.props=Ns(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){jt(e,n,l)}}function Wl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){jt(e,n,h)}}function Ti(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){jt(e,n,h)}else r.current=null}function ry(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){jt(e,e.return,h)}}function Gf(e,n,r){try{var l=e.stateNode;N1(l,e.type,r,n),l[Ce]=n}catch(h){jt(e,e.return,h)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function Kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&Vr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,r),e=e.sibling;e!==null;)Qf(e,n,r),e=e.sibling}function $u(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Vr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for($u(e,n,r),e=e.sibling;e!==null;)$u(e,n,r),e=e.sibling}function ay(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,l,r),n[me]=e,n[Ce]=r}catch(f){jt(e,e.return,f)}}var Bi=!1,Te=!1,Yf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function u1(e,n){if(e=e.containerInfo,pd=Tc,e=vp(e),zh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,T=-1,I=-1,P=0,H=0,K=e,j=null;e:for(;;){for(var q;K!==r||h!==0&&K.nodeType!==3||(T=g+h),K!==f||l!==0&&K.nodeType!==3||(I=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===r&&++P===h&&(T=g),j===f&&++H===l&&(I=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}r=T===-1||I===-1?null:{start:T,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:e,selectionRange:r},Tc=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=Ns(r.type,h);e=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ut){jt(r,r.return,ut)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)vd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}}function oy(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(e,r),l&4&&Zl(5,r);break;case 1:if(Fi(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){jt(r,r.return,g)}else{var h=Ns(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){jt(r,r.return,g)}}l&64&&ny(r),l&512&&Wl(r,r.return);break;case 3:if(Fi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Kp(e,n)}catch(g){jt(r,r.return,g)}}break;case 27:n===null&&l&4&&ay(r);case 26:case 5:Fi(e,r),n===null&&l&4&&ry(r),l&512&&Wl(r,r.return);break;case 12:Fi(e,r);break;case 31:Fi(e,r),l&4&&hy(e,r);break;case 13:Fi(e,r),l&4&&fy(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=_1.bind(null,r),P1(e,r))));break;case 22:if(l=r.memoizedState!==null||Bi,!l){n=n!==null&&n.memoizedState!==null||Te,h=Bi;var f=Te;Bi=l,(Te=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Fi(e,r),Bi=h,Te=f}break;case 30:break;default:Fi(e,r)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Wt=null,We=!1;function Hi(e,n,r){for(r=r.child;r!==null;)cy(e,n,r),r=r.sibling}function cy(e,n,r){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Ln,r)}catch{}switch(r.tag){case 26:Te||Ti(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Te||Ti(r,n);var l=Wt,h=We;Vr(r.type)&&(Wt=r.stateNode,We=!1),Hi(e,n,r),lo(r.stateNode),Wt=l,We=h;break;case 5:Te||Ti(r,n);case 6:if(l=Wt,h=We,Wt=null,Hi(e,n,r),Wt=l,We=h,Wt!==null)if(We)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){jt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){jt(r,n,f)}break;case 18:Wt!==null&&(We?(e=Wt,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ka(e)):n_(Wt,r.stateNode));break;case 4:l=Wt,h=We,Wt=r.stateNode.containerInfo,We=!0,Hi(e,n,r),Wt=l,We=h;break;case 0:case 11:case 14:case 15:br(2,r,n),Te||br(4,r,n),Hi(e,n,r);break;case 1:Te||(Ti(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&iy(r,n,l)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:Te=(l=Te)||r.memoizedState!==null,Hi(e,n,r),Te=l;break;default:Hi(e,n,r)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ka(e)}catch(r){jt(n,n.return,r)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ka(e)}catch(r){jt(n,n.return,r)}}function c1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var r=c1(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=v1.bind(null,e,l);l.then(h,h)}})}function $e(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Vr(T.type)){Wt=T.stateNode,We=!1;break t}break;case 5:Wt=T.stateNode,We=!1;break t;case 3:case 4:Wt=T.stateNode.containerInfo,We=!0;break t}T=T.return}if(Wt===null)throw Error(a(160));cy(f,g,h),Wt=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var Kn=null;function dy(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$e(n,e),tn(e),l&4&&(br(3,e,e.return),Zl(3,e),br(5,e,e.return));break;case 1:$e(n,e),tn(e),l&512&&(Te||r===null||Ti(r,r.return)),l&64&&Bi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Kn;if($e(n,e),tn(e),l&512&&(Te||r===null||Ti(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,l,r),f[me]=e,pe(f),l=f;break t;case"link":var g=d_("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(l),je(f,l,r),h.head.appendChild(f);break;case"meta":if(g=d_("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break e}}f=h.createElement(l),je(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[me]=e,pe(f),l=f}e.stateNode=l}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?m_(h,e.type,e.stateNode):f_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,r.memoizedProps)}break;case 27:$e(n,e),tn(e),l&512&&(Te||r===null||Ti(r,r.return)),r!==null&&l&4&&Gf(e,e.memoizedProps,r.memoizedProps);break;case 5:if($e(n,e),tn(e),l&512&&(Te||r===null||Ti(r,r.return)),e.flags&32){h=e.stateNode;try{Ze(h,"")}catch(rt){jt(e,e.return,rt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if($e(n,e),tn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(rt){jt(e,e.return,rt)}}break;case 3:if(gc=null,h=Kn,Kn=mc(n.containerInfo),$e(n,e),Kn=h,tn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ka(n.containerInfo)}catch(rt){jt(e,e.return,rt)}Yf&&(Yf=!1,my(e));break;case 4:l=Kn,Kn=mc(e.stateNode.containerInfo),$e(n,e),tn(e),Kn=l;break;case 12:$e(n,e),tn(e);break;case 31:$e(n,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:$e(n,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(nc=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:h=e.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,P=Bi,H=Te;if(Bi=P||h,Te=H||I,$e(n,e),Te=H,Bi=P,tn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||I||Bi||Te||Ds(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){I=r=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var K=I.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){jt(I,I.return,rt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(rt){jt(I,I.return,rt)}}}else if(n.tag===18){if(r===null){I=n;try{var q=I.stateNode;h?i_(q,!0):i_(I.stateNode,!1)}catch(rt){jt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,tc(e,r))));break;case 19:$e(n,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:$e(n,e),tn(e)}}function tn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(sy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Kf(e);$u(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Ze(g,""),r.flags&=-33);var T=Kf(e);$u(e,T,g);break;case 3:case 4:var I=r.stateNode.containerInfo,P=Kf(e);Qf(e,P,I);break;default:throw Error(a(161))}}catch(H){jt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Ds(n);break;case 1:Ti(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&iy(n,n.return,r),Ds(n);break;case 27:lo(n.stateNode);case 26:case 5:Ti(n,n.return),Ds(n);break;case 22:n.memoizedState===null&&Ds(n);break;case 30:Ds(n);break;default:Ds(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),Zl(4,f);break;case 1:if(Gi(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){jt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gp(I[h],T)}catch(P){jt(l,l.return,P)}}r&&g&64&&ny(f),Wl(f,f.return);break;case 27:ay(f);case 26:case 5:Gi(h,f,r),r&&l===null&&g&4&&ry(f),Wl(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&g&4&&hy(h,f);break;case 13:Gi(h,f,r),r&&g&4&&fy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),Wl(f,f.return);break;case 30:break;default:Gi(h,f,r)}n=n.sibling}}function Xf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Pl(r))}function Jf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Qn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,r,l),n=n.sibling}function py(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,r,l),h&2048&&Zl(9,n);break;case 1:Qn(e,n,r,l);break;case 3:Qn(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){Qn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){jt(n,n.return,I)}}else Qn(e,n,r,l);break;case 31:Qn(e,n,r,l);break;case 13:Qn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,r,l):$l(e,n):f._visibility&2?Qn(e,n,r,l):(f._visibility|=2,wa(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:Qn(e,n,r,l),h&2048&&Jf(n.alternate,n);break;default:Qn(e,n,r,l)}}function wa(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=r,I=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,T,I,h),Zl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?wa(f,g,T,I,h):$l(f,g):(H._visibility|=2,wa(f,g,T,I,h)),h&&P&2048&&Xf(g.alternate,g);break;case 24:wa(f,g,T,I,h),h&&P&2048&&Jf(g.alternate,g);break;default:wa(f,g,T,I,h)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:$l(r,l),h&2048&&Xf(l.alternate,l);break;case 24:$l(r,l),h&2048&&Jf(l.alternate,l);break;default:$l(r,l)}n=n.sibling}}var to=8192;function ba(e,n,r){if(e.subtreeFlags&to)for(e=e.child;e!==null;)gy(e,n,r),e=e.sibling}function gy(e,n,r){switch(e.tag){case 26:ba(e,n,r),e.flags&to&&e.memoizedState!==null&&J1(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:ba(e,n,r);break;case 3:case 4:var l=Kn;Kn=mc(e.stateNode.containerInfo),ba(e,n,r),Kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,ba(e,n,r),to=l):ba(e,n,r));break;default:ba(e,n,r)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,vy(l,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&br(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):eo(e);break;default:eo(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,vy(l,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:br(8,n,n.return),ec(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function vy(e,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:br(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=e;Ne!==null;){l=Ne;var h=l.sibling,f=l.return;if(uy(l),l===r){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var h1={getCacheForType:function(e){var n=Ue(ye),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ue(ye).controller.signal}},f1=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Gt=null,Tt=null,St=0,Pt=0,dn=null,Rr=!1,Ra=!1,Zf=!1,Ki=0,ie=0,Ir=0,Vs=0,Wf=0,mn=0,Ia=0,no=null,en=null,$f=!1,nc=0,Ty=0,ic=1/0,rc=null,Cr=null,be=0,xr=null,Ca=null,Qi=0,td=0,ed=null,Ey=null,io=0,nd=null;function pn(){return(Ot&2)!==0&&St!==0?St&-St:G.T!==null?od():su()}function Sy(){if(mn===0)if((St&536870912)===0||Rt){var e=ss;ss<<=1,(ss&3932160)===0&&(ss=262144),mn=e}else mn=536870912;return e=hn.current,e!==null&&(e.flags|=32),mn}function nn(e,n,r){(e===Gt&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Nr(e,St,mn,!1)),as(e,r),((Ot&2)===0||e!==Gt)&&(e===Gt&&((Ot&2)===0&&(Vs|=r),ie===4&&Nr(e,St,mn,!1)),Ei(e))}function Ay(e,n,r){if((Ot&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),h=l?p1(e,n):rd(e,n,!0),f=l;do{if(h===0){Ra&&!l&&Nr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!d1(r)){h=rd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=no;var I=T.current.memoizedState.isDehydrated;if(I&&(xa(T,g).flags|=256),g=rd(T,g,!1),g!==2){if(Zf&&!I){T.errorRecoveryDisabledLanes|=f,Vs|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){xa(e,0),Nr(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Nr(l,n,mn,!Rr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-Ke(),10<h)){if(Nr(l,n,mn,!Rr),ii(l,0,!0)!==0)break t;Qi=n,l.timeoutHandle=t_(wy.bind(null,l,r,en,rc,$f,n,mn,Vs,Ia,Rr,f,"Throttled",-0,0),h);break t}wy(l,r,en,rc,$f,n,mn,Vs,Ia,Rr,f,null,-0,0)}}break}while(!0);Ei(e)}function wy(e,n,r,l,h,f,g,T,I,P,H,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},gy(n,f,K);var rt=(f&62914560)===f?nc-Ke():(f&4194048)===f?Ty-Ke():0;if(rt=Z1(K,rt),rt!==null){Qi=f,e.cancelPendingCommit=rt(Vy.bind(null,e,n,f,r,l,h,g,T,I,H,K,null,j,q)),Nr(e,f,g,!P);return}}Vy(e,n,f,r,l,h,g,T,I)}function d1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n,r,l){n&=~Wf,n&=~Vs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-se(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&ls(e,r,n)}function sc(){return(Ot&6)===0?(ro(0),!1):!0}function id(){if(Tt!==null){if(Pt===0)var e=Tt.return;else e=Tt,Li=As=null,vf(e),va=null,zl=0,e=Tt;for(;e!==null;)ey(e.alternate,e),e=e.return;Tt=null}}function xa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,O1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,id(),Gt=e,Tt=r=Mi(e.current,null),St=n,Pt=0,dn=null,Rr=!1,Ra=Un(e,n),Zf=!1,Ia=mn=Wf=Vs=Ir=ie=0,en=no=null,$f=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-se(l),f=1<<h;n|=e[h],l&=~f}return Ki=n,Ru(),r}function by(e,n){gt=null,G.H=Yl,n===_a||n===Mu?(n=qp(),Pt=3):n===lf?(n=qp(),Pt=4):Pt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Tt===null&&(ie=1,Yu(e,bn(n,e.current)))}function Ry(){var e=hn.current;return e===null?!0:(St&4194048)===St?xn===null:(St&62914560)===St||(St&536870912)!==0?e===xn:!1}function Iy(){var e=G.H;return G.H=Yl,e===null?Yl:e}function Cy(){var e=G.A;return G.A=h1,e}function ac(){ie=4,Rr||(St&4194048)!==St&&hn.current!==null||(Ra=!0),(Ir&134217727)===0&&(Vs&134217727)===0||Gt===null||Nr(Gt,St,mn,!1)}function rd(e,n,r){var l=Ot;Ot|=2;var h=Iy(),f=Cy();(Gt!==e||St!==n)&&(rc=null,xa(e,n)),n=!1;var g=ie;t:do try{if(Pt!==0&&Tt!==null){var T=Tt,I=dn;switch(Pt){case 8:id(),g=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(n=!0);var P=Pt;if(Pt=0,dn=null,Na(e,T,I,P),r&&Ra){g=0;break t}break;default:P=Pt,Pt=0,dn=null,Na(e,T,I,P)}}m1(),g=ie;break}catch(H){by(e,H)}while(!0);return n&&e.shellSuspendCounter++,Li=As=null,Ot=l,G.H=h,G.A=f,Tt===null&&(Gt=null,St=0,Ru()),g}function m1(){for(;Tt!==null;)xy(Tt)}function p1(e,n){var r=Ot;Ot|=2;var l=Iy(),h=Cy();Gt!==e||St!==n?(rc=null,ic=Ke()+500,xa(e,n)):Ra=Un(e,n);t:do try{if(Pt!==0&&Tt!==null){n=Tt;var f=dn;e:switch(Pt){case 1:Pt=0,dn=null,Na(e,n,f,1);break;case 2:case 9:if(jp(f)){Pt=0,dn=null,Ny(n);break}n=function(){Pt!==2&&Pt!==9||Gt!==e||(Pt=7),Ei(e)},f.then(n,n);break t;case 3:Pt=7;break t;case 4:Pt=5;break t;case 7:jp(f)?(Pt=0,dn=null,Ny(n)):(Pt=0,dn=null,Na(e,n,f,7));break;case 5:var g=null;switch(Tt.tag){case 26:g=Tt.memoizedState;case 5:case 27:var T=Tt;if(g?p_(g):T.stateNode.complete){Pt=0,dn=null;var I=T.sibling;if(I!==null)Tt=I;else{var P=T.return;P!==null?(Tt=P,lc(P)):Tt=null}break e}}Pt=0,dn=null,Na(e,n,f,5);break;case 6:Pt=0,dn=null,Na(e,n,f,6);break;case 8:id(),ie=6;break t;default:throw Error(a(462))}}g1();break}catch(H){by(e,H)}while(!0);return Li=As=null,G.H=l,G.A=h,Ot=r,Tt!==null?0:(Gt=null,St=0,Ru(),ie)}function g1(){for(;Tt!==null&&!Oh();)xy(Tt)}function xy(e){var n=$g(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?lc(e):Tt=n}function Ny(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Qg(r,n,n.pendingProps,n.type,void 0,St);break;case 11:n=Qg(r,n,n.pendingProps,n.type.render,n.ref,St);break;case 5:vf(n);default:ey(r,n),n=Tt=Cp(n,Ki),n=$g(r,n,Ki)}e.memoizedProps=e.pendingProps,n===null?lc(e):Tt=n}function Na(e,n,r,l){Li=As=null,vf(n),va=null,zl=0;var h=n.return;try{if(r1(e,h,n,r,St)){ie=1,Yu(e,bn(r,e.current)),Tt=null;return}}catch(f){if(h!==null)throw Tt=h,f;ie=1,Yu(e,bn(r,e.current)),Tt=null;return}n.flags&32768?(Rt||l===1?e=!0:Ra||(St&536870912)!==0?e=!1:(Rr=e=!0,(l===2||l===9||l===3||l===6)&&(l=hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Rr);return}e=n.return;var r=l1(n.alternate,n,Ki);if(r!==null){Tt=r;return}if(n=n.sibling,n!==null){Tt=n;return}Tt=n=e}while(n!==null);ie===0&&(ie=5)}function Dy(e,n){do{var r=o1(e.alternate,e);if(r!==null){r.flags&=32767,Tt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Tt=e;return}Tt=e=r}while(e!==null);ie=6,Tt=null}function Vy(e,n,r,l,h,f,g,T,I){e.cancelPendingCommit=null;do oc();while(be!==0);if((Ot&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,Lh(e,r,f,g,T,I),e===Gt&&(Tt=Gt=null,St=0),Ca=n,xr=e,Qi=r,td=f,ed=h,Ey=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,T1(ar,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=et.p,et.p=2,g=Ot,Ot|=4;try{u1(e,n,r)}finally{Ot=g,et.p=h,G.T=l}}be=1,Oy(),My(),ky()}}function Oy(){if(be===1){be=0;var e=xr,n=Ca,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=et.p;et.p=2;var h=Ot;Ot|=4;try{dy(n,e);var f=gd,g=vp(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&_p(T.ownerDocument.documentElement,T)){if(I!==null&&zh(T)){var P=I.start,H=I.end;if(H===void 0&&(H=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(H,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),rt=T.textContent.length,ut=Math.min(I.start,rt),Ht=I.end===void 0?ut:Math.min(I.end,rt);!q.extend&&ut>Ht&&(g=Ht,Ht=ut,ut=g);var M=yp(T,ut),N=yp(T,Ht);if(M&&N&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var U=K.createRange();U.setStart(M.node,M.offset),q.removeAllRanges(),ut>Ht?(q.addRange(U),q.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),q.addRange(U))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var F=K[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Tc=!!pd,gd=pd=null}finally{Ot=h,et.p=l,G.T=r}}e.current=n,be=2}}function My(){if(be===2){be=0;var e=xr,n=Ca,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=et.p;et.p=2;var h=Ot;Ot|=4;try{oy(e,n.alternate,n)}finally{Ot=h,et.p=l,G.T=r}}be=3}}function ky(){if(be===4||be===3){be=0,Wo();var e=xr,n=Ca,r=Qi,l=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?be=5:(be=0,Ca=xr=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cr=null),Ni(r),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,et.p=h}}(Qi&3)!==0&&oc(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===nd?io++:(io=0,nd=e):io=0,ro(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function oc(){return Oy(),My(),ky(),Uy()}function Uy(){if(be!==5)return!1;var e=xr,n=td;td=0;var r=Ni(Qi),l=G.T,h=et.p;try{et.p=32>r?32:r,G.T=null,r=ed,ed=null;var f=xr,g=Qi;if(be=0,Ca=xr=null,Qi=0,(Ot&6)!==0)throw Error(a(331));var T=Ot;if(Ot|=4,_y(f.current),py(f,f.current,g,r),Ot=T,ro(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{et.p=h,G.T=l,Ly(e,n)}}function Py(e,n,r){n=bn(r,n),n=Mf(e.stateNode,n,2),e=Sr(e,n,2),e!==null&&(as(e,2),Ei(e))}function jt(e,n,r){if(e.tag===3)Py(e,e,r);else for(;n!==null;){if(n.tag===3){Py(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cr===null||!Cr.has(l))){e=bn(r,e),r=jg(2),l=Sr(n,r,2),l!==null&&(zg(r,l,n,e),as(l,2),Ei(l));break}}n=n.return}}function sd(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new f1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Zf=!0,h.add(r),e=y1.bind(null,e,n,r),n.then(e,e))}function y1(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Gt===e&&(St&r)===r&&(ie===4||ie===3&&(St&62914560)===St&&300>Ke()-nc?(Ot&2)===0&&xa(e,0):Wf|=r,Ia===St&&(Ia=0)),Ei(e)}function jy(e,n){n===0&&(n=ru()),e=Ts(e,n),e!==null&&(as(e,n),Ei(e))}function _1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),jy(e,r)}function v1(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),jy(e,r)}function T1(e,n){return we(e,n)}var uc=null,Da=null,ad=!1,cc=!1,ld=!1,Dr=0;function Ei(e){e!==Da&&e.next===null&&(Da===null?uc=Da=e:Da=Da.next=e),cc=!0,ad||(ad=!0,S1())}function ro(e,n){if(!ld&&cc){ld=!0;do for(var r=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-se(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Hy(l,f))}else f=St,f=ii(l,l===Gt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Un(l,f)||(r=!0,Hy(l,f));l=l.next}while(r);ld=!1}}function E1(){zy()}function zy(){cc=ad=!1;var e=0;Dr!==0&&V1()&&(e=Dr);for(var n=Ke(),r=null,l=uc;l!==null;){var h=l.next,f=qy(l,n);f===0?(l.next=null,r===null?uc=h:r.next=h,h===null&&(Da=r)):(r=l,(e!==0||(f&3)!==0)&&(cc=!0)),l=h}be!==0&&be!==5||ro(e),Dr!==0&&(Dr=0)}function qy(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-se(f),T=1<<g,I=h[g];I===-1?((T&r)===0||(T&l)!==0)&&(h[g]=kh(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=Gt,r=St,r=ii(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&sr(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Un(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&sr(l),Ni(r)){case 2:case 8:r=ml;break;case 32:r=ar;break;case 268435456:r=$o;break;default:r=ar}return l=By.bind(null,e),r=we(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&sr(l),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(oc()&&e.callbackNode!==r)return null;var l=St;return l=ii(e,e===Gt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ay(e,l,n),qy(e,Ke()),e.callbackNode!=null&&e.callbackNode===r?By.bind(null,e):null)}function Hy(e,n){if(oc())return null;Ay(e,n,!0)}function S1(){M1(function(){(Ot&6)!==0?we(dl,E1):zy()})}function od(){if(Dr===0){var e=ga;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Dr=e}return Dr}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ea(""+e)}function Gy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function A1(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Fy((h[Ce]||null).action),g=l.submitter;g&&(n=(n=g[Ce]||null)?Fy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new mi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Dr!==0){var I=g?Gy(h,g):new FormData(h);Cf(r,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?Gy(h,g):new FormData(h),Cf(r,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],w1=cd.toLowerCase(),b1=cd[0].toUpperCase()+cd.slice(1);Gn(w1,"on"+b1)}Gn(Sp,"onAnimationEnd"),Gn(Ap,"onAnimationIteration"),Gn(wp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(qE,"onTransitionRun"),Gn(BE,"onTransitionStart"),Gn(HE,"onTransitionCancel"),Gn(bp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function Ky(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],I=T.instance,P=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(H){bu(H)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(T=l[g],I=T.instance,P=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(H){bu(H)}h.currentTarget=null,f=I}}}}function Et(e,n){var r=n[Js];r===void 0&&(r=n[Js]=new Set);var l=e+"__bubble";r.has(l)||(Qy(n,e,2,!1),r.add(l))}function hd(e,n,r){var l=0;n&&(l|=4),Qy(r,e,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[hc]){e[hc]=!0,yl.forEach(function(r){r!=="selectionchange"&&(R1.has(r)||hd(r,!1,e),hd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,hd("selectionchange",!1,n))}}function Qy(e,n,r,l){switch(S_(n)){case 2:var h=tS;break;case 8:h=eS;break;default:h=Id}r=h.bind(null,n,r,e),h=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function dd(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=li(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue t}T=T.parentNode}}l=l.return}fr(function(){var P=f,H=En(r),K=[];t:{var j=Rp.get(e);if(j!==void 0){var q=mi,rt=e;switch(e){case"keypress":if(ms(r)===0)break t;case"keydown":case"keyup":q=Su;break;case"focusin":rt="focus",q=gs;break;case"focusout":rt="blur",q=gs;break;case"beforeblur":case"afterblur":q=gs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Sp:case Ap:case wp:q=pu;break;case bp:q=S;break;case"scroll":case"scrollend":q=xl;break;case"wheel":q=z;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=pt}var ut=(n&4)!==0,Ht=!ut&&(e==="scroll"||e==="scrollend"),M=ut?j!==null?j+"Capture":null:j;ut=[];for(var N=P,U;N!==null;){var F=N;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||M===null||(F=qn(N,M),F!=null&&ut.push(ao(N,F,U))),Ht)break;N=N.return}0<ut.length&&(j=new q(j,rt,null,r,H),K.push({event:j,listeners:ut}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Rl&&(rt=r.relatedTarget||r.fromElement)&&(li(rt)||rt[si]))break t;if((q||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=P,rt=rt?li(rt):null,rt!==null&&(Ht=c(rt),ut=rt.tag,rt!==Ht||ut!==5&&ut!==27&&ut!==6)&&(rt=null)):(q=null,rt=P),q!==rt)){if(ut=Nl,F="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ut=Oi,F="onPointerLeave",M="onPointerEnter",N="pointer"),Ht=q==null?j:ln(q),U=rt==null?j:ln(rt),j=new ut(F,N+"leave",q,r,H),j.target=Ht,j.relatedTarget=U,F=null,li(H)===P&&(ut=new ut(M,N+"enter",rt,r,H),ut.target=U,ut.relatedTarget=Ht,F=ut),Ht=F,q&&rt)e:{for(ut=I1,M=q,N=rt,U=0,F=M;F;F=ut(F))U++;F=0;for(var at=N;at;at=ut(at))F++;for(;0<U-F;)M=ut(M),U--;for(;0<F-U;)N=ut(N),F--;for(;U--;){if(M===N||N!==null&&M===N.alternate){ut=M;break e}M=ut(M),N=ut(N)}ut=null}else ut=null;q!==null&&Yy(K,j,q,ut,!1),rt!==null&&Ht!==null&&Yy(K,Ht,rt,ut,!0)}}t:{if(j=P?ln(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Nt=hp;else if(up(j))if(fp)Nt=PE;else{Nt=LE;var st=kE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&ta(P.elementType)&&(Nt=hp):Nt=UE;if(Nt&&(Nt=Nt(e,P))){cp(K,Nt,r,H);break t}st&&st(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Al(j,"number",j.value)}switch(st=P?ln(P):window,e){case"focusin":(up(st)||st.contentEditable==="true")&&(oa=st,qh=P,kl=null);break;case"focusout":kl=qh=oa=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Tp(K,r,H);break;case"selectionchange":if(zE)break;case"keydown":case"keyup":Tp(K,r,H)}var yt;if(Vt)t:{switch(e){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else la?ys(e,r)&&(At="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(At="onCompositionStart");At&&(yi&&r.locale!=="ko"&&(la||At!=="onCompositionStart"?At==="onCompositionEnd"&&la&&(yt=Cl()):(di=H,Il="value"in di?di.value:di.textContent,la=!0)),st=fc(P,At),0<st.length&&(At=new gi(At,e,null,r,H),K.push({event:At,listeners:st}),yt?At.data=yt:(yt=aa(r),yt!==null&&(At.data=yt)))),(yt=An?DE(e,r):VE(e,r))&&(At=fc(P,"onBeforeInput"),0<At.length&&(st=new gi("onBeforeInput","beforeinput",null,r,H),K.push({event:st,listeners:At}),st.data=yt)),A1(K,e,P,r,H)}Ky(K,n)})}function ao(e,n,r){return{instance:e,listener:n,currentTarget:r}}function fc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&l.unshift(ao(e,h,f)),h=qn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function I1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,I=T.alternate,P=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||P===null||(I=P,h?(P=qn(r,f),P!=null&&g.unshift(ao(r,P,I))):h||(P=qn(r,f),P!=null&&g.push(ao(r,P,I)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var C1=/\r\n?/g,x1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(C1,`
`).replace(x1,"")}function Jy(e,n){return n=Xy(n),Xy(e)===n}function Bt(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ze(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ze(e,""+l);break;case"className":on(e,"class",l);break;case"tabIndex":on(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(e,r,l);break;case"style":bl(e,l,f);break;case"data":if(n!=="object"){on(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ea(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Bt(e,n,"name",h.name,h,null),Bt(e,n,"formEncType",h.formEncType,h,null),Bt(e,n,"formMethod",h.formMethod,h,null),Bt(e,n,"formTarget",h.formTarget,h,null)):(Bt(e,n,"encType",h.encType,h,null),Bt(e,n,"method",h.method,h,null),Bt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=ea(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=zn);break;case"onScroll":l!=null&&Et("scroll",e);break;case"onScrollEnd":l!=null&&Et("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=ea(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Et("beforetoggle",e),Et("toggle",e),Ws(e,"popover",l);break;case"xlinkActuate":ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ge(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ge(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ge(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ge(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ws(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fu.get(r)||r,Ws(e,r,l))}}function md(e,n,r,l,h,f){switch(r){case"style":bl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?Ze(e,l):(typeof l=="number"||typeof l=="bigint")&&Ze(e,""+l);break;case"onScroll":l!=null&&Et("scroll",e);break;case"onScrollEnd":l!=null&&Et("scrollend",e);break;case"onClick":l!=null&&(e.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ce]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):Ws(e,r,l)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",e),Et("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Bt(e,n,f,g,r,null)}}h&&Bt(e,n,"srcSet",r.srcSet,r,null),l&&Bt(e,n,"src",r.src,r,null);return;case"input":Et("invalid",e);var T=f=g=h=null,I=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":h=H;break;case"type":g=H;break;case"checked":I=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Bt(e,n,l,H,r,null)}}uu(e,f,T,I,P,g,h,!1);return;case"select":Et("invalid",e),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:Bt(e,n,h,T,r,null)}n=f,r=g,e.multiple=!!l,n!=null?or(e,!!l,n,!1):r!=null&&or(e,!!l,r,!0);return;case"textarea":Et("invalid",e),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Bt(e,n,g,T,r,null)}ur(e,l,h,f);return;case"option":for(I in r)r.hasOwnProperty(I)&&(l=r[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Bt(e,n,I,l,r,null));return;case"dialog":Et("beforetoggle",e),Et("toggle",e),Et("cancel",e),Et("close",e);break;case"iframe":case"object":Et("load",e);break;case"video":case"audio":for(l=0;l<so.length;l++)Et(so[l],e);break;case"image":Et("error",e),Et("load",e);break;case"details":Et("toggle",e);break;case"embed":case"source":case"link":Et("error",e),Et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Bt(e,n,P,l,r,null)}return;default:if(ta(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&md(e,n,H,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Bt(e,n,T,l,r,null))}function N1(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,P=null,H=null;for(q in r){var K=r[q];if(r.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:l.hasOwnProperty(q)||Bt(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=r[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Bt(e,n,j,q,l,K)}}$s(e,g,T,I,P,H,f,h);return;case"select":q=g=T=j=null;for(f in r)if(I=r[f],r.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||Bt(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=r[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&Bt(e,n,h,f,l,I)}n=T,r=g,l=q,j!=null?or(e,!!r,j,!1):!!l!=!!r&&(n!=null?or(e,!!r,n,!0):or(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Bt(e,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Bt(e,n,g,h,l,f)}cu(e,j,q);return;case"option":for(var rt in r)j=r[rt],r.hasOwnProperty(rt)&&j!=null&&!l.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Bt(e,n,rt,null,l,j));for(I in l)j=l[I],q=r[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Bt(e,n,I,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in r)j=r[ut],r.hasOwnProperty(ut)&&j!=null&&!l.hasOwnProperty(ut)&&Bt(e,n,ut,null,l,j);for(P in l)if(j=l[P],q=r[P],l.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Bt(e,n,P,j,l,q)}return;default:if(ta(n)){for(var Ht in r)j=r[Ht],r.hasOwnProperty(Ht)&&j!==void 0&&!l.hasOwnProperty(Ht)&&md(e,n,Ht,void 0,l,j);for(H in l)j=l[H],q=r[H],!l.hasOwnProperty(H)||j===q||j===void 0&&q===void 0||md(e,n,H,j,l,q);return}}for(var M in r)j=r[M],r.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Bt(e,n,M,null,l,j);for(K in l)j=l[K],q=r[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||Bt(e,n,K,j,l,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Zy(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var I=r[l],P=I.startTime;if(P>T)break;var H=I.transferSize,K=I.initiatorType;H&&Zy(K)&&(I=I.responseEnd,g+=H*(I<T?1:(T-P)/(I-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,gd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function V1(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,O1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(k1)}:t_;function k1(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function n_(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),ka(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")lo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,lo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&lo(e.ownerDocument.body);r=h}while(r);ka(n)}function i_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),Zs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function L1(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function U1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nn(e.nextSibling),e===null))return null;return e}function r_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function Td(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function P1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Sd=null;function s_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Nn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,r){switch(n=dc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zs(e)}var Dn=new Map,o_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=et.d;et.d={f:j1,r:z1,D:q1,C:B1,L:H1,m:F1,X:K1,S:G1,M:Q1};function j1(){var e=Yi.f(),n=sc();return e||n}function z1(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?bg(n):Yi.r(e)}var Va=typeof document>"u"?null:document;function u_(e,n,r){var l=Va;if(l&&typeof n=="string"&&n){var h=Je(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),je(n,"link",e),pe(n),l.head.appendChild(n)))}}function q1(e){Yi.D(e),u_("dns-prefetch",e,null)}function B1(e,n){Yi.C(e,n),u_("preconnect",e,n)}function H1(e,n,r){Yi.L(e,n,r);var l=Va;if(l&&e&&n){var h='link[rel="preload"][as="'+Je(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Je(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Je(r.imageSizes)+'"]')):h+='[href="'+Je(e)+'"]';var f=h;switch(n){case"style":f=Oa(e);break;case"script":f=Ma(e)}Dn.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Dn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),je(n,"link",e),pe(n),l.head.appendChild(n)))}}function F1(e,n){Yi.m(e,n);var r=Va;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Je(l)+'"][href="'+Je(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!Dn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Dn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(uo(f)))return}l=r.createElement("link"),je(l,"link",e),pe(l),r.head.appendChild(l)}}}function G1(e,n,r){Yi.S(e,n,r);var l=Va;if(l&&e){var h=oi(l).hoistableStyles,f=Oa(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(oo(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Dn.get(f))&&Ad(e,r);var I=g=l.createElement("link");pe(I),je(I,"link",e),I._p=new Promise(function(P,H){I.onload=P,I.onerror=H}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,pc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function K1(e,n){Yi.X(e,n);var r=Va;if(r&&e){var l=oi(r).hoistableScripts,h=Ma(e),f=l.get(h);f||(f=r.querySelector(uo(h)),f||(e=w({src:e,async:!0},n),(n=Dn.get(h))&&wd(e,n),f=r.createElement("script"),pe(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Q1(e,n){Yi.M(e,n);var r=Va;if(r&&e){var l=oi(r).hoistableScripts,h=Ma(e),f=l.get(h);f||(f=r.querySelector(uo(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Dn.get(h))&&wd(e,n),f=r.createElement("script"),pe(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c_(e,n,r,l){var h=(h=_n.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Oa(r.href),r=oi(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Oa(r.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(oo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Dn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(e,r),f||Y1(h,e,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(r),r=oi(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oa(e){return'href="'+Je(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Y1(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",r),pe(n),e.head.appendChild(n))}function Ma(e){return'[src="'+Je(e)+'"]'}function uo(e){return"script[async]"+e}function f_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Je(r.href)+'"]');if(l)return n.instance=l,pe(l),l;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pe(l),je(l,"style",h),pc(l,r.precedence,e),n.instance=l;case"stylesheet":h=Oa(r.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,pe(f),f;l=h_(r),(h=Dn.get(h))&&Ad(l,h),f=(e.ownerDocument||e).createElement("link"),pe(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),je(f,"link",l),n.state.loading|=4,pc(f,r.precedence,e),n.instance=f;case"script":return f=Ma(r.src),(h=e.querySelector(uo(f)))?(n.instance=h,pe(h),h):(l=r,(h=Dn.get(f))&&(l=w({},r),wd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),pe(h),je(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,r.precedence,e));return n.instance}function pc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function d_(e,n,r){if(gc===null){var l=new Map,h=gc=new Map;h.set(r,l)}else h=gc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ai]||f[me]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function m_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function X1(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function J1(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Oa(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,pe(f);return}f=n.ownerDocument||n,l=h_(l),(h=Dn.get(h))&&Ad(l,h),f=f.createElement("link"),pe(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),je(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=yc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var bd=0;function Z1(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*D1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(W1,e),_c=null,yc.call(e))}function W1(e,n){if(!(n.state.loading&4)){var r=_c.get(e);if(r)var l=r.get(null);else{r=new Map,_c.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function $1(e,n,r,l,h,f,g,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function g_(e,n,r,l,h,f,g,T,I,P,H,K){return e=new $1(e,n,r,g,I,P,H,K,T),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),e.current=f,f.stateNode=e,n=rf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},of(f),e}function y_(e){return e?(e=ha,e):ha}function __(e,n,r,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Er(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Sr(e,l,n),r!==null&&(nn(r,e,n),Bl(r,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Rd(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=Ts(e,67108864);n!==null&&nn(n,e,67108864),Rd(e,67108864)}}function E_(e){if(e.tag===13||e.tag===31){var n=pn();n=os(n);var r=Ts(e,n);r!==null&&nn(r,e,n),Rd(e,n)}}var Tc=!0;function tS(e,n,r,l){var h=G.T;G.T=null;var f=et.p;try{et.p=2,Id(e,n,r,l)}finally{et.p=f,G.T=h}}function eS(e,n,r,l){var h=G.T;G.T=null;var f=et.p;try{et.p=8,Id(e,n,r,l)}finally{et.p=f,G.T=h}}function Id(e,n,r,l){if(Tc){var h=Cd(l);if(h===null)dd(e,n,l,Ec,r),A_(e,l);else if(iS(h,e,n,r,l))l.stopPropagation();else if(A_(e,l),n&4&&-1<nS.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-se(g);T.entanglements[1]|=I,g&=~I}Ei(f),(Ot&6)===0&&(ic=Ke()+500,ro(0))}}break;case 31:case 13:T=Ts(f,2),T!==null&&nn(T,f,2),sc(),Rd(f,2)}if(f=Cd(l),f===null&&dd(e,n,l,Ec,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else dd(e,n,l,null,r)}}function Cd(e){return e=En(e),xd(e)}var Ec=null;function xd(e){if(Ec=null,e=li(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case dl:return 2;case ml:return 8;case ar:case Mh:return 32;case $o:return 268435456;default:return 32}default:return 32}}var Nd=!1,Or=null,Mr=null,kr=null,ho=new Map,fo=new Map,Lr=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function iS(e,n,r,l,h){switch(n){case"focusin":return Or=mo(Or,e,n,r,l,h),!0;case"dragenter":return Mr=mo(Mr,e,n,r,l,h),!0;case"mouseover":return kr=mo(kr,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,r,l,h)),!0}return!1}function w_(e){var n=li(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){E_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Pn(e.priority,function(){E_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Cd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Rl=l,r.target.dispatchEvent(l),Rl=null}else return n=Tn(r),n!==null&&T_(n),e.blockedOn=r,!1;n.shift()}return!0}function b_(e,n,r){Sc(e)&&r.delete(n)}function rS(){Nd=!1,Or!==null&&Sc(Or)&&(Or=null),Mr!==null&&Sc(Mr)&&(Mr=null),kr!==null&&Sc(kr)&&(kr=null),ho.forEach(b_),fo.forEach(b_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rS)))}var wc=null;function R_(e){wc!==e&&(wc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(xd(l||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,Cf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function ka(e){function n(I){return Ac(I,e)}Or!==null&&Ac(Or,e),Mr!==null&&Ac(Mr,e),kr!==null&&Ac(kr,e),ho.forEach(n),fo.forEach(n);for(var r=0;r<Lr.length;r++){var l=Lr[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&Lr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Ce]||null;if(typeof f=="function")g||R_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ce]||null)T=g.formAction;else if(xd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),R_(r)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}bc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=pn();__(r,l,e,n,null,null)},bc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),sc(),n[si]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Lr.length&&n!==0&&n<Lr[r].priority;r++);Lr.splice(r,0,e),r===0&&w_(e)}};var C_=t.version;if(C_!=="19.2.4")throw Error(a(527,C_,"19.2.4"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var sS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Ln=Rc.inject(sS),Me=Rc}catch{}}return po.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",h=kg,f=Lg,g=Ug;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=g_(e,1,!1,null,null,r,l,null,h,f,g,I_),e[si]=n.current,fd(e),new Dd(n)},po.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,h="",f=kg,g=Lg,T=Ug,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(I=r.formState)),n=g_(e,1,!0,n,r??null,l,h,I,f,g,T,I_),n.context=y_(null),r=n.current,l=pn(),l=os(l),h=Er(l),h.callback=null,Sr(r,h,l),r=l,n.current.lanes=r,as(n,r),Ei(n),e[si]=n.current,fd(e),new bc(n)},po.version="19.2.4",po}var V_;function MS(){if(V_)return Vd.exports;V_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch{}}return s(),Vd.exports=OS(),Vd.exports}var kS=MS();const LS=uS(kS);function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const US=h0,f0=new pm("auth","Firebase",h0());const Gc=new a0("@firebase/auth");function PS(s,...t){Gc.logLevel<=Yn.WARN&&Gc.warn(`Auth (${el}): ${s}`,...t)}function Oc(s,...t){Gc.logLevel<=Yn.ERROR&&Gc.error(`Auth (${el}): ${s}`,...t)}function kn(s,...t){throw _m(s,...t)}function Jn(s,...t){return _m(s,...t)}function ym(s,t,i){const a={...US(),[t]:i};return new pm("auth","Firebase",a).create(t,{appName:s.name})}function Wi(s){return ym(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jS(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&kn(s,"argument-error"),ym(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _m(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return f0.create(s,...t)}function ht(s,t,...i){if(!s)throw _m(t,...i)}function Ji(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Oc(t),new Error(t)}function $i(s,t){s||Ji(t)}function Yd(){return typeof self<"u"&&self.location?.href||""}function zS(){return O_()==="http:"||O_()==="https:"}function O_(){return typeof self<"u"&&self.location?.protocol||null}function qS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zS()||yS()||"connection"in navigator)?navigator.onLine:!0}function BS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class zo{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=pS()||gS()}get(){return qS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vm(s,t){$i(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class d0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GS=new zo(3e4,6e4);function $r(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function nr(s,t,i,a,o={}){return m0(s,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Po({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:t,headers:_,...c};return AS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&jo(s.emulatorConfig.host)&&(v.credentials="include"),d0.fetch()(await p0(s,s.config.apiHost,i,p),v)})}async function m0(s,t,i){s._canInitEmulator=!1;const a={...HS,...t};try{const o=new QS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ic(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw ym(s,A,v);kn(s,A)}}catch(o){if(o instanceof ch)throw o;kn(s,"network-request-failed",{message:String(o)})}}async function qo(s,t,i,a,o={}){const c=await nr(s,t,i,a,o);return"mfaPendingCredential"in c&&kn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function p0(s,t,i,a){const o=`${t}${i}?${a}`,c=s,d=c.config.emulator?vm(s.config,o):`${s.config.apiScheme}://${o}`;return FS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function KS(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Jn(this.auth,"network-request-failed")),GS.get())})}}function Ic(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Jn(s,t,a);return o.customData._tokenResponse=i,o}function M_(s){return s!==void 0&&s.enterprise!==void 0}class YS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return KS(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XS(s,t){return nr(s,"GET","/v2/recaptchaConfig",$r(s,t))}async function JS(s,t){return nr(s,"POST","/v1/accounts:delete",t)}async function Kc(s,t){return nr(s,"POST","/v1/accounts:lookup",t)}function Ao(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZS(s,t=!1){const i=Ve(s),a=await i.getIdToken(t),o=Tm(a);ht(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ao(kd(o.auth_time)),issuedAtTime:Ao(kd(o.iat)),expirationTime:Ao(kd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kd(s){return Number(s)*1e3}function Tm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=vS(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function k_(s){const t=Tm(s);return ht(t,"internal-error"),ht(typeof t.exp<"u","internal-error"),ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ka(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ch&&WS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function WS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class $S{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(s){const t=s.auth,i=await s.getIdToken(),a=await Ka(s,Kc(t,{idToken:i}));ht(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?g0(o.providerUserInfo):[],d=eA(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,v=p?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Xd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,A)}async function tA(s){const t=Ve(s);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eA(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function g0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function nA(s,t){const i=await m0(s,{},async()=>{const a=Po({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await p0(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&jo(s.emulatorConfig.host)&&(_.credentials="include"),d0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function iA(s,t){return nr(s,"POST","/v2/accounts:revokeToken",$r(s,t))}class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ht(t.idToken,"internal-error"),ht(typeof t.idToken<"u","internal-error"),ht(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):k_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ht(t.length!==0,"internal-error");const i=k_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await nA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new za;return a&&(ht(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(ht(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(ht(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Pr(s,t){ht(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new $S(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Ka(this,this.stsTokenManager.getToken(this.auth,t));return ht(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ZS(this,t)}reload(){return tA(this)}_assign(t){this!==t&&(ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Wi(this.auth));const t=await this.getIdToken();return await Ka(this,JS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:B,providerData:Q,stsTokenManager:J}=i;ht(w&&J,t,"internal-error");const Z=za.fromJSON(this.name,J);ht(typeof w=="string",t,"internal-error"),Pr(a,t.name),Pr(o,t.name),ht(typeof V=="boolean",t,"internal-error"),ht(typeof B=="boolean",t,"internal-error"),Pr(c,t.name),Pr(d,t.name),Pr(p,t.name),Pr(_,t.name),Pr(v,t.name),Pr(A,t.name);const ct=new Xn({uid:w,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:A});return Q&&Array.isArray(Q)&&(ct.providerData=Q.map(vt=>({...vt}))),_&&(ct._redirectEventId=_),ct}static async _fromIdTokenResponse(t,i,a=!1){const o=new za;o.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];ht(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?g0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new za;p.updateFromIdToken(a);const _=new Xn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Xd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const L_=new Map;function Zi(s){$i(s instanceof Function,"Expected a class definition");let t=L_.get(s);return t?($i(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,L_.set(s,t),t)}class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}y0.type="NONE";const U_=y0;function Mc(s,t,i){return`firebase:${s}:${t}:${i}`}class qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Kc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new qa(Zi(U_),t,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Zi(U_);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let w;if(typeof A=="string"){const V=await Kc(t,{idToken:A}).catch(()=>{});if(!V)break;w=await Xn._fromGetAccountInfoResponse(t,V,A)}else w=Xn._fromJSON(t,A);v!==c&&(p=w),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new qa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new qa(c,t,a))}}function P_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(E0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(A0(t))return"Blackberry";if(w0(t))return"Webos";if(v0(t))return"Safari";if((t.includes("chrome/")||T0(t))&&!t.includes("edge/"))return"Chrome";if(S0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function _0(s=an()){return/firefox\//i.test(s)}function v0(s=an()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function T0(s=an()){return/crios\//i.test(s)}function E0(s=an()){return/iemobile/i.test(s)}function S0(s=an()){return/android/i.test(s)}function A0(s=an()){return/blackberry/i.test(s)}function w0(s=an()){return/webos/i.test(s)}function Em(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function rA(s=an()){return Em(s)&&!!window.navigator?.standalone}function sA(){return ES()&&document.documentMode===10}function b0(s=an()){return Em(s)||S0(s)||w0(s)||A0(s)||/windows phone/i.test(s)||E0(s)}function R0(s,t=[]){let i;switch(s){case"Browser":i=P_(an());break;case"Worker":i=`${P_(an())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${el}/${a}`}class aA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function lA(s,t={}){return nr(s,"GET","/v2/passwordPolicy",$r(s,t))}const oA=6;class uA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??oA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class cA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new aA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Kc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch{await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=BS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(gn(this.app))return Promise.reject(Wi(this));const i=t?Ve(t):null;return i&&ht(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return gn(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lA(this),i=new uA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pm("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await iA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;ht(i,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ht(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=R0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&PS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ts(s){return Ve(s)}class j_{constructor(t){this.auth=t,this.observer=null,this.addObserver=_S(i=>this.observer=i)}get next(){return ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hA(s){hh=s}function I0(s){return hh.loadJS(s)}function fA(){return hh.recaptchaEnterpriseScript}function dA(){return hh.gapiScript}function mA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class pA{constructor(){this.enterprise=new gA}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class gA{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const yA="recaptcha-enterprise",C0="NO_RECAPTCHA";class _A{constructor(t){this.type=yA,this.auth=ts(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{XS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new YS(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(c,d,p){const _=window.grecaptcha;M_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(C0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pA().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&M_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=fA();_.length!==0&&(_+=p),I0(_).then(()=>{o(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function z_(s,t,i,a=!1,o=!1){const c=new _A(s);let d;if(o)d=C0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Jd(s,t,i,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await z_(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){const d=await z_(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function vA(s,t){const i=gm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fc(c,t??{}))return o;kn(o,"already-initialized")}return i.initialize({options:t})}function TA(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function EA(s,t,i){const a=ts(s);ht(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=x0(t),{host:d,port:p}=SA(t),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ht(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ht(Fc(v,a.config.emulator)&&Fc(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,jo(d)?(u0(`${c}//${d}${_}`),c0("Auth",!0)):AA()}function x0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function SA(s){const t=x0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:q_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:q_(d)}}}function q_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function AA(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Sm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function wA(s,t){return nr(s,"POST","/v1/accounts:signUp",t)}async function bA(s,t){return qo(s,"POST","/v1/accounts:signInWithPassword",$r(s,t))}async function RA(s,t){return qo(s,"POST","/v1/accounts:signInWithEmailLink",$r(s,t))}async function IA(s,t){return qo(s,"POST","/v1/accounts:signInWithEmailLink",$r(s,t))}class xo extends Sm{constructor(t,i,a,o=null){super("password",a),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new xo(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new xo(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(t,i,"signInWithPassword",bA);case"emailLink":return RA(t,{email:this._email,oobCode:this._password});default:kn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jd(t,a,"signUpPassword",wA);case"emailLink":return IA(t,{idToken:i,email:this._email,oobCode:this._password});default:kn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ba(s,t){return qo(s,"POST","/v1/accounts:signInWithIdp",$r(s,t))}const CA="http://localhost";class Ps extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):kn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Ps(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ba(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:CA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Po(i)}return t}}function xA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NA(s){const t=yo(_o(s)).link,i=t?yo(_o(t)).deep_link_id:null,a=yo(_o(s)).deep_link_id;return(a?yo(_o(a)).link:null)||a||i||t||s}class Am{constructor(t){const i=yo(_o(t)),a=i.apiKey??null,o=i.oobCode??null,c=xA(i.mode??null);ht(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=NA(t);try{return new Am(i)}catch{return null}}}class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(t,i){return xo._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Am.parseLink(i);return ht(a,"argument-error"),xo._fromEmailAndCode(t,a.code,a.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Bo extends wm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class jr extends Bo{constructor(){super("facebook.com")}static credential(t){return Ps._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";class Xi extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ps._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Xi.credential(i,a)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";class zr extends Bo{constructor(){super("github.com")}static credential(t){return Ps._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";class qr extends Bo{constructor(){super("twitter.com")}static credential(t,i){return Ps._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qr.credential(i,a)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";async function DA(s,t){return qo(s,"POST","/v1/accounts:signUp",$r(s,t))}class js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Xn._fromIdTokenResponse(t,a,o),d=B_(a);return new js({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=B_(a);return new js({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function B_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Yc extends ch{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Yc(t,i,a,o)}}function N0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(s,c,t,a):c})}async function VA(s,t,i=!1){const a=await Ka(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return js._forOperation(s,"link",a)}async function OA(s,t,i=!1){const{auth:a}=s;if(gn(a.app))return Promise.reject(Wi(a));const o="reauthenticate";try{const c=await Ka(s,N0(a,o,t,s),i);ht(c.idToken,a,"internal-error");const d=Tm(c.idToken);ht(d,a,"internal-error");const{sub:p}=d;return ht(s.uid===p,a,"user-mismatch"),js._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&kn(a,"user-mismatch"),c}}async function D0(s,t,i=!1){if(gn(s.app))return Promise.reject(Wi(s));const a="signIn",o=await N0(s,a,t),c=await js._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function MA(s,t){return D0(ts(s),t)}async function V0(s){const t=ts(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function kA(s,t,i){if(gn(s.app))return Promise.reject(Wi(s));const a=ts(s),d=await Jd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DA).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&V0(s),_}),p=await js._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function LA(s,t,i){return gn(s.app)?Promise.reject(Wi(s)):MA(Ve(s),nl.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&V0(s),a})}async function UA(s,t){return nr(s,"POST","/v1/accounts:update",t)}async function PA(s,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const a=Ve(s),c={idToken:await a.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await Ka(a,UA(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function jA(s,t,i,a){return Ve(s).onIdTokenChanged(t,i,a)}function zA(s,t,i){return Ve(s).beforeAuthStateChanged(t,i)}const Xc="__sak";class O0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qA=1e3,BA=10;class M0 extends O0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);sA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,BA):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},qA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}M0.type="LOCAL";const HA=M0;class k0 extends O0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}k0.type="SESSION";const L0=k0;function FA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await FA(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function bm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class GA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=bm("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function KA(s){Ai().location.href=s}function U0(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function QA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YA(){return navigator?.serviceWorker?.controller||null}function XA(){return U0()?self:null}const P0="firebaseLocalStorageDb",JA=1,Jc="firebaseLocalStorage",j0="fbase_key";class Ho{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function ZA(){const s=indexedDB.deleteDatabase(P0);return new Ho(s).toPromise()}function Zd(){const s=indexedDB.open(P0,JA);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:j0})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await ZA(),t(await Zd()))})})}async function H_(s,t,i){const a=dh(s,!0).put({[j0]:t,value:i});return new Ho(a).toPromise()}async function WA(s,t){const i=dh(s,!1).get(t),a=await new Ho(i).toPromise();return a===void 0?null:a.value}function F_(s,t){const i=dh(s,!0).delete(t);return new Ho(i).toPromise()}const $A=800,t2=3;class z0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>t2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(XA()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QA(),!this.activeServiceWorker)return;this.sender=new GA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||YA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await H_(t,Xc,"1"),await F_(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>H_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>WA(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>F_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=dh(o,!1).getAll();return new Ho(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$A)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z0.type="LOCAL";const e2=z0;new zo(3e4,6e4);function q0(s,t){return t?Zi(t):(ht(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Rm extends Sm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function n2(s){return D0(s.auth,new Rm(s),s.bypassAuthState)}function i2(s){const{auth:t,user:i}=s;return ht(i,t,"internal-error"),OA(i,new Rm(s),s.bypassAuthState)}async function r2(s){const{auth:t,user:i}=s;return ht(i,t,"internal-error"),VA(i,new Rm(s),s.bypassAuthState)}class B0{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return n2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return i2;default:kn(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const s2=new zo(2e3,1e4);async function a2(s,t,i){if(gn(s.app))return Promise.reject(Jn(s,"operation-not-supported-in-this-environment"));const a=ts(s);jS(s,t,wm);const o=q0(a,i);return new Ms(a,"signInViaPopup",t,o).executeNotNull()}class Ms extends B0{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ht(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,s2.get())};t()}}Ms.currentPopupAction=null;const l2="pendingRedirect",kc=new Map;class o2 extends B0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await u2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u2(s,t){const i=f2(t),a=h2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function c2(s,t){kc.set(s._key(),t)}function h2(s){return Zi(s._redirectPersistence)}function f2(s){return Mc(l2,s.config.apiKey,s.name)}async function d2(s,t,i=!1){if(gn(s.app))return Promise.reject(Wi(s));const a=ts(s),o=q0(a,t),d=await new o2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const m2=600*1e3;class p2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!g2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!H0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Jn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=m2&&this.cachedEventUids.clear(),this.cachedEventUids.has(G_(t))}saveEventToCache(t){this.cachedEventUids.add(G_(t)),this.lastProcessedEventTime=Date.now()}}function G_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function H0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function g2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H0(s);default:return!1}}async function y2(s,t={}){return nr(s,"GET","/v1/projects",t)}const _2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v2=/^https?/;async function T2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await y2(s);for(const i of t)try{if(E2(i))return}catch{}kn(s,"unauthorized-domain")}function E2(s){const t=Yd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!v2.test(i))return!1;if(_2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const S2=new zo(3e4,6e4);function K_(){const s=Ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function A2(s){return new Promise((t,i)=>{function a(){K_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{K_(),i(Jn(s,"network-request-failed"))},timeout:S2.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const o=mA("iframefcb");return Ai()[o]=()=>{gapi.load?a():i(Jn(s,"network-request-failed"))},I0(`${dA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function w2(s){return Lc=Lc||A2(s),Lc}const b2=new zo(5e3,15e3),R2="__/auth/iframe",I2="emulator/auth/iframe",C2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N2(s){const t=s.config;ht(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?vm(t,I2):`https://${s.config.authDomain}/${R2}`,a={apiKey:t.apiKey,appName:s.name,v:el},o=x2.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Po(a).slice(1)}`}async function D2(s){const t=await w2(s),i=Ai().gapi;return ht(i,s,"internal-error"),t.open({where:document.body,url:N2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Jn(s,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},b2.get());function _(){Ai().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const V2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,M2=600,k2="_blank",L2="http://localhost";class Q_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U2(s,t,i,a=O2,o=M2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...V2,width:a.toString(),height:o.toString(),top:c,left:d},v=an().toLowerCase();i&&(p=T0(v)?k2:i),_0(v)&&(t=t||L2,_.scrollbars="yes");const A=Object.entries(_).reduce((V,[B,Q])=>`${V}${B}=${Q},`,"");if(rA(v)&&p!=="_self")return P2(t||"",p),new Q_(null);const w=window.open(t||"",p,A);ht(w,s,"popup-blocked");try{w.focus()}catch{}return new Q_(w)}function P2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const j2="__/auth/handler",z2="emulator/auth/handler",q2=encodeURIComponent("fac");async function Y_(s,t,i,a,o,c){ht(s.config.authDomain,s,"auth-domain-config-required"),ht(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:el,eventId:o};if(t instanceof wm){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",SS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof Bo){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),v=_?`#${q2}=${encodeURIComponent(_)}`:"";return`${B2(s)}?${Po(p).slice(1)}${v}`}function B2({config:s}){return s.emulator?vm(s,z2):`https://${s.authDomain}/${j2}`}const Ld="webStorageSupport";class H2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L0,this._completeRedirectFn=d2,this._overrideRedirectResult=c2}async _openPopup(t,i,a,o){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Y_(t,i,a,Yd(),o);return U2(t,c,bm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await Y_(t,i,a,Yd(),o);return KA(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):($i(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await D2(t),a=new p2(t);return i.register("authEvent",o=>(ht(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ld,{type:Ld},o=>{const c=o?.[0]?.[Ld];c!==void 0&&i(!!c),kn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=T2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return b0()||v0()||Em()}}const F2=H2;var X_="@firebase/auth",J_="1.12.1";class G2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function K2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q2(s){Kd(new Qd("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ht(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R0(s)},v=new cA(a,o,c,_);return TA(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Kd(new Qd("auth-internal",t=>{const i=ts(t.getProvider("auth").getImmediate());return(a=>new G2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Co(X_,J_,K2(s)),Co(X_,J_,"esm2020")}const Y2=300,X2=l0("authIdTokenMaxAge")||Y2;let Z_=null;const J2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>X2)return;const o=i?.token;Z_!==o&&(Z_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Z2(s=o0()){const t=gm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=vA(s,{popupRedirectResolver:F2,persistence:[e2,HA,L0]}),a=l0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=J2(c.toString());zA(i,d,()=>d(i.currentUser)),jA(i,p=>d(p))}}const o=TS("auth");return o&&EA(i,`http://${o}`),i}function W2(){return document.getElementsByTagName("head")?.[0]??document}hA({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const c=Jn("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",W2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q2("Browser");var $2="firebase",tw="12.10.0";Co($2,tw,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fr,F0;(function(){var s;function t(R,b){function x(){}x.prototype=b.prototype,R.F=b.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(O,D,k){for(var C=Array(arguments.length-2),he=2;he<arguments.length;he++)C[he-2]=arguments[he];return b.prototype[D].apply(O,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,b,x){x||(x=0);const O=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)O[D]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(D=0;D<16;++D)O[D]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=R.g[0],x=R.g[1],D=R.g[2];let k=R.g[3],C;C=b+(k^x&(D^k))+O[0]+3614090360&4294967295,b=x+(C<<7&4294967295|C>>>25),C=k+(D^b&(x^D))+O[1]+3905402710&4294967295,k=b+(C<<12&4294967295|C>>>20),C=D+(x^k&(b^x))+O[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=x+(b^D&(k^b))+O[3]+3250441966&4294967295,x=D+(C<<22&4294967295|C>>>10),C=b+(k^x&(D^k))+O[4]+4118548399&4294967295,b=x+(C<<7&4294967295|C>>>25),C=k+(D^b&(x^D))+O[5]+1200080426&4294967295,k=b+(C<<12&4294967295|C>>>20),C=D+(x^k&(b^x))+O[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=x+(b^D&(k^b))+O[7]+4249261313&4294967295,x=D+(C<<22&4294967295|C>>>10),C=b+(k^x&(D^k))+O[8]+1770035416&4294967295,b=x+(C<<7&4294967295|C>>>25),C=k+(D^b&(x^D))+O[9]+2336552879&4294967295,k=b+(C<<12&4294967295|C>>>20),C=D+(x^k&(b^x))+O[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=x+(b^D&(k^b))+O[11]+2304563134&4294967295,x=D+(C<<22&4294967295|C>>>10),C=b+(k^x&(D^k))+O[12]+1804603682&4294967295,b=x+(C<<7&4294967295|C>>>25),C=k+(D^b&(x^D))+O[13]+4254626195&4294967295,k=b+(C<<12&4294967295|C>>>20),C=D+(x^k&(b^x))+O[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=x+(b^D&(k^b))+O[15]+1236535329&4294967295,x=D+(C<<22&4294967295|C>>>10),C=b+(D^k&(x^D))+O[1]+4129170786&4294967295,b=x+(C<<5&4294967295|C>>>27),C=k+(x^D&(b^x))+O[6]+3225465664&4294967295,k=b+(C<<9&4294967295|C>>>23),C=D+(b^x&(k^b))+O[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=x+(k^b&(D^k))+O[0]+3921069994&4294967295,x=D+(C<<20&4294967295|C>>>12),C=b+(D^k&(x^D))+O[5]+3593408605&4294967295,b=x+(C<<5&4294967295|C>>>27),C=k+(x^D&(b^x))+O[10]+38016083&4294967295,k=b+(C<<9&4294967295|C>>>23),C=D+(b^x&(k^b))+O[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=x+(k^b&(D^k))+O[4]+3889429448&4294967295,x=D+(C<<20&4294967295|C>>>12),C=b+(D^k&(x^D))+O[9]+568446438&4294967295,b=x+(C<<5&4294967295|C>>>27),C=k+(x^D&(b^x))+O[14]+3275163606&4294967295,k=b+(C<<9&4294967295|C>>>23),C=D+(b^x&(k^b))+O[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=x+(k^b&(D^k))+O[8]+1163531501&4294967295,x=D+(C<<20&4294967295|C>>>12),C=b+(D^k&(x^D))+O[13]+2850285829&4294967295,b=x+(C<<5&4294967295|C>>>27),C=k+(x^D&(b^x))+O[2]+4243563512&4294967295,k=b+(C<<9&4294967295|C>>>23),C=D+(b^x&(k^b))+O[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=x+(k^b&(D^k))+O[12]+2368359562&4294967295,x=D+(C<<20&4294967295|C>>>12),C=b+(x^D^k)+O[5]+4294588738&4294967295,b=x+(C<<4&4294967295|C>>>28),C=k+(b^x^D)+O[8]+2272392833&4294967295,k=b+(C<<11&4294967295|C>>>21),C=D+(k^b^x)+O[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=x+(D^k^b)+O[14]+4259657740&4294967295,x=D+(C<<23&4294967295|C>>>9),C=b+(x^D^k)+O[1]+2763975236&4294967295,b=x+(C<<4&4294967295|C>>>28),C=k+(b^x^D)+O[4]+1272893353&4294967295,k=b+(C<<11&4294967295|C>>>21),C=D+(k^b^x)+O[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=x+(D^k^b)+O[10]+3200236656&4294967295,x=D+(C<<23&4294967295|C>>>9),C=b+(x^D^k)+O[13]+681279174&4294967295,b=x+(C<<4&4294967295|C>>>28),C=k+(b^x^D)+O[0]+3936430074&4294967295,k=b+(C<<11&4294967295|C>>>21),C=D+(k^b^x)+O[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=x+(D^k^b)+O[6]+76029189&4294967295,x=D+(C<<23&4294967295|C>>>9),C=b+(x^D^k)+O[9]+3654602809&4294967295,b=x+(C<<4&4294967295|C>>>28),C=k+(b^x^D)+O[12]+3873151461&4294967295,k=b+(C<<11&4294967295|C>>>21),C=D+(k^b^x)+O[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=x+(D^k^b)+O[2]+3299628645&4294967295,x=D+(C<<23&4294967295|C>>>9),C=b+(D^(x|~k))+O[0]+4096336452&4294967295,b=x+(C<<6&4294967295|C>>>26),C=k+(x^(b|~D))+O[7]+1126891415&4294967295,k=b+(C<<10&4294967295|C>>>22),C=D+(b^(k|~x))+O[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=x+(k^(D|~b))+O[5]+4237533241&4294967295,x=D+(C<<21&4294967295|C>>>11),C=b+(D^(x|~k))+O[12]+1700485571&4294967295,b=x+(C<<6&4294967295|C>>>26),C=k+(x^(b|~D))+O[3]+2399980690&4294967295,k=b+(C<<10&4294967295|C>>>22),C=D+(b^(k|~x))+O[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=x+(k^(D|~b))+O[1]+2240044497&4294967295,x=D+(C<<21&4294967295|C>>>11),C=b+(D^(x|~k))+O[8]+1873313359&4294967295,b=x+(C<<6&4294967295|C>>>26),C=k+(x^(b|~D))+O[15]+4264355552&4294967295,k=b+(C<<10&4294967295|C>>>22),C=D+(b^(k|~x))+O[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=x+(k^(D|~b))+O[13]+1309151649&4294967295,x=D+(C<<21&4294967295|C>>>11),C=b+(D^(x|~k))+O[4]+4149444226&4294967295,b=x+(C<<6&4294967295|C>>>26),C=k+(x^(b|~D))+O[11]+3174756917&4294967295,k=b+(C<<10&4294967295|C>>>22),C=D+(b^(k|~x))+O[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=x+(k^(D|~b))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,b){b===void 0&&(b=R.length);const x=b-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=x;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<b;)if(O[D++]=R.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<b;)if(O[D++]=R[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,x=0;x<4;++x)for(let O=0;O<32;O+=8)R[b++]=this.g[x]>>>O&255;return R};function c(R,b){var x=p;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=b(R)}function d(R,b){this.h=b;const x=[];let O=!0;for(let D=R.length-1;D>=0;D--){const k=R[D]|0;O&&k==b||(x[D]=k,O=!1)}this.g=x}var p={};function _(R){return-128<=R&&R<128?c(R,function(b){return new d([b|0],b<0?-1:0)}):new d([R|0],R<0?-1:0)}function v(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return Z(v(-R));const b=[];let x=1;for(let O=0;R>=x;O++)b[O]=R/x|0,x*=4294967296;return new d(b,0)}function A(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return Z(A(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=v(Math.pow(b,8));let O=w;for(let k=0;k<R.length;k+=8){var D=Math.min(8,R.length-k);const C=parseInt(R.substring(k,k+D),b);D<8?(D=v(Math.pow(b,D)),O=O.j(D).add(v(C))):(O=O.j(x),O=O.add(v(C)))}return O}var w=_(0),V=_(1),B=_(16777216);s=d.prototype,s.m=function(){if(J(this))return-Z(this).m();let R=0,b=1;for(let x=0;x<this.g.length;x++){const O=this.i(x);R+=(O>=0?O:4294967296+O)*b,b*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(J(this))return"-"+Z(this).toString(R);const b=v(Math.pow(R,6));var x=this;let O="";for(;;){const D=Ct(x,b).g;x=ct(x,D.j(b));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=D,Q(x))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function J(R){return R.h==-1}s.l=function(R){return R=ct(this,R),J(R)?-1:Q(R)?0:1};function Z(R){const b=R.g.length,x=[];for(let O=0;O<b;O++)x[O]=~R.g[O];return new d(x,~R.h).add(V)}s.abs=function(){return J(this)?Z(this):this},s.add=function(R){const b=Math.max(this.g.length,R.g.length),x=[];let O=0;for(let D=0;D<=b;D++){let k=O+(this.i(D)&65535)+(R.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);O=C>>>16,k&=65535,C&=65535,x[D]=C<<16|k}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ct(R,b){return R.add(Z(b))}s.j=function(R){if(Q(this)||Q(R))return w;if(J(this))return J(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(J(R))return Z(this.j(Z(R)));if(this.l(B)<0&&R.l(B)<0)return v(this.m()*R.m());const b=this.g.length+R.g.length,x=[];for(var O=0;O<2*b;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<R.g.length;D++){const k=this.i(O)>>>16,C=this.i(O)&65535,he=R.i(D)>>>16,Oe=R.i(D)&65535;x[2*O+2*D]+=C*Oe,vt(x,2*O+2*D),x[2*O+2*D+1]+=k*Oe,vt(x,2*O+2*D+1),x[2*O+2*D+1]+=C*he,vt(x,2*O+2*D+1),x[2*O+2*D+2]+=k*he,vt(x,2*O+2*D+2)}for(R=0;R<b;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=b;R<2*b;R++)x[R]=0;return new d(x,0)};function vt(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function _t(R,b){this.g=R,this.h=b}function Ct(R,b){if(Q(b))throw Error("division by zero");if(Q(R))return new _t(w,w);if(J(R))return b=Ct(Z(R),b),new _t(Z(b.g),Z(b.h));if(J(b))return b=Ct(R,Z(b)),new _t(Z(b.g),b.h);if(R.g.length>30){if(J(R)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var x=V,O=b;O.l(R)<=0;)x=re(x),O=re(O);var D=Mt(x,1),k=Mt(O,1);for(O=Mt(O,2),x=Mt(x,2);!Q(O);){var C=k.add(O);C.l(R)<=0&&(D=D.add(x),k=C),O=Mt(O,1),x=Mt(x,1)}return b=ct(R,D.j(b)),new _t(D,b)}for(D=w;R.l(b)>=0;){for(x=Math.max(1,Math.floor(R.m()/b.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=v(x),C=k.j(b);J(C)||C.l(R)>0;)x-=O,k=v(x),C=k.j(b);Q(k)&&(k=V),D=D.add(k),R=ct(R,C)}return new _t(D,R)}s.B=function(R){return Ct(this,R).h},s.and=function(R){const b=Math.max(this.g.length,R.g.length),x=[];for(let O=0;O<b;O++)x[O]=this.i(O)&R.i(O);return new d(x,this.h&R.h)},s.or=function(R){const b=Math.max(this.g.length,R.g.length),x=[];for(let O=0;O<b;O++)x[O]=this.i(O)|R.i(O);return new d(x,this.h|R.h)},s.xor=function(R){const b=Math.max(this.g.length,R.g.length),x=[];for(let O=0;O<b;O++)x[O]=this.i(O)^R.i(O);return new d(x,this.h^R.h)};function re(R){const b=R.g.length+1,x=[];for(let O=0;O<b;O++)x[O]=R.i(O)<<1|R.i(O-1)>>>31;return new d(x,R.h)}function Mt(R,b){const x=b>>5;b%=32;const O=R.g.length-x,D=[];for(let k=0;k<O;k++)D[k]=b>0?R.i(k+x)>>>b|R.i(k+x+1)<<32-b:R.i(k+x);return new d(D,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,F0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Fr=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var G0,vo,K0,Uc,Wd,Q0,Y0,X0;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var y=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in y))break t;y=y[L]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&y.push([S,m[S]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(S,L,z){for(var W=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)W[pt-2]=arguments[pt];return m.prototype[L].apply(S,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function Q(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const z=L.length||0;u.length=y+z;for(let W=0;W<z;W++)u[y+W]=L[W]}else u.push(L)}}class J{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,y){const S=_t.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var _t=new J(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Mt=!1,R=new vt,b=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(x)}};function x(){for(var u;u=ct();){try{u.h.call(u.g)}catch(y){Z(y)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(he,D),he.prototype.init=function(u,m){const y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,y,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=L,this.key=++G,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const S in u)m.call(y,u[S],S,u)}function Ft(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function Ie(u){const m={};for(const y in u)m[y]=u[y];return m}const Kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(u,m){let y,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(y in S)u[y]=S[y];for(let z=0;z<Kt.length;z++)y=Kt[z],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function $t(u){this.src=u,this.g={},this.h=0}$t.prototype.add=function(u,m,y,S,L){const z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);const W=_n(u,m,S,L);return W>-1?(m=u[W],y||(m.fa=!1)):(m=new et(m,this.src,z,!!S,L),m.fa=y,u.push(m)),m};function Xe(u,m){const y=m.type;if(y in u.g){var S=u.g[y],L=Array.prototype.indexOf.call(S,m,void 0),z;(z=L>=0)&&Array.prototype.splice.call(S,L,1),z&&(ot(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function _n(u,m,y,S){for(let L=0;L<u.length;++L){const z=u[L];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==S)return L}return-1}var ir="closure_lm_"+(Math.random()*1e6|0),rr={};function xi(u,m,y,S,L){if(Array.isArray(m)){for(let z=0;z<m.length;z++)xi(u,m[z],y,S,L);return null}return y=fl(y),u&&u[Oe]?u.J(m,y,p(S)?!!S.capture:!1,L):ul(u,m,y,!1,S,L)}function ul(u,m,y,S,L,z){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let pt=is(u);if(pt||(u[ir]=pt=new $t(u)),y=pt.add(m,y,S,W,z),y.proxy)return y;if(S=Ks(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)k||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(ti(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ks(){function u(y){return m.call(u.src,u.listener,y)}const m=cl;return u}function Qs(u,m,y,S,L){if(Array.isArray(m))for(var z=0;z<m.length;z++)Qs(u,m[z],y,S,L);else S=p(S)?!!S.capture:!!S,y=fl(y),u&&u[Oe]?(u=u.i,z=String(m).toString(),z in u.g&&(m=u.g[z],y=_n(m,y,S,L),y>-1&&(ot(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[z],u.h--)))):u&&(u=is(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_n(m,y,S,L)),(y=u>-1?m[u]:null)&&Ys(y))}function Ys(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Oe])Xe(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(ti(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=is(m))?(Xe(y,u),y.h==0&&(y.src=null,m[ir]=null)):ot(u)}}}function ti(u){return u in rr?rr[u]:rr[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new he(m,this);const y=u.listener,S=u.ha||u.src;u.fa&&Ys(u),u=y.call(S,m)}return u}function is(u){return u=u[ir],u instanceof $t?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function fe(){O.call(this),this.i=new $t(this),this.M=this,this.G=null}w(fe,O),fe.prototype[Oe]=!0,fe.prototype.removeEventListener=function(u,m,y,S){Qs(this,u,m,y,S)};function we(u,m){var y,S=u.G;if(S)for(y=[];S;S=S.G)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(S,u),xt(m,L)}L=!0;let z,W;if(y)for(W=y.length-1;W>=0;W--)z=m.g=y[W],L=sr(z,S,!0,m)&&L;if(z=m.g=u,L=sr(z,S,!0,m)&&L,L=sr(z,S,!1,m)&&L,y)for(W=0;W<y.length;W++)z=m.g=y[W],L=sr(z,S,!1,m)&&L}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let S=0;S<y.length;S++)ot(y[S]);delete u.g[m],u.h--}}this.G=null},fe.prototype.J=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},fe.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function sr(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let z=0;z<m.length;++z){const W=m[z];if(W&&!W.da&&W.capture==y){const pt=W.listener,ae=W.ha||W.src;W.fa&&Xe(u.i,W),L=pt.call(ae,S)!==!1&&L}}return L&&!S.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wo(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,Wo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ke extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(u){O.call(this),this.h=u,this.g={}}w(rs,O);var dl=[];function ml(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ys(m)},u),u.g={}}rs.prototype.N=function(){rs.Z.N.call(this),ml(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=d.JSON.stringify,Mh=d.JSON.parse,$o=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){D.call(this,"d")}w(Me,D);function vn(){D.call(this,"c")}w(vn,D);var se={},nu=null;function Xs(){return nu=nu||new fe}se.Ia="serverreachability";function iu(u){D.call(this,se.Ia,u)}w(iu,D);function ei(u){const m=Xs();we(m,new iu(m))}se.STAT_EVENT="statevent";function ss(u,m){D.call(this,se.STAT_EVENT,u),this.stat=m}w(ss,D);function de(u){const m=Xs();we(m,new ss(m,u))}se.Ja="timingevent";function ni(u,m){D.call(this,se.Ja,u),this.size=m}w(ni,D);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function kh(u,m,y,S,L,z){u.info(function(){if(u.g)if(z){var W="",pt=z.split("&");for(let Vt=0;Vt<pt.length;Vt++){var ae=pt[Vt].split("=");if(ae.length>1){const Zt=ae[0];ae=ae[1];const An=Zt.split("_");W=An.length>=2&&An[1]=="type"?W+(Zt+"="+ae+"&"):W+(Zt+"=redacted&")}}}else W=null;else W=z;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+y+`
`+W})}function ru(u,m,y,S,L,z,W){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+y+`
`+z+" "+W})}function ri(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,y)+(S?" "+S:"")})}function as(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const z=JSON.parse(m);if(z){for(u=0;u<z.length;u++)if(Array.isArray(z[u])){var y=z[u];if(!(y.length<2)){var S=y[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<S.length;W++)S[W]=""}}}}return ar(z)}catch{return m}}var ls={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function os(){}w(os,tu),os.prototype.g=function(){return new XMLHttpRequest},gl=new os;function Ni(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Pn(u,m,y,S){this.j=u,this.i=m,this.l=y,this.S=S||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var me={},Ce={};function si(u,m,y){u.M=1,u.A=us(ge(m)),u.u=y,u.R=!0,Js(u,null)}function Js(u,m){u.F=Date.now(),ai(u),u.B=ge(u.A);var y=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ta(y.i,"t",S),u.C=0,y=u.j.L,u.h=new jn,u.g=Tu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ke(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let z=0;z<L.length;z++){const W=xi(y,L[z],S||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?Ie(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Bn(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const pt=Bn(this.g),ae=this.g.ya(),Vt=this.g.ca();if(!(pt<3)&&(pt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||pt!=4||ae==7||(ae==8||Vt<=0?ei(3):ei(2)),li(this);var m=this.g.ca();this.X=m;var y=Uh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,pt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var z=S;break e}}z=null}if(u=z)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,de(12),ln(this),Tn(this);break t}}if(this.R){u=!0;let Zt;for(;!this.K&&this.C<y.length;)if(Zt=lu(this,y),Zt==Ce){pt==4&&(this.m=4,de(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==me){this.m=4,de(15),ri(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,Zt,null),oi(this,Zt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||y.length!=0||this.h.h||(this.m=1,de(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,y,"[Invalid Chunked Response]"),ln(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Dl(W),W.P=!0,de(11))}}else ri(this.i,this.l,y,null),oi(this,y);pt==4&&ln(this),this.o&&!this.K&&(pt==4?gu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),ln(this),Tn(this)}}}catch{}};function Uh(u){if(!au(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let y="";const S=m.length,L=Bn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ln(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let z=0;z<S;z++)u.h.h=!0,y+=u.h.i.decode(m[z],{stream:!(L&&z==S-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?Ce:(y=Number(m.substring(y,S)),isNaN(y)?me:(S+=1,S+y>m.length?Ce:(m=m.slice(S,S+y),u.C=S+y,m)))}Pn.prototype.cancel=function(){this.K=!0,ln(this)};function ai(u){u.T=Date.now()+u.H,Zs(u,u.H)}function Zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(v(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(as(this.i,this.B),this.M!=2&&(ei(),de(17)),ln(this),this.m=2,Tn(this)):Zs(this,this.T-u)};function Tn(u){u.j.I==0||u.K||gu(u.j,u)}function ln(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ci(y.h,u))){if(!u.L&&ci(y.h,u)&&y.I==3){try{var S=y.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)sa(y),mr(y);else break t;gs(y),de(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ii(v(y.Va,y),6e3));ui(y.h)<=1&&y.ta&&(y.ta=void 0)}else gi(y,11)}else if((u.L||y.g==u)&&sa(y),!C(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Vt=L[m];const Zt=Vt[0];if(!(Zt<=y.K))if(y.K=Zt,Vt=Vt[1],y.I==2)if(Vt[0]=="c"){y.M=Vt[1],y.ba=Vt[2];const An=Vt[3];An!=null&&(y.ka=An,y.j.info("VER="+y.ka));const yi=Vt[4];yi!=null&&(y.za=yi,y.j.info("SVER="+y.za));const Hn=Vt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(S=1.5*Hn,y.O=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Fn=u.g;if(Fn){const ys=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ys){var z=S.h;z.g||ys.indexOf("spdy")==-1&&ys.indexOf("quic")==-1&&ys.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(vl(z,z.h),z.h=null))}if(S.G){const aa=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(S.wa=aa,Ut(S.J,S.G,aa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),S=y;var W=u;if(S.na=vu(S,S.L?S.ba:null,S.W),W.L){Tl(S.h,W);var pt=W,ae=S.O;ae&&(pt.H=ae),pt.D&&(li(pt),ai(pt)),S.g=W}else mu(S);y.i.length>0&&pi(y)}else Vt[0]!="stop"&&Vt[0]!="close"||gi(y,7);else y.I==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?gi(y,7):xl(y):Vt[0]!="noop"&&y.l&&y.l.qa(Vt),y.A=0)}}ei(4)}catch{}}var pe=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function Tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function El(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return B(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ws(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const S=u[y].indexOf("=");let L,z=null;S>=0?(L=u[y].substring(0,S),z=u[y].substring(S+1)):L=u[y],m(L,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function on(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof on?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,lr(this,u.u),this.h=u.h,Sl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,xe(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),lr(this,m[4]),this.h=hi(m[5]||"",!0),Sl(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}on.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(cs(m,$s,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(cs(m,$s,!0),"@"),u.push(Ni(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(cs(y,y.charAt(0)=="/"?Al:uu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",cs(y,cu)),u.join("")},on.prototype.resolve=function(u){const m=ge(this);let y=!!u.j;y?xe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var S=u.h;if(y)lr(m,u.u);else if(y=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const z=[];for(let W=0;W<L.length;){const pt=L[W++];pt=="."?S&&W==L.length&&z.push(""):pt==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),S&&W==L.length&&z.push("")):(z.push(pt),S=!0)}S=z.join("/")}else S=L}return y?m.h=S:y=u.i.toString()!=="",y?Sl(m,fu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ge(u){return new on(u)}function xe(u,m,y){u.j=y?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function lr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Sl(u,m,y){m instanceof ur?(u.i=m,ea(u.i,u.l)):(y||(m=cs(m,or)),u.i=new ur(m,u.l))}function Ut(u,m,y){u.i.set(m,y)}function us(u){return Ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function cs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Je),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Je(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $s=/[#\/\?@]/g,uu=/[#\?:]/g,Al=/[#\?]/g,or=/[#\?@]/g,cu=/#/g;function ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ze(u){u.g||(u.g=new Map,u.h=0,u.i&&Ws(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=ur.prototype,s.add=function(u,m){Ze(this),this.i=null,u=cr(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function hu(u,m){Ze(u),m=cr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wl(u,m){return Ze(u),m=cr(u,m),u.g.has(m)}s.forEach=function(u,m){Ze(this),this.g.forEach(function(y,S){y.forEach(function(L){u.call(m,L,S,this)},this)},this)};function bl(u,m){Ze(u);let y=[];if(typeof m=="string")wl(u,m)&&(y=y.concat(u.g.get(cr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return Ze(this),this.i=null,u=cr(this,u),wl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=bl(this,u),u.length>0?String(u[0]):m):m};function ta(u,m,y){hu(u,m),y.length>0&&(u.i=null,u.g.set(cr(u,m),B(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var y=m[S];const L=Ni(y);y=bl(this,y);for(let z=0;z<y.length;z++){let W=L;y[z]!==""&&(W+="="+Ni(y[z])),u.push(W)}}return this.i=u.join("&")};function fu(u){const m=new ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ea(u,m){m&&!u.j&&(Ze(u),u.i=null,u.g.forEach(function(y,S){const L=S.toLowerCase();S!=L&&(hu(this,S),ta(this,L,y))},u)),u.j=m}function zn(u,m){const y=new Un;if(d.Image){const S=new Image;S.onload=A(En,y,"TestLoadImage: loaded",!0,m,S),S.onerror=A(En,y,"TestLoadImage: error",!1,m,S),S.onabort=A(En,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(En,y,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Rl(u,m){const y=new Un,S=new AbortController,L=setTimeout(()=>{S.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(z=>{clearTimeout(L),z.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(y)}catch{}}function hr(){this.g=new $o}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(fi,tu),fi.prototype.g=function(){return new hs(this.i,this.h)};function hs(u,m){fe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(hs,fe),s=hs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;na(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function na(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fr(this):qn(this),this.readyState==3&&na(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fr(this))},s.Na=function(u){this.g&&(this.response=u,fr(this))},s.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return kt(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function fs(u,m,y){t:{for(S in y){var S=!1;break t}S=!0}S||(y=Sn(y),typeof u=="string"?y!=null&&Ni(y):Ut(u,m,y))}function zt(u){fe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(zt,fe);var di=/^https?$/i,Il=["POST","PUT"];s=zt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){ds(this,z);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)y.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const z of S.keys())y.set(z,S.get(z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Il,m,void 0)>=0)||S||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,W]of y)this.g.setRequestHeader(z,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(z){ds(this,z)}};function ds(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Cl(u),Di(u)}function Cl(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},s.Xa=function(){ms(this)};function ms(u){if(u.h&&typeof c<"u"){if(u.v&&Bn(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const z=u.ca();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var S;if(S=z===0){let W=String(u.D).match(ou)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),S=!di.test(W?W.toLowerCase():"")}y=S}if(y)we(u,"complete"),we(u,"success");else{u.o=6;try{var L=Bn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Cl(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||we(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Bn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var y=su(u[S]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[L]||[];m[L]=z,z.push(y)}Ft(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function dr(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=dr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,S){de(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.J=vu(this,null,this.W),pi(this)};function xl(u){if(ia(u),u.I==3){var m=u.V++,y=ge(u.J);if(Ut(y,"SID",u.M),Ut(y,"RID",m),Ut(y,"TYPE","terminate"),ps(u,y),m=new Pn(u,u.j,m),m.M=2,m.A=us(ge(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}_u(u)}function mr(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function ia(u){mr(u),u.v&&(d.clearTimeout(u.v),u.v=null),sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||b(),Mt||(re(),Mt=!0),R.add(m,u),u.D=0}}function ra(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(v(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let z=this.o;if(this.U&&(z?(z=Ie(z),xt(z,this.U)):z=this.U),this.u!==null||this.R||(L.J=z,z=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=du(this,L,m),y=ge(this.J),Ut(y,"RID",u),Ut(y,"CVER",22),this.G&&Ut(y,"X-HTTP-Session-Id",this.G),ps(this,y),z&&(this.R?m="headers="+Ni(Sn(z))+"&"+m:this.u&&fs(y,this.u,z)),vl(this.h,L),this.Ra&&Ut(y,"TYPE","init"),this.S?(Ut(y,"$req",m),Ut(y,"SID","null"),L.U=!0,si(L,y,null)):si(L,y,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var y;m?y=m.l:y=u.V++;const S=ge(u.J);Ut(S,"SID",u.M),Ut(S,"RID",y),Ut(S,"AID",u.K),ps(u,S),u.u&&u.o&&fs(S,u.u,u.o),y=new Pn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,y),si(y,S,m)}function ps(u,m){u.H&&kt(u.H,function(y,S){Ut(m,S,y)}),u.l&&kt({},function(y,S){Ut(m,S,y)})}function du(u,m,y){y=Math.min(u.i.length,y);const S=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let pt=-1;for(;;){const ae=["count="+y];pt==-1?y>0?(pt=L[0].g,ae.push("ofs="+pt)):pt=0:ae.push("ofs="+pt);let Vt=!0;for(let Zt=0;Zt<y;Zt++){var z=L[Zt].g;const An=L[Zt].map;if(z-=pt,z<0)pt=Math.max(0,L[Zt].g-100),Vt=!1;else try{z="req"+z+"_"||"";try{var W=An instanceof Map?An:Object.entries(An);for(const[yi,Hn]of W){let Fn=Hn;p(Hn)&&(Fn=ar(Hn)),ae.push(z+yi+"="+encodeURIComponent(Fn))}}catch(yi){throw ae.push(z+"type="+encodeURIComponent("_badmap")),yi}}catch{S&&S(An)}}if(Vt){W=ae.join("&");break t}}W=void 0}return u=u.i.splice(0,y),m.G=u,W}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||b(),Mt||(re(),Mt=!0),R.add(m,u),u.A=0}}function gs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(v(u.Da,u),yu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),mr(this),pu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ge(u.na);Ut(m,"RID","rpc"),Ut(m,"SID",u.M),Ut(m,"AID",u.K),Ut(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ut(m,"TO",u.ia),Ut(m,"TYPE","xmlhttp"),ps(u,m),u.u&&u.o&&fs(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=us(ge(m)),y.u=null,y.R=!0,Js(y,u)}s.Va=function(){this.C!=null&&(this.C=null,mr(this),gs(this),de(19))};function sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var y=null;if(u.g==m){sa(u),Dl(u),u.g=null;var S=2}else if(ci(u.h,m))y=m.G,Tl(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=Xs(),we(S,new ni(S,y)),pi(u)}else mu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&ra(u,m)||S==2&&gs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function yu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),S=u.Ua;const L=!S;S=new on(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(S,"https"),us(S),L?zn(S.toString(),y):Rl(S.toString(),y)}else de(2);u.I=0,u.l&&u.l.pa(m),_u(u),ia(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=El(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ja,m),Q(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,y){var S=y instanceof on?ge(y):new on(y);if(S.g!="")m&&(S.g=m+"."+S.g),lr(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const z=new on(null);S&&xe(z,S),m&&(z.g=m),L&&lr(z,L),y&&(z.h=y),S=z}return y=u.G,m=u.wa,y&&m&&Ut(S,y,m),Ut(S,"VER",u.ka),ps(u,S),S}function Tu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new zt(new fi({ab:y})):new zt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function pr(){}pr.prototype.g=function(u,m){return new Qe(u,m)};function Qe(u,m){fe.call(this),this.g=new dr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}w(Qe,fe),Qe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qe.prototype.close=function(){xl(this.g)},Qe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ar(u),u=y);m.i.push(new pe(m.Ya++,u)),m.I==3&&pi(m)},Qe.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,Qe.Z.N.call(this)};function Su(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,Me);function Au(){vn.call(this),this.status=1}w(Au,vn);function Oi(u){this.g=u}w(Oi,Eu),Oi.prototype.ra=function(){we(this.g,"a")},Oi.prototype.qa=function(u){we(this.g,new Su(u))},Oi.prototype.pa=function(u){we(this.g,new Au)},Oi.prototype.oa=function(){we(this.g,"b")},pr.prototype.createWebChannel=pr.prototype.g,Qe.prototype.send=Qe.prototype.o,Qe.prototype.open=Qe.prototype.m,Qe.prototype.close=Qe.prototype.close,X0=function(){return new pr},Y0=function(){return Xs()},Q0=se,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,Uc=ls,pl.COMPLETE="complete",K0=pl,eu.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",fe.prototype.listen=fe.prototype.J,vo=eu,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,G0=zt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");let il="12.10.0";function ew(s){il=s}const zs=new a0("@firebase/firestore");function La(){return zs.logLevel}function nt(s,...t){if(zs.logLevel<=Yn.DEBUG){const i=t.map(Im);zs.debug(`Firestore (${il}): ${s}`,...i)}}function tr(s,...t){if(zs.logLevel<=Yn.ERROR){const i=t.map(Im);zs.error(`Firestore (${il}): ${s}`,...i)}}function qs(s,...t){if(zs.logLevel<=Yn.WARN){const i=t.map(Im);zs.warn(`Firestore (${il}): ${s}`,...i)}}function Im(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ft(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,J0(s,a,i)}function J0(s,t,i){let a=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw tr(a),new Error(a)}function Lt(s,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||J0(t,o,a)}function mt(s,t){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends ch{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ls{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Z0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class iw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class rw{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Lt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ls,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ls)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Lt(typeof a.accessToken=="string",31837,{l:a}),new Z0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Lt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class sw{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aw{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new sw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Lt(this.o===void 0,3512);const a=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ow(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=ow(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function wt(s,t){return s<t?-1:s>t?1:0}function $d(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=t.charAt(a);if(o!==c)return Ud(o)===Ud(c)?wt(o,c):Ud(o)?1:-1}return wt(s.length,t.length)}const uw=55296,cw=57343;function Ud(s){const t=s.charCodeAt(0);return t>=uw&&t<=cw}function Qa(s,t,i){return s.length===t.length&&s.every(((a,o)=>i(a,t[o])))}const tv="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&ft(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&ft(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Si.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return wt(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),o=Si.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Si.extractNumericId(t).compare(Si.extractNumericId(i)):$d(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fr.fromString(t.substring(4,t.length-2))}}class Qt extends Si{construct(t,i,a){return new Qt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new it(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Qt(i)}static emptyPath(){return new Qt([])}}const hw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Si{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return hw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new qe([tv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new it(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new it(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new it(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Qt.fromString(t))}static fromName(t){return new lt(Qt.fromString(t).popFirst(5))}static empty(){return new lt(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Qt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Qt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Qt(t.slice()))}}function W0(s,t,i){if(!i)throw new it(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function fw(s,t,i,a){if(t===!0&&a===!0)throw new it(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function ev(s){if(!lt.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function nv(s){if(lt.isDocumentKey(s))throw new it(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function $0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function mh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":ft(12329,{type:typeof s})}function wi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new it(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mh(s);throw new it(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ae(s,t){const i={typeString:s};return t&&(i.value=t),i}function Fo(s,t){if(!$0(s))throw new it(Y.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new it(Y.INVALID_ARGUMENT,i);return!0}const iv=-62135596800,rv=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*rv);return new Jt(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<iv)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new it(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(t){return this.seconds===t.seconds?wt(this.nanoseconds,t.nanoseconds):wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fo(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-iv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Ae("string",Jt._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};class dt{static fromTimestamp(t){return new dt(t)}static min(){return new dt(new Jt(0,0))}static max(){return new dt(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const No=-1;function dw(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=dt.fromTimestamp(a===1e9?new Jt(i+1,0):new Jt(i,a));return new Qr(o,lt.empty(),t)}function mw(s){return new Qr(s.readTime,s.key,No)}class Qr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Qr(dt.min(),lt.empty(),No)}static max(){return new Qr(dt.max(),lt.empty(),No)}}function pw(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=lt.comparator(s.documentKey,t.documentKey),i!==0?i:wt(s.largestBatchId,t.largestBatchId))}const gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function rl(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==gw)throw s;nt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(t[v]).next((A=>{d[v]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function _w(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function sl(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const xm=-1;function gh(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function vw(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const tT="";function Tw(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=sv(t)),t=Ew(s.get(i),t);return sv(t)}function Ew(s,t){let i=t;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case tT:i+="";break;default:i+=c}}return i}function sv(s){return s+tT+""}function av(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function es(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function eT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class te{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new te(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new ze(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(t){this.comparator=t,this.data=new te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(t){return new lv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class lv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new yn([])}unionWith(t){let i=new Re(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Qa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class nT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new nT("Invalid base64 string: "+c):c}})(t);return new Be(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(Lt(!!s,39018),typeof s=="string"){let t=0;const i=Sw.exec(s);if(Lt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}const iT="server_timestamp",rT="__type__",sT="__previous_value__",aT="__local_write_time__";function Nm(s){return(s?.mapValue?.fields||{})[rT]?.stringValue===iT}function yh(s){const t=s.mapValue.fields[sT];return Nm(t)?yh(t):t}function Do(s){const t=Yr(s.mapValue.fields[aT].timestampValue);return new Jt(t.seconds,t.nanos)}class Aw{constructor(t,i,a,o,c,d,p,_,v,A,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A,this.apiKey=w}}const Wc="(default)";class Vo{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Vo&&t.projectId===this.projectId&&t.database===this.database}}function ww(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new it(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(s.options.projectId,t)}const lT="__type__",bw="__max__",Nc={mapValue:{}},oT="__vector__",$c="value";function Jr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nm(s)?4:Iw(s)?9007199254740991:Rw(s)?10:11:ft(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=Jr(s);if(i!==Jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Do(s).isEqual(Do(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Yr(o.timestampValue),p=Yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return Xr(o.bytesValue).isEqual(Xr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return ue(o.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ue(o.integerValue)===ue(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ue(o.doubleValue),p=ue(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Qa(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(av(d)!==av(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ci(d[_],p[_])))return!1;return!0})(s,t);default:return ft(52216,{left:s})}}function Oo(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function Ya(s,t){if(s===t)return 0;const i=Jr(s),a=Jr(t);if(i!==a)return wt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ue(c.integerValue||c.doubleValue),_=ue(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return ov(s.timestampValue,t.timestampValue);case 4:return ov(Do(s),Do(t));case 5:return $d(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xr(c),_=Xr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=wt(p[v],_[v]);if(A!==0)return A}return wt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=wt(ue(c.latitude),ue(d.latitude));return p!==0?p:wt(ue(c.longitude),ue(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return uv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[$c]?.arrayValue,A=_[$c]?.arrayValue,w=wt(v?.values?.length||0,A?.values?.length||0);return w!==0?w:uv(v,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const V=$d(_[w],A[w]);if(V!==0)return V;const B=Ya(p[_[w]],v[A[w]]);if(B!==0)return B}return wt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw ft(23264,{he:i})}}function ov(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return wt(s,t);const i=Yr(s),a=Yr(t),o=wt(i.seconds,a.seconds);return o!==0?o:wt(i.nanos,a.nanos)}function uv(s,t){const i=s.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Ya(i[o],a[o]);if(c)return c}return wt(i.length,a.length)}function Xa(s){return tm(s)}function tm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return lt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=tm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${tm(i.fields[d])}`;return o+"}"})(s.mapValue):ft(61005,{value:s})}function Pc(s){switch(Jr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(s);return t?16+Pc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Pc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return es(a.fields,((c,d)=>{o+=c.length+Pc(d)})),o})(s.mapValue);default:throw ft(13486,{value:s})}}function cv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function em(s){return!!s&&"integerValue"in s}function Dm(s){return!!s&&"arrayValue"in s}function hv(s){return!!s&&"nullValue"in s}function fv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function Rw(s){return(s?.mapValue?.fields||{})[lT]?.stringValue===oT}function wo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return es(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wo(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wo(s.arrayValue.values[i]);return t}return{...s}}function Iw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bw}class sn{constructor(t){this.value=t}static empty(){return new sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wo(i)}setAll(t){let i=qe.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=wo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){es(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new sn(wo(this.value))}}function uT(s){const t=[];return es(s.fields,((i,a)=>{const o=new qe([i]);if(jc(a)){const c=uT(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new yn(t)}class Ge{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ge(t,0,dt.min(),dt.min(),dt.min(),sn.empty(),0)}static newFoundDocument(t,i,a,o){return new Ge(t,1,i,dt.min(),a,o,0)}static newNoDocument(t,i){return new Ge(t,2,i,dt.min(),dt.min(),sn.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,dt.min(),dt.min(),sn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function dv(s,t,i){let a=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?a=lt.comparator(lt.fromName(d.referenceValue),i.key):a=Ya(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function Cw(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class cT{}class Se extends cT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Nw(t,i,a):i==="array-contains"?new Ow(t,a):i==="in"?new Mw(t,a):i==="not-in"?new kw(t,a):i==="array-contains-any"?new Lw(t,a):new Se(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Dw(t,a):new Vw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ya(i,this.value)):i!==null&&Jr(this.value)===Jr(i)&&this.matchesComparison(Ya(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends cT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $n(t,i)}matches(t){return hT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hT(s){return s.op==="and"}function fT(s){return xw(s)&&hT(s)}function xw(s){for(const t of s.filters)if(t instanceof $n)return!1;return!0}function nm(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+Xa(s.value);if(fT(s))return s.filters.map((t=>nm(t))).join(",");{const t=s.filters.map((i=>nm(i))).join(",");return`${s.op}(${t})`}}function dT(s,t){return s instanceof Se?(function(a,o){return o instanceof Se&&a.op===o.op&&a.field.isEqual(o.field)&&Ci(a.value,o.value)})(s,t):s instanceof $n?(function(a,o){return o instanceof $n&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&dT(d,o.filters[p])),!0):!1})(s,t):void ft(19439)}function mT(s){return s instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${Xa(i.value)}`})(s):s instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(mT).join(" ,")+"}"})(s):"Filter"}class Nw extends Se{constructor(t,i,a){super(t,i,a),this.key=lt.fromName(a.referenceValue)}matches(t){const i=lt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Dw extends Se{constructor(t,i){super(t,"in",i),this.keys=pT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Vw extends Se{constructor(t,i){super(t,"not-in",i),this.keys=pT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function pT(s,t){return(t.arrayValue?.values||[]).map((i=>lt.fromName(i.referenceValue)))}class Ow extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Oo(i.arrayValue,this.value)}}class Mw extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class kw extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class Lw extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Oo(this.value.arrayValue,a)))}}class Uw{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function pv(s,t=null,i=[],a=[],o=null,c=null,d=null){return new Uw(s,t,i,a,o,c,d)}function Vm(s){const t=mt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>nm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Xa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Xa(a))).join(",")),t.Te=i}return t.Te}function Om(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Cw(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!dT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!mv(s.startAt,t.startAt)&&mv(s.endAt,t.endAt)}function im(s){return lt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Go{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Pw(s,t,i,a,o,c,d,p){return new Go(s,t,i,a,o,c,d,p)}function Mm(s){return new Go(s)}function gv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function jw(s){return lt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function gT(s){return s.collectionGroup!==null}function bo(s){const t=mt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Re(qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(qe.keyField().canonicalString())||t.Ie.push(new eh(qe.keyField(),a))}return t.Ie}function bi(s){const t=mt(s);return t.Ee||(t.Ee=zw(t,bo(s))),t.Ee}function zw(s,t){if(s.limitType==="F")return pv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const i=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return pv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function rm(s,t){const i=s.filters.concat([t]);return new Go(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function sm(s,t,i){return new Go(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function _h(s,t){return Om(bi(s),bi(t))&&s.limitType===t.limitType}function yT(s){return`${Vm(bi(s))}|lt:${s.limitType}`}function Ua(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>mT(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Xa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Xa(o))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function vh(s,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):lt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,o){for(const c of bo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const v=dv(d,p,_);return d.inclusive?v<=0:v<0})(a.startAt,bo(a),o)||a.endAt&&!(function(d,p,_){const v=dv(d,p,_);return d.inclusive?v>=0:v>0})(a.endAt,bo(a),o))})(s,t)}function qw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _T(s){return(t,i)=>{let a=!1;for(const o of bo(s)){const c=Bw(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Bw(s,t,i){const a=s.field.isKeyField()?lt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Ya(_,v):ft(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft(19790,{direction:s.dir})}}class Fs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){es(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return eT(this.inner)}size(){return this.innerSize}}const Hw=new te(lt.comparator);function er(){return Hw}const vT=new te(lt.comparator);function To(...s){let t=vT;for(const i of s)t=t.insert(i.key,i);return t}function TT(s){let t=vT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ks(){return Ro()}function ET(){return Ro()}function Ro(){return new Fs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Fw=new te(lt.comparator),Gw=new Re(lt.comparator);function bt(...s){let t=Gw;for(const i of s)t=t.add(i);return t}const Kw=new Re(wt);function Qw(){return Kw}function km(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function ST(s){return{integerValue:""+s}}function Yw(s,t){return vw(t)?ST(t):km(s,t)}class Th{constructor(){this._=void 0}}function Xw(s,t,i){return s instanceof Mo?(function(o,c){const d={fields:{[rT]:{stringValue:iT},[aT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Nm(c)&&(c=yh(c)),c&&(d.fields[sT]=c),{mapValue:d}})(i,t):s instanceof ko?wT(s,t):s instanceof Lo?bT(s,t):(function(o,c){const d=AT(o,c),p=yv(d)+yv(o.Ae);return em(d)&&em(o.Ae)?ST(p):km(o.serializer,p)})(s,t)}function Jw(s,t,i){return s instanceof ko?wT(s,t):s instanceof Lo?bT(s,t):i}function AT(s,t){return s instanceof nh?(function(a){return em(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Mo extends Th{}class ko extends Th{constructor(t){super(),this.elements=t}}function wT(s,t){const i=RT(t);for(const a of s.elements)i.some((o=>Ci(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Lo extends Th{constructor(t){super(),this.elements=t}}function bT(s,t){let i=RT(t);for(const a of s.elements)i=i.filter((o=>!Ci(o,a)));return{arrayValue:{values:i}}}class nh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function yv(s){return ue(s.integerValue||s.doubleValue)}function RT(s){return Dm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Zw{constructor(t,i){this.field=t,this.transform=i}}function Ww(s,t){return s.field.isEqual(t.field)&&(function(a,o){return a instanceof ko&&o instanceof ko||a instanceof Lo&&o instanceof Lo?Qa(a.elements,o.elements,Ci):a instanceof nh&&o instanceof nh?Ci(a.Ae,o.Ae):a instanceof Mo&&o instanceof Mo})(s.transform,t.transform)}class $w{constructor(t,i){this.version=t,this.transformResults=i}}class On{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new On}static exists(t){return new On(void 0,t)}static updateTime(t){return new On(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function IT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Lm(s.key,On.none()):new Ko(s.key,s.data,On.none());{const i=s.data,a=sn.empty();let o=new Re(qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new ns(s.key,a,new yn(o.toArray()),On.none())}}function tb(s,t,i){s instanceof Ko?(function(o,c,d){const p=o.value.clone(),_=vv(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof ns?(function(o,c,d){if(!zc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=vv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(CT(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Io(s,t,i,a){return s instanceof Ko?(function(c,d,p,_){if(!zc(c.precondition,d))return p;const v=c.value.clone(),A=Tv(c.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,t,i,a):s instanceof ns?(function(c,d,p,_){if(!zc(c.precondition,d))return p;const v=Tv(c.fieldTransforms,_,d),A=d.data;return A.setAll(CT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function eb(s,t){let i=null;for(const a of s.fieldTransforms){const o=t.data.field(a.field),c=AT(a.transform,o||null);c!=null&&(i===null&&(i=sn.empty()),i.set(a.field,c))}return i||null}function _v(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Qa(a,o,((c,d)=>Ww(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ko extends Eh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends Eh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function CT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function vv(s,t,i){const a=new Map;Lt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,Jw(d,p,i[o]))}return a}function Tv(s,t,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Xw(c,d,t))}return a}class Lm extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nb extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ib{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&tb(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Io(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Io(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=ET();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=IT(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(dt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),bt())}isEqual(t){return this.batchId===t.batchId&&Qa(this.mutations,t.mutations,((i,a)=>_v(i,a)))&&Qa(this.baseMutations,t.baseMutations,((i,a)=>_v(i,a)))}}class Um{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Lt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return Fw})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Um(t,i,a,o)}}class rb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class sb{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ee,It;function ab(s){switch(s){case Y.OK:return ft(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return ft(15467,{code:s})}}function xT(s){if(s===void 0)return tr("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Ee.OK:return Y.OK;case Ee.CANCELLED:return Y.CANCELLED;case Ee.UNKNOWN:return Y.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return Y.INTERNAL;case Ee.UNAVAILABLE:return Y.UNAVAILABLE;case Ee.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ee.NOT_FOUND:return Y.NOT_FOUND;case Ee.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ee.ABORTED:return Y.ABORTED;case Ee.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ee.DATA_LOSS:return Y.DATA_LOSS;default:return ft(39323,{code:s})}}(It=Ee||(Ee={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";function lb(){return new TextEncoder}const ob=new Fr([4294967295,4294967295],0);function Ev(s){const t=lb().encode(s),i=new F0;return i.update(t),new Uint8Array(i.digest())}function Sv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Fr([i,a],0),new Fr([o,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Fr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Fr.fromNumber(a)));return o.compare(ob)===1&&(o=new Fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Ev(t),[a,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Ev(t),[a,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Qo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(dt.min(),o,new te(wt),er(),bt())}}class Qo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Qo(a,i,bt(),bt(),bt())}}class qc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class NT{constructor(t,i){this.targetId=t,this.Ce=i}}class DT{constructor(t,i,a=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Av{constructor(){this.ve=0,this.Fe=wv(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=bt(),i=bt(),a=bt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ft(38017,{changeType:c})}})),new Qo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=wv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ub{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.He=Dc(),this.Je=Dc(),this.Ze=new te(wt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(im(c))if(a===0){const d=new lt(c.path);this.et(i,d,Ge.newNoDocument(d,dt.min()))}else Lt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Xr(a).toUint8Array()}catch(_){if(_ instanceof nT)return qs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Pm(d,o,c)}catch(_){return qs(_ instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&im(p.target)){const _=new lt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ge.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=bt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Sh(t,i,this.Ze,this.je,a);return this.je=er(),this.He=Dc(),this.Je=Dc(),this.Ze=new te(wt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Av,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Re(wt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Re(wt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Av),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new te(lt.comparator)}function wv(){return new te(lt.comparator)}const cb={asc:"ASCENDING",desc:"DESCENDING"},hb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fb={and:"AND",or:"OR"};class db{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(s,t){return s.useProto3Json||gh(t)?t:{value:t}}function ih(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function mb(s,t){return ih(s,t.toTimestamp())}function Ri(s){return Lt(!!s,49232),dt.fromTimestamp((function(i){const a=Yr(i);return new Jt(a.seconds,a.nanos)})(s))}function jm(s,t){return lm(s,t).canonicalString()}function lm(s,t){const i=(function(o){return new Qt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function OT(s){const t=Qt.fromString(s);return Lt(PT(t),10190,{key:t.toString()}),t}function om(s,t){return jm(s.databaseId,t.path)}function Pd(s,t){const i=OT(t);if(i.get(1)!==s.databaseId.projectId)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new it(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new lt(kT(i))}function MT(s,t){return jm(s.databaseId,t)}function pb(s){const t=OT(s);return t.length===4?Qt.emptyPath():kT(t)}function um(s){return new Qt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function kT(s){return Lt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function bv(s,t,i){return{name:om(s,t),fields:i.value.mapValue.fields}}function gb(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Lt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Lt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?Y.UNKNOWN:xT(v.code);return new it(A,v.message||"")})(d);i=new DT(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pd(s,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):dt.min(),p=new sn({mapValue:{fields:a.document.fields}}),_=Ge.newFoundDocument(o,c,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new qc(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Pd(s,a.document),c=a.readTime?Ri(a.readTime):dt.min(),d=Ge.newNoDocument(o,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Pd(s,a.document),c=a.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in t))return ft(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new sb(o,c),p=a.targetId;i=new NT(p,d)}}return i}function yb(s,t){let i;if(t instanceof Ko)i={update:bv(s,t.key,t.value)};else if(t instanceof Lm)i={delete:om(s,t.key)};else if(t instanceof ns)i={update:bv(s,t.key,t.data),updateMask:Rb(t.fieldMask)};else{if(!(t instanceof nb))return ft(16599,{dt:t.type});i={verify:om(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Mo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ko)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ft(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:mb(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ft(27497)})(s,t.precondition)),i}function _b(s,t){return s&&s.length>0?(Lt(t!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Ri(o.updateTime):Ri(c);return d.isEqual(dt.min())&&(d=Ri(c)),new $w(d,o.transformResults||[])})(i,t)))):[]}function vb(s,t){return{documents:[MT(s,t.path)]}}function Tb(s,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=MT(s,o);const c=(function(v){if(v.length!==0)return UT($n.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(V){return{field:Pa(V.field),direction:Ab(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function Eb(s){let t=pb(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Lt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const V=LT(w);return V instanceof $n&&fT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(Q){return new eh(ja(Q.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let V;return V=typeof w=="object"?w.value:w,gh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(w){const V=!!w.before,B=w.values||[];return new th(B,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const V=!w.before,B=w.values||[];return new th(B,V)})(i.endAt)),Pw(t,o,d,c,p,"F",_,v)}function Sb(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function LT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ja(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Se.create(ja(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((a=>LT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(s):ft(30097,{filter:s})}function Ab(s){return cb[s]}function wb(s){return hb[s]}function bb(s){return fb[s]}function Pa(s){return{fieldPath:s.canonicalString()}}function ja(s){return qe.fromServerFormat(s.fieldPath)}function UT(s){return s instanceof Se?(function(i){if(i.op==="=="){if(fv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NAN"}};if(hv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NAN"}};if(hv(i.value))return{unaryFilter:{field:Pa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(i.field),op:wb(i.op),value:i.value}}})(s):s instanceof $n?(function(i){const a=i.getFilters().map((o=>UT(o)));return a.length===1?a[0]:{compositeFilter:{op:bb(i.op),filters:a}}})(s):ft(54877,{filter:s})}function Rb(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function PT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function jT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Br{constructor(t,i,a,o,c=dt.min(),d=dt.min(),p=Be.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Ib{constructor(t){this.yt=t}}function Cb(s){const t=Eb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?sm(t,t.limit,"L"):t}class xb{constructor(){this.Sn=new Nb}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Qr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Qr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Nb{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Re(Qt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Re(Qt.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(zT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class Ja{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Ja(0)}static ar(){return new Ja(-1)}}const Iv="LruGarbageCollector",Db=1048576;function Cv([s,t],[i,a]){const o=wt(s,i);return o===0?wt(t,a):o}class Vb{constructor(t){this.Pr=t,this.buffer=new Re(Cv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Cv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ob{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){nt(Iv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){sl(i)?nt(Iv,"Ignoring IndexedDB error during garbage collection: ",i):await rl(i)}await this.Ar(3e5)}))}}class Mb{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ph.ce);const a=new Vb(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Rv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,p,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(v=Date.now(),La()<=Yn.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function kb(s,t){return new Mb(s,t)}class Lb{constructor(){this.changes=new Fs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ub{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Pb{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Io(a.mutation,o,yn.empty(),Jt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,bt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=bt()){const o=ks();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=To();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ks();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,bt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=er();const d=Ro(),p=(function(){return Ro()})();return i.forEach(((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof ns)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Io(A.mutation,v,A.mutation.getFieldMask(),Jt.now())):d.set(v.key,yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new Ub(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ro();let o=new te(((d,p)=>d-p)),c=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||yn.empty();A=p.applyToLocalView(v,A),a.set(_,A);const w=(o.get(p.batchId)||bt()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,w=ET();A.forEach((V=>{if(!c.has(V)){const B=IT(i.get(V),a.get(V));B!==null&&w.set(V,B),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return jw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):gT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(ks());let p=No,_=c;return d.next((v=>X.forEach(v,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{_=_.insert(A,V)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,_,v,bt()))).next((A=>({batchId:p,changes:TT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new lt(i)).next((a=>{let o=To();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=To();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const v=(function(w,V){return new Go(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,o).next((A=>{A.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ge.newInvalidDocument(A)))}));let p=To();return d.forEach(((_,v)=>{const A=c.get(_);A!==void 0&&Io(A.mutation,v,yn.empty(),Jt.now()),vh(i,v)&&(p=p.insert(_,v))})),p}))}}class jb{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Cb(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),X.resolve()}}class zb{constructor(){this.overlays=new te(lt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ks();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=ks(),c=i.length+1,d=new lt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new te(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=ks(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=ks(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=o)););return X.resolve(p)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new rb(i,a));let c=this.Lr.get(i);c===void 0&&(c=bt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class qb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class zm{constructor(){this.kr=new Re(De.Kr),this.qr=new Re(De.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new De(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new De(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new lt(new Qt([])),a=new De(i,t),o=new De(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new lt(new Qt([])),a=new De(i,t),o=new De(i,t+1);let c=bt();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new De(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class De{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return lt.comparator(t.key,i.key)||wt(t.Hr,i.Hr)}static Ur(t,i){return wt(t.Hr,i.Hr)||lt.comparator(t.key,i.key)}}class Bb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Re(De.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ib(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new De(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?xm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Re(wt);return i.forEach((o=>{const c=new De(o,0),d=new De(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;lt.isDocumentKey(c)||(c=c.child(""));const d=new De(new lt(c),0);let p=new Re(wt);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Hr)),!0)}),d),X.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Lt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(o=>{const c=new De(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new De(i,0),o=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Hb{constructor(t){this.ti=t,this.docs=(function(){return new te(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let a=er();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Ge.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=er();const d=i.path,p=new lt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||pw(mw(A),a)<=0||(o.has(A.key)||vh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){ft(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Fb(this)}getSize(t){return X.resolve(this.size)}}class Fb extends Lb{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Gb{constructor(t){this.persistence=t,this.ri=new Fs((i=>Vm(i)),Om),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.ii=0,this.si=new zm,this.targetCount=0,this.oi=Ja._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class qT{constructor(t,i){this._i={},this.overlays={},this.ai=new ph(0),this.ui=!1,this.ui=!0,this.ci=new qb,this.referenceDelegate=t(this),this.li=new Gb(this),this.indexManager=new xb,this.remoteDocumentCache=(function(o){return new Hb(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Ib(i),this.Pi=new jb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new zb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Bb(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){nt("MemoryPersistence","Starting transaction:",t);const o=new Kb(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class Kb extends yw{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new zm,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw ft(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const o=lt.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,dt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.fi=new Fs((a=>Tw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=kb(this,i)}static Vi(t,i){return new rh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,dt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=bt(),o=bt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Bm(t,i.fromCache,a,o)}}class Qb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Yb{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return RS()?8:_w(an())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Qb;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(La()<=Yn.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Ua(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(La()<=Yn.DEBUG&&nt("QueryEngine","Query:",Ua(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(La()<=Yn.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Ua(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}gs(t,i){if(gv(i))return X.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=sm(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=bt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const v=this.bs(i,p);return this.Ss(i,v,d,_.readTime)?this.gs(t,sm(i,null,"F")):this.Ds(t,v,i,_)}))))})))))}ps(t,i,a,o){return gv(i)||o.isEqual(dt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?X.resolve(null):(La()<=Yn.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ua(i)),this.Ds(t,d,i,dw(o,No)).next((p=>p)))}))}bs(t,i){let a=new Re(_T(t));return i.forEach(((o,c)=>{vh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return La()<=Yn.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Ua(i)),this.fs.getDocumentsMatchingQuery(t,i,Qr.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Hm="LocalStore",Xb=3e8;class Jb{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new te(wt),this.Fs=new Fs((c=>Vm(c)),Om),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pb(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function Zb(s,t,i,a){return new Jb(s,t,i,a)}async function BT(s,t){const i=mt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=bt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Wb(s,t){const i=mt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,A){const w=v.batch,V=w.keys();let B=X.resolve();return V.forEach((Q=>{B=B.next((()=>A.getEntry(_,Q))).next((J=>{const Z=v.docVersions.get(Q);Lt(Z!==null,48541),J.version.compareTo(Z)<0&&(w.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),A.addEntry(J)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=bt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function HT(s){const t=mt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function $b(s,t){const i=mt(s),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];t.targetChanges.forEach(((A,w)=>{const V=o.get(w);if(!V)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,w))));let B=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?B=B.withResumeToken(Be.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,a)),o=o.insert(w,B),(function(J,Z,ct){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=Xb?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(V,B,A)&&p.push(i.li.updateTargetData(c,B))}));let _=er(),v=bt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(tR(c,d,t.documentUpdates).next((A=>{_=A.Bs,v=A.Ls}))),!a.isEqual(dt.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=o,c)))}function tR(s,t,i){let a=bt(),o=bt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=er();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(dt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):nt(Hm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function eR(s,t){const i=mt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function nR(s,t){const i=mt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Br(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function cm(s,t,i){const a=mt(s),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!sl(d))throw d;nt(Hm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function xv(s,t,i){const a=mt(s);let o=dt.min(),c=bt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const w=mt(_),V=w.Fs.get(A);return V!==void 0?X.resolve(w.vs.get(V)):w.li.getTargetData(v,A)})(a,d,bi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:dt.min(),i?c:bt()))).next((p=>(iR(a,qw(t),p),{documents:p,ks:c})))))}function iR(s,t,i){let a=s.Ms.get(t)||dt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Nv{constructor(){this.activeTargetIds=Qw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rR{constructor(){this.vo=new Nv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Nv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class sR{Mo(t){}shutdown(){}}const Dv="ConnectivityMonitor";class Vv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){nt(Dv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){nt(Dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function hm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const jd="RestConnection",aR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class lR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=hm(),p=this.Qo(t,i.toUriEncodedString());nt(jd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:v}=new URL(p),A=jo(v);return this.zo(t,p,_,a,A).then((w=>(nt(jd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw qs(jd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+il})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=aR[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class oR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const He="WebChannelConnection",go=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ha extends lR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ha.c_){const t=Y0();go(t,Q0.STAT_EVENT,(i=>{i.stat===Wd.PROXY?nt(He,"STAT_EVENT: detected buffering proxy"):i.stat===Wd.NOPROXY&&nt(He,"STAT_EVENT: detected no buffering proxy")})),Ha.c_=!0}}zo(t,i,a,o,c){const d=hm();return new Promise(((p,_)=>{const v=new G0;v.setWithCredentials(!0),v.listenOnce(K0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Uc.NO_ERROR:const w=v.getResponseJson();nt(He,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Uc.TIMEOUT:nt(He,`RPC '${t}' ${d} timed out`),_(new it(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const V=v.getStatus();if(nt(He,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let B=v.getResponseJson();Array.isArray(B)&&(B=B[0]);const Q=B?.error;if(Q&&Q.status&&Q.message){const J=(function(ct){const vt=ct.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(vt)>=0?vt:Y.UNKNOWN})(Q.status);_(new it(J,Q.message))}else _(new it(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new it(Y.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{nt(He,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);nt(He,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=hm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const v=c.join("");nt(He,`Creating RPC '${t}' stream ${o}: ${v}`,p);const A=d.createWebChannel(v,p);this.I_(A);let w=!1,V=!1;const B=new oR({Ho:Q=>{V?nt(He,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(w||(nt(He,`Opening RPC '${t}' stream ${o} transport.`),A.open(),w=!0),nt(He,`RPC '${t}' stream ${o} sending:`,Q),A.send(Q))},Jo:()=>A.close()});return go(A,vo.EventType.OPEN,(()=>{V||(nt(He,`RPC '${t}' stream ${o} transport opened.`),B.i_())})),go(A,vo.EventType.CLOSE,(()=>{V||(V=!0,nt(He,`RPC '${t}' stream ${o} transport closed`),B.o_(),this.E_(A))})),go(A,vo.EventType.ERROR,(Q=>{V||(V=!0,qs(He,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),B.o_(new it(Y.UNAVAILABLE,"The operation could not be completed")))})),go(A,vo.EventType.MESSAGE,(Q=>{if(!V){const J=Q.data[0];Lt(!!J,16349);const Z=J,ct=Z?.error||Z[0]?.error;if(ct){nt(He,`RPC '${t}' stream ${o} received error:`,ct);const vt=ct.status;let _t=(function(Mt){const R=Ee[Mt];if(R!==void 0)return xT(R)})(vt),Ct=ct.message;vt==="NOT_FOUND"&&Ct.includes("database")&&Ct.includes("does not exist")&&Ct.includes(this.databaseId.database)&&qs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_t===void 0&&(_t=Y.INTERNAL,Ct="Unknown error status: "+vt+" with message "+ct.message),V=!0,B.o_(new it(_t,Ct)),A.close()}else nt(He,`RPC '${t}' stream ${o} received:`,J),B.__(J)}})),Ha.u_(),setTimeout((()=>{B.s_()}),0),B}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return X0()}}function uR(s){return new Ha(s)}function zd(){return typeof document<"u"?document:null}function Ah(s){return new db(s,!0)}Ha.c_=!1;class FT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Ov="PersistentStream";class GT{constructor(t,i,a,o,c,d,p,_){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(tr(i.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new it(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(nt(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cR extends GT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=gb(this.serializer,t),a=(function(c){if(!("targetChange"in c))return dt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?dt.min():d.readTime?Ri(d.readTime):dt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=im(_)?{documents:vb(c,_)}:{query:Tb(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=VT(c,d.resumeToken);const v=am(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(dt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const v=am(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=Sb(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.K_(i)}}class hR extends GT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Lt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Lt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Lt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=_b(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>yb(this.serializer,a)))};this.K_(i)}}class fR{}class dR extends fR{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,lm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new it(Y.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,lm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mR(s,t,i,a){return new dR(s,t,i,a)}class pR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Bs="RemoteStore";class gR{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Gs(this)&&(nt(Bs,"Restarting streams for network reachability change."),await(async function(_){const v=mt(_);v.Ea.add(4),await Yo(v),v.Va.set("Unknown"),v.Ea.delete(4),await wh(v)})(this))}))})),this.Va=new pR(a,o)}}async function wh(s){if(Gs(s))for(const t of s.Ra)await t(!0)}async function Yo(s){for(const t of s.Ra)await t(!1)}function KT(s,t){const i=mt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Qm(i)?Km(i):al(i).O_()&&Gm(i,t))}function Fm(s,t){const i=mt(s),a=al(i);i.Ia.delete(t),a.O_()&&QT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Gs(i)&&i.Va.set("Unknown"))}function Gm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}al(s).Z_(t)}function QT(s,t){s.da.$e(t),al(s).X_(t)}function Km(s){s.da=new ub({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),al(s).start(),s.Va.ua()}function Qm(s){return Gs(s)&&!al(s).x_()&&s.Ia.size>0}function Gs(s){return mt(s).Ea.size===0}function YT(s){s.da=void 0}async function yR(s){s.Va.set("Online")}async function _R(s){s.Ia.forEach(((t,i)=>{Gm(s,t)}))}async function vR(s,t){YT(s),Qm(s)?(s.Va.ha(t),Km(s)):s.Va.set("Unknown")}async function TR(s,t,i){if(s.Va.set("Online"),t instanceof DT&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(s,t)}catch(a){nt(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await sh(s,a)}else if(t instanceof qc?s.da.Xe(t):t instanceof NT?s.da.st(t):s.da.tt(t),!i.isEqual(dt.min()))try{const a=await HT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),QT(c,_);const w=new Br(A.target,_,v,A.sequenceNumber);Gm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){nt(Bs,"Failed to raise snapshot:",a),await sh(s,a)}}async function sh(s,t,i){if(!sl(t))throw t;s.Ea.add(1),await Yo(s),s.Va.set("Offline"),i||(i=()=>HT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{nt(Bs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function XT(s,t){return t().catch((i=>sh(s,i,t)))}async function bh(s){const t=mt(s),i=Zr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;ER(t);)try{const o=await eR(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,SR(t,o)}catch(o){await sh(t,o)}JT(t)&&ZT(t)}function ER(s){return Gs(s)&&s.Ta.length<10}function SR(s,t){s.Ta.push(t);const i=Zr(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function JT(s){return Gs(s)&&!Zr(s).x_()&&s.Ta.length>0}function ZT(s){Zr(s).start()}async function AR(s){Zr(s).ra()}async function wR(s){const t=Zr(s);for(const i of s.Ta)t.ea(i.mutations)}async function bR(s,t,i){const a=s.Ta.shift(),o=Um.from(a,t,i);await XT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await bh(s)}async function RR(s,t){t&&Zr(s).Y_&&await(async function(a,o){if((function(d){return ab(d)&&d!==Y.ABORTED})(o.code)){const c=a.Ta.shift();Zr(a).B_(),await XT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await bh(a)}})(s,t),JT(s)&&ZT(s)}async function Mv(s,t){const i=mt(s);i.asyncQueue.verifyOperationInProgress(),nt(Bs,"RemoteStore received new credentials");const a=Gs(i);i.Ea.add(3),await Yo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function IR(s,t){const i=mt(s);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Yo(i),i.Va.set("Unknown"))}function al(s){return s.ma||(s.ma=(function(i,a,o){const c=mt(i);return c.sa(),new cR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:yR.bind(null,s),Yo:_R.bind(null,s),t_:vR.bind(null,s),J_:TR.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),Qm(s)?Km(s):s.Va.set("Unknown")):(await s.ma.stop(),YT(s))}))),s.ma}function Zr(s){return s.fa||(s.fa=(function(i,a,o){const c=mt(i);return c.sa(),new hR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:AR.bind(null,s),t_:RR.bind(null,s),ta:wR.bind(null,s),na:bR.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(nt(Bs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ym{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Ym(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(s,t){if(tr("AsyncQueue",`${t}: ${s}`),sl(s))return new it(Y.UNAVAILABLE,`${t}: ${s}`);throw s}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||lt.comparator(i.key,a.key):(i,a)=>lt.comparator(i.key,a.key),this.keyedMap=To(),this.sortedSet=new te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class kv{constructor(){this.ga=new te(lt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ft(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Za{constructor(t,i,a,o,c,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Za(t,i,Fa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class CR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class xR{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=mt(i),c=o.queries;o.queries=Lv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new it(Y.ABORTED,"Firestore shutting down"))}}function Lv(){return new Fs((s=>yT(s)),_h)}async function NR(s,t){const i=mt(s);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new CR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Xm(d,`Initialization of query '${Ua(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Jm(i)}async function DR(s,t){const i=mt(s),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function VR(s,t){const i=mt(s);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Jm(i)}function OR(s,t,i){const a=mt(s),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function Jm(s){s.Ca.forEach((t=>{t.next()}))}var fm,Uv;(Uv=fm||(fm={})).Ma="default",Uv.Cache="cache";class MR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Za(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class WT{constructor(t){this.key=t}}class $T{constructor(t){this.key=t}}class kR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=bt(),this.mutatedKeys=bt(),this.eu=_T(t),this.tu=new Fa(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new kv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,w)=>{const V=o.get(A),B=vh(this.query,w)?w:null,Q=!!V&&this.mutatedKeys.has(V.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Z=!1;V&&B?V.data.isEqual(B.data)?Q!==J&&(a.track({type:3,doc:B}),Z=!0):this.su(V,B)||(a.track({type:2,doc:B}),Z=!0,(_&&this.eu(B,_)>0||v&&this.eu(B,v)<0)&&(p=!0)):!V&&B?(a.track({type:0,doc:B}),Z=!0):V&&!B&&(a.track({type:1,doc:V}),Z=!0,(_||v)&&(p=!0)),Z&&(B?(d=d.add(B),c=J?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(B,Q){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Vt:Z})}};return J(B)-J(Q)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Xa;return this.Xa=_,d.length!==0||v?{snapshot:new Za(this.query,t.tu,c,d,t.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=bt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new $T(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new WT(a))})),i}cu(t){this.Za=t.ks,this.Ya=bt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zm="SyncEngine";class LR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class UR{constructor(t){this.key=t,this.hu=!1}}class PR{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fs((p=>yT(p)),_h),this.Iu=new Map,this.Eu=new Set,this.Ru=new te(lt.comparator),this.Au=new Map,this.Vu=new zm,this.du={},this.mu=new Map,this.fu=Ja.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jR(s,t,i=!0){const a=sE(s);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await tE(a,t,i,!0),o}async function zR(s,t){const i=sE(s);await tE(i,t,!0,!1)}async function tE(s,t,i,a){const o=await nR(s.localStore,bi(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await qR(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&KT(s.remoteStore,o),p}async function qR(s,t,i,a,o){s.pu=(w,V,B)=>(async function(J,Z,ct,vt){let _t=Z.view.ru(ct);_t.Ss&&(_t=await xv(J.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,_t))));const Ct=vt&&vt.targetChanges.get(Z.targetId),re=vt&&vt.targetMismatches.get(Z.targetId)!=null,Mt=Z.view.applyChanges(_t,J.isPrimaryClient,Ct,re);return jv(J,Z.targetId,Mt.au),Mt.snapshot})(s,w,V,B);const c=await xv(s.localStore,t,!0),d=new kR(t,c.ks),p=d.ru(c.documents),_=Qo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(p,s.isPrimaryClient,_);jv(s,i,v.au);const A=new LR(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),v.snapshot}async function BR(s,t,i){const a=mt(s),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!_h(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Fm(a.remoteStore,o.targetId),dm(a,o.targetId)})).catch(rl)):(dm(a,o.targetId),await cm(a.localStore,o.targetId,!0))}async function HR(s,t){const i=mt(s),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Fm(i.remoteStore,a.targetId))}async function FR(s,t,i){const a=ZR(s);try{const o=await(function(d,p){const _=mt(d),v=Jt.now(),A=p.reduce(((B,Q)=>B.add(Q.key)),bt());let w,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Q=er(),J=bt();return _.xs.getEntries(B,A).next((Z=>{Q=Z,Q.forEach(((ct,vt)=>{vt.isValidDocument()||(J=J.add(ct))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,Q))).next((Z=>{w=Z;const ct=[];for(const vt of p){const _t=eb(vt,w.get(vt.key).overlayedDocument);_t!=null&&ct.push(new ns(vt.key,_t,uT(_t.value.mapValue),On.exists(!0)))}return _.mutationQueue.addMutationBatch(B,v,ct,p)})).next((Z=>{V=Z;const ct=Z.applyToLocalDocumentSet(w,J);return _.documentOverlayCache.saveOverlays(B,Z.batchId,ct)}))})).then((()=>({batchId:V.batchId,changes:TT(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.du[d.currentUser.toKey()];v||(v=new te(wt)),v=v.insert(p,_),d.du[d.currentUser.toKey()]=v})(a,o.batchId,i),await Xo(a,o.changes),await bh(a.remoteStore)}catch(o){const c=Xm(o,"Failed to persist write");i.reject(c)}}async function eE(s,t){const i=mt(s);try{const a=await $b(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Lt(d.hu,14607):o.removedDocuments.size>0&&(Lt(d.hu,42227),d.hu=!1))})),await Xo(i,a,t)}catch(a){await rl(a)}}function Pv(s,t,i){const a=mt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=mt(d);_.onlineState=p;let v=!1;_.queries.forEach(((A,w)=>{for(const V of w.ba)V.va(p)&&(v=!0)})),v&&Jm(_)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function GR(s,t,i){const a=mt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new te(lt.comparator);d=d.insert(c,Ge.newNoDocument(c,dt.min()));const p=bt().add(c),_=new Sh(dt.min(),new Map,new te(wt),d,p);await eE(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),Wm(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(rl)}async function KR(s,t){const i=mt(s),a=t.batch.batchId;try{const o=await Wb(i.localStore,t);iE(i,a,null),nE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xo(i,o)}catch(o){await rl(o)}}async function QR(s,t,i){const a=mt(s);try{const o=await(function(d,p){const _=mt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next((w=>(Lt(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);iE(a,t,i),nE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xo(a,o)}catch(o){await rl(o)}}function nE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function iE(s,t,i){const a=mt(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function dm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||rE(s,a)}))}function rE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Fm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),Wm(s))}function jv(s,t,i){for(const a of i)a instanceof WT?(s.Vu.addReference(a.key,t),YR(s,a)):a instanceof $T?(nt(Zm,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||rE(s,a.key)):ft(19791,{wu:a})}function YR(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(nt(Zm,"New document in limbo: "+i),s.Eu.add(a),Wm(s))}function Wm(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new lt(Qt.fromString(t)),a=s.fu.next();s.Au.set(a,new UR(i)),s.Ru=s.Ru.insert(i,a),KT(s.remoteStore,new Br(bi(Mm(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function Xo(s,t,i){const a=mt(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=Bm.Es(_.targetId,v);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(_,v){const A=mt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(v,(V=>X.forEach(V.Ts,(B=>A.persistence.referenceDelegate.addReference(w,V.targetId,B))).next((()=>X.forEach(V.Is,(B=>A.persistence.referenceDelegate.removeReference(w,V.targetId,B)))))))))}catch(w){if(!sl(w))throw w;nt(Hm,"Failed to update sequence numbers: "+w)}for(const w of v){const V=w.targetId;if(!w.fromCache){const B=A.vs.get(V),Q=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(Q);A.vs=A.vs.insert(V,J)}}})(a.localStore,c))}async function XR(s,t){const i=mt(s);if(!i.currentUser.isEqual(t)){nt(Zm,"User change. New user:",t.toKey());const a=await BT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new it(Y.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xo(i,a.Ns)}}function JR(s,t){const i=mt(s),a=i.Au.get(t);if(a&&a.hu)return bt().add(a.key);{let o=bt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function sE(s){const t=mt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=eE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GR.bind(null,t),t.Pu.J_=VR.bind(null,t.eventManager),t.Pu.yu=OR.bind(null,t.eventManager),t}function ZR(s){const t=mt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QR.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Zb(this.persistence,new Yb,t.initialUser,this.serializer)}Cu(t){return new qT(qm.Vi,this.serializer)}Du(t){return new rR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class WR extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Lt(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Ob(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new qT((a=>rh.Vi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=XR.bind(null,this.syncEngine),await IR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new xR})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=uR(t.databaseInfo);return mR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new gR(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Vv.v()?new Vv:new sR})())}createSyncEngine(t,i){return(function(o,c,d,p,_,v,A){const w=new PR(o,c,d,p,_,v);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=mt(i);nt(Bs,"RemoteStore shutting down."),a.Ea.add(5),await Yo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class $R{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Wr="FirestoreClient";class tI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{nt(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(nt(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Xm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qd(s,t){s.asyncQueue.verifyOperationInProgress(),nt(Wr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await BT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function zv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await eI(s);nt(Wr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Mv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>Mv(t.remoteStore,o))),s._onlineComponents=t}async function eI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Wr,"Using user provided OfflineComponentProvider");try{await qd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;qs("Error using user provided cache. Falling back to memory cache: "+i),await qd(s,new ah)}}else nt(Wr,"Using default OfflineComponentProvider"),await qd(s,new WR(void 0));return s._offlineComponents}async function aE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Wr,"Using user provided OnlineComponentProvider"),await zv(s,s._uninitializedComponentsProvider._online)):(nt(Wr,"Using default OnlineComponentProvider"),await zv(s,new mm))),s._onlineComponents}function nI(s){return aE(s).then((t=>t.syncEngine))}async function qv(s){const t=await aE(s),i=t.eventManager;return i.onListen=jR.bind(null,t.syncEngine),i.onUnlisten=BR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=zR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=HR.bind(null,t.syncEngine),i}function iI(s,t,i,a){const o=new $R(a),c=new MR(t,o,i);return s.asyncQueue.enqueueAndForget((async()=>NR(await qv(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>DR(await qv(s),c)))}}function rI(s,t){const i=new Ls;return s.asyncQueue.enqueueAndForget((async()=>FR(await nI(s),t,i))),i.promise}function lE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const sI="ComponentProvider",Bv=new Map;function aI(s,t,i,a,o){return new Aw(s,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,lE(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const oE="firestore.googleapis.com",Hv=!0;class Fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new it(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oE,this.ssl=Hv}else this.host=t.host,this.ssl=t.ssl??Hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Db)throw new it(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new it(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new it(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new nw;switch(a.type){case"firstParty":return new aw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new it(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Bv.get(i);a&&(nt(sI,"Removing Datastore"),Bv.delete(i),a.terminate())})(this),Promise.resolve()}}function lI(s,t,i,a={}){s=wi(s,Rh);const o=jo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;o&&(u0(`https://${p}`),c0("Firestore",!0)),c.host!==oE&&c.host!==p&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:a};if(!Fc(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Fe.MOCK_USER;else{v=bS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new it(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(w)}s._authCredentials=new iw(new Z0(v,A))}}class ll{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ll(this.firestore,t,this._query)}}class ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ce(this.firestore,t,this._key)}toJSON(){return{type:ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fo(i,ce._jsonSchema))return new ce(t,a||null,new lt(Qt.fromString(i.referencePath)))}}ce._jsonSchemaVersion="firestore/documentReference/1.0",ce._jsonSchema={type:Ae("string",ce._jsonSchemaVersion),referencePath:Ae("string")};class Gr extends ll{constructor(t,i,a){super(t,i,Mm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ce(this.firestore,null,new lt(t))}withConverter(t){return new Gr(this.firestore,t,this._path)}}function Wa(s,t,...i){if(s=Ve(s),W0("collection","path",t),s instanceof Rh){const a=Qt.fromString(t,...i);return nv(a),new Gr(s,null,a)}{if(!(s instanceof ce||s instanceof Gr))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Qt.fromString(t,...i));return nv(a),new Gr(s.firestore,null,a)}}function $a(s,t,...i){if(s=Ve(s),arguments.length===1&&(t=Cm.newId()),W0("doc","path",t),s instanceof Rh){const a=Qt.fromString(t,...i);return ev(a),new ce(s,null,new lt(a))}{if(!(s instanceof ce||s instanceof Gr))throw new it(Y.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Qt.fromString(t,...i));return ev(a),new ce(s.firestore,s instanceof Gr?s.converter:null,new lt(a))}}const Gv="AsyncQueue";class Kv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FT(this,"async_queue_retry"),this._c=()=>{const a=zd();a&&nt(Gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!sl(t))throw t;nt(Gv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",Qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Ym.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ft(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Qv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Hs extends Rh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Kv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function oI(s,t){const i=typeof s=="object"?s:o0(),a=typeof s=="string"?s:Wc,o=gm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=wS("firestore");c&&lI(o,...c)}return o}function uE(s){if(s._terminated)throw new it(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||uI(s),s._firestoreClient}function uI(s){const t=s._freezeSettings(),i=aI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new tI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Be.fromBase64String(t))}catch(i){throw new it(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fo(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Ae("string",Vn._jsonSchemaVersion),bytes:Ae("string")};class $m{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new it(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ih{constructor(t){this._methodName=t}}class Ii{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new it(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new it(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return wt(this._lat,t._lat)||wt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(t){if(Fo(t,Ii._jsonSchema))return new Ii(t.latitude,t.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:Ae("string",Ii._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fo(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new it(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Ae("string",Zn._jsonSchemaVersion),vectorValues:Ae("object")};const cI=/^__.*__$/;class hI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ns(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ko(t,this.data,i,this.fieldTransforms)}}class cE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ns(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function hE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{dataSource:s})}}class tp{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new tp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return lh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(hE(this.dataSource)&&cI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class fI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}createContext(t,i,a,o=!1){return new tp({dataSource:t,methodName:i,targetDoc:a,path:qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ch(s){const t=s._freezeSettings(),i=Ah(s._databaseId);return new fI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function fE(s,t,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,o);np("Data must be an object, but it was:",d,a);const p=dE(a,d);let _,v;if(c.merge)_=new yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const V=tl(t,w,i);if(!d.contains(V))throw new it(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);gE(A,V)||A.push(V)}_=new yn(A),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new hI(new sn(p),_,v)}class xh extends Ih{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}class ep extends Ih{_toFieldTransform(t){return new Zw(t.path,new Mo)}isEqual(t){return t instanceof ep}}function dI(s,t,i,a){const o=s.createContext(1,t,i);np("Data must be an object, but it was:",o,a);const c=[],d=sn.empty();es(a,((_,v)=>{const A=pE(t,_,i);v=Ve(v);const w=o.childContextForFieldPath(A);if(v instanceof xh)c.push(A);else{const V=Jo(v,w);V!=null&&(c.push(A),d.set(A,V))}}));const p=new yn(c);return new cE(d,p,o.fieldTransforms)}function mI(s,t,i,a,o,c){const d=s.createContext(1,t,i),p=[tl(t,a,i)],_=[o];if(c.length%2!=0)throw new it(Y.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(tl(t,c[V])),_.push(c[V+1]);const v=[],A=sn.empty();for(let V=p.length-1;V>=0;--V)if(!gE(v,p[V])){const B=p[V];let Q=_[V];Q=Ve(Q);const J=d.childContextForFieldPath(B);if(Q instanceof xh)v.push(B);else{const Z=Jo(Q,J);Z!=null&&(v.push(B),A.set(B,Z))}}const w=new yn(v);return new cE(A,w,d.fieldTransforms)}function pI(s,t,i,a=!1){return Jo(i,s.createContext(a?4:3,t))}function Jo(s,t){if(mE(s=Ve(s)))return np("Unsupported field value:",t,s),dE(s,t);if(s instanceof Ih)return(function(a,o){if(!hE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let _=Jo(p,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,o){if((a=Ve(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Yw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Jt.fromDate(a);return{timestampValue:ih(o.serializer,c)}}if(a instanceof Jt){const c=new Jt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(a instanceof Ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:VT(o.serializer,a._byteString)};if(a instanceof ce){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,p){const _=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[lT]:{stringValue:oT},[$c]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return km(p.serializer,A)}))}}}}}})(a,o);if(jT(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${mh(a)}`)})(s,t)}function dE(s,t){const i={};return eT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):es(s,((a,o)=>{const c=Jo(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function mE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Jt||s instanceof Ii||s instanceof Vn||s instanceof ce||s instanceof Ih||s instanceof Zn||jT(s))}function np(s,t,i){if(!mE(i)||!$0(i)){const a=mh(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function tl(s,t,i){if((t=Ve(t))instanceof $m)return t._internalPath;if(typeof t=="string")return pE(s,t);throw lh("Field path arguments must be of type string or ",s,!1,void 0,i)}const gI=new RegExp("[~\\*/\\[\\]]");function pE(s,t,i){if(t.search(gI)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new $m(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lh(s,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new it(Y.INVALID_ARGUMENT,p+s+_)}function gE(s,t){return s.some((i=>i.isEqual(t)))}class yI{convertValue(t,i="none"){switch(Jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return es(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>ue(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new Ii(ue(t.latitude),ue(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Do(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new Jt(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Qt.fromString(t);Lt(PT(a),9688,{name:t});const o=new Vo(a.get(1),a.get(3)),c=new lt(a.popFirst(5));return o.isEqual(i)||tr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class yE extends yI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ce(this.firestore,null,i)}}function Uo(){return new ep("serverTimestamp")}const Yv="@firebase/firestore",Xv="4.12.0";function Jv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class _E{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _I(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(tl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _I extends _E{data(){return super.data()}}function vI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new it(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}class TI extends ip{}function rp(s,t,...i){let a=[];t instanceof ip&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof ap)).length,p=c.filter((_=>_ instanceof Nh)).length;if(d>1||d>0&&p>0)throw new it(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)s=o._apply(s);return s}class Nh extends TI{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Nh(t,i,a)}_apply(t){const i=this._parse(t);return vE(t._query,i),new ll(t.firestore,t.converter,rm(t._query,i))}_parse(t){const i=Ch(t.firestore);return(function(c,d,p,_,v,A,w){let V;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new it(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Wv(w,A);const Q=[];for(const J of w)Q.push(Zv(_,c,J));V={arrayValue:{values:Q}}}else V=Zv(_,c,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Wv(w,A),V=pI(p,d,w,A==="in"||A==="not-in");return Se.create(v,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function sp(s,t,i){const a=t,o=tl("where",s);return Nh._create(o,a,i)}class ap extends ip{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new ap(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)vE(d,_),d=rm(d,_)})(t._query,i),new ll(t.firestore,t.converter,rm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zv(s,t,i){if(typeof(i=Ve(i))=="string"){if(i==="")throw new it(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gT(t)&&i.indexOf("/")!==-1)throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Qt.fromString(i));if(!lt.isDocumentKey(a))throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return cv(s,new lt(a))}if(i instanceof ce)return cv(s,i._key);throw new it(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(i)}.`)}function Wv(s,t){if(!Array.isArray(s)||s.length===0)throw new it(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vE(s,t){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new it(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function TE(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class So{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Us extends _E{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(tl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Us._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Ae("string",Us._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Bc extends Us{data(t={}){return super.data(t)}}class Ga{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new So(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Bc(this._firestore,this._userDataWriter,a.key,a,new So(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new So(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Bc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new So(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:EI(p.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ga._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function EI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:s})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:Ae("string",Ga._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};function SI(s,t,i){s=wi(s,ce);const a=wi(s.firestore,Hs),o=TE(s.converter,t),c=Ch(a);return Vh(a,[fE(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,On.none())])}function EE(s,t,i,...a){s=wi(s,ce);const o=wi(s.firestore,Hs),c=Ch(o);let d;return d=typeof(t=Ve(t))=="string"||t instanceof $m?mI(c,"updateDoc",s._key,t,i,a):dI(c,"updateDoc",s._key,t),Vh(o,[d.toMutation(s._key,On.exists(!0))])}function SE(s){return Vh(wi(s.firestore,Hs),[new Lm(s._key,On.none())])}function lp(s,t){const i=wi(s.firestore,Hs),a=$a(s),o=TE(s.converter,t),c=Ch(s.firestore);return Vh(i,[fE(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,On.exists(!1))]).then((()=>a))}function Dh(s,...t){s=Ve(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Jv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Jv(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,p;if(s instanceof ce)d=wi(s.firestore,Hs),p=Mm(s._key.path),c={next:v=>{t[a]&&t[a](AI(d,s,v))},error:t[a+1],complete:t[a+2]};else{const v=wi(s,ll);d=wi(v.firestore,Hs),p=v._query;const A=new yE(d);c={next:w=>{t[a]&&t[a](new Ga(d,A,v,w))},error:t[a+1],complete:t[a+2]},vI(s._query)}const _=uE(d);return iI(_,p,o,c)}function Vh(s,t){const i=uE(s);return rI(i,t)}function AI(s,t,i){const a=i.docs.get(t._key),o=new yE(s);return new Us(s,o,t._key,a,new So(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){ew(el),Kd(new Qd("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Hs(new rw(a.getProvider("auth-internal")),new lw(d,a.getProvider("app-check-internal")),ww(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Co(Yv,Xv,t),Co(Yv,Xv,"esm2020")})();let Bd,Wn,Mn;{const s={apiKey:"demo-key",authDomain:"demo.firebaseapp.com",projectId:"demo-project",storageBucket:"demo.appspot.com",messagingSenderId:"0",appId:"demo-app"};try{Bd=IS(s),Wn=Z2(Bd),Mn=oI(Bd)}catch{}}const wI=new Xi,ol=()=>{const[s,t]=$.useState(null),[i,a]=$.useState(!0);return $.useEffect(()=>{{const o={uid:"demo-user-"+Math.random().toString(36).substr(2,9),email:"demo@homebase.local",displayName:"Demo User",photoURL:"https://ui-avatars.com/api/?name=Demo+User&background=random",emailVerified:!0,isDemo:!0};setTimeout(()=>{t(o),a(!1)},500);return}},[]),{user:s,loading:i}},AE=$.createContext(),op=()=>$.useContext(AE),bI=({message:s,onDismiss:t})=>E.jsx(tt.div,{className:"aurora-card notification",initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},onClick:t,children:s}),RI=({children:s})=>{const[t,i]=$.useState([]),a=$.useCallback(c=>{const d=Date.now();i(p=>[...p,{id:d,message:c}])},[]);$.useEffect(()=>{if(t.length===0)return;const c=t.map(d=>setTimeout(()=>{i(p=>p.filter(_=>_.id!==d.id))},5e3));return()=>c.forEach(clearTimeout)},[t]);const o=c=>{i(d=>d.filter(p=>p.id!==c))};return E.jsxs(AE.Provider,{value:{notify:a},children:[s,E.jsx("div",{className:"notification-container",children:E.jsx(Kr,{children:t.map(({id:c,message:d})=>E.jsx(bI,{message:d,onDismiss:()=>o(c)},c))})})]})};var wE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$v=Hr.createContext&&Hr.createContext(wE),II=["attr","size","title"];function CI(s,t){if(s==null)return{};var i=xI(s,t),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(o=0;o<c.length;o++)a=c[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(i[a]=s[a])}return i}function xI(s,t){if(s==null)return{};var i={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;i[a]=s[a]}return i}function oh(){return oh=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},oh.apply(this,arguments)}function t0(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,a)}return i}function uh(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(i),!0).forEach(function(a){NI(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):t0(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function NI(s,t,i){return t=DI(t),t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function DI(s){var t=VI(s,"string");return typeof t=="symbol"?t:t+""}function VI(s,t){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function bE(s){return s&&s.map((t,i)=>Hr.createElement(t.tag,uh({key:i},t.attr),bE(t.child)))}function ee(s){return t=>Hr.createElement(OI,oh({attr:uh({},s.attr)},t),bE(s.child))}function OI(s){var t=i=>{var{attr:a,size:o,title:c}=s,d=CI(s,II),p=o||i.size||"1em",_;return i.className&&(_=i.className),s.className&&(_=(_?_+" ":"")+s.className),Hr.createElement("svg",oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,d,{className:_,style:uh(uh({color:s.color||i.color},i.style),s.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),c&&Hr.createElement("title",null,c),s.children)};return $v!==void 0?Hr.createElement($v.Consumer,null,i=>t(i)):t(wE)}function MI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(s)}function kI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(s)}function RE(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(s)}function LI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(s)}function UI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(s)}function IE(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(s)}function PI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(s)}function jI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(s)}function e0(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(s)}function zI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(s)}function qI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(s)}function BI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function n0(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(s)}function HI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function FI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}function GI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(s)}function KI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(s)}function QI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"20",y2:"19"},child:[]}]})(s)}function YI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function XI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(s)}function Hc(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function JI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}function ZI(s){return ee({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(s)}const WI=()=>{const{notify:s}=op(),[t,i]=$.useState(!1),[a,o]=$.useState(!1),[c,d]=$.useState(""),[p,_]=$.useState(""),[v,A]=$.useState(""),w=async()=>{i(!0);try{await a2(Wn,wI),s("Welcome to HomeBase Pro! ")}catch{s("Sign-in failed. Please try again.")}finally{i(!1)}},V=async Z=>{if(Z.preventDefault(),p!==v){s("Passwords do not match");return}i(!0);try{await kA(Wn,c,p),s("Welcome to HomeBase Pro! ")}catch(ct){s(ct.message)}finally{i(!1)}},B=async Z=>{Z.preventDefault(),i(!0);try{await LA(Wn,c,p),s("Welcome back! ")}catch(ct){s(ct.message)}finally{i(!1)}},Q={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},J={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return E.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px",position:"relative",overflow:"hidden"},children:[E.jsx(tt.div,{style:{position:"absolute",width:"300px",height:"300px",borderRadius:"50%",background:"radial-gradient(circle, var(--accent-primary) 0%, transparent 70%)",filter:"blur(60px)",opacity:.3},animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),E.jsx(tt.div,{style:{position:"absolute",width:"400px",height:"400px",borderRadius:"50%",background:"radial-gradient(circle, var(--accent-secondary) 0%, transparent 70%)",filter:"blur(80px)",opacity:.2,right:"10%",bottom:"10%"},animate:{x:[0,-80,0],y:[0,80,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),E.jsxs(tt.div,{className:"aurora-card",style:{padding:"3rem",textAlign:"center",maxWidth:"420px",width:"100%",position:"relative",zIndex:1},variants:Q,initial:"hidden",animate:"visible",children:[E.jsx(tt.div,{variants:J,children:E.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 1.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)"},children:""})}),E.jsx(tt.h1,{variants:J,style:{fontSize:"2rem",fontWeight:700,marginBottom:"0.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"HomeBase Pro"}),E.jsx(tt.p,{variants:J,style:{color:"var(--text-secondary)",marginBottom:"2rem",fontSize:"1rem"},children:"The Future of Portfolio Management"}),E.jsxs(tt.button,{variants:J,className:"aurora-button",onClick:w,disabled:t,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",padding:"14px 24px",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"1.5rem",opacity:t?.7:1,cursor:t?"wait":"pointer"},children:[t?E.jsx(tt.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:""}):E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t?"Signing in...":"Sign in with Google"]}),E.jsxs(tt.div,{variants:J,style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",color:"var(--text-secondary)",fontSize:"0.875rem"},children:[E.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}}),E.jsx("span",{children:"or"}),E.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}})]}),E.jsx(tt.div,{variants:J,children:a?E.jsxs("form",{onSubmit:V,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[E.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:Z=>d(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:p,onChange:Z=>_(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Confirm Password",value:v,onChange:Z=>A(Z.target.value),className:"aurora-input",required:!0}),E.jsx("button",{type:"submit",className:"aurora-button",disabled:t,children:t?"Creating Account...":"Sign Up"})]}):E.jsxs("form",{onSubmit:B,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[E.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:Z=>d(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:p,onChange:Z=>_(Z.target.value),className:"aurora-input",required:!0}),E.jsx("button",{type:"submit",className:"aurora-button",disabled:t,children:t?"Signing In...":"Sign In"})]})}),E.jsx(tt.div,{variants:J,style:{marginTop:"1rem"},children:E.jsx("button",{onClick:()=>o(!a),className:"aurora-button secondary",style:{width:"100%"},children:a?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),E.jsx(tt.div,{variants:J,style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",padding:"1rem",background:"rgba(127, 90, 240, 0.1)",borderRadius:"12px",marginTop:"1.5rem"},children:[{icon:"",label:"Analytics"},{icon:"",label:"Deploy"},{icon:"",label:"Secure"}].map((Z,ct)=>E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"4px"},children:Z.icon}),E.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:Z.label})]},ct))}),E.jsxs(tt.div,{variants:J,style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"2rem",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(UI,{size:12})," Website"]}),E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(LI,{size:12})," GitHub"]}),E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(XI,{size:12})," Twitter"]})]}),E.jsx(tt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},style:{fontSize:"0.625rem",color:"var(--text-secondary)",marginTop:"1rem",opacity:.5},children:" Try the Konami code for a surprise..."})]})]})},CE=$.createContext(),$I=({children:s})=>{const[t,i]=$.useState(()=>localStorage.getItem("theme")||"dark");$.useEffect(()=>{document.body.className=t,localStorage.setItem("theme",t)},[t]);const a=()=>{i(c=>c==="light"?"dark":"light")},o=$.useMemo(()=>({theme:t,toggleTheme:a}),[t]);return E.jsx(CE.Provider,{value:o,children:s})},tC=()=>{const s=$.useContext(CE);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s},eC=()=>{const{theme:s,toggleTheme:t}=tC();return E.jsx(tt.button,{className:"aurora-button secondary theme-toggle-btn",onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Switch to ${s==="light"?"dark":"light"} mode`,children:E.jsx(Kr,{mode:"wait",children:s==="light"?E.jsx(tt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:E.jsx(qI,{})},"moon"):E.jsx(tt.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:E.jsx(KI,{})},"sun")})})},nC=()=>{const s=Wn.currentUser,[t,i]=$.useState(!1),a=[{to:"/",text:"Dashboard",icon:E.jsx(IE,{}),color:"#7F5AF0"},{to:"/projects",text:"Projects",icon:E.jsx(kI,{}),color:"#2CB67D"},{to:"/analytics",text:"Analytics",icon:E.jsx(MI,{}),color:"#F2B900"},{to:"/termux",text:"Termux",icon:E.jsx(QI,{}),color:"#00D4AA"},{to:"/profile",text:"Profile",icon:E.jsx(Hc,{}),color:"#E91E63"},{to:"/settings",text:"Settings",icon:E.jsx(FI,{}),color:"#FF6B6B"}],o=()=>{Wn.signOut(),i(!1)},c={hidden:{x:-100,opacity:0},visible:{x:0,opacity:1,transition:{duration:.5,ease:[.4,0,.2,1],staggerChildren:.1,delayChildren:.2}}},d={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{duration:.3}}};return E.jsxs(E.Fragment,{children:[E.jsx(tt.button,{className:"mobile-menu-btn",onClick:()=>i(!t),"aria-label":"Toggle menu",whileTap:{scale:.95},children:E.jsx(Kr,{mode:"wait",children:t?E.jsx(tt.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:E.jsx(JI,{size:24})},"close"):E.jsx(tt.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:E.jsx(zI,{size:24})},"menu")})}),E.jsx(Kr,{children:t&&E.jsx(tt.div,{className:"mobile-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)})}),E.jsxs(tt.aside,{className:`sidebar-container ${t?"mobile-open":""}`,variants:c,initial:"hidden",animate:"visible",children:[E.jsxs(tt.div,{className:"sidebar-header",variants:d,children:[E.jsx(tt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:E.jsx("h1",{className:"sidebar-logo",children:"HomeBase"})}),E.jsx(tt.span,{className:"sidebar-version",whileHover:{scale:1.1},animate:{boxShadow:["0 0 0 rgba(127, 90, 240, 0)","0 0 20px rgba(127, 90, 240, 0.5)","0 0 0 rgba(127, 90, 240, 0)"]},transition:{duration:2,repeat:1/0},children:"Pro"})]}),E.jsx("nav",{className:"sidebar-nav",children:a.map((p,_)=>E.jsx(tt.div,{variants:d,custom:_,children:E.jsx(cS,{to:p.to,className:"nav-link",onClick:()=>i(!1),children:({isActive:v})=>E.jsxs(tt.div,{style:{display:"flex",alignItems:"center",gap:"12px",width:"100%"},whileHover:{x:4},whileTap:{scale:.98},children:[E.jsx(tt.span,{className:"nav-icon",animate:v?{color:p.color,scale:[1,1.2,1]}:{},transition:{duration:.3},style:{color:v?p.color:void 0},children:p.icon}),E.jsx("span",{className:"nav-text",children:p.text}),v&&E.jsx(tt.div,{layoutId:"activeIndicator",className:"active-indicator",style:{background:p.color},transition:{type:"spring",stiffness:500,damping:30}})]})})},p.to))}),E.jsxs(tt.div,{className:"sidebar-footer",variants:d,children:[E.jsxs(tt.div,{className:"user-profile",whileHover:{scale:1.02},children:[E.jsx(tt.div,{className:"user-avatar",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5},children:s?.photoURL?E.jsx("img",{src:s.photoURL,alt:s.displayName}):s?.displayName?.[0]||"?"}),E.jsxs("div",{className:"user-info",children:[E.jsx(tt.span,{className:"user-name",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},children:s?.displayName||"Guest"}),E.jsx("span",{className:"user-email",children:s?.email})]})]}),E.jsxs("div",{className:"sidebar-actions",children:[E.jsx(eC,{}),E.jsxs(tt.button,{className:"aurora-button secondary sign-out-btn",onClick:o,whileHover:{scale:1.02},whileTap:{scale:.98},children:[E.jsx(jI,{}),E.jsx("span",{children:"Sign Out"})]})]})]}),E.jsx(tt.div,{className:"sidebar-credits",variants:d,initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:E.jsx("span",{children:"v2.0  Made with "})})]})]})};var i0=NS();const r0={ls:"eza",ll:"eza -l --icons --git --header",la:"eza -la --icons --git",cat:"bat",gs:"git status",ga:"git add .",gc:"git commit -m",gp:"git push",gpl:"git pull",gpp:"git push",nv:"nvim",h:"cd ~",u:"cd /storage/emulated/0/Download",up:"pkg update && pkg upgrade -y",cl:"pkg autoclean && rm -rf ~/.cache/*","savage-clean":"up && cl","backup-config":"cp ~/.zshrc ~/.zshrc.bak",py:"python"},iC=s=>{const[t]=s.split(" ");return r0[t]?r0[t]+s.substring(t.length):s},rC=(s,t)=>{if(s.startsWith("eza")){if(!t||t.length===0)return"No projects found.";let i=`Projects:
`;return s.includes("-l")?i+=t.map(a=>`drwxr-xr-x  - staff ${new Date(a.createdAt?.toDate()).toLocaleDateString()}  ${a.title}`).join(`
`):i+=t.map(a=>` ${a.title}`).join("  "),i}if(s.startsWith("bat")){const i=s.split(" ").slice(1).join(" "),a=t.find(o=>o.title.toLowerCase()===i.toLowerCase());return a?`--- Project: ${a.title} ---
Status: ${a.status}
Description: ${a.description||"N/A"}
Tags: ${a.tags?.join(", ")||"N/A"}`:`File not found: ${i}`}return s.startsWith("git")?"Git commands are not fully functional in this simulated environment. Use the Projects page to manage your portfolio.":null},sC=(s,t)=>{if(/^(hello|hi|hey|greetings)/.test(s)){const i=["Greetings, human. I'm Online and ready to assist.","Hello! The matrix has you... just kidding. How can I help?"];return i[Math.floor(Math.random()*i.length)]}if(s==="help"||s==="?")return`HomeBase Pro - Savage Edition Help:

  CORE COMMANDS:
   projects      - List all your projects (alias: ls)
   bat <project> - Show details for a specific project (alias: cat)
   stats         - Show project statistics
   ai <prompt>   - Ask Gemini AI anything (powered by Firebase AI)
   clear         - Clear terminal screen
   whoami        - Show current user info
   date          - Show current date/time
   uptime        - Show simulated system uptime

  SAVAGE ALIASES:
   ll, la        - Detailed project listings
   gs, ga, gp    - Simulated Git commands
   up, cl        - Simulated system maintenance
   h             - Go to 'home' (simulated)
   nv            - Open Neovim (simulated)
    `;if(s==="whoami")return Wn.currentUser?`Logged in as: ${Wn.currentUser.displayName} (${Wn.currentUser.email})`:"Not logged in";if(s==="date")return new Date().toLocaleString();if(s==="stats"){if(!t||t.length===0)return"No project data to analyze.";const i=t.filter(o=>o.status==="Active").length,a=t.filter(o=>o.status==="Completed").length;return`Project Stats:
   Total Projects: ${t.length}
   Active: ${i}
   Completed: ${a}`}return s==="projects"?xE("eza -l",t):s==="uptime"?`System uptime: ${Math.floor(Math.random()*999)} days...`:null},xE=(s,t,i)=>{const a=s.toLowerCase().trim(),o=rC(a,t);if(o)return o;const c=sC(a,t);return c||(a==="clear"?(i(),null):["nvim","cd ~","pkg update && pkg upgrade -y","pkg autoclean && rm -rf ~/.cache/*"].includes(a)?`Simulating command: ${a}`:`Command not found: ${s}. Type "help" for a list of commands.`)},aC=()=>{const[s,t]=$.useState([{type:"response",text:"Welcome to HomeBase Pro - Savage Edition. Type 'help' for commands."}]),[i,a]=$.useState(!0),[o,c]=$.useState([]),d=Wn.currentUser;$.useEffect(()=>{if(!d){a(!1);return}const v=rp(Wa(Mn,"projects"),sp("userId","==",d.uid)),A=Dh(v,w=>{const V=[];w.forEach(B=>{V.push({...B.data(),id:B.id})}),c(V),a(!1)});return()=>A()},[d]);const p=$.useCallback(async v=>{if(!d)return;const A=v.trim(),w=iC(A),V={type:"command",text:A};if(w.startsWith("ai ")){const B=w.slice(3);t(Q=>[...Q,V]);try{const Q=CS(),Z=await xS(Q,{model:"gemini-1.5-flash"}).generateContentStream(B);let ct="";for await(const vt of Z.stream)ct+=vt.text(),t(_t=>{const Ct=[..._t];return Ct[Ct.length-1]={type:"response",text:ct},Ct})}catch(Q){t(J=>[...J,{type:"response",text:`AI Error: ${Q.message}`}])}}else{const B=xE(w,o);B!==null&&t(Q=>[...Q,V,{type:"response",text:B}])}try{await lp(Wa(Mn,"terminal-history"),{type:"command",text:A,userId:d.uid,createdAt:Uo()})}catch{}},[d,o]),_=$.useCallback(()=>{t([{type:"response",text:'Terminal cleared. Type "help" for commands.'}])},[]);return{history:s,loading:i,executeCommand:p,clear:_,projects:o}},lC=()=>{const[s,t]=$.useState(""),{history:i,loading:a,executeCommand:o,clear:c}=aC(),d=$.useRef(null),p=$.useRef(null),_=$.useRef(null);$.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[i]),$.useEffect(()=>{const V=new i0.Terminal({fontFamily:"Fira Code",theme:{background:"var(--terminal-bg)",foreground:"var(--terminal-fg)",cursor:"var(--terminal-cursor)",selection:"var(--terminal-selection)",black:"var(--terminal-black)",red:"var(--terminal-red)",green:"var(--terminal-green)",yellow:"var(--terminal-yellow)",blue:"var(--terminal-blue)",magenta:"var(--terminal-magenta)",cyan:"var(--terminal-cyan)",white:"var(--terminal-white)"}});return V.open(d.current),()=>{V.dispose()}},[]);const v=V=>{t(V.target.value)},A=async V=>{V.preventDefault(),s.trim()&&(await o(s),t(""))};$.useEffect(()=>{const V=new i0.Terminal({fontFamily:"Fira Code",theme:{background:"var(--terminal-bg)",foreground:"var(--terminal-fg)",cursor:"var(--terminal-cursor)",selection:"var(--terminal-selection)",black:"var(--terminal-black)",red:"var(--terminal-red)",green:"var(--terminal-green)",yellow:"var(--terminal-yellow)",blue:"var(--terminal-blue)",magenta:"var(--terminal-magenta)",cyan:"var(--terminal-cyan)",white:"var(--terminal-white)"}});return V.open(d.current),()=>{V.dispose()}},[]),$.useEffect(()=>{_.current?.focus()},[]);const w=()=>{_.current?.focus()};return $.useEffect(()=>{const V=B=>{(B.ctrlKey||B.metaKey)&&B.key==="l"&&(B.preventDefault(),c()),B.key==="Escape"&&_.current?.focus()};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[c]),E.jsxs(tt.div,{className:"terminal-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:w,children:[E.jsxs("div",{className:"terminal-header",children:[E.jsxs("div",{className:"terminal-buttons",children:[E.jsx("span",{className:"button red"}),E.jsx("span",{className:"button yellow"}),E.jsx("span",{className:"button green"})]}),E.jsx("div",{className:"terminal-title",children:"Termux"})]}),E.jsxs("div",{className:"terminal-body",ref:d,children:[E.jsxs("div",{className:"output-area",children:[a&&E.jsx("div",{children:"Loading terminal history..."}),E.jsx(Kr,{children:i.map((V,B)=>E.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:`output-line ${V.type}`,children:[V.type==="command"&&E.jsx("span",{className:"prompt-symbol",children:"$ "}),E.jsx("span",{className:"output-text",children:V.text})]},B))}),E.jsx("div",{ref:p})]}),E.jsxs("form",{onSubmit:A,className:"terminal-input-form",children:[E.jsxs("span",{className:"prompt",children:[E.jsx("span",{className:"prompt-user",children:"homebase"}),E.jsx("span",{className:"prompt-at",children:"@"}),E.jsx("span",{className:"prompt-host",children:"pro"}),E.jsx("span",{className:"prompt-symbol",children:":$ "})]}),E.jsx("input",{ref:_,type:"text",value:s,onChange:v,className:"terminal-input",autoFocus:!0,autoComplete:"off",spellCheck:"false"}),E.jsx(tt.span,{className:"cursor",animate:{opacity:[1,0]},transition:{duration:.5,repeat:1/0},children:""})]})]}),E.jsx("div",{className:"terminal-footer",children:E.jsxs("span",{className:"terminal-hint",children:[E.jsx("kbd",{children:"Ctrl"})," + ",E.jsx("kbd",{children:"L"})," to clear  Type ",E.jsx("code",{children:"help"})," for commands"]})})]})},oC=({children:s})=>E.jsxs("div",{className:"dashboard-layout",children:[E.jsx(nC,{}),E.jsx("main",{className:"dashboard-main",children:s})]}),uC=({project:s,onSave:t})=>{const{user:i}=ol(),[a,o]=$.useState(s?s.title:""),[c,d]=$.useState(s?s.description:""),[p,_]=$.useState(s?s.tech.join(", "):""),[v,A]=$.useState(s?s.liveUrl:""),[w,V]=$.useState(s?s.repoUrl:""),B=async Q=>{Q.preventDefault();const J={title:a,description:c,tech:p.split(",").map(Z=>Z.trim()),liveUrl:v,repoUrl:w,userId:i.uid};s?await EE($a(Mn,"projects",s.id),J):await lp(Wa(Mn,"projects"),J),t()};return E.jsxs("form",{onSubmit:B,className:"project-form",children:[E.jsx("input",{type:"text",placeholder:"Title",value:a,onChange:Q=>o(Q.target.value),required:!0}),E.jsx("textarea",{placeholder:"Description",value:c,onChange:Q=>d(Q.target.value),required:!0}),E.jsx("input",{type:"text",placeholder:"Technologies (comma-separated)",value:p,onChange:Q=>_(Q.target.value),required:!0}),E.jsx("input",{type:"url",placeholder:"Live URL",value:v,onChange:Q=>A(Q.target.value)}),E.jsx("input",{type:"url",placeholder:"Repo URL",value:w,onChange:Q=>V(Q.target.value)}),E.jsxs("button",{type:"submit",className:"aurora-button",children:[s?"Update":"Create"," Project"]})]})},Zo=()=>E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader-spinner"})}),cC=()=>{const{user:s}=ol(),[t,i]=$.useState([]),[a,o]=$.useState(!0),[c,d]=$.useState("All"),[p,_]=$.useState(""),[v,A]=$.useState("grid"),[w,V]=$.useState(!1),{notify:B}=op();$.useEffect(()=>{if(!s)return;const R=rp(Wa(Mn,"projects"),sp("userId","==",s.uid)),b=Dh(R,x=>{const O=x.docs.map(D=>({id:D.id,...D.data()}));i(O),o(!1)},()=>{o(!1)});return()=>{i([]),o(!0),b()}},[s]);const Q=()=>{V(!1)},[J,Z]=$.useState(null),ct=async R=>{window.confirm("Are you sure you want to delete this project?")&&(await SE($a(Mn,"projects",R)),B("Project deleted successfully! "))},vt=(R=null)=>{Z(R),V(!0)};if(a)return E.jsx(Zo,{});const _t=t.filter(R=>{const b=c==="All"||R.status===c,x=!p||R.title?.toLowerCase().includes(p.toLowerCase())||R.tags?.some(O=>O.toLowerCase().includes(p.toLowerCase()));return b&&x}),Ct={Active:"#2CB67D",Pending:"#F2B900",Completed:"#7F5AF0"},re={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},Mt={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return E.jsxs("div",{className:"projects-container",children:[E.jsxs(tt.header,{className:"page-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[E.jsxs("div",{children:[E.jsx(tt.h1,{className:"page-title",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:"Projects"}),E.jsx(tt.p,{className:"page-subtitle",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Manage and track your portfolio projects"})]}),E.jsxs(tt.div,{className:"stats-badge",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30,delay:.3},children:[E.jsx("span",{children:t.length})," Projects"]})]}),E.jsxs(tt.div,{className:"toolbar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[E.jsx("div",{className:"filter-tabs",children:["All","Active","Pending","Completed"].map(R=>E.jsx(tt.button,{className:`filter-tab ${c===R?"active":""}`,onClick:()=>d(R),whileHover:{scale:1.05},whileTap:{scale:.95},style:c===R?{background:Ct[R]||"var(--accent-primary)"}:{},children:R},R))}),E.jsxs("div",{className:"toolbar-actions",children:[E.jsxs("div",{className:"search-box",children:[E.jsx(HI,{className:"search-icon"}),E.jsx("input",{type:"text",placeholder:"Search projects...",value:p,onChange:R=>_(R.target.value),className:"search-input"})]}),E.jsxs("div",{className:"view-toggle",children:[E.jsx(tt.button,{className:v==="grid"?"active":"",onClick:()=>A("grid"),whileHover:{scale:1.1},whileTap:{scale:.9},children:E.jsx(IE,{})}),E.jsx(tt.button,{className:v==="list"?"active":"",onClick:()=>A("list"),whileHover:{scale:1.1},whileTap:{scale:.9},children:E.jsx(PI,{})})]}),E.jsxs(tt.button,{className:"aurora-button",onClick:()=>vt(),whileHover:{scale:1.05},whileTap:{scale:.95},children:[E.jsx(BI,{})," Add Project"]})]})]}),E.jsx(tt.div,{layout:!0,className:`project-grid ${v}`,variants:re,initial:"hidden",animate:"visible",children:E.jsx(Kr,{mode:"popLayout",children:_t.length>0?_t.map((R,b)=>E.jsxs(tt.div,{layout:!0,variants:Mt,initial:"hidden",animate:"visible",exit:{opacity:0,scale:.8},transition:{duration:.3},className:"aurora-card project-card",whileHover:{y:-5,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[E.jsxs("div",{className:"project-card-header",children:[E.jsx("h3",{className:"project-card-title",children:R.title}),E.jsx(tt.div,{className:"status-dot",style:{backgroundColor:Ct[R.status]||"#888"},title:R.status,whileHover:{scale:1.5},animate:{boxShadow:[`0 0 0 ${Ct[R.status]||"#888"}`,`0 0 10px ${Ct[R.status]||"#888"}`,`0 0 0 ${Ct[R.status]||"#888"}`]},transition:{duration:2,repeat:1/0}})]}),R.description&&E.jsx("p",{className:"project-description",children:R.description}),E.jsxs("p",{className:"project-meta",children:["Updated ",R.lastUpdated?.toDate?new Date(R.lastUpdated.toDate()).toLocaleDateString():"Recently"]}),E.jsx("div",{className:"project-card-tags",children:R.tech?.map((x,O)=>E.jsx(tt.span,{className:"tech-tag",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:O*.1},whileHover:{scale:1.1},children:x},x))}),E.jsxs("div",{className:"project-card-footer",children:[E.jsx("div",{className:"project-stats",children:E.jsxs("span",{children:["#",String(b+1).padStart(3,"0")]})}),E.jsx(tt.button,{className:"edit-btn",onClick:()=>vt(R),title:"Edit Project",whileHover:{scale:1.2,color:"var(--accent-primary)"},whileTap:{scale:.9},children:E.jsx(RE,{})}),E.jsx(tt.button,{className:"delete-btn",onClick:()=>ct(R.id,R.title),title:"Delete Project",whileHover:{scale:1.2,color:"#E53E3E"},whileTap:{scale:.9},children:E.jsx(YI,{})})]})]},R.id)):E.jsxs(tt.div,{initial:{opacity:0},animate:{opacity:1},className:"empty-state aurora-card",children:[E.jsx(tt.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),E.jsxs("p",{children:["No projects found",p?` for "${p}"`:"","."]}),E.jsx("p",{style:{fontSize:"0.875rem",opacity:.7},children:p?"Try a different search term":"Add one to get started!"})]})})}),E.jsx(Kr,{children:w&&E.jsx(tt.div,{className:"modal-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>V(!1),children:E.jsx(tt.div,{className:"aurora-card modal-content",initial:{y:-50,opacity:0,scale:.9},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.9},onClick:R=>R.stopPropagation(),children:E.jsx(uC,{project:J,onSave:Q})})})})]})},NE=()=>{const[s,t]=$.useState([]),[i,a]=$.useState(!0),o=Wn.currentUser;return $.useEffect(()=>{if(!o){a(!1);return}const p=rp(Wa(Mn,"projects"),sp("userId","==",o.uid)),_=Dh(p,v=>{const A=[];v.forEach(w=>{A.push({...w.data(),id:w.id})}),t(A),a(!1)});return()=>_()},[o]),{projects:s,loading:i,addProject:async p=>{o&&await lp(Wa(Mn,"projects"),{...p,userId:o.uid,createdAt:Uo(),lastUpdated:Uo()})},deleteProject:async p=>{await SE($a(Mn,"projects",p))}}},hC=()=>{const{projects:s,loading:t}=NE(),[i,a]=$.useState({totalProjects:0,activeProjects:0,completedProjects:0,projectsByTag:{}});return $.useEffect(()=>{if(!t){const o=s.length,c=s.filter(_=>_.status==="Active").length,d=s.filter(_=>_.status==="Completed").length,p=s.reduce((_,v)=>(v.tags?.forEach(A=>{_[A]=(_[A]||0)+1}),_),{});a({totalProjects:o,activeProjects:c,completedProjects:d,projectsByTag:p})}},[s,t]),{stats:i,loading:t}},fC=()=>{const{stats:s,loading:t}=hC();return t?E.jsx(Zo,{}):E.jsxs("div",{className:"analytics-container",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Analytics"}),E.jsx("p",{className:"page-subtitle",children:"An overview of your project landscape"})]}),E.jsxs("div",{className:"stats-grid",children:[E.jsxs(tt.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Total Projects"}),E.jsx("p",{children:s.totalProjects})]}),E.jsxs(tt.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Active Projects"}),E.jsx("p",{children:s.activeProjects})]}),E.jsxs(tt.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Completed Projects"}),E.jsx("p",{children:s.completedProjects})]})]}),E.jsxs("div",{className:"aurora-card chart-card",children:[E.jsx("h3",{children:"Projects by Tag"}),Object.entries(s.projectsByTag).map(([i,a])=>E.jsxs("div",{className:"chart-bar",children:[E.jsx("span",{className:"chart-label",children:i}),E.jsx("div",{className:"chart-value",style:{width:`${s.totalProjects>0?a/s.totalProjects*100:0}%`},children:a})]},i))]})]})},dC=()=>{const[s,t]=$.useState(null),[i,a]=$.useState(!0),{user:o}=ol();return $.useEffect(()=>{if(!o){t(null),a(!1);return}a(!0);const d=$a(Mn,"users",o.uid),p=Dh(d,_=>{if(_.exists())t(_.data());else{const v={displayName:o.displayName,email:o.email,photoURL:o.photoURL,createdAt:Uo()};SI(d,v).catch(()=>{}),t(v)}a(!1)},()=>{a(!1)});return()=>p()},[o]),{userProfile:s,loading:i,updateUserProfile:async d=>{if(!o)return;const p=$a(Mn,"users",o.uid);await EE(p,{...d,updatedAt:Uo()})},user:o}},mC=()=>{const{userProfile:s,loading:t,updateUserProfile:i}=dC(),[a,o]=$.useState(""),{notify:c}=op();$.useEffect(()=>{s&&o(s.displayName||"")},[s]);const d=async p=>{p.preventDefault(),await i({displayName:a}),c("Settings saved successfully!")};return t?E.jsx(Zo,{}):E.jsxs("div",{className:"settings-container",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Settings"}),E.jsx("p",{className:"page-subtitle",children:"Manage your profile and application settings"})]}),E.jsx(tt.div,{className:"aurora-card",children:E.jsxs("form",{onSubmit:d,style:{padding:"var(--space-5)"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Display Name"}),E.jsx("input",{type:"text",className:"form-input",value:a,onChange:p=>o(p.target.value)})]}),E.jsx("div",{className:"form-actions",children:E.jsx("button",{type:"submit",className:"aurora-button",children:"Save Changes"})})]})})]})},pC=()=>{const{projects:s,loading:t}=NE();return t?E.jsx(Zo,{}):E.jsx("div",{children:E.jsx(lC,{projects:s})})};function gC(){const{user:s}=ol(),[t,i]=$.useState(""),[a,o]=$.useState(""),[c,d]=$.useState(!1),[p,_]=$.useState(""),[v,A]=$.useState(!1);$.useEffect(()=>{s&&(i(s.displayName||""),o(s.email||""))},[s]);const w=async Q=>{Q.preventDefault(),d(!0),_("");try{s&&(await PA(s,{displayName:t.trim()||null}),_("Profile updated successfully! "),A(!1))}catch(J){_("Error: "+J.message)}finally{d(!1)}};if(!s)return E.jsx("div",{className:"aurora-card",style:{padding:"2rem",textAlign:"center"},children:E.jsx("h2",{children:"Please sign in to view your profile."})});const V={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.1}}},B={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return E.jsxs(tt.div,{className:"profile-container",variants:V,initial:"hidden",animate:"visible",children:[E.jsxs(tt.header,{className:"page-header",variants:B,children:[E.jsx("h1",{className:"page-title",children:"litreelabmeta Profile"}),E.jsx("p",{className:"page-subtitle",children:"Manage your HomeBase Pro identity"})]}),E.jsx(tt.div,{className:"aurora-card",variants:B,style:{padding:"2rem",marginBottom:"2rem",background:"linear-gradient(135deg, rgba(127, 90, 240, 0.1), rgba(44, 182, 125, 0.1))"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem",flexWrap:"wrap"},children:[E.jsxs(tt.div,{style:{width:"100px",height:"100px",borderRadius:"50%",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem",fontWeight:"bold",color:"white",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)",position:"relative"},whileHover:{scale:1.05},animate:{boxShadow:["0 10px 40px rgba(127, 90, 240, 0.4)","0 10px 60px rgba(127, 90, 240, 0.6)","0 10px 40px rgba(127, 90, 240, 0.4)"]},transition:{duration:2,repeat:1/0},children:[s.photoURL?E.jsx("img",{src:s.photoURL,alt:t,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):t?.charAt(0)?.toUpperCase()||E.jsx(Hc,{}),E.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",background:"#2CB67D",borderRadius:"50%",border:"3px solid var(--background-primary)"}})]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"0.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:t||"litreelabmeta"}),E.jsxs("p",{style:{color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx(e0,{size:16})," ",a]}),E.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",fontFamily:"var(--font-mono)"},children:["ID: ",s.uid?.slice(0,8),"...",s.uid?.slice(-8)]})]}),E.jsxs(tt.button,{className:"aurora-button secondary",onClick:()=>A(!v),whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v?E.jsx(n0,{}):E.jsx(RE,{}),v?"Cancel":"Edit Profile"]})]})}),E.jsx(tt.div,{variants:B,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[{icon:E.jsx(GI,{}),label:"Status",value:s.emailVerified?"Verified ":"Unverified",color:s.emailVerified?"#2CB67D":"#F2B900"},{icon:E.jsx(ZI,{}),label:"Provider",value:s.providerData[0]?.providerId?.split(".")[0]||"Google",color:"#7F5AF0"},{icon:E.jsx(Hc,{}),label:"Member Since",value:s.metadata?.creationTime?new Date(s.metadata.creationTime).toLocaleDateString():"N/A",color:"#00D4AA"}].map((Q,J)=>E.jsxs(tt.div,{className:"aurora-card",style:{padding:"1.5rem",textAlign:"center",borderLeft:`4px solid ${Q.color}`},whileHover:{y:-5},children:[E.jsx("div",{style:{fontSize:"2rem",color:Q.color,marginBottom:"0.5rem"},children:Q.icon}),E.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:Q.label}),E.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:Q.value})]},J))}),E.jsx(Kr,{children:v&&E.jsxs(tt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"aurora-card",style:{padding:"2rem"},children:[E.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Edit Profile"}),E.jsxs("form",{onSubmit:w,children:[E.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx(Hc,{size:16})," Display Name"]}),E.jsx("input",{type:"text",className:"aurora-input",value:t,onChange:Q=>i(Q.target.value),placeholder:"Enter your display name"})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx(e0,{size:16})," Email (Read-only)"]}),E.jsx("input",{type:"email",className:"aurora-input",value:a,disabled:!0,style:{opacity:.6}})]}),p&&E.jsx(tt.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"1rem",background:p.includes("Error")?"rgba(229, 62, 62, 0.1)":"rgba(44, 182, 125, 0.1)",borderRadius:"8px",marginBottom:"1rem",color:p.includes("Error")?"var(--color-error)":"var(--color-success)"},children:p}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsx(tt.button,{type:"button",className:"aurora-button secondary",onClick:()=>A(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),E.jsx(tt.button,{type:"submit",className:"aurora-button",disabled:c,whileHover:{scale:1.02},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:c?"Saving...":E.jsxs(E.Fragment,{children:[E.jsx(n0,{})," Save Changes"]})})]})]})]})})]})}const yC=()=>{const{user:s}=ol(),t=s?.displayName||s?.email?.split("@")[0]||"Guest";return E.jsxs(tt.div,{className:"aurora-card",style:{padding:"var(--space-5)",textAlign:"center"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[E.jsx(tt.div,{style:{width:"80px",height:"80px",margin:"0 auto 1.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)"},animate:{rotate:[0,10,-10,0]},transition:{duration:5,repeat:1/0},children:""}),E.jsxs("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Welcome, ",t]}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.125rem",marginBottom:"2rem"},children:"Your HomeBase Pro command center is ready"}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",maxWidth:"600px",margin:"0 auto"},children:[{icon:"",label:"Projects",path:"/projects"},{icon:"",label:"Analytics",path:"/analytics"},{icon:"",label:"Termux",path:"/termux"},{icon:"",label:"Profile",path:"/profile"}].map((i,a)=>E.jsx(tt.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:E.jsxs(hS,{to:i.path,className:"aurora-card",style:{padding:"1.5rem",textDecoration:"none",color:"var(--text-primary)",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"2rem"},children:i.icon}),E.jsx("span",{style:{fontWeight:600},children:i.label})]})},a))})]})};function _C(){const{user:s,loading:t}=ol();return t?E.jsx(Zo,{}):s?E.jsx(oC,{children:E.jsxs(fS,{children:[E.jsx(Os,{path:"/",element:E.jsx(yC,{})}),E.jsx(Os,{path:"/projects",element:E.jsx(cC,{})}),E.jsx(Os,{path:"/analytics",element:E.jsx(fC,{})}),E.jsx(Os,{path:"/settings",element:E.jsx(mC,{})}),E.jsx(Os,{path:"/termux",element:E.jsx(pC,{})}),E.jsx(Os,{path:"/profile",element:E.jsx(gC,{})}),E.jsx(Os,{path:"*",element:E.jsx(dS,{to:"/"})})]})}):E.jsx(WI,{})}const s0=()=>{const s=$.useRef(null),t=$.useRef(null);return $.useEffect(()=>{const i=s.current,a=i.getContext("2d"),o=()=>{i.width=window.innerWidth,i.height=window.innerHeight};o(),window.addEventListener("resize",o);const d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),p=14,_=i.width/p,v=[];for(let V=0;V<_;V++)v[V]=Math.random()*-100;let A=0;const w=()=>{if(A++,A%2!==0){t.current=requestAnimationFrame(w);return}a.fillStyle="rgba(10, 10, 16, 0.05)",a.fillRect(0,0,i.width,i.height),a.fillStyle="#0F0",a.font=`${p}px monospace`;for(let V=0;V<v.length;V++){const B=d[Math.floor(Math.random()*d.length)],Q=Math.floor(Math.random()*155+100);a.fillStyle=`rgba(0, ${Q}, 0, ${Math.random()*.5+.3})`,a.fillText(B,V*p,v[V]*p),v[V]*p>i.height&&Math.random()>.975&&(v[V]=0),v[V]++}t.current=requestAnimationFrame(w)};return w(),()=>{window.removeEventListener("resize",o),t.current&&cancelAnimationFrame(t.current)}},[]),E.jsx("canvas",{ref:s,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,opacity:.15,pointerEvents:"none"}})};class vC{constructor(t,i){this.x=Math.random()*t,this.y=Math.random()*i,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.size=Math.random()*2+1,this.color=Math.random()>.5?"#7F5AF0":"#2CB67D"}update(t,i,a){if(this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t)&&(this.vx*=-1),(this.y<0||this.y>i)&&(this.vy*=-1),a.x!==null){const o=a.x-this.x,c=a.y-this.y,d=Math.sqrt(o*o+c*c);if(d<100){const p=(100-d)/100;this.vx+=o/d*p*.02,this.vy+=c/d*p*.02}}}draw(t){t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fillStyle=this.color,t.fill()}}const Hd=()=>{const s=$.useRef(null),t=$.useRef(null),i=$.useRef({x:null,y:null});return $.useEffect(()=>{const a=s.current,o=a.getContext("2d"),c=()=>{a.width=window.innerWidth,a.height=window.innerHeight};c(),window.addEventListener("resize",c);const d=A=>{i.current={x:A.clientX,y:A.clientY}};window.addEventListener("mousemove",d);const p=[];for(let A=0;A<50;A++)p.push(new vC(a.width,a.height));let _=0;const v=()=>{if(_++,_%2!==0){t.current=requestAnimationFrame(v);return}o.clearRect(0,0,a.width,a.height),p.forEach((A,w)=>{A.update(a.width,a.height,i.current),A.draw(o),p.slice(w+1).forEach(V=>{const B=A.x-V.x,Q=A.y-V.y,J=Math.sqrt(B*B+Q*Q);J<150&&(o.beginPath(),o.strokeStyle=`rgba(127, 90, 240, ${.2*(1-J/150)})`,o.lineWidth=.5,o.moveTo(A.x,A.y),o.lineTo(V.x,V.y),o.stroke())})}),t.current=requestAnimationFrame(v)};return v(),()=>{window.removeEventListener("resize",c),window.removeEventListener("mousemove",d),t.current&&cancelAnimationFrame(t.current)}},[]),E.jsx("canvas",{ref:s,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,pointerEvents:"none"}})},Fd=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],TC=s=>{const[t,i]=$.useState([]),[a,o]=$.useState(!1);return $.useEffect(()=>{const c=d=>{const p=[...t,d.key];p.length>Fd.length&&p.shift(),i(p),p.length===Fd.length&&p.every((v,A)=>v===Fd[A])&&!a&&(o(!0),s?.())};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,s,a]),{activated:a,reset:()=>{o(!1),i([])}}},Gd=(s,t)=>{const[i,a]=$.useState([]),o=typeof s=="string"?s.split(""):s;$.useEffect(()=>{const c=d=>{const p=[...i,d.key.toLowerCase()];p.length>o.length&&p.shift(),a(p),p.length===o.length&&p.every((v,A)=>v===o[A].toLowerCase())&&(t?.(),a([]))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[i,o,t])},EC=()=>{const[s,t]=$.useState("normal"),[i,a]=$.useState("");return TC(()=>{t("god");const o=new Audio;o.volume=.3;const c=new(window.AudioContext||window.webkitAudioContext),d=c.createOscillator(),p=c.createGain();d.connect(p),p.connect(c.destination),d.frequency.setValueAtTime(440,c.currentTime),d.frequency.exponentialRampToValueAtTime(880,c.currentTime+.1),p.gain.setValueAtTime(.3,c.currentTime),p.gain.exponentialRampToValueAtTime(.01,c.currentTime+.5),d.start(c.currentTime),d.stop(c.currentTime+.5)}),Gd("matrix",()=>t(o=>o==="matrix"?"normal":"matrix")),Gd("hacker",()=>t(o=>o==="hacker"?"normal":"hacker")),Gd("particles",()=>t(o=>o==="particles"?"normal":"particles")),$.useEffect(()=>{if(s==="hacker"){const o="01",c=setInterval(()=>{a(o[Math.floor(Math.random()*o.length)])},50);return()=>clearInterval(c)}},[s]),E.jsxs(E.Fragment,{children:[s==="normal"&&E.jsx(Hd,{}),s==="matrix"&&E.jsx(s0,{}),s==="particles"&&E.jsx(Hd,{}),s==="god"&&E.jsxs(E.Fragment,{children:[E.jsx(s0,{}),E.jsx(Hd,{})]}),s==="hacker"&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 255, 0, 0.05)",zIndex:9999,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"monospace",fontSize:"20vw",color:"rgba(0, 255, 0, 0.1)",fontWeight:"bold"},children:i}),s!=="normal"&&E.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"8px 16px",background:s==="god"?"linear-gradient(135deg, #FFD700, #FF6B35)":"var(--accent-primary)",borderRadius:"8px",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",zIndex:1e4,animation:"pulse 2s infinite",boxShadow:s==="god"?"0 0 30px rgba(255, 215, 0, 0.5)":void 0},children:s==="god"?" GOD MODE ":`${s} mode`})]})};LS.createRoot(document.getElementById("root")).render(E.jsx(Hr.StrictMode,{children:E.jsx(mS,{children:E.jsx(RI,{children:E.jsxs($I,{children:[E.jsx(EC,{}),E.jsx(_C,{})]})})})}));
