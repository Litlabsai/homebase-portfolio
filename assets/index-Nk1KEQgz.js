import{j as E,A as Fs,m as $}from"./motion-K6OG_hvw.js";import{a as Z1,b as W1,g as $1,r as it,N as tA,L as eA,c as nA,d as Da,e as iA,R as sA,B as aA}from"./router-CmIGl_H7.js";import{L as Wv,g as $v,i as rA,a as lA,_ as Bd,C as Hd,r as wo,b as oA,S as Wr,E as hm,c as gn,d as Ie,e as uA,f as Qn,h as rn,F as rh,j as cA,q as Mo,k as ko,l as fm,m as hA,n as t0,o as zc,p as e0,u as n0,s as fA,t as dA,v as fo,w as mo,x as mA,y as pA,z as gA,A as yA,B as _A,D as vA,G as TA}from"./firebase-t01oaRlO.js";import{G as ne}from"./icons-ibm69z4q.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Cd={exports:{}},co={},xd={exports:{}},Nd={};var w_;function EA(){return w_||(w_=1,(function(r){function t(G,tt){var ut=G.length;G.push(tt);t:for(;0<ut;){var kt=ut-1>>>1,Gt=G[kt];if(0<o(Gt,tt))G[kt]=tt,G[ut]=Gt,ut=kt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var tt=G[0],ut=G.pop();if(ut!==tt){G[0]=ut;t:for(var kt=0,Gt=G.length,Ce=Gt>>>1;kt<Ce;){var Qt=2*(kt+1)-1,Nt=G[Qt],te=Qt+1,Xe=G[te];if(0>o(Nt,ut))te<Gt&&0>o(Xe,Nt)?(G[kt]=Xe,G[te]=ut,kt=te):(G[kt]=Nt,G[Qt]=ut,kt=Qt);else if(te<Gt&&0>o(Xe,ut))G[kt]=Xe,G[te]=ut,kt=te;else break t}}return tt}function o(G,tt){var ut=G.sortIndex-tt.sortIndex;return ut!==0?ut:G.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],v=[],S=1,w=null,V=3,H=!1,X=!1,J=!1,Z=!1,ht=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function Ut(G){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=G)a(v),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(v)}}function rt(G){if(J=!1,Ut(G),!X)if(i(_)!==null)X=!0,Et||(Et=!0,k());else{var tt=i(v);tt!==null&&Oe(rt,tt.startTime-G)}}var Et=!1,N=-1,b=5,C=-1;function O(){return Z?!0:!(r.unstable_now()-C<b)}function D(){if(Z=!1,Et){var G=r.unstable_now();C=G;var tt=!0;try{t:{X=!1,J&&(J=!1,_t(N),N=-1),H=!0;var ut=V;try{e:{for(Ut(G),w=i(_);w!==null&&!(w.expirationTime>G&&O());){var kt=w.callback;if(typeof kt=="function"){w.callback=null,V=w.priorityLevel;var Gt=kt(w.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){w.callback=Gt,Ut(G),tt=!0;break e}w===i(_)&&a(_),Ut(G)}else a(_);w=i(_)}if(w!==null)tt=!0;else{var Ce=i(v);Ce!==null&&Oe(rt,Ce.startTime-G),tt=!1}}break t}finally{w=null,V=ut,H=!1}tt=void 0}}finally{tt?k():Et=!1}}}var k;if(typeof Tt=="function")k=function(){Tt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,he=I.port2;I.port1.onmessage=D,k=function(){he.postMessage(null)}}else k=function(){ht(D,0)};function Oe(G,tt){N=ht(function(){G(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G||(b=0<G?Math.floor(1e3/G):5)},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ut=V;V=tt;try{return G()}finally{V=ut}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return tt()}finally{V=ut}},r.unstable_scheduleCallback=function(G,tt,ut){var kt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ut+Gt,G={id:S++,callback:tt,priorityLevel:G,startTime:ut,expirationTime:Gt,sortIndex:-1},ut>kt?(G.sortIndex=ut,t(v,G),i(_)===null&&G===i(v)&&(J?(_t(N),N=-1):J=!0,Oe(rt,ut-kt))):(G.sortIndex=Gt,t(_,G),X||H||(X=!0,Et||(Et=!0,k()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var tt=V;return function(){var ut=V;V=tt;try{return G.apply(this,arguments)}finally{V=ut}}}})(Nd)),Nd}var b_;function AA(){return b_||(b_=1,xd.exports=EA()),xd.exports}var R_;function SA(){if(R_)return co;R_=1;var r=AA(),t=Z1(),i=W1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ht:return"Profiler";case Z:return"StrictMode";case rt:return"Suspense";case Et:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case Tt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var Oe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},kt=[],Gt=-1;function Ce(e){return{current:e}}function Qt(e){0>Gt||(e.current=kt[Gt],kt[Gt]=null,Gt--)}function Nt(e,n){Gt++,kt[Gt]=e.current,e.current=n}var te=Ce(null),Xe=Ce(null),_n=Ce(null),ns=Ce(null);function is(e,n){switch(Nt(_n,n),Nt(Xe,e),Nt(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Yy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Qt(te),Nt(te,e)}function Ci(){Qt(te),Qt(Xe),Qt(_n)}function al(e){e.memoizedState!==null&&Nt(ns,e);var n=te.current,s=Yy(n,e.type);n!==s&&(Nt(Xe,e),Nt(te,s))}function Ga(e){Xe.current===e&&(Qt(te),Qt(Xe)),ns.current===e&&(Qt(ns),ro._currentValue=ut)}var Ka,Qa;function $n(e){if(Ka===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ka=n&&n[1]||"",Qa=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ka+e+Qa}var rl=!1;function ea(e,n){if(!e||rl)return"";rl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var j=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){j=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){j=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var B=`
`+R[l].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=l&&0<=h);break}}}finally{rl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function ll(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ea(e.type,!1);case 11:return ea(e.type.render,!1);case 1:return ea(e.type,!0);case 31:return $n("Activity");default:return""}}function ol(e){try{var n="",s=null;do n+=ll(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fe=Object.prototype.hasOwnProperty,we=r.unstable_scheduleCallback,ss=r.unstable_cancelCallback,xh=r.unstable_shouldYield,Yo=r.unstable_requestPaint,Ke=r.unstable_now,na=r.unstable_getCurrentPriorityLevel,ul=r.unstable_ImmediatePriority,cl=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Xo=r.unstable_IdlePriority,Jo=r.log,Zo=r.unstable_setDisableYieldValue,kn=null,Me=null;function vn(e){if(typeof Jo=="function"&&Zo(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(kn,e)}catch{}}var ae=Math.clz32?Math.clz32:$o,Wo=Math.log,Ya=Math.LN2;function $o(e){return e>>>=0,e===0?32:31-(Wo(e)/Ya|0)|0}var ti=256,ia=262144,de=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ei(l):(g&=T,g!==0?h=ei(g):s||(s=T&~e,s!==0&&(h=ei(s))))):(T=l&~f,T!==0?h=ei(T):g!==0?h=ei(g):s||(s=l&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Ln(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=de;return de<<=1,(de&62914560)===0&&(de=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function sa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var B=31-ae(s),K=1<<B;T[B]=0,R[B]=-1;var j=P[B];if(j!==null)for(P[B]=null,B=0;B<j.length;B++){var q=j[B];q!==null&&(q.lane&=-536870913)}s&=~K}l!==0&&aa(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function aa(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ae(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function hl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ae(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function fl(e,n){var s=n&-n;return s=(s&42)!==0?1:ra(s),(s&(e.suspendedLanes|n))!==0?0:s}function ra(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:y_(e.type))}function Un(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Pn=Math.random().toString(36).slice(2),me="__reactFiber$"+Pn,xe="__reactProps$"+Pn,si="__reactContainer$"+Pn,Xa="__reactEvents$"+Pn,Oh="__reactListeners$"+Pn,nu="__reactHandles$"+Pn,iu="__reactResources$"+Pn,ai="__reactMarker$"+Pn;function Ja(e){delete e[me],delete e[xe],delete e[Xa],delete e[Oh],delete e[nu]}function ri(e){var n=e[me];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[me]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=e_(e);e!==null;){if(s=e[me])return s;e=e_(e)}return n}e=s,s=e.parentNode}return null}function Tn(e){if(e=e[me]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ln(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function pe(e){e[ai]=!0}var dl=new Set,ml={};function oi(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(ml[e]=n,e=0;e<n.length;e++)dl.add(n[e])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},yl={};function su(e){return fe.call(yl,e)?!0:fe.call(gl,e)?!1:pl.test(e)?yl[e]=!0:(gl[e]=!0,!1)}function Za(e,n,s){if(su(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function on(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ge(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ne(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function _l(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Pt(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=_l(e,n,""+e[n])}}function la(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=rs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oa=/[\n"\\]/g;function Je(e){return e.replace(oa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Wa(e,n,s,l,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ne(n)):e.value!==""+Ne(n)&&(e.value=""+Ne(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?vl(e,g,Ne(n)):s!=null?vl(e,g,Ne(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ne(T):e.removeAttribute("name")}function au(e,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Pt(e);return}s=s!=null?""+Ne(s):"",n=n!=null?""+Ne(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Pt(e)}function vl(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ls(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ne(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ru(e,n,s){if(n!=null&&(n=""+Ne(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ne(s):""}function os(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Oe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ne(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Pt(e)}function Ze(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function El(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Tl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Tl(e,f,n[f])}function $a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Al=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,hi=null;function ua(e){var n=Tn(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Wa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Je(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[xe]||null;if(!h)throw Error(a(90));Wa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&la(l)}break t;case"textarea":ru(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ls(e,!!s.multiple,n,!1)}}}var er=!1;function hs(e,n,s){if(er)return e(n,s);er=!0;try{var l=e(n);return l}finally{if(er=!1,(cs!==null||hi!==null)&&(ec(),cs&&(n=cs,e=hi,hi=cs=null,ua(n),e)))for(n=0;n<e.length;n++)ua(e[n])}}function zn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[xe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ca=!1;if(An)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){ca=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{ca=!1}var fi=null,Sl=null,ha=null;function wl(){if(ha)return ha;var e,n=Sl,s=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return ha=h.slice(e,1<l?1-l:void 0)}function fa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ni(){return!0}function qn(){return!1}function ke(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ni:qn,this.isPropagationStopped=qn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ni)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ni)},persist:function(){},isPersistent:Ni}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ke(Di),fs=w({},Di,{view:0,detail:0}),bl=ke(fs),ds,nr,mi,ir=w({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ds=e.screenX-mi.screenX,nr=e.screenY-mi.screenY):nr=ds=0,mi=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:nr}}),Rl=ke(ir),da=w({},ir,{dataTransfer:0}),uu=ke(da),cu=w({},fs,{relatedTarget:0}),ma=ke(cu),Il=w({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=ke(Il),sr=w({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=ke(sr),du=w({},Di,{data:0}),pi=ke(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=gu[e])?!!n[e]:!1}function ms(){return yu}var Qe=w({},fs,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=ke(Qe),vu=w({},ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ke(vu),u=w({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=ke(u),y=w({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=ke(y),L=w({},ir,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z=ke(L),W=w({},Di,{newState:0,oldState:0}),gt=ke(W),re=[9,13,27,32],Ot=An&&"CompositionEvent"in window,Wt=null;An&&"documentMode"in document&&(Wt=document.documentMode);var Sn=An&&"TextEvent"in window&&!Wt,gi=An&&(!Ot||Wt&&8<Wt&&11>=Wt),Bn=" ",Hn=!1;function pa(e,n){switch(e){case"keyup":return re.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ar(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function EE(e,n){switch(e){case"compositionend":return ar(n);case"keypress":return n.which!==32?null:(Hn=!0,Bn);case"textInput":return e=n.data,e===Bn&&Hn?null:e;default:return null}}function AE(e,n){if(rr)return e==="compositionend"||!Ot&&pa(e,n)?(e=wl(),ha=Sl=fi=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var SE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!SE[e.type]:n==="textarea"}function ap(e,n,s,l){cs?hi?hi.push(l):hi=[l]:cs=l,n=oc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Cl=null,xl=null;function wE(e){qy(e,0)}function Tu(e){var n=ln(e);if(la(n))return e}function rp(e,n){if(e==="change")return n}var lp=!1;if(An){var Mh;if(An){var kh="oninput"in document;if(!kh){var op=document.createElement("div");op.setAttribute("oninput","return;"),kh=typeof op.oninput=="function"}Mh=kh}else Mh=!1;lp=Mh&&(!document.documentMode||9<document.documentMode)}function up(){Cl&&(Cl.detachEvent("onpropertychange",cp),xl=Cl=null)}function cp(e){if(e.propertyName==="value"&&Tu(xl)){var n=[];ap(n,xl,e,En(e)),hs(wE,n)}}function bE(e,n,s){e==="focusin"?(up(),Cl=n,xl=s,Cl.attachEvent("onpropertychange",cp)):e==="focusout"&&up()}function RE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(xl)}function IE(e,n){if(e==="click")return Tu(n)}function CE(e,n){if(e==="input"||e==="change")return Tu(n)}function xE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:xE;function Nl(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!fe.call(n,h)||!un(e[h],n[h]))return!1}return!0}function hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fp(e,n){var s=hp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=hp(s)}}function dp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?dp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var NE=An&&"documentMode"in document&&11>=document.documentMode,lr=null,Uh=null,Dl=null,Ph=!1;function pp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||lr==null||lr!==ci(l)||(l=lr,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Nl(Dl,l)||(Dl=l,l=oc(Uh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=lr)))}function ga(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var or={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},jh={},gp={};An&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function ya(e){if(jh[e])return jh[e];if(!or[e])return e;var n=or[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in gp)return jh[e]=n[s];return e}var yp=ya("animationend"),_p=ya("animationiteration"),vp=ya("animationstart"),DE=ya("transitionrun"),VE=ya("transitionstart"),OE=ya("transitioncancel"),Tp=ya("transitionend"),Ep=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Fn(e,n){Ep.set(e,n),oi(n,[e])}var Eu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}},wn=[],ur=0,qh=0;function Au(){for(var e=ur,n=qh=ur=0;n<e;){var s=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Ap(s,h,f)}}function Su(e,n,s,l){wn[ur++]=e,wn[ur++]=n,wn[ur++]=s,wn[ur++]=l,qh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,n,s,l){return Su(e,n,s,l),wu(e)}function _a(e,n){return Su(e,null,null,n),wu(e)}function Ap(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ae(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<$l)throw $l=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var cr={};function ME(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,s,l){return new ME(e,n,s,l)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var s=e.alternate;return s===null?(s=cn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Sp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=j1(e,s,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=cn(31,s,n,h),e.elementType=C,e.lanes=f,e;case J:return va(s.children,h,f,n);case Z:g=8,h|=24;break;case ht:return e=cn(12,s,n,h|2),e.elementType=ht,e.lanes=f,e;case rt:return e=cn(13,s,n,h),e.elementType=rt,e.lanes=f,e;case Et:return e=cn(19,s,n,h),e.elementType=Et,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:g=10;break t;case _t:g=9;break t;case Ut:g=11;break t;case N:g=14;break t;case b:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=cn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function va(e,n,s,l){return e=cn(7,e,l,n),e.lanes=s,e}function Fh(e,n,s){return e=cn(6,e,null,n),e.lanes=s,e}function wp(e){var n=cn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var bp=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var s=bp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ol(n)},bp.set(e,n),n)}return{value:e,source:n,stack:ol(n)}}var hr=[],fr=0,Ru=null,Vl=0,Rn=[],In=0,ps=null,yi=1,_i="";function Mi(e,n){hr[fr++]=Vl,hr[fr++]=Ru,Ru=e,Vl=n}function Rp(e,n,s){Rn[In++]=yi,Rn[In++]=_i,Rn[In++]=ps,ps=e;var l=yi;e=_i;var h=32-ae(l)-1;l&=~(1<<h),s+=1;var f=32-ae(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,yi=1<<32-ae(n)+h|s<<h|l,_i=f+e}else yi=1<<f|s<<h|l,_i=e}function Kh(e){e.return!==null&&(Mi(e,1),Rp(e,1,0))}function Qh(e){for(;e===Ru;)Ru=hr[--fr],hr[fr]=null,Vl=hr[--fr],hr[fr]=null;for(;e===ps;)ps=Rn[--In],Rn[In]=null,_i=Rn[--In],Rn[In]=null,yi=Rn[--In],Rn[In]=null}function Ip(e,n){Rn[In++]=yi,Rn[In++]=_i,Rn[In++]=ps,yi=n.id,_i=n.overflow,ps=e}var Le=null,Xt=null,Ct=!1,gs=null,Cn=!1,Yh=Error(a(519));function ys(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(bn(n,e)),Yh}function Cp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[me]=e,n[xe]=l,s){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(s=0;s<eo.length;s++)St(eo[s],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":St("invalid",n),au(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":St("invalid",n);break;case"textarea":St("invalid",n),os(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Gy(n.textContent,s)?(l.popover!=null&&(St("beforetoggle",n),St("toggle",n)),l.onScroll!=null&&St("scroll",n),l.onScrollEnd!=null&&St("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||ys(e,!0)}function xp(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Le=Le.return}}function dr(e){if(e!==Le)return!1;if(!Ct)return xp(e),Ct=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&Xt&&ys(e),xp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Xt=t_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Xt=t_(e)}else n===27?(n=Xt,Ds(e.type)?(e=_d,_d=null,Xt=e):Xt=n):Xt=Le?Nn(e.stateNode.nextSibling):null;return!0}function Ta(){Xt=Le=null,Ct=!1}function Xh(){var e=gs;return e!==null&&(en===null?en=e:en.push.apply(en,e),gs=null),e}function Ol(e){gs===null?gs=[e]:gs.push(e)}var Jh=Ce(null),Ea=null,ki=null;function _s(e,n,s){Nt(Jh,n._currentValue),n._currentValue=s}function Li(e){e._currentValue=Jh.current,Qt(Jh)}function Zh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Wh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Zh(f.return,s,e),l||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function mr(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;un(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===ns.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ro):e=[ro])}h=h.return}e!==null&&Wh(n,e,s,l),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Ea=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ue(e){return Np(Ea,e)}function Cu(e,n){return Ea===null&&Aa(e),Np(e,n)}function Np(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(a(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var kE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},LE=r.unstable_scheduleCallback,UE=r.unstable_NormalPriority,ye={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new kE,data:new Map,refCount:0}}function Ml(e){e.refCount--,e.refCount===0&&LE(UE,function(){e.controller.abort()})}var kl=null,tf=0,pr=0,gr=null;function PE(e,n){if(kl===null){var s=kl=[];tf=0,pr=sd(),gr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return tf++,n.then(Dp,Dp),n}function Dp(){if(--tf===0&&kl!==null){gr!==null&&(gr.status="fulfilled");var e=kl;kl=null,pr=0,gr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function jE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Vp=G.S;G.S=function(e,n){py=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&PE(e,n),Vp!==null&&Vp(e,n)};var Sa=Ce(null);function ef(){var e=Sa.current;return e!==null?e:Kt.pooledCache}function xu(e,n){n===null?Nt(Sa,Sa.current):Nt(Sa,n.pool)}function Op(){var e=ef();return e===null?null:{parent:ye._currentValue,pool:e}}var yr=Error(a(460)),nf=Error(a(474)),Nu=Error(a(542)),Du={then:function(){}};function Mp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function kp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(jn,jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Up(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Kt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Up(e),e}throw ba=n,yr}}function wa(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ba=s,yr):s}}var ba=null;function Lp(){if(ba===null)throw Error(a(459));var e=ba;return ba=null,e}function Up(e){if(e===yr||e===Nu)throw Error(a(483))}var _r=null,Ll=0;function Vu(e){var n=Ll;return Ll+=1,_r===null&&(_r=[]),kp(_r,e,n)}function Ul(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Pp(e){function n(M,x){if(e){var U=M.deletions;U===null?(M.deletions=[x],M.flags|=16):U.push(x)}}function s(M,x){if(!e)return null;for(;x!==null;)n(M,x),x=x.sibling;return null}function l(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function h(M,x){return M=Oi(M,x),M.index=0,M.sibling=null,M}function f(M,x,U){return M.index=U,e?(U=M.alternate,U!==null?(U=U.index,U<x?(M.flags|=67108866,x):U):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,x,U,F){return x===null||x.tag!==6?(x=Fh(U,M.mode,F),x.return=M,x):(x=h(x,U),x.return=M,x)}function R(M,x,U,F){var lt=U.type;return lt===J?B(M,x,U.props.children,F,U.key):x!==null&&(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&wa(lt)===x.type)?(x=h(x,U.props),Ul(x,U),x.return=M,x):(x=bu(U.type,U.key,U.props,null,M.mode,F),Ul(x,U),x.return=M,x)}function P(M,x,U,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=Gh(U,M.mode,F),x.return=M,x):(x=h(x,U.children||[]),x.return=M,x)}function B(M,x,U,F,lt){return x===null||x.tag!==7?(x=va(U,M.mode,F,lt),x.return=M,x):(x=h(x,U),x.return=M,x)}function K(M,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Fh(""+x,M.mode,U),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return U=bu(x.type,x.key,x.props,null,M.mode,U),Ul(U,x),U.return=M,U;case X:return x=Gh(x,M.mode,U),x.return=M,x;case b:return x=wa(x),K(M,x,U)}if(Oe(x)||k(x))return x=va(x,M.mode,U,null),x.return=M,x;if(typeof x.then=="function")return K(M,Vu(x),U);if(x.$$typeof===Tt)return K(M,Cu(M,x),U);Ou(M,x)}return null}function j(M,x,U,F){var lt=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return lt!==null?null:T(M,x,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===lt?R(M,x,U,F):null;case X:return U.key===lt?P(M,x,U,F):null;case b:return U=wa(U),j(M,x,U,F)}if(Oe(U)||k(U))return lt!==null?null:B(M,x,U,F,null);if(typeof U.then=="function")return j(M,x,Vu(U),F);if(U.$$typeof===Tt)return j(M,x,Cu(M,U),F);Ou(M,U)}return null}function q(M,x,U,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(U)||null,T(x,M,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case H:return M=M.get(F.key===null?U:F.key)||null,R(x,M,F,lt);case X:return M=M.get(F.key===null?U:F.key)||null,P(x,M,F,lt);case b:return F=wa(F),q(M,x,U,F,lt)}if(Oe(F)||k(F))return M=M.get(U)||null,B(x,M,F,lt,null);if(typeof F.then=="function")return q(M,x,U,Vu(F),lt);if(F.$$typeof===Tt)return q(M,x,U,Cu(x,F),lt);Ou(x,F)}return null}function st(M,x,U,F){for(var lt=null,Dt=null,at=x,vt=x=0,bt=null;at!==null&&vt<U.length;vt++){at.index>vt?(bt=at,at=null):bt=at.sibling;var Vt=j(M,at,U[vt],F);if(Vt===null){at===null&&(at=bt);break}e&&at&&Vt.alternate===null&&n(M,at),x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt,at=bt}if(vt===U.length)return s(M,at),Ct&&Mi(M,vt),lt;if(at===null){for(;vt<U.length;vt++)at=K(M,U[vt],F),at!==null&&(x=f(at,x,vt),Dt===null?lt=at:Dt.sibling=at,Dt=at);return Ct&&Mi(M,vt),lt}for(at=l(at);vt<U.length;vt++)bt=q(at,M,vt,U[vt],F),bt!==null&&(e&&bt.alternate!==null&&at.delete(bt.key===null?vt:bt.key),x=f(bt,x,vt),Dt===null?lt=bt:Dt.sibling=bt,Dt=bt);return e&&at.forEach(function(Ls){return n(M,Ls)}),Ct&&Mi(M,vt),lt}function ct(M,x,U,F){if(U==null)throw Error(a(151));for(var lt=null,Dt=null,at=x,vt=x=0,bt=null,Vt=U.next();at!==null&&!Vt.done;vt++,Vt=U.next()){at.index>vt?(bt=at,at=null):bt=at.sibling;var Ls=j(M,at,Vt.value,F);if(Ls===null){at===null&&(at=bt);break}e&&at&&Ls.alternate===null&&n(M,at),x=f(Ls,x,vt),Dt===null?lt=Ls:Dt.sibling=Ls,Dt=Ls,at=bt}if(Vt.done)return s(M,at),Ct&&Mi(M,vt),lt;if(at===null){for(;!Vt.done;vt++,Vt=U.next())Vt=K(M,Vt.value,F),Vt!==null&&(x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt);return Ct&&Mi(M,vt),lt}for(at=l(at);!Vt.done;vt++,Vt=U.next())Vt=q(at,M,vt,Vt.value,F),Vt!==null&&(e&&Vt.alternate!==null&&at.delete(Vt.key===null?vt:Vt.key),x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt);return e&&at.forEach(function(J1){return n(M,J1)}),Ct&&Mi(M,vt),lt}function Ft(M,x,U,F){if(typeof U=="object"&&U!==null&&U.type===J&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:t:{for(var lt=U.key;x!==null;){if(x.key===lt){if(lt=U.type,lt===J){if(x.tag===7){s(M,x.sibling),F=h(x,U.props.children),F.return=M,M=F;break t}}else if(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&wa(lt)===x.type){s(M,x.sibling),F=h(x,U.props),Ul(F,U),F.return=M,M=F;break t}s(M,x);break}else n(M,x);x=x.sibling}U.type===J?(F=va(U.props.children,M.mode,F,U.key),F.return=M,M=F):(F=bu(U.type,U.key,U.props,null,M.mode,F),Ul(F,U),F.return=M,M=F)}return g(M);case X:t:{for(lt=U.key;x!==null;){if(x.key===lt)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){s(M,x.sibling),F=h(x,U.children||[]),F.return=M,M=F;break t}else{s(M,x);break}else n(M,x);x=x.sibling}F=Gh(U,M.mode,F),F.return=M,M=F}return g(M);case b:return U=wa(U),Ft(M,x,U,F)}if(Oe(U))return st(M,x,U,F);if(k(U)){if(lt=k(U),typeof lt!="function")throw Error(a(150));return U=lt.call(U),ct(M,x,U,F)}if(typeof U.then=="function")return Ft(M,x,Vu(U),F);if(U.$$typeof===Tt)return Ft(M,x,Cu(M,U),F);Ou(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(s(M,x.sibling),F=h(x,U),F.return=M,M=F):(s(M,x),F=Fh(U,M.mode,F),F.return=M,M=F),g(M)):s(M,x)}return function(M,x,U,F){try{Ll=0;var lt=Ft(M,x,U,F);return _r=null,lt}catch(at){if(at===yr||at===Nu)throw at;var Dt=cn(29,at,null,M.mode);return Dt.lanes=F,Dt.return=M,Dt}}}var Ra=Pp(!0),jp=Pp(!1),vs=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Mt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=wu(e),Ap(e,null,s),n}return Su(e,l,n,s),wu(e)}function Pl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,hl(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function jl(){if(lf){var e=gr;if(e!==null)throw e}}function zl(e,n,s,l){lf=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var B=e.alternate;B!==null&&(B=B.updateQueue,T=B.lastBaseUpdate,T!==g&&(T===null?B.firstBaseUpdate=P:T.next=P,B.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,B=P=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(wt&j)===j:(l&j)===j){j!==0&&j===pr&&(lf=!0),B!==null&&(B=B.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var st=e,ct=T;j=n;var Ft=s;switch(ct.tag){case 1:if(st=ct.payload,typeof st=="function"){K=st.call(Ft,K,j);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ct.payload,j=typeof st=="function"?st.call(Ft,K,j):st,j==null)break t;K=w({},K,j);break t;case 2:vs=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},B===null?(P=B=q,R=K):B=B.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);B===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=B,f===null&&(h.shared.lanes=0),Rs|=g,e.lanes=g,e.memoizedState=K}}function zp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)zp(s[e],n)}var vr=Ce(null),Mu=Ce(0);function Bp(e,n){e=Gi,Nt(Mu,e),Nt(vr,n),Gi=e|n.baseLanes}function of(){Nt(Mu,Gi),Nt(vr,vr.current)}function uf(){Gi=Mu.current,Qt(vr),Qt(Mu)}var hn=Ce(null),xn=null;function As(e){var n=e.alternate;Nt(le,le.current&1),Nt(hn,e),xn===null&&(n===null||vr.current!==null||n.memoizedState!==null)&&(xn=e)}function cf(e){Nt(le,le.current),Nt(hn,e),xn===null&&(xn=e)}function Hp(e){e.tag===22?(Nt(le,le.current),Nt(hn,e),xn===null&&(xn=e)):Ss()}function Ss(){Nt(le,le.current),Nt(hn,hn.current)}function fn(e){Qt(hn),xn===e&&(xn=null),Qt(le)}var le=Ce(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=0,yt=null,Bt=null,_e=null,Lu=!1,Tr=!1,Ia=!1,Uu=0,ql=0,Er=null,zE=0;function ie(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!un(e[s],n[s]))return!1;return!0}function ff(e,n,s,l,h,f){return Ui=f,yt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Rg:If,Ia=!1,f=s(l,h),Ia=!1,Tr&&(f=Gp(n,s,l,h)),Fp(e),f}function Fp(e){G.H=Fl;var n=Bt!==null&&Bt.next!==null;if(Ui=0,_e=Bt=yt=null,Lu=!1,ql=0,Er=null,n)throw Error(a(300));e===null||ve||(e=e.dependencies,e!==null&&Iu(e)&&(ve=!0))}function Gp(e,n,s,l){yt=e;var h=0;do{if(Tr&&(Er=null),ql=0,Tr=!1,25<=h)throw Error(a(301));if(h+=1,_e=Bt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Ig,f=n(s,l)}while(Tr);return f}function qE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Bl(n):n,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(yt.flags|=1024),n}function df(){var e=Uu!==0;return Uu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function pf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Ui=0,_e=Bt=yt=null,Tr=!1,ql=Uu=0,Er=null}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?yt.memoizedState=_e=e:_e=_e.next=e,_e}function oe(){if(Bt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var n=_e===null?yt.memoizedState:_e.next;if(n!==null)_e=n,Bt=e;else{if(e===null)throw yt.alternate===null?Error(a(467)):Error(a(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},_e===null?yt.memoizedState=_e=e:_e=_e.next=e}return _e}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(e){var n=ql;return ql+=1,Er===null&&(Er=[]),e=kp(Er,e,n),n=yt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Rg:If),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bl(e);if(e.$$typeof===Tt)return Ue(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,s=yt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pu(),yt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=O;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=oe();return yf(n,Bt,e)}function yf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,B=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(wt&K)===K:(Ui&K)===K){var j=P.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===pr&&(B=!0);else if((Ui&j)===j){P=P.next,j===pr&&(B=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=K,g=f):R=R.next=K,yt.lanes|=j,Rs|=j;K=P.action,Ia&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else j={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=j,g=f):R=R.next=j,yt.lanes|=K,Rs|=K;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!un(f,e.memoizedState)&&(ve=!0,B&&(s=gr,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _f(e){var n=oe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);un(f,n.memoizedState)||(ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Kp(e,n,s){var l=yt,h=oe(),f=Ct;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!un((Bt||h).memoizedState,s);if(g&&(h.memoizedState=s,ve=!0),h=h.queue,Ef(Xp.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,Ar(9,{destroy:void 0},Yp.bind(null,l,h,s,n),null),Kt===null)throw Error(a(349));f||(Ui&127)!==0||Qp(l,n,s)}return s}function Qp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=yt.updateQueue,n===null?(n=Pu(),yt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Yp(e,n,s,l){n.value=s,n.getSnapshot=l,Jp(n)&&Zp(e)}function Xp(e,n,s){return s(function(){Jp(n)&&Zp(e)})}function Jp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!un(e,s)}catch{return!0}}function Zp(e){var n=_a(e,2);n!==null&&nn(n,e,2)}function vf(e){var n=Ye();if(typeof e=="function"){var s=e;if(e=s(),Ia){vn(!0);try{s()}finally{vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function Wp(e,n,s,l){return e.baseState=s,yf(e,Bt,typeof l=="function"?l:Pi)}function BE(e,n,s,l,h){if(Hu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,$p(n,f)):(f.next=s.next,n.pending=s.next=f)}}function $p(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,l),R=G.S;R!==null&&R(g,T),tg(e,n,T)}catch(P){Tf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),tg(e,n,f)}catch(P){Tf(e,n,P)}}function tg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){eg(e,n,l)},function(l){return Tf(e,n,l)}):eg(e,n,s)}function eg(e,n,s){n.status="fulfilled",n.value=s,ng(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,$p(e,s)))}function Tf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,ng(n),n=n.next;while(n!==l)}e.action=null}function ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ig(e,n){return n}function sg(e,n){if(Ct){var s=Kt.formState;if(s!==null){t:{var l=yt;if(Ct){if(Xt){e:{for(var h=Xt,f=Cn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Nn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Xt=Nn(h.nextSibling),l=h.data==="F!";break t}}ys(l)}l=!1}l&&(n=s[0])}}return s=Ye(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ig,lastRenderedState:n},s.queue=l,s=Sg.bind(null,yt,l),l.dispatch=s,l=vf(!1),f=Rf.bind(null,yt,!1,l.queue),l=Ye(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=BE.bind(null,yt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function ag(e){var n=oe();return rg(n,Bt,e)}function rg(e,n,s){if(n=yf(e,n,ig)[0],e=zu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Bl(n)}catch(g){throw g===yr?Nu:g}else l=n;n=oe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(yt.flags|=2048,Ar(9,{destroy:void 0},HE.bind(null,h,s),null)),[l,f,e]}function HE(e,n){e.action=n}function lg(e){var n=oe(),s=Bt;if(s!==null)return rg(n,s,e);oe(),n=n.memoizedState,s=oe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ar(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=yt.updateQueue,n===null&&(n=Pu(),yt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function og(){return oe().memoizedState}function qu(e,n,s,l){var h=Ye();yt.flags|=e,h.memoizedState=Ar(1|n,{destroy:void 0},s,l===void 0?null:l)}function Bu(e,n,s,l){var h=oe();l=l===void 0?null:l;var f=h.memoizedState.inst;Bt!==null&&l!==null&&hf(l,Bt.memoizedState.deps)?h.memoizedState=Ar(n,f,s,l):(yt.flags|=e,h.memoizedState=Ar(1|n,f,s,l))}function ug(e,n){qu(8390656,8,e,n)}function Ef(e,n){Bu(2048,8,e,n)}function FE(e){yt.flags|=4;var n=yt.updateQueue;if(n===null)n=Pu(),yt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function cg(e){var n=oe().memoizedState;return FE({ref:n,nextImpl:e}),function(){if((Mt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function hg(e,n){return Bu(4,2,e,n)}function fg(e,n){return Bu(4,4,e,n)}function dg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mg(e,n,s){s=s!=null?s.concat([e]):null,Bu(4,4,dg.bind(null,n,e),s)}function Af(){}function pg(e,n){var s=oe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&hf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function gg(e,n){var s=oe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&hf(n,l[1]))return l[0];if(l=e(),Ia){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[l,n],l}function Sf(e,n,s){return s===void 0||(Ui&1073741824)!==0&&(wt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=yy(),yt.lanes|=e,Rs|=e,s)}function yg(e,n,s,l){return un(s,n)?s:vr.current!==null?(e=Sf(e,s,l),un(e,n)||(ve=!0),e):(Ui&42)===0||(Ui&1073741824)!==0&&(wt&261930)===0?(ve=!0,e.memoizedState=s):(e=yy(),yt.lanes|=e,Rs|=e,n)}function _g(e,n,s,l,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Rf(e,!1,n,s);try{var R=h(),P=G.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=jE(R,l);Hl(e,n,B,pn(e))}else Hl(e,n,l,pn(e))}catch(K){Hl(e,n,{then:function(){},status:"rejected",reason:K},pn())}finally{tt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function GE(){}function wf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=vg(e).queue;_g(e,h,n,ut,s===null?GE:function(){return Tg(e),s(l)})}function vg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Tg(e){var n=vg(e);n.next===null&&(n=e.alternate.memoizedState),Hl(e,n.next.queue,{},pn())}function bf(){return Ue(ro)}function Eg(){return oe().memoizedState}function Ag(){return oe().memoizedState}function KE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=pn();e=Ts(s);var l=Es(n,e,s);l!==null&&(nn(l,n,s),Pl(l,n,s)),n={cache:$h()},e.payload=n;return}n=n.return}}function QE(e,n,s){var l=pn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Hu(e)?wg(n,s):(s=Bh(e,n,s,l),s!==null&&(nn(s,e,l),bg(s,n,l)))}function Sg(e,n,s){var l=pn();Hl(e,n,s,l)}function Hl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))wg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,un(T,g))return Su(e,n,h,0),Kt===null&&Au(),!1}catch{}if(s=Bh(e,n,h,l),s!==null)return nn(s,e,l),bg(s,n,l),!0}return!1}function Rf(e,n,s,l){if(l={lane:2,revertLane:sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,l,2),n!==null&&nn(n,e,2)}function Hu(e){var n=e.alternate;return e===yt||n!==null&&n===yt}function wg(e,n){Tr=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function bg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,hl(e,s)}}var Fl={readContext:Ue,use:ju,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useLayoutEffect:ie,useInsertionEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useSyncExternalStore:ie,useId:ie,useHostTransitionStatus:ie,useFormState:ie,useActionState:ie,useOptimistic:ie,useMemoCache:ie,useCacheRefresh:ie};Fl.useEffectEvent=ie;var Rg={readContext:Ue,use:ju,useCallback:function(e,n){return Ye().memoizedState=[e,n===void 0?null:n],e},useContext:Ue,useEffect:ug,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,dg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=Ye();n=n===void 0?null:n;var l=e();if(Ia){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Ye();if(s!==void 0){var h=s(n);if(Ia){vn(!0);try{s(n)}finally{vn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=QE.bind(null,yt,e),[l.memoizedState,e]},useRef:function(e){var n=Ye();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Sg.bind(null,yt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=Ye();return Sf(s,e,n)},useTransition:function(){var e=vf(!1);return e=_g.bind(null,yt,e.queue,!0,!1),Ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=yt,h=Ye();if(Ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Kt===null)throw Error(a(349));(wt&127)!==0||Qp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,ug(Xp.bind(null,l,f,e),[e]),l.flags|=2048,Ar(9,{destroy:void 0},Yp.bind(null,l,f,s,n),null),s},useId:function(){var e=Ye(),n=Kt.identifierPrefix;if(Ct){var s=_i,l=yi;s=(l&~(1<<32-ae(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=zE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:sg,useActionState:sg,useOptimistic:function(e){var n=Ye();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,yt,!0,s),s.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return Ye().memoizedState=KE.bind(null,yt)},useEffectEvent:function(e){var n=Ye(),s={impl:e};return n.memoizedState=s,function(){if((Mt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:Ue,use:ju,useCallback:pg,useContext:Ue,useEffect:Ef,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:gg,useReducer:zu,useRef:og,useState:function(){return zu(Pi)},useDebugValue:Af,useDeferredValue:function(e,n){var s=oe();return yg(s,Bt.memoizedState,e,n)},useTransition:function(){var e=zu(Pi)[0],n=oe().memoizedState;return[typeof e=="boolean"?e:Bl(e),n]},useSyncExternalStore:Kp,useId:Eg,useHostTransitionStatus:bf,useFormState:ag,useActionState:ag,useOptimistic:function(e,n){var s=oe();return Wp(s,Bt,e,n)},useMemoCache:gf,useCacheRefresh:Ag};If.useEffectEvent=cg;var Ig={readContext:Ue,use:ju,useCallback:pg,useContext:Ue,useEffect:Ef,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:gg,useReducer:_f,useRef:og,useState:function(){return _f(Pi)},useDebugValue:Af,useDeferredValue:function(e,n){var s=oe();return Bt===null?Sf(s,e,n):yg(s,Bt.memoizedState,e,n)},useTransition:function(){var e=_f(Pi)[0],n=oe().memoizedState;return[typeof e=="boolean"?e:Bl(e),n]},useSyncExternalStore:Kp,useId:Eg,useHostTransitionStatus:bf,useFormState:lg,useActionState:lg,useOptimistic:function(e,n){var s=oe();return Bt!==null?Wp(s,Bt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Ag};Ig.useEffectEvent=cg;function Cf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=pn(),h=Ts(l);h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,l),n!==null&&(nn(n,e,l),Pl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=pn(),h=Ts(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Es(e,h,l),n!==null&&(nn(n,e,l),Pl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=pn(),l=Ts(s);l.tag=2,n!=null&&(l.callback=n),n=Es(e,l,s),n!==null&&(nn(n,e,s),Pl(n,e,s))}};function Cg(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Nl(s,l)||!Nl(h,f):!0}function xg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Ca(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Ng(e){Eu(e)}function Dg(e){}function Vg(e){Eu(e)}function Fu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Fu(e,n)},s}function Mg(e){return e=Ts(e),e.tag=3,e}function kg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Og(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Og(n,s,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function YE(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&mr(n,s,h,!0),s=hn.current,s!==null){switch(s.tag){case 31:case 13:return xn===null?nc():s.alternate===null&&se===0&&(se=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),ed(e,l,h)),!1;case 22:return s.flags|=65536,l===Du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),ed(e,l,h)),!1}throw Error(a(435,s.tag))}return ed(e,l,h),nc(),!1}if(Ct)return n=hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(e=Error(a(422),{cause:l}),Ol(bn(e,s)))):(l!==Yh&&(n=Error(a(423),{cause:l}),Ol(bn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,s),h=Nf(e.stateNode,l,h),rf(e,h),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=bn(f,s),Wl===null?Wl=[f]:Wl.push(f),se!==4&&(se=2),n===null)return!0;l=bn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Mg(h),kg(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),ve=!1;function Pe(e,n,s,l){n.child=e===null?jp(n,null,s,l):Ra(n,e.child,s,l)}function Lg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Aa(n),l=ff(e,n,s,g,f,h),T=df(),e!==null&&!ve?(mf(e,n,h),ji(e,n,h)):(Ct&&T&&Kh(n),n.flags|=1,Pe(e,n,l,h),n.child)}function Ug(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Pg(e,n,f,l,h)):(e=bu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Nl,s(g,l)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Oi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Pg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Nl(f,l)&&e.ref===n.ref)if(ve=!1,n.pendingProps=l=f,jf(e,h))(e.flags&131072)!==0&&(ve=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Vf(e,n,s,l,h)}function jg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return zg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?Bp(n,f):of(),Hp(n);else return l=n.lanes=536870912,zg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(xu(n,f.cachePool),Bp(n,f),Ss(),n.memoizedState=null):(e!==null&&xu(n,null),of(),Ss());return Pe(e,n,h,s),n.child}function Gl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(e,n,s,l,h){var f=ef();return f=f===null?null:{parent:ye._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&xu(n,null),of(),Hp(n),e!==null&&mr(e,n,l,!0),n.childLanes=h,null}function Gu(e,n){return n=Qu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qg(e,n,s){return Ra(n,e.child,null,s),e=Gu(n,n.pendingProps),e.flags|=2,fn(n),n.memoizedState=null,e}function XE(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ct){if(l.mode==="hidden")return e=Gu(n,l),n.lanes=536870912,Gl(null,e);if(cf(n),(e=Xt)?(e=$y(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=wp(e),s.return=n,n.child=s,Le=n,Xt=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Gu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ve||mr(e,n,s,!1),h=(s&e.childLanes)!==0,ve||h){if(l=Kt,l!==null&&(g=fl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,_a(e,g),nn(l,e,g),Df;nc(),n=qg(e,n,s)}else e=f.treeContext,Xt=Nn(g.nextSibling),Le=n,Ct=!0,gs=null,Cn=!1,e!==null&&Ip(n,e),n=Gu(n,l),n.flags|=4096;return n}return e=Oi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,l,h){return Aa(n),s=ff(e,n,s,l,void 0,h),l=df(),e!==null&&!ve?(mf(e,n,h),ji(e,n,h)):(Ct&&l&&Kh(n),n.flags|=1,Pe(e,n,s,h),n.child)}function Bg(e,n,s,l,h,f){return Aa(n),n.updateQueue=null,s=Gp(n,l,s,h),Fp(e),l=df(),e!==null&&!ve?(mf(e,n,f),ji(e,n,f)):(Ct&&l&&Kh(n),n.flags|=1,Pe(e,n,s,f),n.child)}function Hg(e,n,s,l,h){if(Aa(n),n.stateNode===null){var f=cr,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ue(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ue(g):cr,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),zl(n,l,f,h),jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Ca(s,T);f.props=R;var P=f.context,B=s.contextType;g=cr,typeof B=="object"&&B!==null&&(g=Ue(B));var K=s.getDerivedStateFromProps;B=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&xg(n,f,l,g),vs=!1;var j=n.memoizedState;f.state=j,zl(n,l,f,h),jl(),P=n.memoizedState,T||j!==P||vs?(typeof K=="function"&&(Cf(n,s,K,l),P=n.memoizedState),(R=vs||Cg(n,s,R,l,j,P,g))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,af(e,n),g=n.memoizedProps,B=Ca(s,g),f.props=B,K=n.pendingProps,j=f.context,P=s.contextType,R=cr,typeof P=="object"&&P!==null&&(R=Ue(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==R)&&xg(n,f,l,R),vs=!1,j=n.memoizedState,f.state=j,zl(n,l,f,h),jl();var q=n.memoizedState;g!==K||j!==q||vs||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof T=="function"&&(Cf(n,s,T,l),q=n.memoizedState),(B=vs||Cg(n,s,B,l,j,q,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=B):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ra(n,e.child,null,h),n.child=Ra(n,null,s,h)):Pe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Fg(e,n,s,l){return Ta(),n.flags|=256,Pe(e,n,s,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Op()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=mn),e}function Gg(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(le.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ct){if(h?As(n):Ss(),(e=Xt)?(e=$y(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=wp(e),s.return=n,n.child=s,Le=n,Xt=null)):e=null,e===null)throw ys(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Ss(),h=n.mode,T=Qu({mode:"hidden",children:T},h),l=va(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Mf(s),l.childLanes=kf(e,g,s),n.memoizedState=Of,Gl(null,l)):(As(n),Lf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),T=l.fallback,h=n.mode,l=Qu({mode:"visible",children:l.children},h),T=va(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ra(n,e.child,null,s),l=n.child,l.memoizedState=Mf(s),l.childLanes=kf(e,g,s),n.memoizedState=Of,n=Gl(null,l));else if(As(n),yd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Ol({value:l,source:null,stack:null}),n=Uf(e,n,s)}else if(ve||mr(e,n,s,!1),g=(s&e.childLanes)!==0,ve||g){if(g=Kt,g!==null&&(l=fl(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,_a(e,l),nn(g,e,l),Df;gd(T)||nc(),n=Uf(e,n,s)}else gd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Xt=Nn(T.nextSibling),Le=n,Ct=!0,gs=null,Cn=!1,e!==null&&Ip(n,e),n=Lf(n,l.children),n.flags|=4096);return n}return h?(Ss(),T=l.fallback,h=n.mode,R=e.child,P=R.sibling,l=Oi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=Oi(P,T):(T=va(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Gl(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Mf(s):(h=T.cachePool,h!==null?(R=ye._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Op(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=kf(e,g,s),n.memoizedState=Of,Gl(e.child,l)):(As(n),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Lf(e,n){return n=Qu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qu(e,n){return e=cn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Ra(n,e.child,null,s),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Zh(e.return,n,s)}function Pf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Qg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=le.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,Nt(le,g),Pe(e,n,l,s),l=Ct?Vl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,s,n);else if(e.tag===19)Kg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ku(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,l);break;case"together":Pf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(mr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Oi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function JE(e,n,s){switch(n.tag){case 3:is(n,n.stateNode.containerInfo),_s(n,ye,e.memoizedState.cache),Ta();break;case 27:case 5:al(n);break;case 4:is(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Gg(e,n,s):(As(n),e=ji(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(mr(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Qg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Nt(le,le.current),l)break;return null;case 22:return n.lanes=0,jg(e,n,s,n.pendingProps);case 24:_s(n,ye,e.memoizedState.cache)}return ji(e,n,s)}function Yg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ve=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return ve=!1,JE(e,n,s);ve=(e.flags&131072)!==0}else ve=!1,Ct&&(n.flags&1048576)!==0&&Rp(n,Vl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=wa(n.elementType),n.type=e,typeof e=="function")Hh(e)?(l=Ca(e,l),n.tag=1,n=Hg(null,n,e,l,s)):(n.tag=0,n=Vf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Ut){n.tag=11,n=Lg(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=Ug(null,n,e,l,s);break t}}throw n=he(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Ca(l,n.pendingProps),Hg(e,n,l,h,s);case 3:t:{if(is(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),zl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,_s(n,ye,l),l!==f.cache&&Wh(n,[ye],s,!0),jl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Fg(e,n,l,s);break t}else if(l!==h){h=bn(Error(a(424)),n),Ol(h),n=Fg(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xt=Nn(e.firstChild),Le=n,Ct=!0,gs=null,Cn=!0,s=jp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ta(),l===h){n=ji(e,n,s);break t}Pe(e,n,l,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=a_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ct||(s=n.type,e=n.pendingProps,l=uc(_n.current).createElement(s),l[me]=n,l[xe]=e,je(l,s,e),pe(l),n.stateNode=l):n.memoizedState=a_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return al(n),e===null&&Ct&&(l=n.stateNode=n_(n.type,n.pendingProps,_n.current),Le=n,Cn=!0,h=Xt,Ds(n.type)?(_d=h,Xt=Nn(l.firstChild)):Xt=h),Pe(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ct&&((h=l=Xt)&&(l=R1(l,n.type,n.pendingProps,Cn),l!==null?(n.stateNode=l,Le=n,Xt=Nn(l.firstChild),Cn=!1,h=!0):h=!1),h||ys(n)),al(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,dd(h,f)?l=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,qE,null,null,s),ro._currentValue=h),Ku(e,n),Pe(e,n,l,s),n.child;case 6:return e===null&&Ct&&((e=s=Xt)&&(s=I1(s,n.pendingProps,Cn),s!==null?(n.stateNode=s,Le=n,Xt=null,e=!0):e=!1),e||ys(n)),null;case 13:return Gg(e,n,s);case 4:return is(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ra(n,null,l,s):Pe(e,n,l,s),n.child;case 11:return Lg(e,n,n.type,n.pendingProps,s);case 7:return Pe(e,n,n.pendingProps,s),n.child;case 8:return Pe(e,n,n.pendingProps.children,s),n.child;case 12:return Pe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,_s(n,n.type,l.value),Pe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Aa(n),h=Ue(h),l=l(h),n.flags|=1,Pe(e,n,l,s),n.child;case 14:return Ug(e,n,n.type,n.pendingProps,s);case 15:return Pg(e,n,n.type,n.pendingProps,s);case 19:return Qg(e,n,s);case 31:return XE(e,n,s);case 22:return jg(e,n,s,n.pendingProps);case 24:return Aa(n),l=Ue(ye),e===null?(h=ef(),h===null&&(h=Kt,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},sf(n),_s(n,ye,h)):((e.lanes&s)!==0&&(af(e,n),zl(n,null,null,s),jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,ye,l)):(l=f.cache,_s(n,ye,l),l!==h.cache&&Wh(n,[ye],s,!0))),Pe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function zf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw ba=Du,nf}else e.flags&=-16777217}function Xg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!c_(n))if(Ey())e.flags|=8192;else throw ba=Du,nf}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Rr|=n)}function Kl(e,n){if(!Ct)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function ZE(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Li(ye),Ci(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(dr(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),Jt(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(Jt(n),Xg(n,f)):(Jt(n),zf(n,h,null,l,s))):f?f!==e.memoizedState?(zi(n),Jt(n),Xg(n,f)):(Jt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&zi(n),Jt(n),zf(n,h,e,l,s)),null;case 27:if(Ga(n),s=_n.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}e=te.current,dr(n)?Cp(n):(e=n_(h,l,s),n.stateNode=e,zi(n))}return Jt(n),null;case 5:if(Ga(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}if(f=te.current,dr(n))Cp(n);else{var g=uc(_n.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[me]=n,f[xe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return Jt(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=_n.current,dr(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Le,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[me]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Gy(e.nodeValue,s)),e||ys(n,!0)}else e=uc(e).createTextNode(l),e[me]=n,n.stateNode=e}return Jt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=dr(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[me]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(fn(n),n):(fn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Jt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=dr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[me]=n}else Ta(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(fn(n),n):(fn(n),null)}return fn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),Jt(n),null);case 4:return Ci(),e===null&&od(n.stateNode.containerInfo),Jt(n),null;case 10:return Li(n.type),Jt(n),null;case 19:if(Qt(le),l=n.memoizedState,l===null)return Jt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Kl(l,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,Kl(l,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Sp(s,e),s=s.sibling;return Nt(le,le.current&1|2),Ct&&Mi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ke()>$u&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ct)return Jt(n),null}else 2*Ke()-l.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Kl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,s=le.current,Nt(le,h?s&1|2:s&1),Ct&&Mi(n,l.treeForkCount),e):(Jt(n),null);case 22:case 23:return fn(n),uf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Qt(Sa),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Li(ye),Jt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function WE(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(ye),Ci(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ga(n),null;case 31:if(n.memoizedState!==null){if(fn(n),n.alternate===null)throw Error(a(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ta()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Qt(le),null;case 4:return Ci(),null;case 10:return Li(n.type),null;case 22:case 23:return fn(n),uf(),e!==null&&Qt(Sa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(ye),null;case 25:return null;default:return null}}function Jg(e,n){switch(Qh(n),n.tag){case 3:Li(ye),Ci();break;case 26:case 27:case 5:Ga(n);break;case 4:Ci();break;case 31:n.memoizedState!==null&&fn(n);break;case 13:fn(n);break;case 19:Qt(le);break;case 10:Li(n.type);break;case 22:case 23:fn(n),uf(),e!==null&&Qt(Sa);break;case 24:Li(ye)}}function Ql(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){zt(n,n.return,T)}}function ws(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(B){zt(h,R,B)}}}l=l.next}while(l!==f)}}catch(B){zt(n,n.return,B)}}function Zg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{qp(n,s)}catch(l){zt(e,e.return,l)}}}function Wg(e,n,s){s.props=Ca(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){zt(e,n,l)}}function Yl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){zt(e,n,h)}}function vi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){zt(e,n,h)}else s.current=null}function $g(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){zt(e,e.return,h)}}function qf(e,n,s){try{var l=e.stateNode;T1(l,e.type,s,n),l[xe]=n}catch(h){zt(e,e.return,h)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ds(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&Ds(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function Xu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ds(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Xu(e,n,s),e=e.sibling;e!==null;)Xu(e,n,s),e=e.sibling}function ey(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,l,s),n[me]=e,n[xe]=s}catch(f){zt(e,e.return,f)}}var qi=!1,Te=!1,Ff=!1,ny=typeof WeakSet=="function"?WeakSet:Set,De=null;function $E(e,n){if(e=e.containerInfo,hd=gc,e=mp(e),Lh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,R=-1,P=0,B=0,K=e,j=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(T=g+h),K!==f||l!==0&&K.nodeType!==3||(R=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)j=K,K=q;for(;;){if(K===e)break e;if(j===s&&++P===h&&(T=g),j===f&&++B===l&&(R=g),(q=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},gc=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var st=Ca(s.type,h);e=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ct){zt(s,s.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)pd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function iy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),l&4&&Ql(5,s);break;case 1:if(Hi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){zt(s,s.return,g)}else{var h=Ca(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){zt(s,s.return,g)}}l&64&&Zg(s),l&512&&Yl(s,s.return);break;case 3:if(Hi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{qp(e,n)}catch(g){zt(s,s.return,g)}}break;case 27:n===null&&l&4&&ey(s);case 26:case 5:Hi(e,s),n===null&&l&4&&$g(s),l&512&&Yl(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),l&4&&ry(e,s);break;case 13:Hi(e,s),l&4&&ly(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=o1.bind(null,s),C1(e,s))));break;case 22:if(l=s.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||Te,h=qi;var f=Te;qi=l,(Te=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),qi=h,Te=f}break;case 30:break;default:Hi(e,s)}}function sy(e){var n=e.alternate;n!==null&&(e.alternate=null,sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ja(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,We=!1;function Bi(e,n,s){for(s=s.child;s!==null;)ay(e,n,s),s=s.sibling}function ay(e,n,s){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(kn,s)}catch{}switch(s.tag){case 26:Te||vi(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Te||vi(s,n);var l=$t,h=We;Ds(s.type)&&($t=s.stateNode,We=!1),Bi(e,n,s),io(s.stateNode),$t=l,We=h;break;case 5:Te||vi(s,n);case 6:if(l=$t,h=We,$t=null,Bi(e,n,s),$t=l,We=h,$t!==null)if(We)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(s.stateNode)}catch(f){zt(s,n,f)}else try{$t.removeChild(s.stateNode)}catch(f){zt(s,n,f)}break;case 18:$t!==null&&(We?(e=$t,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Mr(e)):Zy($t,s.stateNode));break;case 4:l=$t,h=We,$t=s.stateNode.containerInfo,We=!0,Bi(e,n,s),$t=l,We=h;break;case 0:case 11:case 14:case 15:ws(2,s,n),Te||ws(4,s,n),Bi(e,n,s);break;case 1:Te||(vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Wg(s,n,l)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:Te=(l=Te)||s.memoizedState!==null,Bi(e,n,s),Te=l;break;default:Bi(e,n,s)}}function ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Mr(e)}catch(s){zt(n,n.return,s)}}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Mr(e)}catch(s){zt(n,n.return,s)}}function t1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ny),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ny),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=t1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=u1.bind(null,e,l);l.then(h,h)}})}function $e(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ds(T.type)){$t=T.stateNode,We=!1;break t}break;case 5:$t=T.stateNode,We=!1;break t;case 3:case 4:$t=T.stateNode.containerInfo,We=!0;break t}T=T.return}if($t===null)throw Error(a(160));ay(f,g,h),$t=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)oy(n,e),n=n.sibling}var Gn=null;function oy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$e(n,e),tn(e),l&4&&(ws(3,e,e.return),Ql(3,e),ws(5,e,e.return));break;case 1:$e(n,e),tn(e),l&512&&(Te||s===null||vi(s,s.return)),l&64&&qi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Gn;if($e(n,e),tn(e),l&512&&(Te||s===null||vi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,l,s),f[me]=e,pe(f),l=f;break t;case"link":var g=o_("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(l),je(f,l,s),h.head.appendChild(f);break;case"meta":if(g=o_("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(l),je(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[me]=e,pe(f),l=f}e.stateNode=l}else u_(h,e.type,e.stateNode);else e.stateNode=l_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?u_(h,e.type,e.stateNode):l_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:$e(n,e),tn(e),l&512&&(Te||s===null||vi(s,s.return)),s!==null&&l&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if($e(n,e),tn(e),l&512&&(Te||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{Ze(h,"")}catch(st){zt(e,e.return,st)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Ff=!0);break;case 6:if($e(n,e),tn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(st){zt(e,e.return,st)}}break;case 3:if(fc=null,h=Gn,Gn=cc(n.containerInfo),$e(n,e),Gn=h,tn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Mr(n.containerInfo)}catch(st){zt(e,e.return,st)}Ff&&(Ff=!1,uy(e));break;case 4:l=Gn,Gn=cc(e.stateNode.containerInfo),$e(n,e),tn(e),Gn=l;break;case 12:$e(n,e),tn(e);break;case 31:$e(n,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 13:$e(n,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=qi,B=Te;if(qi=P||h,Te=B||R,$e(n,e),Te=B,qi=P,tn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||qi||Te||xa(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var K=R.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(st){zt(R,R.return,st)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){zt(R,R.return,st)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?Wy(q,!0):Wy(R.stateNode,!1)}catch(st){zt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ju(e,s))));break;case 19:$e(n,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ju(e,l)));break;case 30:break;case 21:break;default:$e(n,e),tn(e)}}function tn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ty(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Xu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(Ze(g,""),s.flags&=-33);var T=Bf(e);Xu(e,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=Bf(e);Hf(e,P,R);break;default:throw Error(a(161))}}catch(B){zt(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;uy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)iy(e,n.alternate,n),n=n.sibling}function xa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),xa(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Wg(n,n.return,s),xa(n);break;case 27:io(n.stateNode);case 26:case 5:vi(n,n.return),xa(n);break;case 22:n.memoizedState===null&&xa(n);break;case 30:xa(n);break;default:xa(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),Ql(4,f);break;case 1:if(Fi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){zt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)zp(R[h],T)}catch(P){zt(l,l.return,P)}}s&&g&64&&Zg(f),Yl(f,f.return);break;case 27:ey(f);case 26:case 5:Fi(h,f,s),s&&l===null&&g&4&&$g(f),Yl(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&g&4&&ry(h,f);break;case 13:Fi(h,f,s),s&&g&4&&ly(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),Yl(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ml(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e))}function Kn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cy(e,n,s,l),n=n.sibling}function cy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,s,l),h&2048&&Ql(9,n);break;case 1:Kn(e,n,s,l);break;case 3:Kn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ml(e)));break;case 12:if(h&2048){Kn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){zt(n,n.return,R)}}else Kn(e,n,s,l);break;case 31:Kn(e,n,s,l);break;case 13:Kn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,s,l):Xl(e,n):f._visibility&2?Kn(e,n,s,l):(f._visibility|=2,Sr(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:Kn(e,n,s,l),h&2048&&Kf(n.alternate,n);break;default:Kn(e,n,s,l)}}function Sr(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Sr(f,g,T,R,h),Ql(8,g);break;case 23:break;case 22:var B=g.stateNode;g.memoizedState!==null?B._visibility&2?Sr(f,g,T,R,h):Xl(f,g):(B._visibility|=2,Sr(f,g,T,R,h)),h&&P&2048&&Gf(g.alternate,g);break;case 24:Sr(f,g,T,R,h),h&&P&2048&&Kf(g.alternate,g);break;default:Sr(f,g,T,R,h)}n=n.sibling}}function Xl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Xl(s,l),h&2048&&Gf(l.alternate,l);break;case 24:Xl(s,l),h&2048&&Kf(l.alternate,l);break;default:Xl(s,l)}n=n.sibling}}var Jl=8192;function wr(e,n,s){if(e.subtreeFlags&Jl)for(e=e.child;e!==null;)hy(e,n,s),e=e.sibling}function hy(e,n,s){switch(e.tag){case 26:wr(e,n,s),e.flags&Jl&&e.memoizedState!==null&&z1(s,Gn,e.memoizedState,e.memoizedProps);break;case 5:wr(e,n,s);break;case 3:case 4:var l=Gn;Gn=cc(e.stateNode.containerInfo),wr(e,n,s),Gn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Jl,Jl=16777216,wr(e,n,s),Jl=l):wr(e,n,s));break;default:wr(e,n,s)}}function fy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];De=l,my(l,e)}fy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 0:case 11:case 15:Zl(e),e.flags&2048&&ws(9,e,e.return);break;case 3:Zl(e);break;case 12:Zl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):Zl(e);break;default:Zl(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];De=l,my(l,e)}fy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function my(e,n){for(;De!==null;){var s=De;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ml(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,De=l;else t:for(s=e;De!==null;){l=De;var h=l.sibling,f=l.return;if(sy(l),l===s){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var e1={getCacheForType:function(e){var n=Ue(ye),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ue(ye).controller.signal}},n1=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Kt=null,At=null,wt=0,jt=0,dn=null,bs=!1,br=!1,Qf=!1,Gi=0,se=0,Rs=0,Na=0,Yf=0,mn=0,Rr=0,Wl=null,en=null,Xf=!1,Wu=0,py=0,$u=1/0,tc=null,Is=null,be=0,Cs=null,Ir=null,Ki=0,Jf=0,Zf=null,gy=null,$l=0,Wf=null;function pn(){return(Mt&2)!==0&&wt!==0?wt&-wt:G.T!==null?sd():eu()}function yy(){if(mn===0)if((wt&536870912)===0||Ct){var e=ia;ia<<=1,(ia&3932160)===0&&(ia=262144),mn=e}else mn=536870912;return e=hn.current,e!==null&&(e.flags|=32),mn}function nn(e,n,s){(e===Kt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(Cr(e,0),xs(e,wt,mn,!1)),sa(e,s),((Mt&2)===0||e!==Kt)&&(e===Kt&&((Mt&2)===0&&(Na|=s),se===4&&xs(e,wt,mn,!1)),Ti(e))}function _y(e,n,s){if((Mt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ln(e,n),h=l?a1(e,n):td(e,n,!0),f=l;do{if(h===0){br&&!l&&xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!i1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=Wl;var R=T.current.memoizedState.isDehydrated;if(R&&(Cr(T,g).flags|=256),g=td(T,g,!1),g!==2){if(Qf&&!R){T.errorRecoveryDisabledLanes|=f,Na|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Cr(e,0),xs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:xs(l,n,mn,!bs);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-Ke(),10<h)){if(xs(l,n,mn,!bs),ni(l,0,!0)!==0)break t;Ki=n,l.timeoutHandle=Xy(vy.bind(null,l,s,en,tc,Xf,n,mn,Na,Rr,bs,f,"Throttled",-0,0),h);break t}vy(l,s,en,tc,Xf,n,mn,Na,Rr,bs,f,null,-0,0)}}break}while(!0);Ti(e)}function vy(e,n,s,l,h,f,g,T,R,P,B,K,j,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},hy(n,f,K);var st=(f&62914560)===f?Wu-Ke():(f&4194048)===f?py-Ke():0;if(st=q1(K,st),st!==null){Ki=f,e.cancelPendingCommit=st(Iy.bind(null,e,n,f,s,l,h,g,T,R,B,K,null,j,q)),xs(e,f,g,!P);return}}Iy(e,n,f,s,l,h,g,T,R)}function i1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xs(e,n,s,l){n&=~Yf,n&=~Na,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-ae(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&aa(e,s,n)}function ec(){return(Mt&6)===0?(to(0),!1):!0}function $f(){if(At!==null){if(jt===0)var e=At.return;else e=At,ki=Ea=null,pf(e),_r=null,Ll=0,e=At;for(;e!==null;)Jg(e.alternate,e),e=e.return;At=null}}function Cr(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,S1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ki=0,$f(),Kt=e,At=s=Oi(e.current,null),wt=n,jt=0,dn=null,bs=!1,br=Ln(e,n),Qf=!1,Rr=mn=Yf=Na=Rs=se=0,en=Wl=null,Xf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ae(l),f=1<<h;n|=e[h],l&=~f}return Gi=n,Au(),s}function Ty(e,n){yt=null,G.H=Fl,n===yr||n===Nu?(n=Lp(),jt=3):n===nf?(n=Lp(),jt=4):jt=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,At===null&&(se=1,Fu(e,bn(n,e.current)))}function Ey(){var e=hn.current;return e===null?!0:(wt&4194048)===wt?xn===null:(wt&62914560)===wt||(wt&536870912)!==0?e===xn:!1}function Ay(){var e=G.H;return G.H=Fl,e===null?Fl:e}function Sy(){var e=G.A;return G.A=e1,e}function nc(){se=4,bs||(wt&4194048)!==wt&&hn.current!==null||(br=!0),(Rs&134217727)===0&&(Na&134217727)===0||Kt===null||xs(Kt,wt,mn,!1)}function td(e,n,s){var l=Mt;Mt|=2;var h=Ay(),f=Sy();(Kt!==e||wt!==n)&&(tc=null,Cr(e,n)),n=!1;var g=se;t:do try{if(jt!==0&&At!==null){var T=At,R=dn;switch(jt){case 8:$f(),g=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(n=!0);var P=jt;if(jt=0,dn=null,xr(e,T,R,P),s&&br){g=0;break t}break;default:P=jt,jt=0,dn=null,xr(e,T,R,P)}}s1(),g=se;break}catch(B){Ty(e,B)}while(!0);return n&&e.shellSuspendCounter++,ki=Ea=null,Mt=l,G.H=h,G.A=f,At===null&&(Kt=null,wt=0,Au()),g}function s1(){for(;At!==null;)wy(At)}function a1(e,n){var s=Mt;Mt|=2;var l=Ay(),h=Sy();Kt!==e||wt!==n?(tc=null,$u=Ke()+500,Cr(e,n)):br=Ln(e,n);t:do try{if(jt!==0&&At!==null){n=At;var f=dn;e:switch(jt){case 1:jt=0,dn=null,xr(e,n,f,1);break;case 2:case 9:if(Mp(f)){jt=0,dn=null,by(n);break}n=function(){jt!==2&&jt!==9||Kt!==e||(jt=7),Ti(e)},f.then(n,n);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:Mp(f)?(jt=0,dn=null,by(n)):(jt=0,dn=null,xr(e,n,f,7));break;case 5:var g=null;switch(At.tag){case 26:g=At.memoizedState;case 5:case 27:var T=At;if(g?c_(g):T.stateNode.complete){jt=0,dn=null;var R=T.sibling;if(R!==null)At=R;else{var P=T.return;P!==null?(At=P,ic(P)):At=null}break e}}jt=0,dn=null,xr(e,n,f,5);break;case 6:jt=0,dn=null,xr(e,n,f,6);break;case 8:$f(),se=6;break t;default:throw Error(a(462))}}r1();break}catch(B){Ty(e,B)}while(!0);return ki=Ea=null,G.H=l,G.A=h,Mt=s,At!==null?0:(Kt=null,wt=0,Au(),se)}function r1(){for(;At!==null&&!xh();)wy(At)}function wy(e){var n=Yg(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?ic(e):At=n}function by(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Bg(s,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=Bg(s,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:pf(n);default:Jg(s,n),n=At=Sp(n,Gi),n=Yg(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?ic(e):At=n}function xr(e,n,s,l){ki=Ea=null,pf(n),_r=null,Ll=0;var h=n.return;try{if(YE(e,h,n,s,wt)){se=1,Fu(e,bn(s,e.current)),At=null;return}}catch(f){if(h!==null)throw At=h,f;se=1,Fu(e,bn(s,e.current)),At=null;return}n.flags&32768?(Ct||l===1?e=!0:br||(wt&536870912)!==0?e=!1:(bs=e=!0,(l===2||l===9||l===3||l===6)&&(l=hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ry(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Ry(n,bs);return}e=n.return;var s=ZE(n.alternate,n,Gi);if(s!==null){At=s;return}if(n=n.sibling,n!==null){At=n;return}At=n=e}while(n!==null);se===0&&(se=5)}function Ry(e,n){do{var s=WE(e.alternate,e);if(s!==null){s.flags&=32767,At=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){At=e;return}At=e=s}while(e!==null);se=6,At=null}function Iy(e,n,s,l,h,f,g,T,R){e.cancelPendingCommit=null;do sc();while(be!==0);if((Mt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,s,f,g,T,R),e===Kt&&(At=Kt=null,wt=0),Ir=n,Cs=e,Ki=s,Jf=f,Zf=h,gy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,c1(as,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=tt.p,tt.p=2,g=Mt,Mt|=4;try{$E(e,n,s)}finally{Mt=g,tt.p=h,G.T=l}}be=1,Cy(),xy(),Ny()}}function Cy(){if(be===1){be=0;var e=Cs,n=Ir,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=tt.p;tt.p=2;var h=Mt;Mt|=4;try{oy(n,e);var f=fd,g=mp(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&dp(T.ownerDocument.documentElement,T)){if(R!==null&&Lh(T)){var P=R.start,B=R.end;if(B===void 0&&(B=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(B,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var q=j.getSelection(),st=T.textContent.length,ct=Math.min(R.start,st),Ft=R.end===void 0?ct:Math.min(R.end,st);!q.extend&&ct>Ft&&(g=Ft,Ft=ct,ct=g);var M=fp(T,ct),x=fp(T,Ft);if(M&&x&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var U=K.createRange();U.setStart(M.node,M.offset),q.removeAllRanges(),ct>Ft?(q.addRange(U),q.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),q.addRange(U))}}}}for(K=[],q=T;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var F=K[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}gc=!!hd,fd=hd=null}finally{Mt=h,tt.p=l,G.T=s}}e.current=n,be=2}}function xy(){if(be===2){be=0;var e=Cs,n=Ir,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=tt.p;tt.p=2;var h=Mt;Mt|=4;try{iy(e,n.alternate,n)}finally{Mt=h,tt.p=l,G.T=s}}be=3}}function Ny(){if(be===4||be===3){be=0,Yo();var e=Cs,n=Ir,s=Ki,l=gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?be=5:(be=0,Ir=Cs=null,Dy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),xi(s),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(kn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,tt.p=h}}(Ki&3)!==0&&sc(),Ti(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Wf?$l++:($l=0,Wf=e):$l=0,to(0)}}function Dy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ml(n)))}function sc(){return Cy(),xy(),Ny(),Vy()}function Vy(){if(be!==5)return!1;var e=Cs,n=Jf;Jf=0;var s=xi(Ki),l=G.T,h=tt.p;try{tt.p=32>s?32:s,G.T=null,s=Zf,Zf=null;var f=Cs,g=Ki;if(be=0,Ir=Cs=null,Ki=0,(Mt&6)!==0)throw Error(a(331));var T=Mt;if(Mt|=4,dy(f.current),cy(f,f.current,g,s),Mt=T,to(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(kn,f)}catch{}return!0}finally{tt.p=h,G.T=l,Dy(e,n)}}function Oy(e,n,s){n=bn(s,n),n=Nf(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(sa(e,2),Ti(e))}function zt(e,n,s){if(e.tag===3)Oy(e,e,s);else for(;n!==null;){if(n.tag===3){Oy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){e=bn(s,e),s=Mg(2),l=Es(n,s,2),l!==null&&(kg(s,l,n,e),sa(l,2),Ti(l));break}}n=n.return}}function ed(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new n1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=l1.bind(null,e,n,s),n.then(e,e))}function l1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Kt===e&&(wt&s)===s&&(se===4||se===3&&(wt&62914560)===wt&&300>Ke()-Wu?(Mt&2)===0&&Cr(e,0):Yf|=s,Rr===wt&&(Rr=0)),Ti(e)}function My(e,n){n===0&&(n=tu()),e=_a(e,n),e!==null&&(sa(e,n),Ti(e))}function o1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),My(e,s)}function u1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),My(e,s)}function c1(e,n){return we(e,n)}var ac=null,Nr=null,nd=!1,rc=!1,id=!1,Ns=0;function Ti(e){e!==Nr&&e.next===null&&(Nr===null?ac=Nr=e:Nr=Nr.next=e),rc=!0,nd||(nd=!0,f1())}function to(e,n){if(!id&&rc){id=!0;do for(var s=!1,l=ac;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-ae(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Py(l,f))}else f=wt,f=ni(l,l===Kt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ln(l,f)||(s=!0,Py(l,f));l=l.next}while(s);id=!1}}function h1(){ky()}function ky(){rc=nd=!1;var e=0;Ns!==0&&A1()&&(e=Ns);for(var n=Ke(),s=null,l=ac;l!==null;){var h=l.next,f=Ly(l,n);f===0?(l.next=null,s===null?ac=h:s.next=h,h===null&&(Nr=s)):(s=l,(e!==0||(f&3)!==0)&&(rc=!0)),l=h}be!==0&&be!==5||to(e),Ns!==0&&(Ns=0)}function Ly(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ae(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Dh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=Kt,s=wt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ss(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ln(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ss(l),xi(s)){case 2:case 8:s=cl;break;case 32:s=as;break;case 268435456:s=Xo;break;default:s=as}return l=Uy.bind(null,e),s=we(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ss(l),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,n){if(be!==0&&be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(sc()&&e.callbackNode!==s)return null;var l=wt;return l=ni(e,e===Kt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_y(e,l,n),Ly(e,Ke()),e.callbackNode!=null&&e.callbackNode===s?Uy.bind(null,e):null)}function Py(e,n){if(sc())return null;_y(e,n,!0)}function f1(){w1(function(){(Mt&6)!==0?we(ul,h1):ky()})}function sd(){if(Ns===0){var e=pr;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ns=e}return Ns}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tr(""+e)}function zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function d1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=jy((h[xe]||null).action),g=l.submitter;g&&(n=(n=g[xe]||null)?jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new di("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ns!==0){var R=g?zy(h,g):new FormData(h);wf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?zy(h,g):new FormData(h),wf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ad=0;ad<zh.length;ad++){var rd=zh[ad],m1=rd.toLowerCase(),p1=rd[0].toUpperCase()+rd.slice(1);Fn(m1,"on"+p1)}Fn(yp,"onAnimationEnd"),Fn(_p,"onAnimationIteration"),Fn(vp,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(DE,"onTransitionRun"),Fn(VE,"onTransitionStart"),Fn(OE,"onTransitionCancel"),Fn(Tp,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(B){Eu(B)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(B){Eu(B)}h.currentTarget=null,f=R}}}}function St(e,n){var s=n[Xa];s===void 0&&(s=n[Xa]=new Set);var l=e+"__bubble";s.has(l)||(By(n,e,2,!1),s.add(l))}function ld(e,n,s){var l=0;n&&(l|=4),By(s,e,l,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[lc]){e[lc]=!0,dl.forEach(function(s){s!=="selectionchange"&&(g1.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,ld("selectionchange",!1,n))}}function By(e,n,s,l){switch(y_(n)){case 2:var h=F1;break;case 8:h=G1;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!ca||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=ri(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}T=T.parentNode}}l=l.return}hs(function(){var P=f,B=En(s),K=[];t:{var j=Ep.get(e);if(j!==void 0){var q=di,st=e;switch(e){case"keypress":if(fa(s)===0)break t;case"keydown":case"keyup":q=_u;break;case"focusin":st="focus",q=ma;break;case"focusout":st="blur",q=ma;break;case"beforeblur":case"afterblur":q=ma;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case yp:case _p:case vp:q=hu;break;case Tp:q=A;break;case"scroll":case"scrollend":q=bl;break;case"wheel":q=z;break;case"copy":case"cut":case"paste":q=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=gt}var ct=(n&4)!==0,Ft=!ct&&(e==="scroll"||e==="scrollend"),M=ct?j!==null?j+"Capture":null:j;ct=[];for(var x=P,U;x!==null;){var F=x;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||M===null||(F=zn(x,M),F!=null&&ct.push(no(x,F,U))),Ft)break;x=x.return}0<ct.length&&(j=new q(j,st,null,s,B),K.push({event:j,listeners:ct}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Al&&(st=s.relatedTarget||s.fromElement)&&(ri(st)||st[si]))break t;if((q||j)&&(j=B.window===B?B:(j=B.ownerDocument)?j.defaultView||j.parentWindow:window,q?(st=s.relatedTarget||s.toElement,q=P,st=st?ri(st):null,st!==null&&(Ft=c(st),ct=st.tag,st!==Ft||ct!==5&&ct!==27&&ct!==6)&&(st=null)):(q=null,st=P),q!==st)){if(ct=Rl,F="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Vi,F="onPointerLeave",M="onPointerEnter",x="pointer"),Ft=q==null?j:ln(q),U=st==null?j:ln(st),j=new ct(F,x+"leave",q,s,B),j.target=Ft,j.relatedTarget=U,F=null,ri(B)===P&&(ct=new ct(M,x+"enter",st,s,B),ct.target=U,ct.relatedTarget=Ft,F=ct),Ft=F,q&&st)e:{for(ct=y1,M=q,x=st,U=0,F=M;F;F=ct(F))U++;F=0;for(var lt=x;lt;lt=ct(lt))F++;for(;0<U-F;)M=ct(M),U--;for(;0<F-U;)x=ct(x),F--;for(;U--;){if(M===x||x!==null&&M===x.alternate){ct=M;break e}M=ct(M),x=ct(x)}ct=null}else ct=null;q!==null&&Hy(K,j,q,ct,!1),st!==null&&Ft!==null&&Hy(K,Ft,st,ct,!0)}}t:{if(j=P?ln(P):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Dt=rp;else if(sp(j))if(lp)Dt=CE;else{Dt=RE;var at=bE}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&$a(P.elementType)&&(Dt=rp):Dt=IE;if(Dt&&(Dt=Dt(e,P))){ap(K,Dt,s,B);break t}at&&at(e,j,P),e==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&vl(j,"number",j.value)}switch(at=P?ln(P):window,e){case"focusin":(sp(at)||at.contentEditable==="true")&&(lr=at,Uh=P,Dl=null);break;case"focusout":Dl=Uh=lr=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,pp(K,s,B);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":pp(K,s,B)}var vt;if(Ot)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else rr?pa(e,s)&&(bt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(bt="onCompositionStart");bt&&(gi&&s.locale!=="ko"&&(rr||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&rr&&(vt=wl()):(fi=B,Sl="value"in fi?fi.value:fi.textContent,rr=!0)),at=oc(P,bt),0<at.length&&(bt=new pi(bt,e,null,s,B),K.push({event:bt,listeners:at}),vt?bt.data=vt:(vt=ar(s),vt!==null&&(bt.data=vt)))),(vt=Sn?EE(e,s):AE(e,s))&&(bt=oc(P,"onBeforeInput"),0<bt.length&&(at=new pi("onBeforeInput","beforeinput",null,s,B),K.push({event:at,listeners:bt}),at.data=vt)),d1(K,e,P,s,B)}qy(K,n)})}function no(e,n,s){return{instance:e,listener:n,currentTarget:s}}function oc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=zn(e,s),h!=null&&l.unshift(no(e,h,f)),h=zn(e,n),h!=null&&l.push(no(e,h,f))),e.tag===3)return l;e=e.return}return[]}function y1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=zn(s,f),P!=null&&g.unshift(no(s,P,R))):h||(P=zn(s,f),P!=null&&g.push(no(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var _1=/\r\n?/g,v1=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(_1,`
`).replace(v1,"")}function Gy(e,n){return n=Fy(n),Fy(e)===n}function Ht(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ze(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ze(e,""+l);break;case"className":on(e,"class",l);break;case"tabIndex":on(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(e,s,l);break;case"style":El(e,l,f);break;case"data":if(n!=="object"){on(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=tr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ht(e,n,"name",h.name,h,null),Ht(e,n,"formEncType",h.formEncType,h,null),Ht(e,n,"formMethod",h.formMethod,h,null),Ht(e,n,"formTarget",h.formTarget,h,null)):(Ht(e,n,"encType",h.encType,h,null),Ht(e,n,"method",h.method,h,null),Ht(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=tr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=jn);break;case"onScroll":l!=null&&St("scroll",e);break;case"onScrollEnd":l!=null&&St("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=tr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":St("beforetoggle",e),St("toggle",e),Za(e,"popover",l);break;case"xlinkActuate":ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ge(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ge(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ge(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ge(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Za(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ou.get(s)||s,Za(e,s,l))}}function cd(e,n,s,l,h,f){switch(s){case"style":El(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Ze(e,l):(typeof l=="number"||typeof l=="bigint")&&Ze(e,""+l);break;case"onScroll":l!=null&&St("scroll",e);break;case"onScrollEnd":l!=null&&St("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Za(e,s,l)}}}function je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",e),St("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ht(e,n,f,g,s,null)}}h&&Ht(e,n,"srcSet",s.srcSet,s,null),l&&Ht(e,n,"src",s.src,s,null);return;case"input":St("invalid",e);var T=f=g=h=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var B=s[l];if(B!=null)switch(l){case"name":h=B;break;case"type":g=B;break;case"checked":R=B;break;case"defaultChecked":P=B;break;case"value":f=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ht(e,n,l,B,s,null)}}au(e,f,T,R,P,g,h,!1);return;case"select":St("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:Ht(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!l,n!=null?ls(e,!!l,n,!1):s!=null&&ls(e,!!l,s,!0);return;case"textarea":St("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ht(e,n,g,T,s,null)}os(e,l,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ht(e,n,R,l,s,null));return;case"dialog":St("beforetoggle",e),St("toggle",e),St("cancel",e),St("close",e);break;case"iframe":case"object":St("load",e);break;case"video":case"audio":for(l=0;l<eo.length;l++)St(eo[l],e);break;case"image":St("error",e),St("load",e);break;case"details":St("toggle",e);break;case"embed":case"source":case"link":St("error",e),St("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ht(e,n,P,l,s,null)}return;default:if($a(n)){for(B in s)s.hasOwnProperty(B)&&(l=s[B],l!==void 0&&cd(e,n,B,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Ht(e,n,T,l,s,null))}function T1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,B=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(q)||Ht(e,n,q,null,l,K)}}for(var j in l){var q=l[j];if(K=s[j],l.hasOwnProperty(j)&&(q!=null||K!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":B=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Ht(e,n,j,q,l,K)}}Wa(e,g,T,R,P,B,f,h);return;case"select":q=g=T=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Ht(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&Ht(e,n,h,f,l,R)}n=T,s=g,l=q,j!=null?ls(e,!!s,j,!1):!!l!=!!s&&(n!=null?ls(e,!!s,n,!0):ls(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ht(e,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Ht(e,n,g,h,l,f)}ru(e,j,q);return;case"option":for(var st in s)j=s[st],s.hasOwnProperty(st)&&j!=null&&!l.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Ht(e,n,st,null,l,j));for(R in l)j=l[R],q=s[R],l.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Ht(e,n,R,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in s)j=s[ct],s.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct)&&Ht(e,n,ct,null,l,j);for(P in l)if(j=l[P],q=s[P],l.hasOwnProperty(P)&&j!==q&&(j!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Ht(e,n,P,j,l,q)}return;default:if($a(n)){for(var Ft in s)j=s[Ft],s.hasOwnProperty(Ft)&&j!==void 0&&!l.hasOwnProperty(Ft)&&cd(e,n,Ft,void 0,l,j);for(B in l)j=l[B],q=s[B],!l.hasOwnProperty(B)||j===q||j===void 0&&q===void 0||cd(e,n,B,j,l,q);return}}for(var M in s)j=s[M],s.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Ht(e,n,M,null,l,j);for(K in l)j=l[K],q=s[K],!l.hasOwnProperty(K)||j===q||j==null&&q==null||Ht(e,n,K,j,l,q)}function Ky(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Ky(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],P=R.startTime;if(P>T)break;var B=R.transferSize,K=R.initiatorType;B&&Ky(K)&&(R=R.responseEnd,g+=B*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function A1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,S1=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(b1)}:Xy;function b1(e){setTimeout(function(){throw e})}function Ds(e){return e==="head"}function Zy(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Mr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")io(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,io(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&io(e.ownerDocument.body);s=h}while(s);Mr(n)}function Wy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),Ja(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function R1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Nn(e.nextSibling),e===null)break}return null}function I1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Nn(e.nextSibling),e===null))return null;return e}function $y(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Nn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function C1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function t_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Nn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function e_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function n_(e,n,s){switch(n=uc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function io(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ja(e)}var Dn=new Map,i_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=tt.d;tt.d={f:x1,r:N1,D:D1,C:V1,L:O1,m:M1,X:L1,S:k1,M:U1};function x1(){var e=Qi.f(),n=ec();return e||n}function N1(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?Tg(n):Qi.r(e)}var Dr=typeof document>"u"?null:document;function s_(e,n,s){var l=Dr;if(l&&typeof n=="string"&&n){var h=Je(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),i_.has(h)||(i_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),je(n,"link",e),pe(n),l.head.appendChild(n)))}}function D1(e){Qi.D(e),s_("dns-prefetch",e,null)}function V1(e,n){Qi.C(e,n),s_("preconnect",e,n)}function O1(e,n,s){Qi.L(e,n,s);var l=Dr;if(l&&e&&n){var h='link[rel="preload"][as="'+Je(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Je(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Je(s.imageSizes)+'"]')):h+='[href="'+Je(e)+'"]';var f=h;switch(n){case"style":f=Vr(e);break;case"script":f=Or(e)}Dn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Dn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(so(f))||n==="script"&&l.querySelector(ao(f))||(n=l.createElement("link"),je(n,"link",e),pe(n),l.head.appendChild(n)))}}function M1(e,n){Qi.m(e,n);var s=Dr;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Je(l)+'"][href="'+Je(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Or(e)}if(!Dn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Dn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ao(f)))return}l=s.createElement("link"),je(l,"link",e),pe(l),s.head.appendChild(l)}}}function k1(e,n,s){Qi.S(e,n,s);var l=Dr;if(l&&e){var h=li(l).hoistableStyles,f=Vr(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(so(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Dn.get(f))&&vd(e,s);var R=g=l.createElement("link");pe(R),je(R,"link",e),R._p=new Promise(function(P,B){R.onload=P,R.onerror=B}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function L1(e,n){Qi.X(e,n);var s=Dr;if(s&&e){var l=li(s).hoistableScripts,h=Or(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=w({src:e,async:!0},n),(n=Dn.get(h))&&Td(e,n),f=s.createElement("script"),pe(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function U1(e,n){Qi.M(e,n);var s=Dr;if(s&&e){var l=li(s).hoistableScripts,h=Or(e),f=l.get(h);f||(f=s.querySelector(ao(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Dn.get(h))&&Td(e,n),f=s.createElement("script"),pe(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function a_(e,n,s,l){var h=(h=_n.current)?cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Vr(s.href),s=li(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Vr(s.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(so(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Dn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Dn.set(e,s),f||P1(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Or(s),s=li(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vr(e){return'href="'+Je(e)+'"'}function so(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function P1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),je(n,"link",s),pe(n),e.head.appendChild(n))}function Or(e){return'[src="'+Je(e)+'"]'}function ao(e){return"script[async]"+e}function l_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Je(s.href)+'"]');if(l)return n.instance=l,pe(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pe(l),je(l,"style",h),hc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Vr(s.href);var f=e.querySelector(so(h));if(f)return n.state.loading|=4,n.instance=f,pe(f),f;l=r_(s),(h=Dn.get(h))&&vd(l,h),f=(e.ownerDocument||e).createElement("link"),pe(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),je(f,"link",l),n.state.loading|=4,hc(f,s.precedence,e),n.instance=f;case"script":return f=Or(s.src),(h=e.querySelector(ao(f)))?(n.instance=h,pe(h),h):(l=s,(h=Dn.get(f))&&(l=w({},s),Td(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),pe(h),je(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,hc(l,s.precedence,e));return n.instance}function hc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function o_(e,n,s){if(fc===null){var l=new Map,h=fc=new Map;h.set(s,l)}else h=fc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ai]||f[me]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function u_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function j1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function c_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function z1(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Vr(l.href),f=n.querySelector(so(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,pe(f);return}f=n.ownerDocument||n,l=r_(l),(h=Dn.get(h))&&vd(l,h),f=f.createElement("link"),pe(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),je(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=dc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function q1(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*E1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(B1,e),mc=null,dc.call(e))}function B1(e,n){if(!(n.state.loading&4)){var s=mc.get(e);if(s)var l=s.get(null);else{s=new Map,mc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ro={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function H1(e,n,s,l,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function h_(e,n,s,l,h,f,g,T,R,P,B,K){return e=new H1(e,n,s,g,R,P,B,K,T),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},sf(f),e}function f_(e){return e?(e=cr,e):cr}function d_(e,n,s,l,h,f){h=f_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ts(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Es(e,l,n),s!==null&&(nn(s,e,n),Pl(s,e,n))}function m_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){m_(e,n),(e=e.alternate)&&m_(e,n)}function p_(e){if(e.tag===13||e.tag===31){var n=_a(e,67108864);n!==null&&nn(n,e,67108864),Ad(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=pn();n=ra(n);var s=_a(e,n);s!==null&&nn(s,e,n),Ad(e,n)}}var gc=!0;function F1(e,n,s,l){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,Sd(e,n,s,l)}finally{tt.p=f,G.T=h}}function G1(e,n,s,l){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,Sd(e,n,s,l)}finally{tt.p=f,G.T=h}}function Sd(e,n,s,l){if(gc){var h=wd(l);if(h===null)ud(e,n,l,yc,s),__(e,l);else if(Q1(h,e,n,s,l))l.stopPropagation();else if(__(e,l),n&4&&-1<K1.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-ae(g);T.entanglements[1]|=R,g&=~R}Ti(f),(Mt&6)===0&&($u=Ke()+500,to(0))}}break;case 31:case 13:T=_a(f,2),T!==null&&nn(T,f,2),ec(),Ad(f,2)}if(f=wd(l),f===null&&ud(e,n,l,yc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ud(e,n,l,null,s)}}function wd(e){return e=En(e),bd(e)}var yc=null;function bd(e){if(yc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function y_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case ul:return 2;case cl:return 8;case as:case Nh:return 32;case Xo:return 268435456;default:return 32}default:return 32}}var Rd=!1,Vs=null,Os=null,Ms=null,lo=new Map,oo=new Map,ks=[],K1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(e,n){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(n.pointerId)}}function uo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&p_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Q1(e,n,s,l,h){switch(n){case"focusin":return Vs=uo(Vs,e,n,s,l,h),!0;case"dragenter":return Os=uo(Os,e,n,s,l,h),!0;case"mouseover":return Ms=uo(Ms,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return lo.set(f,uo(lo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,oo.set(f,uo(oo.get(f)||null,e,n,s,l,h)),!0}return!1}function v_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Un(e.priority,function(){g_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Un(e.priority,function(){g_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Al=l,s.target.dispatchEvent(l),Al=null}else return n=Tn(s),n!==null&&p_(n),e.blockedOn=s,!1;n.shift()}return!0}function T_(e,n,s){_c(e)&&s.delete(n)}function Y1(){Rd=!1,Vs!==null&&_c(Vs)&&(Vs=null),Os!==null&&_c(Os)&&(Os=null),Ms!==null&&_c(Ms)&&(Ms=null),lo.forEach(T_),oo.forEach(T_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Y1)))}var Tc=null;function E_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(bd(l||s)===null)continue;break}var f=Tn(s);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Mr(e){function n(R){return vc(R,e)}Vs!==null&&vc(Vs,e),Os!==null&&vc(Os,e),Ms!==null&&vc(Ms,e),lo.forEach(n),oo.forEach(n);for(var s=0;s<ks.length;s++){var l=ks[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)v_(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[xe]||null;if(typeof f=="function")g||E_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[xe]||null)T=g.formAction;else if(bd(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),E_(s)}}}function A_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Ec.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=pn();d_(s,l,e,n,null,null)},Ec.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;d_(e.current,2,null,e,null,null),ec(),n[si]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ks.length&&n!==0&&n<ks[s].priority;s++);ks.splice(s,0,e),s===0&&v_(e)}};var S_=t.version;if(S_!=="19.2.4")throw Error(a(527,S_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var X1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{kn=Ac.inject(X1),Me=Ac}catch{}}return co.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Ng,f=Dg,g=Vg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=h_(e,1,!1,null,null,s,l,null,h,f,g,A_),e[si]=n.current,od(e),new Id(n)},co.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Ng,g=Dg,T=Vg,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=h_(e,1,!0,n,s??null,l,h,R,f,g,T,A_),n.context=f_(null),s=n.current,l=pn(),l=ra(l),h=Ts(l),h.callback=null,Es(s,h,l),s=l,n.current.lanes=s,sa(n,s),Ti(n),e[si]=n.current,od(e),new Ec(n)},co.version="19.2.4",co}var I_;function wA(){if(I_)return Cd.exports;I_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch{}}return r(),Cd.exports=SA(),Cd.exports}var bA=wA();const RA=$1(bA);function i0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IA=i0,s0=new hm("auth","Firebase",i0());const qc=new Wv("@firebase/auth");function CA(r,...t){qc.logLevel<=Qn.WARN&&qc.warn(`Auth (${Wr}): ${r}`,...t)}function xc(r,...t){qc.logLevel<=Qn.ERROR&&qc.error(`Auth (${Wr}): ${r}`,...t)}function Mn(r,...t){throw mm(r,...t)}function Xn(r,...t){return mm(r,...t)}function dm(r,t,i){const a={...IA(),[t]:i};return new hm("auth","Firebase",a).create(t,{appName:r.name})}function Zi(r){return dm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xA(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Mn(r,"argument-error"),dm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return s0.create(r,...t)}function ft(r,t,...i){if(!r)throw mm(t,...i)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw xc(t),new Error(t)}function Wi(r,t){r||Xi(t)}function Fd(){return typeof self<"u"&&self.location?.href||""}function NA(){return C_()==="http:"||C_()==="https:"}function C_(){return typeof self<"u"&&self.location?.protocol||null}function DA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NA()||oA()||"connection"in navigator)?navigator.onLine:!0}function VA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Lo{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=rA()||lA()}get(){return DA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pm(r,t){Wi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class a0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const OA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kA=new Lo(3e4,6e4);function Zs(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function es(r,t,i,a,o={}){return r0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Mo({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:_,...c};return mA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(v.credentials="include"),a0.fetch()(await l0(r,r.config.apiHost,i,p),v)})}async function r0(r,t,i){r._canInitEmulator=!1;const a={...OA,...t};try{const o=new UA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Sc(r,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw dm(r,S,v);Mn(r,S)}}catch(o){if(o instanceof rh)throw o;Mn(r,"network-request-failed",{message:String(o)})}}async function Uo(r,t,i,a,o={}){const c=await es(r,t,i,a,o);return"mfaPendingCredential"in c&&Mn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function l0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?pm(r.config,o):`${r.config.apiScheme}://${o}`;return MA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function LA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Xn(this.auth,"network-request-failed")),kA.get())})}}function Sc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Xn(r,t,a);return o.customData._tokenResponse=i,o}function x_(r){return r!==void 0&&r.enterprise!==void 0}class PA{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return LA(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jA(r,t){return es(r,"GET","/v2/recaptchaConfig",Zs(r,t))}async function zA(r,t){return es(r,"POST","/v1/accounts:delete",t)}async function Bc(r,t){return es(r,"POST","/v1/accounts:lookup",t)}function vo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qA(r,t=!1){const i=Ie(r),a=await i.getIdToken(t),o=gm(a);ft(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:vo(Dd(o.auth_time)),issuedAtTime:vo(Dd(o.iat)),expirationTime:vo(Dd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dd(r){return Number(r)*1e3}function gm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=cA(i);return o?JSON.parse(o):(xc("Failed to decode base64 JWT payload"),null)}catch(o){return xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function N_(r){const t=gm(r);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Gr(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof rh&&BA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function BA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class HA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=vo(this.lastLoginAt),this.creationTime=vo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(r){const t=r.auth,i=await r.getIdToken(),a=await Gr(r,Bc(t,{idToken:i}));ft(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?o0(o.providerUserInfo):[],d=GA(r.providerData,c),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,v=p?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,S)}async function FA(r){const t=Ie(r);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function o0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function KA(r,t){const i=await r0(r,{},async()=>{const a=Mo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await l0(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(_.credentials="include"),a0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QA(r,t){return es(r,"POST","/v2/accounts:revokeToken",Zs(r,t))}class jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):N_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ft(t.length!==0,"internal-error");const i=N_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await KA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new jr;return a&&(ft(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(ft(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(ft(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jr,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Us(r,t){ft(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Yn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new HA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Gr(this,this.stsTokenManager.getToken(this.auth,t));return ft(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return qA(this,t)}reload(){return FA(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Gr(this,zA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:H,providerData:X,stsTokenManager:J}=i;ft(w&&J,t,"internal-error");const Z=jr.fromJSON(this.name,J);ft(typeof w=="string",t,"internal-error"),Us(a,t.name),Us(o,t.name),ft(typeof V=="boolean",t,"internal-error"),ft(typeof H=="boolean",t,"internal-error"),Us(c,t.name),Us(d,t.name),Us(p,t.name),Us(_,t.name),Us(v,t.name),Us(S,t.name);const ht=new Yn({uid:w,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:S});return X&&Array.isArray(X)&&(ht.providerData=X.map(_t=>({..._t}))),_&&(ht._redirectEventId=_),ht}static async _fromIdTokenResponse(t,i,a=!1){const o=new jr;o.updateFromServerResponse(i);const c=new Yn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Hc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];ft(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?o0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new jr;p.updateFromIdToken(a);const _=new Yn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const D_=new Map;function Ji(r){Wi(r instanceof Function,"Expected a class definition");let t=D_.get(r);return t?(Wi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,D_.set(r,t),t)}class u0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}u0.type="NONE";const V_=u0;function Nc(r,t,i){return`firebase:${r}:${t}:${i}`}class zr{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Nc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Bc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new zr(Ji(V_),t,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Ji(V_);const d=Nc(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const S=await v._get(d);if(S){let w;if(typeof S=="string"){const V=await Bc(t,{idToken:S}).catch(()=>{});if(!V)break;w=await Yn._fromGetAccountInfoResponse(t,V,S)}else w=Yn._fromJSON(t,S);v!==c&&(p=w),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new zr(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new zr(c,t,a))}}function O_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(d0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(c0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(p0(t))return"Blackberry";if(g0(t))return"Webos";if(h0(t))return"Safari";if((t.includes("chrome/")||f0(t))&&!t.includes("edge/"))return"Chrome";if(m0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function c0(r=rn()){return/firefox\//i.test(r)}function h0(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function f0(r=rn()){return/crios\//i.test(r)}function d0(r=rn()){return/iemobile/i.test(r)}function m0(r=rn()){return/android/i.test(r)}function p0(r=rn()){return/blackberry/i.test(r)}function g0(r=rn()){return/webos/i.test(r)}function ym(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YA(r=rn()){return ym(r)&&!!window.navigator?.standalone}function XA(){return fA()&&document.documentMode===10}function y0(r=rn()){return ym(r)||m0(r)||g0(r)||p0(r)||/windows phone/i.test(r)||d0(r)}function _0(r,t=[]){let i;switch(r){case"Browser":i=O_(rn());break;case"Worker":i=`${O_(rn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Wr}/${a}`}class JA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function ZA(r,t={}){return es(r,"GET","/v2/passwordPolicy",Zs(r,t))}const WA=6;class $A{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??WA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class tS{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new JA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zr.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Bc(this,{idToken:t}),a=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch{await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(gn(this.app))return Promise.reject(Zi(this));const i=t?Ie(t):null;return i&&ft(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return gn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZA(this),i=new $A(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hm("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await QA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;ft(i,this,"argument-error"),this.redirectPersistenceManager=await zr.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ws(r){return Ie(r)}class M_{constructor(t){this.auth=t,this.observer=null,this.addObserver=uA(i=>this.observer=i)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eS(r){lh=r}function v0(r){return lh.loadJS(r)}function nS(){return lh.recaptchaEnterpriseScript}function iS(){return lh.gapiScript}function sS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class aS{constructor(){this.enterprise=new rS}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class rS{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const lS="recaptcha-enterprise",T0="NO_RECAPTCHA";class oS{constructor(t){this.type=lS,this.auth=Ws(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{jA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new PA(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function o(c,d,p){const _=window.grecaptcha;x_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(T0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aS().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&x_(window.grecaptcha))o(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=nS();_.length!==0&&(_+=p),v0(_).then(()=>{o(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function k_(r,t,i,a=!1,o=!1){const c=new oS(r);let d;if(o)d=T0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Kd(r,t,i,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await k_(r,t,i,i==="getOobCode");return a(r,c)}else return a(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){const d=await k_(r,t,i,i==="getOobCode");return a(r,d)}else return Promise.reject(c)})}function uS(r,t){const i=fm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(zc(c,t??{}))return o;Mn(o,"already-initialized")}return i.initialize({options:t})}function cS(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function hS(r,t,i){const a=Ws(r);ft(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=E0(t),{host:d,port:p}=fS(t),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ft(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ft(zc(v,a.config.emulator)&&zc(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ko(d)?(e0(`${c}//${d}${_}`),n0("Auth",!0)):dS()}function E0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function fS(r){const t=E0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:L_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:L_(d)}}}function L_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function dS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class _m{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function mS(r,t){return es(r,"POST","/v1/accounts:signUp",t)}async function pS(r,t){return Uo(r,"POST","/v1/accounts:signInWithPassword",Zs(r,t))}async function gS(r,t){return Uo(r,"POST","/v1/accounts:signInWithEmailLink",Zs(r,t))}async function yS(r,t){return Uo(r,"POST","/v1/accounts:signInWithEmailLink",Zs(r,t))}class bo extends _m{constructor(t,i,a,o=null){super("password",a),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new bo(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new bo(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(t,i,"signInWithPassword",pS);case"emailLink":return gS(t,{email:this._email,oobCode:this._password});default:Mn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(t,a,"signUpPassword",mS);case"emailLink":return yS(t,{idToken:i,email:this._email,oobCode:this._password});default:Mn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function qr(r,t){return Uo(r,"POST","/v1/accounts:signInWithIdp",Zs(r,t))}const _S="http://localhost";class Ua extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Mn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Ua(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return qr(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,qr(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,qr(t,i)}buildRequest(){const t={requestUri:_S,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Mo(i)}return t}}function vS(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TS(r){const t=fo(mo(r)).link,i=t?fo(mo(t)).deep_link_id:null,a=fo(mo(r)).deep_link_id;return(a?fo(mo(a)).link:null)||a||i||t||r}class vm{constructor(t){const i=fo(mo(t)),a=i.apiKey??null,o=i.oobCode??null,c=vS(i.mode??null);ft(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=TS(t);try{return new vm(i)}catch{return null}}}class $r{constructor(){this.providerId=$r.PROVIDER_ID}static credential(t,i){return bo._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=vm.parseLink(i);return ft(a,"argument-error"),bo._fromEmailAndCode(t,a.code,a.tenantId)}}$r.PROVIDER_ID="password";$r.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$r.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Tm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Po extends Tm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Po{constructor(){super("facebook.com")}static credential(t){return Ua._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Yi extends Po{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ua._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Yi.credential(i,a)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";class js extends Po{constructor(){super("github.com")}static credential(t){return Ua._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class zs extends Po{constructor(){super("twitter.com")}static credential(t,i){return Ua._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return zs.credential(i,a)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";async function ES(r,t){return Uo(r,"POST","/v1/accounts:signUp",Zs(r,t))}class Pa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Yn._fromIdTokenResponse(t,a,o),d=U_(a);return new Pa({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=U_(a);return new Pa({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function U_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Fc extends rh{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Fc(t,i,a,o)}}function A0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(r,c,t,a):c})}async function AS(r,t,i=!1){const a=await Gr(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Pa._forOperation(r,"link",a)}async function SS(r,t,i=!1){const{auth:a}=r;if(gn(a.app))return Promise.reject(Zi(a));const o="reauthenticate";try{const c=await Gr(r,A0(a,o,t,r),i);ft(c.idToken,a,"internal-error");const d=gm(c.idToken);ft(d,a,"internal-error");const{sub:p}=d;return ft(r.uid===p,a,"user-mismatch"),Pa._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Mn(a,"user-mismatch"),c}}async function S0(r,t,i=!1){if(gn(r.app))return Promise.reject(Zi(r));const a="signIn",o=await A0(r,a,t),c=await Pa._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function wS(r,t){return S0(Ws(r),t)}async function w0(r){const t=Ws(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function bS(r,t,i){if(gn(r.app))return Promise.reject(Zi(r));const a=Ws(r),d=await Kd(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ES).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&w0(r),_}),p=await Pa._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function RS(r,t,i){return gn(r.app)?Promise.reject(Zi(r)):wS(Ie(r),$r.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&w0(r),a})}async function IS(r,t){return es(r,"POST","/v1/accounts:update",t)}async function CS(r,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const a=Ie(r),c={idToken:await a.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await Gr(a,IS(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:_})=>_==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function xS(r,t,i,a){return Ie(r).onIdTokenChanged(t,i,a)}function NS(r,t,i){return Ie(r).beforeAuthStateChanged(t,i)}function DS(r,t,i,a){return Ie(r).onAuthStateChanged(t,i,a)}const Gc="__sak";class b0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const VS=1e3,OS=10;class R0 extends b0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=y0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);XA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,OS):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},VS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}R0.type="LOCAL";const MS=R0;class I0 extends b0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}I0.type="SESSION";const C0=I0;function kS(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class oh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new oh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await kS(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];function Em(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class LS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=Em("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function US(r){Ai().location.href=r}function x0(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function PS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jS(){return navigator?.serviceWorker?.controller||null}function zS(){return x0()?self:null}const N0="firebaseLocalStorageDb",qS=1,Kc="firebaseLocalStorage",D0="fbase_key";class jo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function uh(r,t){return r.transaction([Kc],t?"readwrite":"readonly").objectStore(Kc)}function BS(){const r=indexedDB.deleteDatabase(N0);return new jo(r).toPromise()}function Qd(){const r=indexedDB.open(N0,qS);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Kc,{keyPath:D0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Kc)?t(a):(a.close(),await BS(),t(await Qd()))})})}async function P_(r,t,i){const a=uh(r,!0).put({[D0]:t,value:i});return new jo(a).toPromise()}async function HS(r,t){const i=uh(r,!1).get(t),a=await new jo(i).toPromise();return a===void 0?null:a.value}function j_(r,t){const i=uh(r,!0).delete(t);return new jo(i).toPromise()}const FS=800,GS=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>GS)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(zS()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PS(),!this.activeServiceWorker)return;this.sender=new LS(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await P_(t,Gc,"1"),await j_(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>P_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>HS(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>j_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=uh(o,!1).getAll();return new jo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const KS=V0;new Lo(3e4,6e4);function O0(r,t){return t?Ji(t):(ft(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Am extends _m{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qr(t,this._buildIdpRequest())}_linkToIdToken(t,i){return qr(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return qr(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function QS(r){return S0(r.auth,new Am(r),r.bypassAuthState)}function YS(r){const{auth:t,user:i}=r;return ft(i,t,"internal-error"),SS(i,new Am(r),r.bypassAuthState)}async function XS(r){const{auth:t,user:i}=r;return ft(i,t,"internal-error"),AS(i,new Am(r),r.bypassAuthState)}class M0{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QS;case"linkViaPopup":case"linkViaRedirect":return XS;case"reauthViaPopup":case"reauthViaRedirect":return YS;default:Mn(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JS=new Lo(2e3,1e4);async function ZS(r,t,i){if(gn(r.app))return Promise.reject(Xn(r,"operation-not-supported-in-this-environment"));const a=Ws(r);xA(r,t,Tm);const o=O0(a,i);return new Va(a,"signInViaPopup",t,o).executeNotNull()}class Va extends M0{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,JS.get())};t()}}Va.currentPopupAction=null;const WS="pendingRedirect",Dc=new Map;class $S extends M0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Dc.get(this.auth._key());if(!t){try{const a=await t2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Dc.set(this.auth._key(),t)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(r,t){const i=i2(t),a=n2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function e2(r,t){Dc.set(r._key(),t)}function n2(r){return Ji(r._redirectPersistence)}function i2(r){return Nc(WS,r.config.apiKey,r.name)}async function s2(r,t,i=!1){if(gn(r.app))return Promise.reject(Zi(r));const a=Ws(r),o=O0(a,t),d=await new $S(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const a2=600*1e3;class r2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!l2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!k0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Xn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=a2&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(t))}saveEventToCache(t){this.cachedEventUids.add(z_(t)),this.lastProcessedEventTime=Date.now()}}function z_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function k0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function l2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k0(r);default:return!1}}async function o2(r,t={}){return es(r,"GET","/v1/projects",t)}const u2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c2=/^https?/;async function h2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await o2(r);for(const i of t)try{if(f2(i))return}catch{}Mn(r,"unauthorized-domain")}function f2(r){const t=Fd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!c2.test(i))return!1;if(u2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const d2=new Lo(3e4,6e4);function q_(){const r=Ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function m2(r){return new Promise((t,i)=>{function a(){q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{q_(),i(Xn(r,"network-request-failed"))},timeout:d2.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const o=sS("iframefcb");return Ai()[o]=()=>{gapi.load?a():i(Xn(r,"network-request-failed"))},v0(`${iS()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function p2(r){return Vc=Vc||m2(r),Vc}const g2=new Lo(5e3,15e3),y2="__/auth/iframe",_2="emulator/auth/iframe",v2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E2(r){const t=r.config;ft(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?pm(t,_2):`https://${r.config.authDomain}/${y2}`,a={apiKey:t.apiKey,appName:r.name,v:Wr},o=T2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Mo(a).slice(1)}`}async function A2(r){const t=await p2(r),i=Ai().gapi;return ft(i,r,"internal-error"),t.open({where:document.body,url:E2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Xn(r,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},g2.get());function _(){Ai().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const S2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w2=500,b2=600,R2="_blank",I2="http://localhost";class B_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C2(r,t,i,a=w2,o=b2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...S2,width:a.toString(),height:o.toString(),top:c,left:d},v=rn().toLowerCase();i&&(p=f0(v)?R2:i),c0(v)&&(t=t||I2,_.scrollbars="yes");const S=Object.entries(_).reduce((V,[H,X])=>`${V}${H}=${X},`,"");if(YA(v)&&p!=="_self")return x2(t||"",p),new B_(null);const w=window.open(t||"",p,S);ft(w,r,"popup-blocked");try{w.focus()}catch{}return new B_(w)}function x2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const N2="__/auth/handler",D2="emulator/auth/handler",V2=encodeURIComponent("fac");async function H_(r,t,i,a,o,c){ft(r.config.authDomain,r,"auth-domain-config-required"),ft(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Wr,eventId:o};if(t instanceof Tm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",dA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(t instanceof Po){const S=t.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const _=await r._getAppCheckToken(),v=_?`#${V2}=${encodeURIComponent(_)}`:"";return`${O2(r)}?${Mo(p).slice(1)}${v}`}function O2({config:r}){return r.emulator?pm(r,D2):`https://${r.authDomain}/${N2}`}const Vd="webStorageSupport";class M2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C0,this._completeRedirectFn=s2,this._overrideRedirectResult=e2}async _openPopup(t,i,a,o){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await H_(t,i,a,Fd(),o);return C2(t,c,Em())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await H_(t,i,a,Fd(),o);return US(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await A2(t),a=new r2(t);return i.register("authEvent",o=>(ft(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Vd,{type:Vd},o=>{const c=o?.[0]?.[Vd];c!==void 0&&i(!!c),Mn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=h2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return y0()||h0()||ym()}}const k2=M2;var F_="@firebase/auth",G_="1.12.0";class L2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function U2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P2(r){Bd(new Hd("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;ft(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_0(r)},v=new tS(a,o,c,_);return cS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Bd(new Hd("auth-internal",t=>{const i=Ws(t.getProvider("auth").getImmediate());return(a=>new L2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(F_,G_,U2(r)),wo(F_,G_,"esm2020")}const j2=300,z2=$v("authIdTokenMaxAge")||j2;let K_=null;const q2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>z2)return;const o=i?.token;K_!==o&&(K_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function B2(r=t0()){const t=fm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=uS(r,{popupRedirectResolver:k2,persistence:[KS,MS,C0]}),a=$v("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=q2(c.toString());NS(i,d,()=>d(i.currentUser)),xS(i,p=>d(p))}}const o=hA("auth");return o&&hS(i,`http://${o}`),i}function H2(){return document.getElementsByTagName("head")?.[0]??document}eS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Xn("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",H2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P2("Browser");var F2="firebase",G2="12.9.0";wo(F2,G2,"app");var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bs,L0;(function(){var r;function t(N,b){function C(){}C.prototype=b.prototype,N.F=b.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(O,D,k){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return b.prototype[D].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,C){C||(C=0);const O=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)O[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=N.g[0],C=N.g[1],D=N.g[2];let k=N.g[3],I;I=b+(k^C&(D^k))+O[0]+3614090360&4294967295,b=C+(I<<7&4294967295|I>>>25),I=k+(D^b&(C^D))+O[1]+3905402710&4294967295,k=b+(I<<12&4294967295|I>>>20),I=D+(C^k&(b^C))+O[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(b^D&(k^b))+O[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=b+(k^C&(D^k))+O[4]+4118548399&4294967295,b=C+(I<<7&4294967295|I>>>25),I=k+(D^b&(C^D))+O[5]+1200080426&4294967295,k=b+(I<<12&4294967295|I>>>20),I=D+(C^k&(b^C))+O[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(b^D&(k^b))+O[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=b+(k^C&(D^k))+O[8]+1770035416&4294967295,b=C+(I<<7&4294967295|I>>>25),I=k+(D^b&(C^D))+O[9]+2336552879&4294967295,k=b+(I<<12&4294967295|I>>>20),I=D+(C^k&(b^C))+O[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(b^D&(k^b))+O[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=b+(k^C&(D^k))+O[12]+1804603682&4294967295,b=C+(I<<7&4294967295|I>>>25),I=k+(D^b&(C^D))+O[13]+4254626195&4294967295,k=b+(I<<12&4294967295|I>>>20),I=D+(C^k&(b^C))+O[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(b^D&(k^b))+O[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=b+(D^k&(C^D))+O[1]+4129170786&4294967295,b=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(b^C))+O[6]+3225465664&4294967295,k=b+(I<<9&4294967295|I>>>23),I=D+(b^C&(k^b))+O[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^b&(D^k))+O[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=b+(D^k&(C^D))+O[5]+3593408605&4294967295,b=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(b^C))+O[10]+38016083&4294967295,k=b+(I<<9&4294967295|I>>>23),I=D+(b^C&(k^b))+O[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^b&(D^k))+O[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=b+(D^k&(C^D))+O[9]+568446438&4294967295,b=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(b^C))+O[14]+3275163606&4294967295,k=b+(I<<9&4294967295|I>>>23),I=D+(b^C&(k^b))+O[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^b&(D^k))+O[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=b+(D^k&(C^D))+O[13]+2850285829&4294967295,b=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(b^C))+O[2]+4243563512&4294967295,k=b+(I<<9&4294967295|I>>>23),I=D+(b^C&(k^b))+O[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^b&(D^k))+O[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=b+(C^D^k)+O[5]+4294588738&4294967295,b=C+(I<<4&4294967295|I>>>28),I=k+(b^C^D)+O[8]+2272392833&4294967295,k=b+(I<<11&4294967295|I>>>21),I=D+(k^b^C)+O[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^b)+O[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=b+(C^D^k)+O[1]+2763975236&4294967295,b=C+(I<<4&4294967295|I>>>28),I=k+(b^C^D)+O[4]+1272893353&4294967295,k=b+(I<<11&4294967295|I>>>21),I=D+(k^b^C)+O[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^b)+O[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=b+(C^D^k)+O[13]+681279174&4294967295,b=C+(I<<4&4294967295|I>>>28),I=k+(b^C^D)+O[0]+3936430074&4294967295,k=b+(I<<11&4294967295|I>>>21),I=D+(k^b^C)+O[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^b)+O[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=b+(C^D^k)+O[9]+3654602809&4294967295,b=C+(I<<4&4294967295|I>>>28),I=k+(b^C^D)+O[12]+3873151461&4294967295,k=b+(I<<11&4294967295|I>>>21),I=D+(k^b^C)+O[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^b)+O[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=b+(D^(C|~k))+O[0]+4096336452&4294967295,b=C+(I<<6&4294967295|I>>>26),I=k+(C^(b|~D))+O[7]+1126891415&4294967295,k=b+(I<<10&4294967295|I>>>22),I=D+(b^(k|~C))+O[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~b))+O[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=b+(D^(C|~k))+O[12]+1700485571&4294967295,b=C+(I<<6&4294967295|I>>>26),I=k+(C^(b|~D))+O[3]+2399980690&4294967295,k=b+(I<<10&4294967295|I>>>22),I=D+(b^(k|~C))+O[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~b))+O[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=b+(D^(C|~k))+O[8]+1873313359&4294967295,b=C+(I<<6&4294967295|I>>>26),I=k+(C^(b|~D))+O[15]+4264355552&4294967295,k=b+(I<<10&4294967295|I>>>22),I=D+(b^(k|~C))+O[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~b))+O[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=b+(D^(C|~k))+O[4]+4149444226&4294967295,b=C+(I<<6&4294967295|I>>>26),I=k+(C^(b|~D))+O[11]+3174756917&4294967295,k=b+(I<<10&4294967295|I>>>22),I=D+(b^(k|~C))+O[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~b))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,b){b===void 0&&(b=N.length);const C=b-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<b;)if(O[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<b;)if(O[D++]=N[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;b=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=b&255,b/=256;for(this.v(N),N=Array(16),b=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)N[b++]=this.g[C]>>>O&255;return N};function c(N,b){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=b(N)}function d(N,b){this.h=b;const C=[];let O=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;O&&k==b||(C[D]=k,O=!1)}this.g=C}var p={};function _(N){return-128<=N&&N<128?c(N,function(b){return new d([b|0],b<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return Z(v(-N));const b=[];let C=1;for(let O=0;N>=C;O++)b[O]=N/C|0,C*=4294967296;return new d(b,0)}function S(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return Z(S(N.substring(1),b));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(b,8));let O=w;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+D),b);D<8?(D=v(Math.pow(b,D)),O=O.j(D).add(v(I))):(O=O.j(C),O=O.add(v(I)))}return O}var w=_(0),V=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(J(this))return-Z(this).m();let N=0,b=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);N+=(O>=0?O:4294967296+O)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(J(this))return"-"+Z(this).toString(N);const b=v(Math.pow(N,6));var C=this;let O="";for(;;){const D=Ut(C,b).g;C=ht(C,D.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,X(C))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(let b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function J(N){return N.h==-1}r.l=function(N){return N=ht(this,N),J(N)?-1:X(N)?0:1};function Z(N){const b=N.g.length,C=[];for(let O=0;O<b;O++)C[O]=~N.g[O];return new d(C,~N.h).add(V)}r.abs=function(){return J(this)?Z(this):this},r.add=function(N){const b=Math.max(this.g.length,N.g.length),C=[];let O=0;for(let D=0;D<=b;D++){let k=O+(this.i(D)&65535)+(N.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=I>>>16,k&=65535,I&=65535,C[D]=I<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ht(N,b){return N.add(Z(b))}r.j=function(N){if(X(this)||X(N))return w;if(J(this))return J(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(J(N))return Z(this.j(Z(N)));if(this.l(H)<0&&N.l(H)<0)return v(this.m()*N.m());const b=this.g.length+N.g.length,C=[];for(var O=0;O<2*b;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const k=this.i(O)>>>16,I=this.i(O)&65535,he=N.i(D)>>>16,Oe=N.i(D)&65535;C[2*O+2*D]+=I*Oe,_t(C,2*O+2*D),C[2*O+2*D+1]+=k*Oe,_t(C,2*O+2*D+1),C[2*O+2*D+1]+=I*he,_t(C,2*O+2*D+1),C[2*O+2*D+2]+=k*he,_t(C,2*O+2*D+2)}for(N=0;N<b;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=b;N<2*b;N++)C[N]=0;return new d(C,0)};function _t(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function Tt(N,b){this.g=N,this.h=b}function Ut(N,b){if(X(b))throw Error("division by zero");if(X(N))return new Tt(w,w);if(J(N))return b=Ut(Z(N),b),new Tt(Z(b.g),Z(b.h));if(J(b))return b=Ut(N,Z(b)),new Tt(Z(b.g),b.h);if(N.g.length>30){if(J(N)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var C=V,O=b;O.l(N)<=0;)C=rt(C),O=rt(O);var D=Et(C,1),k=Et(O,1);for(O=Et(O,2),C=Et(C,2);!X(O);){var I=k.add(O);I.l(N)<=0&&(D=D.add(C),k=I),O=Et(O,1),C=Et(C,1)}return b=ht(N,D.j(b)),new Tt(D,b)}for(D=w;N.l(b)>=0;){for(C=Math.max(1,Math.floor(N.m()/b.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=v(C),I=k.j(b);J(I)||I.l(N)>0;)C-=O,k=v(C),I=k.j(b);X(k)&&(k=V),D=D.add(k),N=ht(N,I)}return new Tt(D,N)}r.B=function(N){return Ut(this,N).h},r.and=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)&N.i(O);return new d(C,this.h&N.h)},r.or=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)|N.i(O);return new d(C,this.h|N.h)},r.xor=function(N){const b=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<b;O++)C[O]=this.i(O)^N.i(O);return new d(C,this.h^N.h)};function rt(N){const b=N.g.length+1,C=[];for(let O=0;O<b;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(C,N.h)}function Et(N,b){const C=b>>5;b%=32;const O=N.g.length-C,D=[];for(let k=0;k<O;k++)D[k]=b>0?N.i(k+C)>>>b|N.i(k+C+1)<<32-b:N.i(k+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,L0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Bs=d}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var U0,po,P0,Oc,Yd,j0,z0,q0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var y=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in y))break t;y=y[L]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&y.push([A,m[A]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(A,L,z){for(var W=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)W[gt-2]=arguments[gt];return m.prototype[L].apply(A,W)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function X(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const z=L.length||0;u.length=y+z;for(let W=0;W<z;W++)u[y+W]=L[W]}else u.push(L)}}class J{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,y){const A=Tt.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var Tt=new J(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,Et=!1,N=new _t,b=()=>{const u=Promise.resolve(void 0);rt=()=>{u.then(C)}};function C(){for(var u;u=ht();){try{u.h.call(u.g)}catch(y){Z(y)}var m=Tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Et=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(he,D),he.prototype.init=function(u,m){const y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,y,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function Gt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function Ce(u){const m={};for(const y in u)m[y]=u[y];return m}const Qt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nt(u,m){let y,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(y in A)u[y]=A[y];for(let z=0;z<Qt.length;z++)y=Qt[z],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function te(u){this.src=u,this.g={},this.h=0}te.prototype.add=function(u,m,y,A,L){const z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);const W=_n(u,m,A,L);return W>-1?(m=u[W],y||(m.fa=!1)):(m=new tt(m,this.src,z,!!A,L),m.fa=y,u.push(m)),m};function Xe(u,m){const y=m.type;if(y in u.g){var A=u.g[y],L=Array.prototype.indexOf.call(A,m,void 0),z;(z=L>=0)&&Array.prototype.splice.call(A,L,1),z&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function _n(u,m,y,A){for(let L=0;L<u.length;++L){const z=u[L];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==A)return L}return-1}var ns="closure_lm_"+(Math.random()*1e6|0),is={};function Ci(u,m,y,A,L){if(Array.isArray(m)){for(let z=0;z<m.length;z++)Ci(u,m[z],y,A,L);return null}return y=ol(y),u&&u[Oe]?u.J(m,y,p(A)?!!A.capture:!1,L):al(u,m,y,!1,A,L)}function al(u,m,y,A,L,z){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let gt=ea(u);if(gt||(u[ns]=gt=new te(u)),y=gt.add(m,y,A,W,z),y.proxy)return y;if(A=Ga(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)k||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent($n(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ga(){function u(y){return m.call(u.src,u.listener,y)}const m=rl;return u}function Ka(u,m,y,A,L){if(Array.isArray(m))for(var z=0;z<m.length;z++)Ka(u,m[z],y,A,L);else A=p(A)?!!A.capture:!!A,y=ol(y),u&&u[Oe]?(u=u.i,z=String(m).toString(),z in u.g&&(m=u.g[z],y=_n(m,y,A,L),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[z],u.h--)))):u&&(u=ea(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_n(m,y,A,L)),(y=u>-1?m[u]:null)&&Qa(y))}function Qa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Oe])Xe(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent($n(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=ea(m))?(Xe(y,u),y.h==0&&(y.src=null,m[ns]=null)):ut(u)}}}function $n(u){return u in is?is[u]:is[u]="on"+u}function rl(u,m){if(u.da)u=!0;else{m=new he(m,this);const y=u.listener,A=u.ha||u.src;u.fa&&Qa(u),u=y.call(A,m)}return u}function ea(u){return u=u[ns],u instanceof te?u:null}var ll="__closure_events_fn_"+(Math.random()*1e9>>>0);function ol(u){return typeof u=="function"?u:(u[ll]||(u[ll]=function(m){return u.handleEvent(m)}),u[ll])}function fe(){O.call(this),this.i=new te(this),this.M=this,this.G=null}w(fe,O),fe.prototype[Oe]=!0,fe.prototype.removeEventListener=function(u,m,y,A){Ka(this,u,m,y,A)};function we(u,m){var y,A=u.G;if(A)for(y=[];A;A=A.G)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(A,u),Nt(m,L)}L=!0;let z,W;if(y)for(W=y.length-1;W>=0;W--)z=m.g=y[W],L=ss(z,A,!0,m)&&L;if(z=m.g=u,L=ss(z,A,!0,m)&&L,L=ss(z,A,!1,m)&&L,y)for(W=0;W<y.length;W++)z=m.g=y[W],L=ss(z,A,!1,m)&&L}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let A=0;A<y.length;A++)ut(y[A]);delete u.g[m],u.h--}}this.G=null},fe.prototype.J=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},fe.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function ss(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let z=0;z<m.length;++z){const W=m[z];if(W&&!W.da&&W.capture==y){const gt=W.listener,re=W.ha||W.src;W.fa&&Xe(u.i,W),L=gt.call(re,A)!==!1&&L}}return L&&!A.defaultPrevented}function xh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yo(u){u.g=xh(()=>{u.g=null,u.i&&(u.i=!1,Yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ke extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(u){O.call(this),this.h=u,this.g={}}w(na,O);var ul=[];function cl(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Qa(m)},u),u.g={}}na.prototype.N=function(){na.Z.N.call(this),cl(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Nh=d.JSON.parse,Xo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jo(){}function Zo(){}var kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){D.call(this,"d")}w(Me,D);function vn(){D.call(this,"c")}w(vn,D);var ae={},Wo=null;function Ya(){return Wo=Wo||new fe}ae.Ia="serverreachability";function $o(u){D.call(this,ae.Ia,u)}w($o,D);function ti(u){const m=Ya();we(m,new $o(m))}ae.STAT_EVENT="statevent";function ia(u,m){D.call(this,ae.STAT_EVENT,u),this.stat=m}w(ia,D);function de(u){const m=Ya();we(m,new ia(m,u))}ae.Ja="timingevent";function ei(u,m){D.call(this,ae.Ja,u),this.size=m}w(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function Dh(u,m,y,A,L,z){u.info(function(){if(u.g)if(z){var W="",gt=z.split("&");for(let Ot=0;Ot<gt.length;Ot++){var re=gt[Ot].split("=");if(re.length>1){const Wt=re[0];re=re[1];const Sn=Wt.split("_");W=Sn.length>=2&&Sn[1]=="type"?W+(Wt+"="+re+"&"):W+(Wt+"=redacted&")}}}else W=null;else W=z;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+y+`
`+W})}function tu(u,m,y,A,L,z,W){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+y+`
`+z+" "+W})}function ii(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,y)+(A?" "+A:"")})}function sa(u,m){u.info(function(){return"TIMEOUT: "+m})}Ln.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const z=JSON.parse(m);if(z){for(u=0;u<z.length;u++)if(Array.isArray(z[u])){var y=z[u];if(!(y.length<2)){var A=y[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<A.length;W++)A[W]=""}}}}return as(z)}catch{return m}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function ra(){}w(ra,Jo),ra.prototype.g=function(){return new XMLHttpRequest},fl=new ra;function xi(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Un(u,m,y,A){this.j=u,this.i=m,this.l=y,this.S=A||1,this.V=new na(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}var me={},xe={};function si(u,m,y){u.M=1,u.A=la(ge(m)),u.u=y,u.R=!0,Xa(u,null)}function Xa(u,m){u.F=Date.now(),ai(u),u.B=ge(u.A);var y=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),$a(y.i,"t",A),u.C=0,y=u.j.L,u.h=new Pn,u.g=gu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ke(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ul[0]=L.toString()),L=ul);for(let z=0;z<L.length;z++){const W=Ci(y,L[z],A||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?Ce(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Un.prototype.ba=function(u){u=u.target;const m=this.O;m&&qn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)t:{const gt=qn(this.g),re=this.g.ya(),Ot=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||gt!=4||re==7||(re==8||Ot<=0?ti(3):ti(2)),ri(this);var m=this.g.ca();this.X=m;var y=Oh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,gt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var z=A;break e}}z=null}if(u=z)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,de(12),ln(this),Tn(this);break t}}if(this.R){u=!0;let Wt;for(;!this.K&&this.C<y.length;)if(Wt=iu(this,y),Wt==xe){gt==4&&(this.m=4,de(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==me){this.m=4,de(15),ii(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,Wt,null),li(this,Wt);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||y.length!=0||this.h.h||(this.m=1,de(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,y,"[Invalid Chunked Response]"),ln(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Il(W),W.P=!0,de(11))}}else ii(this.i,this.l,y,null),li(this,y);gt==4&&ln(this),this.o&&!this.K&&(gt==4?fu(this.j,this):(this.o=!1,ai(this)))}else Di(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),ln(this),Tn(this)}}}catch{}};function Oh(u){if(!nu(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let y="";const A=m.length,L=qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ln(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let z=0;z<A;z++)u.h.h=!0,y+=u.h.i.decode(m[z],{stream:!(L&&z==A-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?xe:(y=Number(m.substring(y,A)),isNaN(y)?me:(A+=1,A+y>m.length?xe:(m=m.slice(A,A+y),u.C=A+y,m)))}Un.prototype.cancel=function(){this.K=!0,ln(this)};function ai(u){u.T=Date.now()+u.H,Ja(u,u.H)}function Ja(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(v(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Un.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sa(this.i,this.B),this.M!=2&&(ti(),de(17)),ln(this),this.m=2,Tn(this)):Ja(this,this.T-u)};function Tn(u){u.j.I==0||u.K||fu(u.j,u)}function ln(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,cl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ui(y.h,u))){if(!u.L&&ui(y.h,u)&&y.I==3){try{var A=y.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)sr(y),ds(y);else break t;ma(y),de(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ni(v(y.Va,y),6e3));oi(y.h)<=1&&y.ta&&(y.ta=void 0)}else pi(y,11)}else if((u.L||y.g==u)&&sr(y),!I(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];const Wt=Ot[0];if(!(Wt<=y.K))if(y.K=Wt,Ot=Ot[1],y.I==2)if(Ot[0]=="c"){y.M=Ot[1],y.ba=Ot[2];const Sn=Ot[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const gi=Ot[4];gi!=null&&(y.za=gi,y.j.info("SVER="+y.za));const Bn=Ot[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(A=1.5*Bn,y.O=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Hn=u.g;if(Hn){const pa=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var z=A.h;z.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(pl(z,z.h),z.h=null))}if(A.G){const ar=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ar&&(A.wa=ar,Pt(A.J,A.G,ar))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),A=y;var W=u;if(A.na=pu(A,A.L?A.ba:null,A.W),W.L){gl(A.h,W);var gt=W,re=A.O;re&&(gt.H=re),gt.D&&(ri(gt),ai(gt)),A.g=W}else cu(A);y.i.length>0&&mi(y)}else Ot[0]!="stop"&&Ot[0]!="close"||pi(y,7);else y.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?pi(y,7):bl(y):Ot[0]!="noop"&&y.l&&y.l.qa(Ot),y.A=0)}}ti(4)}catch{}}var pe=class{constructor(u,m){this.g=u,this.map=m}};function dl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function pl(u,m){u.g?u.g.add(m):u.h=m}function gl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}dl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return H(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const A=u[y].indexOf("=");let L,z=null;A>=0?(L=u[y].substring(0,A),z=u[y].substring(A+1)):L=u[y],m(L,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function on(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof on?(this.l=u.l,Ne(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,_l(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,Ne(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rs(this,m[4]),this.h=ci(m[5]||"",!0),_l(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}on.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(oa(m,Wa,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(oa(m,Wa,!0),"@"),u.push(xi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(oa(y,y.charAt(0)=="/"?vl:au,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",oa(y,ru)),u.join("")},on.prototype.resolve=function(u){const m=ge(this);let y=!!u.j;y?Ne(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var A=u.h;if(y)rs(m,u.u);else if(y=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const z=[];for(let W=0;W<L.length;){const gt=L[W++];gt=="."?A&&W==L.length&&z.push(""):gt==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),A&&W==L.length&&z.push("")):(z.push(gt),A=!0)}A=z.join("/")}else A=L}return y?m.h=A:y=u.i.toString()!=="",y?_l(m,ou(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ge(u){return new on(u)}function Ne(u,m,y){u.j=y?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function _l(u,m,y){m instanceof os?(u.i=m,tr(u.i,u.l)):(y||(m=oa(m,ls)),u.i=new os(m,u.l))}function Pt(u,m,y){u.i.set(m,y)}function la(u){return Pt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function oa(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Je),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Je(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wa=/[#\/\?@]/g,au=/[#\?:]/g,vl=/[#\?]/g,ls=/[#\?@]/g,ru=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ze(u){u.g||(u.g=new Map,u.h=0,u.i&&Za(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=os.prototype,r.add=function(u,m){Ze(this),this.i=null,u=us(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function lu(u,m){Ze(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Tl(u,m){return Ze(u),m=us(u,m),u.g.has(m)}r.forEach=function(u,m){Ze(this),this.g.forEach(function(y,A){y.forEach(function(L){u.call(m,L,A,this)},this)},this)};function El(u,m){Ze(u);let y=[];if(typeof m=="string")Tl(u,m)&&(y=y.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return Ze(this),this.i=null,u=us(this,u),Tl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=El(this,u),u.length>0?String(u[0]):m):m};function $a(u,m,y){lu(u,m),y.length>0&&(u.i=null,u.g.set(us(u,m),H(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var y=m[A];const L=xi(y);y=El(this,y);for(let z=0;z<y.length;z++){let W=L;y[z]!==""&&(W+="="+xi(y[z])),u.push(W)}}return this.i=u.join("&")};function ou(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function tr(u,m){m&&!u.j&&(Ze(u),u.i=null,u.g.forEach(function(y,A){const L=A.toLowerCase();A!=L&&(lu(this,A),$a(this,L,y))},u)),u.j=m}function jn(u,m){const y=new Ln;if(d.Image){const A=new Image;A.onload=S(En,y,"TestLoadImage: loaded",!0,m,A),A.onerror=S(En,y,"TestLoadImage: error",!1,m,A),A.onabort=S(En,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(En,y,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Al(u,m){const y=new Ln,A=new AbortController,L=setTimeout(()=>{A.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(z=>{clearTimeout(L),z.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(y)}catch{}}function cs(){this.g=new Xo}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(hi,Jo),hi.prototype.g=function(){return new ua(this.i,this.h)};function ua(u,m){fe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ua,fe),r=ua.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;er(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function er(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):zn(this),this.readyState==3&&er(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},r.Na=function(u){this.g&&(this.response=u,hs(this))},r.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return kt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function ca(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=An(y),typeof u=="string"?y!=null&&xi(y):Pt(u,m,y))}function qt(u){fe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(qt,fe);var fi=/^https?$/i,Sl=["POST","PUT"];r=qt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){ha(this,z);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)y.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const z of A.keys())y.set(z,A.get(z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Sl,m,void 0)>=0)||A||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,W]of y)this.g.setRequestHeader(z,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(z){ha(this,z)}};function ha(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,wl(u),Ni(u)}function wl(u){u.A||(u.A=!0,we(u,"complete"),we(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,we(this,"complete"),we(this,"abort"),Ni(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ni(this,!0)),qt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fa(this):this.Xa())},r.Xa=function(){fa(this)};function fa(u){if(u.h&&typeof c<"u"){if(u.v&&qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(we(u,"readystatechange"),qn(u)==4){u.h=!1;try{const z=u.ca();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=z===0){let W=String(u.D).match(su)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),A=!fi.test(W?W.toLowerCase():"")}y=A}if(y)we(u,"complete"),we(u,"success");else{u.o=6;try{var L=qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",wl(u)}}finally{Ni(u)}}}}function Ni(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||we(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var y=eu(u[A]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[L]||[];m[L]=z,z.push(y)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new dl(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,A){de(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.J=pu(this,null,this.W),mi(this)};function bl(u){if(nr(u),u.I==3){var m=u.V++,y=ge(u.J);if(Pt(y,"SID",u.M),Pt(y,"RID",m),Pt(y,"TYPE","terminate"),da(u,y),m=new Un(u,u.j,m),m.M=2,m.A=la(ge(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=gu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}mu(u)}function ds(u){u.g&&(Il(u),u.g.cancel(),u.g=null)}function nr(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),sr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!ml(u.h)&&!u.m){u.m=!0;var m=u.Ea;rt||b(),Et||(rt(),Et=!0),N.add(m,u),u.D=0}}function ir(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(v(u.Ea,u,m),du(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Un(this,this.j,u);let z=this.o;if(this.U&&(z?(z=Ce(z),Nt(z,this.U)):z=this.U),this.u!==null||this.R||(L.J=z,z=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=uu(this,L,m),y=ge(this.J),Pt(y,"RID",u),Pt(y,"CVER",22),this.G&&Pt(y,"X-HTTP-Session-Id",this.G),da(this,y),z&&(this.R?m="headers="+xi(An(z))+"&"+m:this.u&&ca(y,this.u,z)),pl(this.h,L),this.Ra&&Pt(y,"TYPE","init"),this.S?(Pt(y,"$req",m),Pt(y,"SID","null"),L.U=!0,si(L,y,null)):si(L,y,m),this.I=2}}else this.I==3&&(u?Rl(this,u):this.i.length==0||ml(this.h)||Rl(this))};function Rl(u,m){var y;m?y=m.l:y=u.V++;const A=ge(u.J);Pt(A,"SID",u.M),Pt(A,"RID",y),Pt(A,"AID",u.K),da(u,A),u.u&&u.o&&ca(A,u.u,u.o),y=new Un(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),pl(u.h,y),si(y,A,m)}function da(u,m){u.H&&kt(u.H,function(y,A){Pt(m,A,y)}),u.l&&kt({},function(y,A){Pt(m,A,y)})}function uu(u,m,y){y=Math.min(u.i.length,y);const A=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let gt=-1;for(;;){const re=["count="+y];gt==-1?y>0?(gt=L[0].g,re.push("ofs="+gt)):gt=0:re.push("ofs="+gt);let Ot=!0;for(let Wt=0;Wt<y;Wt++){var z=L[Wt].g;const Sn=L[Wt].map;if(z-=gt,z<0)gt=Math.max(0,L[Wt].g-100),Ot=!1;else try{z="req"+z+"_"||"";try{var W=Sn instanceof Map?Sn:Object.entries(Sn);for(const[gi,Bn]of W){let Hn=Bn;p(Bn)&&(Hn=as(Bn)),re.push(z+gi+"="+encodeURIComponent(Hn))}}catch(gi){throw re.push(z+"type="+encodeURIComponent("_badmap")),gi}}catch{A&&A(Sn)}}if(Ot){W=re.join("&");break t}}W=void 0}return u=u.i.splice(0,y),m.G=u,W}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;rt||b(),Et||(rt(),Et=!0),N.add(m,u),u.A=0}}function ma(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(v(u.Da,u),du(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),ds(this),hu(this))};function Il(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new Un(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ge(u.na);Pt(m,"RID","rpc"),Pt(m,"SID",u.M),Pt(m,"AID",u.K),Pt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Pt(m,"TO",u.ia),Pt(m,"TYPE","xmlhttp"),da(u,m),u.u&&u.o&&ca(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=la(ge(m)),y.u=null,y.R=!0,Xa(y,u)}r.Va=function(){this.C!=null&&(this.C=null,ds(this),ma(this),de(19))};function sr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var y=null;if(u.g==m){sr(u),Il(u),u.g=null;var A=2}else if(ui(u.h,m))y=m.G,gl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=Ya(),we(A,new ei(A,y)),mi(u)}else cu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&ir(u,m)||A==2&&ma(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function du(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),A=u.Ua;const L=!A;A=new on(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ne(A,"https"),la(A),L?jn(A.toString(),y):Al(A.toString(),y)}else de(2);u.I=0,u.l&&u.l.pa(m),mu(u),nr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=yl(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,y){var A=y instanceof on?ge(y):new on(y);if(A.g!="")m&&(A.g=m+"."+A.g),rs(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const z=new on(null);A&&Ne(z,A),m&&(z.g=m),L&&rs(z,L),y&&(z.h=y),A=z}return y=u.G,m=u.wa,y&&m&&Pt(A,y,m),Pt(A,"VER",u.ka),da(u,A),A}function gu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new qt(new hi({ab:y})):new qt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new Qe(u,m)};function Qe(u,m){fe.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}w(Qe,fe),Qe.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qe.prototype.close=function(){bl(this.g)},Qe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=as(u),u=y);m.i.push(new pe(m.Ya++,u)),m.I==3&&mi(m)},Qe.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,Qe.Z.N.call(this)};function _u(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(_u,Me);function vu(){vn.call(this),this.status=1}w(vu,vn);function Vi(u){this.g=u}w(Vi,yu),Vi.prototype.ra=function(){we(this.g,"a")},Vi.prototype.qa=function(u){we(this.g,new _u(u))},Vi.prototype.pa=function(u){we(this.g,new vu)},Vi.prototype.oa=function(){we(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,Qe.prototype.send=Qe.prototype.o,Qe.prototype.open=Qe.prototype.m,Qe.prototype.close=Qe.prototype.close,q0=function(){return new ms},z0=function(){return Ya()},j0=ae,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Oc=aa,hl.COMPLETE="complete",P0=hl,Zo.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",fe.prototype.listen=fe.prototype.J,po=Zo,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,U0=qt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");let tl="12.9.0";function K2(r){tl=r}const ja=new Wv("@firebase/firestore");function kr(){return ja.logLevel}function et(r,...t){if(ja.logLevel<=Qn.DEBUG){const i=t.map(Sm);ja.debug(`Firestore (${tl}): ${r}`,...i)}}function $i(r,...t){if(ja.logLevel<=Qn.ERROR){const i=t.map(Sm);ja.error(`Firestore (${tl}): ${r}`,...i)}}function za(r,...t){if(ja.logLevel<=Qn.WARN){const i=t.map(Sm);ja.warn(`Firestore (${tl}): ${r}`,...i)}}function Sm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function dt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,B0(r,a,i)}function B0(r,t,i){let a=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function Lt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||B0(t,o,a)}function pt(r,t){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends rh{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ma{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class H0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class Y2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class X2{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Lt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ma,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ma)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Lt(typeof a.accessToken=="string",31837,{l:a}),new H0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Lt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class J2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Z2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new J2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Lt(this.o===void 0,3512);const a=c=>{c.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=$2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Rt(r,t){return r<t?-1:r>t?1:0}function Xd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Od(o)===Od(c)?Rt(o,c):Od(o)?1:-1}return Rt(r.length,t.length)}const tw=55296,ew=57343;function Od(r){const t=r.charCodeAt(0);return t>=tw&&t<=ew}function Kr(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const X_="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&dt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ei.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Rt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),o=Ei.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Xd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bs.fromString(t.substring(4,t.length-2))}}class Yt extends Ei{construct(t,i,a){return new Yt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new nt(Q.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Yt(i)}static emptyPath(){return new Yt([])}}const nw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends Ei{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return nw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new qe([X_])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new nt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new nt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new nt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new nt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(Yt.fromString(t))}static fromName(t){return new ot(Yt.fromString(t).popFirst(5))}static empty(){return new ot(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Yt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new Yt(t.slice()))}}function F0(r,t,i){if(!i)throw new nt(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function iw(r,t,i,a){if(t===!0&&a===!0)throw new nt(Q.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function J_(r){if(!ot.isDocumentKey(r))throw new nt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Z_(r){if(ot.isDocumentKey(r))throw new nt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function G0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ch(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function Si(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new nt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ch(r);throw new nt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Se(r,t){const i={typeString:r};return t&&(i.value=t),i}function zo(r,t){if(!G0(r))throw new nt(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new nt(Q.INVALID_ARGUMENT,i);return!0}const W_=-62135596800,$_=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*$_);return new Zt(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<W_)throw new nt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zo(t,Zt._jsonSchema))return new Zt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-W_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Se("string",Zt._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};class mt{static fromTimestamp(t){return new mt(t)}static min(){return new mt(new Zt(0,0))}static max(){return new mt(new Zt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ro=-1;function sw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=mt.fromTimestamp(a===1e9?new Zt(i+1,0):new Zt(i,a));return new Gs(o,ot.empty(),t)}function aw(r){return new Gs(r.readTime,r.key,Ro)}class Gs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Gs(mt.min(),ot.empty(),Ro)}static max(){return new Gs(mt.max(),ot.empty(),Ro)}}function rw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ot.comparator(r.documentKey,t.documentKey),i!==0?i:Rt(r.largestBatchId,t.largestBatchId))}const lw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ow{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function el(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==lw)throw r;et("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((o=>o?Y.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(t[v]).next((S=>{d[v]=S,++p,p===c&&a(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new Y(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function uw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function nl(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const bm=-1;function fh(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function cw(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const K0="";function hw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=tv(t)),t=fw(r.get(i),t);return tv(t)}function fw(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case K0:i+="";break;default:i+=c}}return i}function tv(r){return r+K0+""}function ev(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function $s(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Q0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ee{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new ze(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(t){return new nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class yn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new yn([])}unionWith(t){let i=new Re(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Kr(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Y0("Invalid base64 string: "+c):c}})(t);return new Be(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(r){if(Lt(!!r,39018),typeof r=="string"){let t=0;const i=dw.exec(r);if(Lt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ue(r.seconds),nanos:ue(r.nanos)}}function ue(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qs(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}const X0="server_timestamp",J0="__type__",Z0="__previous_value__",W0="__local_write_time__";function Rm(r){return(r?.mapValue?.fields||{})[J0]?.stringValue===X0}function dh(r){const t=r.mapValue.fields[Z0];return Rm(t)?dh(t):t}function Io(r){const t=Ks(r.mapValue.fields[W0].timestampValue);return new Zt(t.seconds,t.nanos)}class mw{constructor(t,i,a,o,c,d,p,_,v,S,w){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=S,this.apiKey=w}}const Yc="(default)";class Co{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new Co("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Co&&t.projectId===this.projectId&&t.database===this.database}}function pw(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new nt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Co(r.options.projectId,t)}const $0="__type__",gw="__max__",Rc={mapValue:{}},tT="__vector__",Xc="value";function Ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Rm(r)?4:_w(r)?9007199254740991:yw(r)?10:11:dt(28295,{value:r})}function Ii(r,t){if(r===t)return!0;const i=Ys(r);if(i!==Ys(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Io(r).isEqual(Io(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ks(o.timestampValue),p=Ks(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Qs(o.bytesValue).isEqual(Qs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return ue(o.geoPointValue.latitude)===ue(c.geoPointValue.latitude)&&ue(o.geoPointValue.longitude)===ue(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return ue(o.integerValue)===ue(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ue(o.doubleValue),p=ue(c.doubleValue);return d===p?Qc(d)===Qc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Kr(r.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(ev(d)!==ev(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ii(d[_],p[_])))return!1;return!0})(r,t);default:return dt(52216,{left:r})}}function xo(r,t){return(r.values||[]).find((i=>Ii(i,t)))!==void 0}function Qr(r,t){if(r===t)return 0;const i=Ys(r),a=Ys(t);if(i!==a)return Rt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ue(c.integerValue||c.doubleValue),_=ue(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return iv(r.timestampValue,t.timestampValue);case 4:return iv(Io(r),Io(t));case 5:return Xd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Qs(c),_=Qs(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const S=Rt(p[v],_[v]);if(S!==0)return S}return Rt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Rt(ue(c.latitude),ue(d.latitude));return p!==0?p:Rt(ue(c.longitude),ue(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return sv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[Xc]?.arrayValue,S=_[Xc]?.arrayValue,w=Rt(v?.values?.length||0,S?.values?.length||0);return w!==0?w:sv(v,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let w=0;w<_.length&&w<S.length;++w){const V=Xd(_[w],S[w]);if(V!==0)return V;const H=Qr(p[_[w]],v[S[w]]);if(H!==0)return H}return Rt(_.length,S.length)})(r.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function iv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const i=Ks(r),a=Ks(t),o=Rt(i.seconds,a.seconds);return o!==0?o:Rt(i.nanos,a.nanos)}function sv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Qr(i[o],a[o]);if(c)return c}return Rt(i.length,a.length)}function Yr(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ks(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Qs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ot.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Jd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Jd(i.fields[d])}`;return o+"}"})(r.mapValue):dt(61005,{value:r})}function Mc(r){switch(Ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Mc(t):16;case 5:return 2*r.stringValue.length;case 6:return Qs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Mc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return $s(a.fields,((c,d)=>{o+=c.length+Mc(d)})),o})(r.mapValue);default:throw dt(13486,{value:r})}}function av(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Zd(r){return!!r&&"integerValue"in r}function Im(r){return!!r&&"arrayValue"in r}function rv(r){return!!r&&"nullValue"in r}function lv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function yw(r){return(r?.mapValue?.fields||{})[$0]?.stringValue===tT}function To(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return $s(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=To(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=To(r.arrayValue.values[i]);return t}return{...r}}function _w(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gw}class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=To(i)}setAll(t){let i=qe.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=To(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){$s(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new an(To(this.value))}}function eT(r){const t=[];return $s(r.fields,((i,a)=>{const o=new qe([i]);if(kc(a)){const c=eT(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new yn(t)}class Ge{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ge(t,0,mt.min(),mt.min(),mt.min(),an.empty(),0)}static newFoundDocument(t,i,a,o){return new Ge(t,1,i,mt.min(),a,o,0)}static newNoDocument(t,i){return new Ge(t,2,i,mt.min(),mt.min(),an.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,mt.min(),mt.min(),an.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(t,i){this.position=t,this.inclusive=i}}function ov(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=Qr(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function uv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ii(r.position[i],t.position[i]))return!1;return!0}class Zc{constructor(t,i="asc"){this.field=t,this.dir=i}}function vw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class nT{}class Ae extends nT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Ew(t,i,a):i==="array-contains"?new ww(t,a):i==="in"?new bw(t,a):i==="not-in"?new Rw(t,a):i==="array-contains-any"?new Iw(t,a):new Ae(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Aw(t,a):new Sw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Qr(i,this.value)):i!==null&&Ys(this.value)===Ys(i)&&this.matchesComparison(Qr(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends nT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wn(t,i)}matches(t){return iT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iT(r){return r.op==="and"}function sT(r){return Tw(r)&&iT(r)}function Tw(r){for(const t of r.filters)if(t instanceof Wn)return!1;return!0}function Wd(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+Yr(r.value);if(sT(r))return r.filters.map((t=>Wd(t))).join(",");{const t=r.filters.map((i=>Wd(i))).join(",");return`${r.op}(${t})`}}function aT(r,t){return r instanceof Ae?(function(a,o){return o instanceof Ae&&a.op===o.op&&a.field.isEqual(o.field)&&Ii(a.value,o.value)})(r,t):r instanceof Wn?(function(a,o){return o instanceof Wn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&aT(d,o.filters[p])),!0):!1})(r,t):void dt(19439)}function rT(r){return r instanceof Ae?(function(i){return`${i.field.canonicalString()} ${i.op} ${Yr(i.value)}`})(r):r instanceof Wn?(function(i){return i.op.toString()+" {"+i.getFilters().map(rT).join(" ,")+"}"})(r):"Filter"}class Ew extends Ae{constructor(t,i,a){super(t,i,a),this.key=ot.fromName(a.referenceValue)}matches(t){const i=ot.comparator(t.key,this.key);return this.matchesComparison(i)}}class Aw extends Ae{constructor(t,i){super(t,"in",i),this.keys=lT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Sw extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=lT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lT(r,t){return(t.arrayValue?.values||[]).map((i=>ot.fromName(i.referenceValue)))}class ww extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Im(i)&&xo(i.arrayValue,this.value)}}class bw extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xo(this.value.arrayValue,i)}}class Rw extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xo(this.value.arrayValue,i)}}class Iw extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xo(this.value.arrayValue,a)))}}class Cw{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function cv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new Cw(r,t,i,a,o,c,d)}function Cm(r){const t=pt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Wd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Yr(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Yr(a))).join(",")),t.Te=i}return t.Te}function xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!vw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!aT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!uv(r.startAt,t.startAt)&&uv(r.endAt,t.endAt)}function $d(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class qo{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function xw(r,t,i,a,o,c,d,p){return new qo(r,t,i,a,o,c,d,p)}function Nm(r){return new qo(r)}function hv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Nw(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function oT(r){return r.collectionGroup!==null}function Eo(r){const t=pt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Re(qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Zc(c,a))})),i.has(qe.keyField().canonicalString())||t.Ie.push(new Zc(qe.keyField(),a))}return t.Ie}function wi(r){const t=pt(r);return t.Ee||(t.Ee=Dw(t,Eo(r))),t.Ee}function Dw(r,t){if(r.limitType==="F")return cv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Zc(o.field,c)}));const i=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return cv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function tm(r,t){const i=r.filters.concat([t]);return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function em(r,t,i){return new qo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function mh(r,t){return xm(wi(r),wi(t))&&r.limitType===t.limitType}function uT(r){return`${Cm(wi(r))}|lt:${r.limitType}`}function Lr(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>rT(o))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Yr(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Yr(o))).join(",")),`Target(${a})`})(wi(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ot.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Eo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const v=ov(d,p,_);return d.inclusive?v<=0:v<0})(a.startAt,Eo(a),o)||a.endAt&&!(function(d,p,_){const v=ov(d,p,_);return d.inclusive?v>=0:v>0})(a.endAt,Eo(a),o))})(r,t)}function Vw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cT(r){return(t,i)=>{let a=!1;for(const o of Eo(r)){const c=Ow(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Ow(r,t,i){const a=r.field.isKeyField()?ot.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Qr(_,v):dt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:r.dir})}}class Ha{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$s(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}const Mw=new ee(ot.comparator);function ts(){return Mw}const hT=new ee(ot.comparator);function go(...r){let t=hT;for(const i of r)t=t.insert(i.key,i);return t}function fT(r){let t=hT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Oa(){return Ao()}function dT(){return Ao()}function Ao(){return new Ha((r=>r.toString()),((r,t)=>r.isEqual(t)))}const kw=new ee(ot.comparator),Lw=new Re(ot.comparator);function It(...r){let t=Lw;for(const i of r)t=t.add(i);return t}const Uw=new Re(Rt);function Pw(){return Uw}function Dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function mT(r){return{integerValue:""+r}}function jw(r,t){return cw(t)?mT(t):Dm(r,t)}class gh{constructor(){this._=void 0}}function zw(r,t,i){return r instanceof No?(function(o,c){const d={fields:{[J0]:{stringValue:X0},[W0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Rm(c)&&(c=dh(c)),c&&(d.fields[Z0]=c),{mapValue:d}})(i,t):r instanceof Do?gT(r,t):r instanceof Vo?yT(r,t):(function(o,c){const d=pT(o,c),p=fv(d)+fv(o.Ae);return Zd(d)&&Zd(o.Ae)?mT(p):Dm(o.serializer,p)})(r,t)}function qw(r,t,i){return r instanceof Do?gT(r,t):r instanceof Vo?yT(r,t):i}function pT(r,t){return r instanceof Wc?(function(a){return Zd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class No extends gh{}class Do extends gh{constructor(t){super(),this.elements=t}}function gT(r,t){const i=_T(t);for(const a of r.elements)i.some((o=>Ii(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Vo extends gh{constructor(t){super(),this.elements=t}}function yT(r,t){let i=_T(t);for(const a of r.elements)i=i.filter((o=>!Ii(o,a)));return{arrayValue:{values:i}}}class Wc extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function fv(r){return ue(r.integerValue||r.doubleValue)}function _T(r){return Im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Bw{constructor(t,i){this.field=t,this.transform=i}}function Hw(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Do&&o instanceof Do||a instanceof Vo&&o instanceof Vo?Kr(a.elements,o.elements,Ii):a instanceof Wc&&o instanceof Wc?Ii(a.Ae,o.Ae):a instanceof No&&o instanceof No})(r.transform,t.transform)}class Fw{constructor(t,i){this.version=t,this.transformResults=i}}class On{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new On}static exists(t){return new On(void 0,t)}static updateTime(t){return new On(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function vT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Vm(r.key,On.none()):new Bo(r.key,r.data,On.none());{const i=r.data,a=an.empty();let o=new Re(qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new ta(r.key,a,new yn(o.toArray()),On.none())}}function Gw(r,t,i){r instanceof Bo?(function(o,c,d){const p=o.value.clone(),_=mv(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof ta?(function(o,c,d){if(!Lc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=mv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(TT(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function So(r,t,i,a){return r instanceof Bo?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const v=c.value.clone(),S=pv(c.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof ta?(function(c,d,p,_){if(!Lc(c.precondition,d))return p;const v=pv(c.fieldTransforms,_,d),S=d.data;return S.setAll(TT(c)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Kw(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=pT(a.transform,o||null);c!=null&&(i===null&&(i=an.empty()),i.set(a.field,c))}return i||null}function dv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Kr(a,o,((c,d)=>Hw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Bo extends yh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ta extends yh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function mv(r,t,i){const a=new Map;Lt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,qw(d,p,i[o]))}return a}function pv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,zw(c,d,t))}return a}class Vm extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qw extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yw{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&Gw(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=So(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=So(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=dT();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=vT(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),It())}isEqual(t){return this.batchId===t.batchId&&Kr(this.mutations,t.mutations,((i,a)=>dv(i,a)))&&Kr(this.baseMutations,t.baseMutations,((i,a)=>dv(i,a)))}}class Om{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Lt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return kw})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Om(t,i,a,o)}}class Xw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Jw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ee,xt;function Zw(r){switch(r){case Q.OK:return dt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function ET(r){if(r===void 0)return $i("GRPC error has no .code"),Q.UNKNOWN;switch(r){case Ee.OK:return Q.OK;case Ee.CANCELLED:return Q.CANCELLED;case Ee.UNKNOWN:return Q.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return Q.INTERNAL;case Ee.UNAVAILABLE:return Q.UNAVAILABLE;case Ee.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ee.NOT_FOUND:return Q.NOT_FOUND;case Ee.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ee.ABORTED:return Q.ABORTED;case Ee.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ee.DATA_LOSS:return Q.DATA_LOSS;default:return dt(39323,{code:r})}}(xt=Ee||(Ee={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function Ww(){return new TextEncoder}const $w=new Bs([4294967295,4294967295],0);function gv(r){const t=Ww().encode(r),i=new L0;return i.update(t),new Uint8Array(i.digest())}function yv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Bs([i,a],0),new Bs([o,c],0)]}class Mm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new yo(`Invalid padding: ${i}`);if(a<0)throw new yo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new yo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Bs.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Bs.fromNumber(a)));return o.compare($w)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=gv(t),[a,o]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Mm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=gv(t),[a,o]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Ho.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new _h(mt.min(),o,new ee(Rt),ts(),It())}}class Ho{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ho(a,i,It(),It(),It())}}class Uc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class AT{constructor(t,i){this.targetId=t,this.Ce=i}}class ST{constructor(t,i,a=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class _v{constructor(){this.ve=0,this.Fe=vv(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=It(),i=It(),a=It();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:dt(38017,{changeType:c})}})),new Ho(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=vv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class tb{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.He=Ic(),this.Je=Ic(),this.Ze=new ee(Rt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if($d(c))if(a===0){const d=new ot(c.path);this.et(i,d,Ge.newNoDocument(d,mt.min()))}else Lt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Qs(a).toUint8Array()}catch(_){if(_ instanceof Y0)return za("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Mm(d,o,c)}catch(_){return za(_ instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&$d(p.target)){const _=new ot(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ge.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=It();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new _h(t,i,this.Ze,this.je,a);return this.je=ts(),this.He=Ic(),this.Je=Ic(),this.Ze=new ee(Rt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new _v,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Re(Rt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Re(Rt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||et("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _v),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new ee(ot.comparator)}function vv(){return new ee(ot.comparator)}const eb={asc:"ASCENDING",desc:"DESCENDING"},nb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ib={and:"AND",or:"OR"};class sb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function nm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function ab(r,t){return $c(r,t.toTimestamp())}function bi(r){return Lt(!!r,49232),mt.fromTimestamp((function(i){const a=Ks(i);return new Zt(a.seconds,a.nanos)})(r))}function km(r,t){return im(r,t).canonicalString()}function im(r,t){const i=(function(o){return new Yt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function bT(r){const t=Yt.fromString(r);return Lt(NT(t),10190,{key:t.toString()}),t}function sm(r,t){return km(r.databaseId,t.path)}function Md(r,t){const i=bT(t);if(i.get(1)!==r.databaseId.projectId)throw new nt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new nt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ot(IT(i))}function RT(r,t){return km(r.databaseId,t)}function rb(r){const t=bT(r);return t.length===4?Yt.emptyPath():IT(t)}function am(r){return new Yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IT(r){return Lt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Tv(r,t,i){return{name:sm(r,t),fields:i.value.mapValue.fields}}function lb(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,S){return v.useProto3Json?(Lt(S===void 0||typeof S=="string",58123),Be.fromBase64String(S||"")):(Lt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Be.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const S=v.code===void 0?Q.UNKNOWN:ET(v.code);return new nt(S,v.message||"")})(d);i=new ST(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Md(r,a.document.name),c=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):mt.min(),p=new an({mapValue:{fields:a.document.fields}}),_=Ge.newFoundDocument(o,c,d,p),v=a.targetIds||[],S=a.removedTargetIds||[];i=new Uc(v,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Md(r,a.document),c=a.readTime?bi(a.readTime):mt.min(),d=Ge.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Uc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Md(r,a.document),c=a.removedTargetIds||[];i=new Uc([],c,o,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Jw(o,c),p=a.targetId;i=new AT(p,d)}}return i}function ob(r,t){let i;if(t instanceof Bo)i={update:Tv(r,t.key,t.value)};else if(t instanceof Vm)i={delete:sm(r,t.key)};else if(t instanceof ta)i={update:Tv(r,t.key,t.data),updateMask:yb(t.fieldMask)};else{if(!(t instanceof Qw))return dt(16599,{dt:t.type});i={verify:sm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof No)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Do)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:ab(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)})(r,t.precondition)),i}function ub(r,t){return r&&r.length>0?(Lt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?bi(o.updateTime):bi(c);return d.isEqual(mt.min())&&(d=bi(c)),new Fw(d,o.transformResults||[])})(i,t)))):[]}function cb(r,t){return{documents:[RT(r,t.path)]}}function hb(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=RT(r,o);const c=(function(v){if(v.length!==0)return xT(Wn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((S=>(function(V){return{field:Ur(V.field),direction:mb(V.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=nm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function fb(r){let t=rb(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Lt(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(w){const V=CT(w);return V instanceof Wn&&sT(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(X){return new Zc(Pr(X.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let V;return V=typeof w=="object"?w.value:w,fh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(w){const V=!!w.before,H=w.values||[];return new Jc(H,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const V=!w.before,H=w.values||[];return new Jc(H,V)})(i.endAt)),xw(t,o,d,c,p,"F",_,v)}function db(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function CT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Pr(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Pr(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pr(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pr(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ae.create(Pr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wn.create(i.compositeFilter.filters.map((a=>CT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function mb(r){return eb[r]}function pb(r){return nb[r]}function gb(r){return ib[r]}function Ur(r){return{fieldPath:r.canonicalString()}}function Pr(r){return qe.fromServerFormat(r.fieldPath)}function xT(r){return r instanceof Ae?(function(i){if(i.op==="=="){if(lv(i.value))return{unaryFilter:{field:Ur(i.field),op:"IS_NAN"}};if(rv(i.value))return{unaryFilter:{field:Ur(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(lv(i.value))return{unaryFilter:{field:Ur(i.field),op:"IS_NOT_NAN"}};if(rv(i.value))return{unaryFilter:{field:Ur(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ur(i.field),op:pb(i.op),value:i.value}}})(r):r instanceof Wn?(function(i){const a=i.getFilters().map((o=>xT(o)));return a.length===1?a[0]:{compositeFilter:{op:gb(i.op),filters:a}}})(r):dt(54877,{filter:r})}function yb(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function NT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function DT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class qs{constructor(t,i,a,o,c=mt.min(),d=mt.min(),p=Be.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _b{constructor(t){this.yt=t}}function vb(r){const t=fb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?em(t,t.limit,"L"):t}class Tb{constructor(){this.Sn=new Eb}addToCollectionParentIndex(t,i){return this.Sn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Gs.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Gs.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Eb{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Re(Yt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Re(Yt.comparator)).toArray()}}const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(VT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class Xr{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Xr(0)}static ar(){return new Xr(-1)}}const Av="LruGarbageCollector",Ab=1048576;function Sv([r,t],[i,a]){const o=Rt(r,i);return o===0?Rt(t,a):o}class Sb{constructor(t){this.Pr=t,this.buffer=new Re(Sv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Sv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wb{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){et(Av,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){nl(i)?et(Av,"Ignoring IndexedDB error during garbage collection: ",i):await el(i)}await this.Ar(3e5)}))}}class bb{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(hh.ce);const a=new Sb(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Ev)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,p,_,v;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(v=Date.now(),kr()<=Qn.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function Rb(r,t){return new bb(r,t)}class Ib{constructor(){this.changes=new Ha((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Cb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class xb{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&So(a.mutation,o,yn.empty(),Zt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,It()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=It()){const o=Oa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=go();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Oa();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,It())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=ts();const d=Ao(),p=(function(){return Ao()})();return i.forEach(((_,v)=>{const S=a.get(v.key);o.has(v.key)&&(S===void 0||S.mutation instanceof ta)?c=c.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),So(S.mutation,v,S.mutation.getFieldMask(),Zt.now())):d.set(v.key,yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((v,S)=>d.set(v,S))),i.forEach(((v,S)=>p.set(v,new Cb(S,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ao();let o=new ee(((d,p)=>d-p)),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||yn.empty();S=p.applyToLocalView(v,S),a.set(_,S);const w=(o.get(p.batchId)||It()).add(_);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,S=_.value,w=dT();S.forEach((V=>{if(!c.has(V)){const H=vT(i.get(V),a.get(V));H!==null&&w.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,w))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return Nw(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):oT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Y.resolve(Oa());let p=Ro,_=c;return d.next((v=>Y.forEach(v,((S,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{_=_.insert(S,V)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,_,v,It()))).next((S=>({batchId:p,changes:fT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ot(i)).next((a=>{let o=go();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=go();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(_=>{const v=(function(w,V){return new qo(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,o).next((S=>{S.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Ge.newInvalidDocument(S)))}));let p=go();return d.forEach(((_,v)=>{const S=c.get(_);S!==void 0&&So(S.mutation,v,yn.empty(),Zt.now()),ph(i,v)&&(p=p.insert(_,v))})),p}))}}class Nb{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Y.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:vb(o.bundledQuery),readTime:bi(o.readTime)}})(i)),Y.resolve()}}class Db{constructor(){this.overlays=new ee(ot.comparator),this.Lr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Oa();return Y.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const o=Oa(),c=i.length+1,d=new ot(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ee(((v,S)=>v-S));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=c.get(v.largestBatchId);S===null&&(S=Oa(),c=c.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const p=Oa(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,S)=>p.set(v,S))),!(p.size()>=o)););return Y.resolve(p)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Xw(i,a));let c=this.Lr.get(i);c===void 0&&(c=It(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class Vb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class Lm{constructor(){this.kr=new Re(Ve.Kr),this.qr=new Re(Ve.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ve(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ve(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ot(new Yt([])),a=new Ve(i,t),o=new Ve(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ot(new Yt([])),a=new Ve(i,t),o=new Ve(i,t+1);let c=It();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ve(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ve{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ot.comparator(t.key,i.key)||Rt(t.Hr,i.Hr)}static Ur(t,i){return Rt(t.Hr,i.Hr)||ot.comparator(t.key,i.key)}}class Ob{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Re(Ve.Kr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Yw(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new Ve(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?bm:this.Yn-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const p=this.Zr(d.Hr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Re(Rt);return i.forEach((o=>{const c=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),Y.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ot.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new ot(c),0);let p=new Re(Rt);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(_.Hr)),!0)}),d),Y.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Lt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Y.forEach(i.mutations,(o=>{const c=new Ve(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ve(i,0),o=this.Jr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Mb{constructor(t){this.ti=t,this.docs=(function(){return new ee(ot.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let a=ts();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Ge.newInvalidDocument(o))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=ts();const d=i.path,p=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||rw(aw(S),a)<=0||(o.has(S.key)||ph(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,o){dt(9500)}ni(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new kb(this)}getSize(t){return Y.resolve(this.size)}}class kb extends Ib{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class Lb{constructor(t){this.persistence=t,this.ri=new Ha((i=>Cm(i)),xm),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.ii=0,this.si=new Lm,this.targetCount=0,this.oi=Xr._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Y.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Xr(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.lr(i),Y.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),Y.waitFor(c).next((()=>o))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this.si.containsKey(i))}}class OT{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new Vb,this.referenceDelegate=t(this),this.li=new Lb(this),this.indexManager=new Tb,this.remoteDocumentCache=(function(o){return new Mb(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new _b(i),this.Pi=new Nb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Db,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new Ob(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){et("MemoryPersistence","Starting transaction:",t);const o=new Ub(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return Y.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class Ub extends ow{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ri=new Lm,this.Ai=null}static Vi(t){return new Um(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(a=>{const o=ot.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,mt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class th{constructor(t,i){this.persistence=t,this.fi=new Ha((a=>hw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Rb(this,i)}static Vi(t,i){return new th(t,i)}Ti(){}Ii(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return Y.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?Y.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,mt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}wr(t,i,a){return Y.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return Y.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Pm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=It(),o=It();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Pm(t,i.fromCache,a,o)}}class Pb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class jb{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yA()?8:uw(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Pb;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(kr()<=Qn.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Lr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(kr()<=Qn.DEBUG&&et("QueryEngine","Query:",Lr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(kr()<=Qn.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Lr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):Y.resolve())}gs(t,i){if(hv(i))return Y.resolve(null);let a=wi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=em(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=It(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const v=this.bs(i,p);return this.Ss(i,v,d,_.readTime)?this.gs(t,em(i,null,"F")):this.Ds(t,v,i,_)}))))})))))}ps(t,i,a,o){return hv(i)||o.isEqual(mt.min())?Y.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?Y.resolve(null):(kr()<=Qn.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Lr(i)),this.Ds(t,d,i,sw(o,Ro)).next((p=>p)))}))}bs(t,i){let a=new Re(cT(t));return i.forEach(((o,c)=>{ph(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return kr()<=Qn.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Lr(i)),this.fs.getDocumentsMatchingQuery(t,i,Gs.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const jm="LocalStore",zb=3e8;class qb{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ee(Rt),this.Fs=new Ha((c=>Cm(c)),xm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xb(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function Bb(r,t,i,a){return new qb(r,t,i,a)}async function MT(r,t){const i=pt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=It();for(const v of o){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of c){p.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function Hb(r,t){const i=pt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,S){const w=v.batch,V=w.keys();let H=Y.resolve();return V.forEach((X=>{H=H.next((()=>S.getEntry(_,X))).next((J=>{const Z=v.docVersions.get(X);Lt(Z!==null,48541),J.version.compareTo(Z)<0&&(w.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),S.addEntry(J)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=It();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function kT(r){const t=pt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function Fb(r,t){const i=pt(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];t.targetChanges.forEach(((S,w)=>{const V=o.get(w);if(!V)return;p.push(i.li.removeMatchingKeys(c,S.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,w))));let H=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?H=H.withResumeToken(Be.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),o=o.insert(w,H),(function(J,Z,ht){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=zb?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(V,H,S)&&p.push(i.li.updateTargetData(c,H))}));let _=ts(),v=It();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),p.push(Gb(c,d,t.documentUpdates).next((S=>{_=S.Bs,v=S.Ls}))),!a.isEqual(mt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(S)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=o,c)))}function Gb(r,t,i){let a=It(),o=It();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ts();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(mt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):et(jm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function Kb(r,t){const i=pt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Qb(r,t){const i=pt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,Y.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function rm(r,t,i){const a=pt(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!nl(d))throw d;et(jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function wv(r,t,i){const a=pt(r);let o=mt.min(),c=It();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,S){const w=pt(_),V=w.Fs.get(S);return V!==void 0?Y.resolve(w.vs.get(V)):w.li.getTargetData(v,S)})(a,d,wi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:mt.min(),i?c:It()))).next((p=>(Yb(a,Vw(t),p),{documents:p,ks:c})))))}function Yb(r,t,i){let a=r.Ms.get(t)||mt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class bv{constructor(){this.activeTargetIds=Pw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Xb{constructor(){this.vo=new bv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new bv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Jb{Mo(t){}shutdown(){}}const Rv="ConnectivityMonitor";class Iv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){et(Rv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){et(Rv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function lm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const kd="RestConnection",Zb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Wb{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=lm(),p=this.Qo(t,i.toUriEncodedString());et(kd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:v}=new URL(p),S=ko(v);return this.zo(t,p,_,a,S).then((w=>(et(kd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw za(kd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=Zb[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class $b{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const He="WebChannelConnection",ho=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Br extends Wb{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Br.c_){const t=z0();ho(t,j0.STAT_EVENT,(i=>{i.stat===Yd.PROXY?et(He,"STAT_EVENT: detected buffering proxy"):i.stat===Yd.NOPROXY&&et(He,"STAT_EVENT: detected no buffering proxy")})),Br.c_=!0}}zo(t,i,a,o,c){const d=lm();return new Promise(((p,_)=>{const v=new U0;v.setWithCredentials(!0),v.listenOnce(P0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Oc.NO_ERROR:const w=v.getResponseJson();et(He,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Oc.TIMEOUT:et(He,`RPC '${t}' ${d} timed out`),_(new nt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const V=v.getStatus();if(et(He,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const X=H?.error;if(X&&X.status&&X.message){const J=(function(ht){const _t=ht.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(_t)>=0?_t:Q.UNKNOWN})(X.status);_(new nt(J,X.message))}else _(new nt(Q.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new nt(Q.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{et(He,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);et(He,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",S,a,15)}))}T_(t,i,a){const o=lm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const v=c.join("");et(He,`Creating RPC '${t}' stream ${o}: ${v}`,p);const S=d.createWebChannel(v,p);this.I_(S);let w=!1,V=!1;const H=new $b({Ho:X=>{V?et(He,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(w||(et(He,`Opening RPC '${t}' stream ${o} transport.`),S.open(),w=!0),et(He,`RPC '${t}' stream ${o} sending:`,X),S.send(X))},Jo:()=>S.close()});return ho(S,po.EventType.OPEN,(()=>{V||(et(He,`RPC '${t}' stream ${o} transport opened.`),H.i_())})),ho(S,po.EventType.CLOSE,(()=>{V||(V=!0,et(He,`RPC '${t}' stream ${o} transport closed`),H.o_(),this.E_(S))})),ho(S,po.EventType.ERROR,(X=>{V||(V=!0,za(He,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),H.o_(new nt(Q.UNAVAILABLE,"The operation could not be completed")))})),ho(S,po.EventType.MESSAGE,(X=>{if(!V){const J=X.data[0];Lt(!!J,16349);const Z=J,ht=Z?.error||Z[0]?.error;if(ht){et(He,`RPC '${t}' stream ${o} received error:`,ht);const _t=ht.status;let Tt=(function(Et){const N=Ee[Et];if(N!==void 0)return ET(N)})(_t),Ut=ht.message;_t==="NOT_FOUND"&&Ut.includes("database")&&Ut.includes("does not exist")&&Ut.includes(this.databaseId.database)&&za(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Tt===void 0&&(Tt=Q.INTERNAL,Ut="Unknown error status: "+_t+" with message "+ht.message),V=!0,H.o_(new nt(Tt,Ut)),S.close()}else et(He,`RPC '${t}' stream ${o} received:`,J),H.__(J)}})),Br.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return q0()}}function tR(r){return new Br(r)}function Ld(){return typeof document<"u"?document:null}function vh(r){return new sb(r,!0)}Br.c_=!1;class LT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Cv="PersistentStream";class UT{constructor(t,i,a,o,c,d,p,_){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new nt(Q.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return et(Cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(et(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eR extends UT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=lb(this.serializer,t),a=(function(c){if(!("targetChange"in c))return mt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?bi(d.readTime):mt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=am(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=$d(_)?{documents:cb(c,_)}:{query:hb(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=wT(c,d.resumeToken);const v=nm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){p.readTime=$c(c,d.snapshotVersion.toTimestamp());const v=nm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=db(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=am(this.serializer),i.removeTarget=t,this.K_(i)}}class nR extends UT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Lt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Lt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Lt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=ub(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=am(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>ob(this.serializer,a)))};this.K_(i)}}class iR{}class sR extends iR{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new nt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,im(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(Q.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,im(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function aR(r,t,i,a){return new sR(r,t,i,a)}class rR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):et("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class lR{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Fa(this)&&(et(qa,"Restarting streams for network reachability change."),await(async function(_){const v=pt(_);v.Ea.add(4),await Fo(v),v.Va.set("Unknown"),v.Ea.delete(4),await Th(v)})(this))}))})),this.Va=new rR(a,o)}}async function Th(r){if(Fa(r))for(const t of r.Ra)await t(!0)}async function Fo(r){for(const t of r.Ra)await t(!1)}function PT(r,t){const i=pt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Hm(i)?Bm(i):il(i).O_()&&qm(i,t))}function zm(r,t){const i=pt(r),a=il(i);i.Ia.delete(t),a.O_()&&jT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Fa(i)&&i.Va.set("Unknown"))}function qm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}il(r).Z_(t)}function jT(r,t){r.da.$e(t),il(r).X_(t)}function Bm(r){r.da=new tb({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),il(r).start(),r.Va.ua()}function Hm(r){return Fa(r)&&!il(r).x_()&&r.Ia.size>0}function Fa(r){return pt(r).Ea.size===0}function zT(r){r.da=void 0}async function oR(r){r.Va.set("Online")}async function uR(r){r.Ia.forEach(((t,i)=>{qm(r,t)}))}async function cR(r,t){zT(r),Hm(r)?(r.Va.ha(t),Bm(r)):r.Va.set("Unknown")}async function hR(r,t,i){if(r.Va.set("Online"),t instanceof ST&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,t)}catch(a){et(qa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(r,a)}else if(t instanceof Uc?r.da.Xe(t):t instanceof AT?r.da.st(t):r.da.tt(t),!i.isEqual(mt.min()))try{const a=await kT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(v);S&&c.Ia.set(v,S.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Be.EMPTY_BYTE_STRING,S.snapshotVersion)),jT(c,_);const w=new qs(S.target,_,v,S.sequenceNumber);qm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){et(qa,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,t,i){if(!nl(t))throw t;r.Ea.add(1),await Fo(r),r.Va.set("Offline"),i||(i=()=>kT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{et(qa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Th(r)}))}function qT(r,t){return t().catch((i=>eh(r,i,t)))}async function Eh(r){const t=pt(r),i=Xs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;fR(t);)try{const o=await Kb(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,dR(t,o)}catch(o){await eh(t,o)}BT(t)&&HT(t)}function fR(r){return Fa(r)&&r.Ta.length<10}function dR(r,t){r.Ta.push(t);const i=Xs(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function BT(r){return Fa(r)&&!Xs(r).x_()&&r.Ta.length>0}function HT(r){Xs(r).start()}async function mR(r){Xs(r).ra()}async function pR(r){const t=Xs(r);for(const i of r.Ta)t.ea(i.mutations)}async function gR(r,t,i){const a=r.Ta.shift(),o=Om.from(a,t,i);await qT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Eh(r)}async function yR(r,t){t&&Xs(r).Y_&&await(async function(a,o){if((function(d){return Zw(d)&&d!==Q.ABORTED})(o.code)){const c=a.Ta.shift();Xs(a).B_(),await qT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Eh(a)}})(r,t),BT(r)&&HT(r)}async function xv(r,t){const i=pt(r);i.asyncQueue.verifyOperationInProgress(),et(qa,"RemoteStore received new credentials");const a=Fa(i);i.Ea.add(3),await Fo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Th(i)}async function _R(r,t){const i=pt(r);t?(i.Ea.delete(2),await Th(i)):t||(i.Ea.add(2),await Fo(i),i.Va.set("Unknown"))}function il(r){return r.ma||(r.ma=(function(i,a,o){const c=pt(i);return c.sa(),new eR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:oR.bind(null,r),Yo:uR.bind(null,r),t_:cR.bind(null,r),J_:hR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Hm(r)?Bm(r):r.Va.set("Unknown")):(await r.ma.stop(),zT(r))}))),r.ma}function Xs(r){return r.fa||(r.fa=(function(i,a,o){const c=pt(i);return c.sa(),new nR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:mR.bind(null,r),t_:yR.bind(null,r),ta:pR.bind(null,r),na:gR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Eh(r)):(await r.fa.stop(),r.Ta.length>0&&(et(qa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Fm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Fm(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gm(r,t){if($i("AsyncQueue",`${t}: ${r}`),nl(r))return new nt(Q.UNAVAILABLE,`${t}: ${r}`);throw r}class Hr{static emptySet(t){return new Hr(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=go(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Hr)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Hr;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Nv{constructor(){this.ga=new ee(ot.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Jr{constructor(t,i,a,o,c,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Jr(t,i,Hr.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class vR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class TR{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=pt(i),c=o.queries;o.queries=Dv(),c.forEach(((d,p)=>{for(const _ of p.ba)_.onError(a)}))})(this,new nt(Q.ABORTED,"Firestore shutting down"))}}function Dv(){return new Ha((r=>uT(r)),mh)}async function ER(r,t){const i=pt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new vR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Gm(d,`Initialization of query '${Lr(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Km(i)}async function AR(r,t){const i=pt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function SR(r,t){const i=pt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(o)&&(a=!0);d.wa=o}}a&&Km(i)}function wR(r,t,i){const a=pt(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function Km(r){r.Ca.forEach((t=>{t.next()}))}var om,Vv;(Vv=om||(om={})).Ma="default",Vv.Cache="cache";class bR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Jr(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Jr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class FT{constructor(t){this.key=t}}class GT{constructor(t){this.key=t}}class RR{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.eu=cT(t),this.tu=new Hr(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Nv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,w)=>{const V=o.get(S),H=ph(this.query,w)?w:null,X=!!V&&this.mutatedKeys.has(V.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;V&&H?V.data.isEqual(H.data)?X!==J&&(a.track({type:3,doc:H}),Z=!0):this.su(V,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.eu(H,_)>0||v&&this.eu(H,v)<0)&&(p=!0)):!V&&H?(a.track({type:0,doc:H}),Z=!0):V&&!H&&(a.track({type:1,doc:V}),Z=!0,(_||v)&&(p=!0)),Z&&(H?(d=d.add(H),c=J?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,w)=>(function(H,X){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:Z})}};return J(H)-J(X)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Xa;return this.Xa=_,d.length!==0||v?{snapshot:new Jr(this.query,t.tu,c,d,t.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=It(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new GT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new FT(a))})),i}cu(t){this.Za=t.ks,this.Ya=It();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qm="SyncEngine";class IR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class CR{constructor(t){this.key=t,this.hu=!1}}class xR{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ha((p=>uT(p)),mh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ee(ot.comparator),this.Au=new Map,this.Vu=new Lm,this.du={},this.mu=new Map,this.fu=Xr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NR(r,t,i=!0){const a=ZT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await KT(a,t,i,!0),o}async function DR(r,t){const i=ZT(r);await KT(i,t,!0,!1)}async function KT(r,t,i,a){const o=await Qb(r.localStore,wi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await VR(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&PT(r.remoteStore,o),p}async function VR(r,t,i,a,o){r.pu=(w,V,H)=>(async function(J,Z,ht,_t){let Tt=Z.view.ru(ht);Tt.Ss&&(Tt=await wv(J.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,Tt))));const Ut=_t&&_t.targetChanges.get(Z.targetId),rt=_t&&_t.targetMismatches.get(Z.targetId)!=null,Et=Z.view.applyChanges(Tt,J.isPrimaryClient,Ut,rt);return Mv(J,Z.targetId,Et.au),Et.snapshot})(r,w,V,H);const c=await wv(r.localStore,t,!0),d=new RR(t,c.ks),p=d.ru(c.documents),_=Ho.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(p,r.isPrimaryClient,_);Mv(r,i,v.au);const S=new IR(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),v.snapshot}async function OR(r,t,i){const a=pt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!mh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await rm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&zm(a.remoteStore,o.targetId),um(a,o.targetId)})).catch(el)):(um(a,o.targetId),await rm(a.localStore,o.targetId,!0))}async function MR(r,t){const i=pt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),zm(i.remoteStore,a.targetId))}async function kR(r,t,i){const a=BR(r);try{const o=await(function(d,p){const _=pt(d),v=Zt.now(),S=p.reduce(((H,X)=>H.add(X.key)),It());let w,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let X=ts(),J=It();return _.xs.getEntries(H,S).next((Z=>{X=Z,X.forEach(((ht,_t)=>{_t.isValidDocument()||(J=J.add(ht))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,X))).next((Z=>{w=Z;const ht=[];for(const _t of p){const Tt=Kw(_t,w.get(_t.key).overlayedDocument);Tt!=null&&ht.push(new ta(_t.key,Tt,eT(Tt.value.mapValue),On.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,ht,p)})).next((Z=>{V=Z;const ht=Z.applyToLocalDocumentSet(w,J);return _.documentOverlayCache.saveOverlays(H,Z.batchId,ht)}))})).then((()=>({batchId:V.batchId,changes:fT(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let v=d.du[d.currentUser.toKey()];v||(v=new ee(Rt)),v=v.insert(p,_),d.du[d.currentUser.toKey()]=v})(a,o.batchId,i),await Go(a,o.changes),await Eh(a.remoteStore)}catch(o){const c=Gm(o,"Failed to persist write");i.reject(c)}}async function QT(r,t){const i=pt(r);try{const a=await Fb(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Lt(d.hu,14607):o.removedDocuments.size>0&&(Lt(d.hu,42227),d.hu=!1))})),await Go(i,a,t)}catch(a){await el(a)}}function Ov(r,t,i){const a=pt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=pt(d);_.onlineState=p;let v=!1;_.queries.forEach(((S,w)=>{for(const V of w.ba)V.va(p)&&(v=!0)})),v&&Km(_)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function LR(r,t,i){const a=pt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ee(ot.comparator);d=d.insert(c,Ge.newNoDocument(c,mt.min()));const p=It().add(c),_=new _h(mt.min(),new Map,new ee(Rt),d,p);await QT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),Ym(a)}else await rm(a.localStore,t,!1).then((()=>um(a,t,i))).catch(el)}async function UR(r,t){const i=pt(r),a=t.batch.batchId;try{const o=await Hb(i.localStore,t);XT(i,a,null),YT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Go(i,o)}catch(o){await el(o)}}async function PR(r,t,i){const a=pt(r);try{const o=await(function(d,p){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let S;return _.mutationQueue.lookupMutationBatch(v,p).next((w=>(Lt(w!==null,37113),S=w.keys(),_.mutationQueue.removeMutationBatch(v,w)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S))).next((()=>_.localDocuments.getDocuments(v,S)))}))})(a.localStore,t);XT(a,t,i),YT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Go(a,o)}catch(o){await el(o)}}function YT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function XT(r,t,i){const a=pt(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function um(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||JT(r,a)}))}function JT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(zm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),Ym(r))}function Mv(r,t,i){for(const a of i)a instanceof FT?(r.Vu.addReference(a.key,t),jR(r,a)):a instanceof GT?(et(Qm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||JT(r,a.key)):dt(19791,{wu:a})}function jR(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(et(Qm,"New document in limbo: "+i),r.Eu.add(a),Ym(r))}function Ym(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ot(Yt.fromString(t)),a=r.fu.next();r.Au.set(a,new CR(i)),r.Ru=r.Ru.insert(i,a),PT(r.remoteStore,new qs(wi(Nm(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Go(r,t,i){const a=pt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const S=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Pm.Es(_.targetId,v);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(_,v){const S=pt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Y.forEach(v,(V=>Y.forEach(V.Ts,(H=>S.persistence.referenceDelegate.addReference(w,V.targetId,H))).next((()=>Y.forEach(V.Is,(H=>S.persistence.referenceDelegate.removeReference(w,V.targetId,H)))))))))}catch(w){if(!nl(w))throw w;et(jm,"Failed to update sequence numbers: "+w)}for(const w of v){const V=w.targetId;if(!w.fromCache){const H=S.vs.get(V),X=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(X);S.vs=S.vs.insert(V,J)}}})(a.localStore,c))}async function zR(r,t){const i=pt(r);if(!i.currentUser.isEqual(t)){et(Qm,"User change. New user:",t.toKey());const a=await MT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new nt(Q.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Go(i,a.Ns)}}function qR(r,t){const i=pt(r),a=i.Au.get(t);if(a&&a.hu)return It().add(a.key);{let o=It();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function ZT(r){const t=pt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LR.bind(null,t),t.Pu.J_=SR.bind(null,t.eventManager),t.Pu.yu=wR.bind(null,t.eventManager),t}function BR(r){const t=pt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PR.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Bb(this.persistence,new jb,t.initialUser,this.serializer)}Cu(t){return new OT(Um.Vi,this.serializer)}Du(t){return new Xb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class HR extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Lt(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wb(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new OT((a=>th.Vi(a,i)),this.serializer)}}class cm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zR.bind(null,this.syncEngine),await _R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new TR})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),a=tR(t.databaseInfo);return aR(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new lR(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Ov(this.syncEngine,i,0)),(function(){return Iv.v()?new Iv:new Jb})())}createSyncEngine(t,i){return(function(o,c,d,p,_,v,S){const w=new xR(o,c,d,p,_,v);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=pt(i);et(qa,"RemoteStore shutting down."),a.Ea.add(5),await Fo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cm.provider={build:()=>new cm};class FR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Js="FirestoreClient";class GR{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{et(Js,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(et(Js,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Gm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Ud(r,t){r.asyncQueue.verifyOperationInProgress(),et(Js,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await MT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function kv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await KR(r);et(Js,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>xv(t.remoteStore,o))),r._onlineComponents=t}async function KR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){et(Js,"Using user provided OfflineComponentProvider");try{await Ud(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;za("Error using user provided cache. Falling back to memory cache: "+i),await Ud(r,new nh)}}else et(Js,"Using default OfflineComponentProvider"),await Ud(r,new HR(void 0));return r._offlineComponents}async function WT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(et(Js,"Using user provided OnlineComponentProvider"),await kv(r,r._uninitializedComponentsProvider._online)):(et(Js,"Using default OnlineComponentProvider"),await kv(r,new cm))),r._onlineComponents}function QR(r){return WT(r).then((t=>t.syncEngine))}async function Lv(r){const t=await WT(r),i=t.eventManager;return i.onListen=NR.bind(null,t.syncEngine),i.onUnlisten=OR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=DR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=MR.bind(null,t.syncEngine),i}function YR(r,t,i,a){const o=new FR(a),c=new bR(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>ER(await Lv(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>AR(await Lv(r),c)))}}function XR(r,t){const i=new Ma;return r.asyncQueue.enqueueAndForget((async()=>kR(await QR(r),t,i))),i.promise}function $T(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const JR="ComponentProvider",Uv=new Map;function ZR(r,t,i,a,o){return new mw(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,$T(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const tE="firestore.googleapis.com",Pv=!0;class jv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tE,this.ssl=Pv}else this.host=t.host,this.ssl=t.ssl??Pv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ab)throw new nt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Q2;switch(a.type){case"firstParty":return new Z2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new nt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Uv.get(i);a&&(et(JR,"Removing Datastore"),Uv.delete(i),a.terminate())})(this),Promise.resolve()}}function WR(r,t,i,a={}){r=Si(r,Ah);const o=ko(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(e0(`https://${p}`),n0("Firestore",!0)),c.host!==tE&&c.host!==p&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:a};if(!zc(_,d)&&(r._setSettings(_),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=Fe.MOCK_USER;else{v=gA(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new nt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Fe(w)}r._authCredentials=new Y2(new H0(v,S))}}class sl{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new sl(this.firestore,t,this._query)}}class ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ce(this.firestore,t,this._key)}toJSON(){return{type:ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(zo(i,ce._jsonSchema))return new ce(t,a||null,new ot(Yt.fromString(i.referencePath)))}}ce._jsonSchemaVersion="firestore/documentReference/1.0",ce._jsonSchema={type:Se("string",ce._jsonSchemaVersion),referencePath:Se("string")};class Hs extends sl{constructor(t,i,a){super(t,i,Nm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ce(this.firestore,null,new ot(t))}withConverter(t){return new Hs(this.firestore,t,this._path)}}function ih(r,t,...i){if(r=Ie(r),F0("collection","path",t),r instanceof Ah){const a=Yt.fromString(t,...i);return Z_(a),new Hs(r,null,a)}{if(!(r instanceof ce||r instanceof Hs))throw new nt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Yt.fromString(t,...i));return Z_(a),new Hs(r.firestore,null,a)}}function sh(r,t,...i){if(r=Ie(r),arguments.length===1&&(t=wm.newId()),F0("doc","path",t),r instanceof Ah){const a=Yt.fromString(t,...i);return J_(a),new ce(r,null,new ot(a))}{if(!(r instanceof ce||r instanceof Hs))throw new nt(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Yt.fromString(t,...i));return J_(a),new ce(r.firestore,r instanceof Hs?r.converter:null,new ot(a))}}const zv="AsyncQueue";class qv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LT(this,"async_queue_retry"),this._c=()=>{const a=Ld();a&&et(zv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ld();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ld();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ma;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!nl(t))throw t;et(zv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Bv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Fm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:Bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Bv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ba extends Ah{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new qv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qv(t),this._firestoreClient=void 0,await t}}}function $R(r,t){const i=typeof r=="object"?r:t0(),a=typeof r=="string"?r:Yc,o=fm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=pA("firestore");c&&WR(o,...c)}return o}function eE(r){if(r._terminated)throw new nt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tI(r),r._firestoreClient}function tI(r){const t=r._freezeSettings(),i=ZR(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new GR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Be.fromBase64String(t))}catch(i){throw new nt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zo(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Se("string",Vn._jsonSchemaVersion),bytes:Se("string")};class Xm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Sh{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(zo(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Se("string",Ri._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};class Jn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zo(t,Jn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Jn(t.vectorValues);throw new nt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:Se("string",Jn._jsonSchemaVersion),vectorValues:Se("object")};const eI=/^__.*__$/;class nI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ta(t,this.data,this.fieldMask,i,this.fieldTransforms):new Bo(t,this.data,i,this.fieldTransforms)}}class nE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ta(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function iE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:r})}}class Jm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ah(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(iE(this.dataSource)&&eI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class iI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||vh(t)}createContext(t,i,a,o=!1){return new Jm({dataSource:t,methodName:i,targetDoc:a,path:qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(r){const t=r._freezeSettings(),i=vh(r._databaseId);return new iI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function sE(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);Wm("Data must be an object, but it was:",d,a);const p=aE(a,d);let _,v;if(c.merge)_=new yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const V=Zr(t,w,i);if(!d.contains(V))throw new nt(Q.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);oE(S,V)||S.push(V)}_=new yn(S),v=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,v=d.fieldTransforms;return new nI(new an(p),_,v)}class bh extends Sh{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}class Zm extends Sh{_toFieldTransform(t){return new Bw(t.path,new No)}isEqual(t){return t instanceof Zm}}function sI(r,t,i,a){const o=r.createContext(1,t,i);Wm("Data must be an object, but it was:",o,a);const c=[],d=an.empty();$s(a,((_,v)=>{const S=lE(t,_,i);v=Ie(v);const w=o.childContextForFieldPath(S);if(v instanceof bh)c.push(S);else{const V=Ko(v,w);V!=null&&(c.push(S),d.set(S,V))}}));const p=new yn(c);return new nE(d,p,o.fieldTransforms)}function aI(r,t,i,a,o,c){const d=r.createContext(1,t,i),p=[Zr(t,a,i)],_=[o];if(c.length%2!=0)throw new nt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(Zr(t,c[V])),_.push(c[V+1]);const v=[],S=an.empty();for(let V=p.length-1;V>=0;--V)if(!oE(v,p[V])){const H=p[V];let X=_[V];X=Ie(X);const J=d.childContextForFieldPath(H);if(X instanceof bh)v.push(H);else{const Z=Ko(X,J);Z!=null&&(v.push(H),S.set(H,Z))}}const w=new yn(v);return new nE(S,w,d.fieldTransforms)}function rI(r,t,i,a=!1){return Ko(i,r.createContext(a?4:3,t))}function Ko(r,t){if(rE(r=Ie(r)))return Wm("Unsupported field value:",t,r),aE(r,t);if(r instanceof Sh)return(function(a,o){if(!iE(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let _=Ko(p,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=Ie(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return jw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Zt.fromDate(a);return{timestampValue:$c(o.serializer,c)}}if(a instanceof Zt){const c=new Zt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:$c(o.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:wT(o.serializer,a._byteString)};if(a instanceof ce){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Jn)return(function(d,p){const _=d instanceof Jn?d.toArray():d;return{mapValue:{fields:{[$0]:{stringValue:tT},[Xc]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw p.createError("VectorValues must only contain numeric values.");return Dm(p.serializer,S)}))}}}}}})(a,o);if(DT(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${ch(a)}`)})(r,t)}function aE(r,t){const i={};return Q0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$s(r,((a,o)=>{const c=Ko(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function rE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Zt||r instanceof Ri||r instanceof Vn||r instanceof ce||r instanceof Sh||r instanceof Jn||DT(r))}function Wm(r,t,i){if(!rE(i)||!G0(i)){const a=ch(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Zr(r,t,i){if((t=Ie(t))instanceof Xm)return t._internalPath;if(typeof t=="string")return lE(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const lI=new RegExp("[~\\*/\\[\\]]");function lE(r,t,i){if(t.search(lI)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Xm(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new nt(Q.INVALID_ARGUMENT,p+r+_)}function oE(r,t){return r.some((i=>i.isEqual(t)))}class oI{convertValue(t,i="none"){switch(Ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Qs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return $s(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>ue(a.doubleValue)));return new Jn(i)}convertGeoPoint(t){return new Ri(ue(t.latitude),ue(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Io(t));default:return null}}convertTimestamp(t){const i=Ks(t);return new Zt(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Yt.fromString(t);Lt(NT(a),9688,{name:t});const o=new Co(a.get(1),a.get(3)),c=new ot(a.popFirst(5));return o.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class uE extends oI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ce(this.firestore,null,i)}}function Oo(){return new Zm("serverTimestamp")}const Hv="@firebase/firestore",Fv="4.11.0";function Gv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class cE{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Zr("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class uI extends cE{data(){return super.data()}}function cI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $m{}class hI extends $m{}function hE(r,t,...i){let a=[];t instanceof $m&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof tp)).length,p=c.filter((_=>_ instanceof Rh)).length;if(d>1||d>0&&p>0)throw new nt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Rh extends hI{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Rh(t,i,a)}_apply(t){const i=this._parse(t);return dE(t._query,i),new sl(t.firestore,t.converter,tm(t._query,i))}_parse(t){const i=wh(t.firestore);return(function(c,d,p,_,v,S,w){let V;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new nt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Qv(w,S);const X=[];for(const J of w)X.push(Kv(_,c,J));V={arrayValue:{values:X}}}else V=Kv(_,c,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Qv(w,S),V=rI(p,d,w,S==="in"||S==="not-in");return Ae.create(v,S,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function fE(r,t,i){const a=t,o=Zr("where",r);return Rh._create(o,a,i)}class tp extends $m{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new tp(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Wn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let d=o;const p=c.getFlattenedFilters();for(const _ of p)dE(d,_),d=tm(d,_)})(t._query,i),new sl(t.firestore,t.converter,tm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Kv(r,t,i){if(typeof(i=Ie(i))=="string"){if(i==="")throw new nt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oT(t)&&i.indexOf("/")!==-1)throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Yt.fromString(i));if(!ot.isDocumentKey(a))throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return av(r,new ot(a))}if(i instanceof ce)return av(r,i._key);throw new nt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(i)}.`)}function Qv(r,t){if(!Array.isArray(r)||r.length===0)throw new nt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dE(r,t){const i=(function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function mE(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class _o{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ka extends cE{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Zr("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ka._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ka._jsonSchemaVersion="firestore/documentSnapshot/1.0",ka._jsonSchema={type:Se("string",ka._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class Pc extends ka{data(t={}){return super.data(t)}}class Fr{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new _o(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new _o(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Pc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _o(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Pc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new _o(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,S=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:fI(p.type),doc:_,oldIndex:v,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function fI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}Fr._jsonSchemaVersion="firestore/querySnapshot/1.0",Fr._jsonSchema={type:Se("string",Fr._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};function dI(r,t,i){r=Si(r,ce);const a=Si(r.firestore,Ba),o=mE(r.converter,t),c=wh(a);return Ih(a,[sE(c,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,On.none())])}function mI(r,t,i,...a){r=Si(r,ce);const o=Si(r.firestore,Ba),c=wh(o);let d;return d=typeof(t=Ie(t))=="string"||t instanceof Xm?aI(c,"updateDoc",r._key,t,i,a):sI(c,"updateDoc",r._key,t),Ih(o,[d.toMutation(r._key,On.exists(!0))])}function pI(r){return Ih(Si(r.firestore,Ba),[new Vm(r._key,On.none())])}function pE(r,t){const i=Si(r.firestore,Ba),a=sh(r),o=mE(r.converter,t),c=wh(r.firestore);return Ih(i,[sE(c,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,On.exists(!1))]).then((()=>a))}function ep(r,...t){r=Ie(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Gv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Gv(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,p;if(r instanceof ce)d=Si(r.firestore,Ba),p=Nm(r._key.path),c={next:v=>{t[a]&&t[a](gI(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=Si(r,sl);d=Si(v.firestore,Ba),p=v._query;const S=new uE(d);c={next:w=>{t[a]&&t[a](new Fr(d,S,v,w))},error:t[a+1],complete:t[a+2]},cI(r._query)}const _=eE(d);return YR(_,p,o,c)}function Ih(r,t){const i=eE(r);return XR(i,t)}function gI(r,t,i){const a=i.docs.get(t._key),o=new uE(r);return new ka(r,o,t._key,a,new _o(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){K2(Wr),Bd(new Hd("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ba(new X2(a.getProvider("auth-internal")),new W2(d,a.getProvider("app-check-internal")),pw(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),wo(Hv,Fv,t),wo(Hv,Fv,"esm2020")})();const yI={apiKey:"AIzaSyDvRoWoEBdqdS85YJApVdKG5KcPOYzOg6k",authDomain:"studio-6082148059-d1fec.web.app",projectId:"studio-6082148059-d1fec",storageBucket:"studio-6082148059-d1fec.appspot.com",messagingSenderId:"144415804580",appId:"1:144415804580:web:7e6465f633e54e8e186a31"},gE=_A(yI),Zn=B2(gE),_I=new Yi,La=$R(gE),Ch=()=>{const[r,t]=it.useState(null),[i,a]=it.useState(!0);return it.useEffect(()=>{const o=DS(Zn,c=>{t(c),a(!1)});return()=>o()},[]),{user:r,loading:i}},yE=it.createContext(),np=()=>it.useContext(yE),vI=({message:r,onDismiss:t})=>E.jsx($.div,{className:"aurora-card notification",initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},onClick:t,children:r}),TI=({children:r})=>{const[t,i]=it.useState([]),a=it.useCallback(c=>{const d=Date.now();i(p=>[...p,{id:d,message:c}])},[]);it.useEffect(()=>{if(t.length===0)return;const c=t.map(d=>setTimeout(()=>{i(p=>p.filter(_=>_.id!==d.id))},5e3));return()=>c.forEach(clearTimeout)},[t]);const o=c=>{i(d=>d.filter(p=>p.id!==c))};return E.jsxs(yE.Provider,{value:{notify:a},children:[r,E.jsx("div",{className:"notification-container",children:E.jsx(Fs,{children:t.map(({id:c,message:d})=>E.jsx(vI,{message:d,onDismiss:()=>o(c)},c))})})]})};function EI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(r)}function AI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(r)}function SI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(r)}function wI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(r)}function bI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(r)}function _E(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(r)}function RI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(r)}function II(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function Yv(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(r)}function CI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function xI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(r)}function Pd(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Xv(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(r)}function NI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function DI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function VI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(r)}function OI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(r)}function MI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"20",y2:"19"},child:[]}]})(r)}function kI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function LI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(r)}function jc(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function UI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}function PI(r){return ne({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(r)}const jI=()=>{const{notify:r}=np(),[t,i]=it.useState(!1),[a,o]=it.useState(!1),[c,d]=it.useState(""),[p,_]=it.useState(""),[v,S]=it.useState(""),w=async()=>{i(!0);try{await ZS(Zn,_I),r("Welcome to HomeBase Pro! ")}catch{r("Sign-in failed. Please try again.")}finally{i(!1)}},V=async Z=>{if(Z.preventDefault(),p!==v){r("Passwords do not match");return}i(!0);try{await bS(Zn,c,p),r("Welcome to HomeBase Pro! ")}catch(ht){r(ht.message)}finally{i(!1)}},H=async Z=>{Z.preventDefault(),i(!0);try{await RS(Zn,c,p),r("Welcome back! ")}catch(ht){r(ht.message)}finally{i(!1)}},X={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},J={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return E.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px",position:"relative",overflow:"hidden"},children:[E.jsx($.div,{style:{position:"absolute",width:"300px",height:"300px",borderRadius:"50%",background:"radial-gradient(circle, var(--accent-primary) 0%, transparent 70%)",filter:"blur(60px)",opacity:.3},animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),E.jsx($.div,{style:{position:"absolute",width:"400px",height:"400px",borderRadius:"50%",background:"radial-gradient(circle, var(--accent-secondary) 0%, transparent 70%)",filter:"blur(80px)",opacity:.2,right:"10%",bottom:"10%"},animate:{x:[0,-80,0],y:[0,80,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),E.jsxs($.div,{className:"aurora-card",style:{padding:"3rem",textAlign:"center",maxWidth:"420px",width:"100%",position:"relative",zIndex:1},variants:X,initial:"hidden",animate:"visible",children:[E.jsx($.div,{variants:J,children:E.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 1.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)"},children:""})}),E.jsx($.h1,{variants:J,style:{fontSize:"2rem",fontWeight:700,marginBottom:"0.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"HomeBase Pro"}),E.jsx($.p,{variants:J,style:{color:"var(--text-secondary)",marginBottom:"2rem",fontSize:"1rem"},children:"The Future of Portfolio Management"}),E.jsxs($.button,{variants:J,className:"aurora-button",onClick:w,disabled:t,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",padding:"14px 24px",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"1.5rem",opacity:t?.7:1,cursor:t?"wait":"pointer"},children:[t?E.jsx($.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:""}):E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t?"Signing in...":"Sign in with Google"]}),E.jsxs($.div,{variants:J,style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",color:"var(--text-secondary)",fontSize:"0.875rem"},children:[E.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}}),E.jsx("span",{children:"or"}),E.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}})]}),E.jsx($.div,{variants:J,children:a?E.jsxs("form",{onSubmit:V,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[E.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:Z=>d(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:p,onChange:Z=>_(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Confirm Password",value:v,onChange:Z=>S(Z.target.value),className:"aurora-input",required:!0}),E.jsx("button",{type:"submit",className:"aurora-button",disabled:t,children:t?"Creating Account...":"Sign Up"})]}):E.jsxs("form",{onSubmit:H,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[E.jsx("input",{type:"email",placeholder:"Email",value:c,onChange:Z=>d(Z.target.value),className:"aurora-input",required:!0}),E.jsx("input",{type:"password",placeholder:"Password",value:p,onChange:Z=>_(Z.target.value),className:"aurora-input",required:!0}),E.jsx("button",{type:"submit",className:"aurora-button",disabled:t,children:t?"Signing In...":"Sign In"})]})}),E.jsx($.div,{variants:J,style:{marginTop:"1rem"},children:E.jsx("button",{onClick:()=>o(!a),className:"aurora-button secondary",style:{width:"100%"},children:a?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),E.jsx($.div,{variants:J,style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",padding:"1rem",background:"rgba(127, 90, 240, 0.1)",borderRadius:"12px",marginTop:"1.5rem"},children:[{icon:"",label:"Analytics"},{icon:"",label:"Deploy"},{icon:"",label:"Secure"}].map((Z,ht)=>E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"4px"},children:Z.icon}),E.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:Z.label})]},ht))}),E.jsxs($.div,{variants:J,style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"2rem",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(bI,{size:12})," Website"]}),E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(wI,{size:12})," GitHub"]}),E.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(LI,{size:12})," Twitter"]})]}),E.jsx($.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},style:{fontSize:"0.625rem",color:"var(--text-secondary)",marginTop:"1rem",opacity:.5},children:" Try the Konami code for a surprise..."})]})]})},vE=it.createContext(),zI=({children:r})=>{const[t,i]=it.useState(()=>localStorage.getItem("theme")||"dark");it.useEffect(()=>{document.body.className=t,localStorage.setItem("theme",t)},[t]);const a=()=>{i(c=>c==="light"?"dark":"light")},o=it.useMemo(()=>({theme:t,toggleTheme:a}),[t]);return E.jsx(vE.Provider,{value:o,children:r})},qI=()=>{const r=it.useContext(vE);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},BI=()=>{const{theme:r,toggleTheme:t}=qI();return E.jsx($.button,{className:"aurora-button secondary theme-toggle-btn",onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Switch to ${r==="light"?"dark":"light"} mode`,children:E.jsx(Fs,{mode:"wait",children:r==="light"?E.jsx($.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:E.jsx(xI,{})},"moon"):E.jsx($.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:E.jsx(OI,{})},"sun")})})},HI=()=>{const r=Zn.currentUser,[t,i]=it.useState(!1),a=[{to:"/",text:"Dashboard",icon:E.jsx(_E,{}),color:"#7F5AF0"},{to:"/projects",text:"Projects",icon:E.jsx(AI,{}),color:"#2CB67D"},{to:"/analytics",text:"Analytics",icon:E.jsx(EI,{}),color:"#F2B900"},{to:"/termux",text:"Termux",icon:E.jsx(MI,{}),color:"#00D4AA"},{to:"/profile",text:"Profile",icon:E.jsx(jc,{}),color:"#E91E63"},{to:"/settings",text:"Settings",icon:E.jsx(DI,{}),color:"#FF6B6B"}],o=()=>{Zn.signOut(),i(!1)},c={hidden:{x:-100,opacity:0},visible:{x:0,opacity:1,transition:{duration:.5,ease:[.4,0,.2,1],staggerChildren:.1,delayChildren:.2}}},d={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{duration:.3}}};return E.jsxs(E.Fragment,{children:[E.jsx($.button,{className:"mobile-menu-btn",onClick:()=>i(!t),"aria-label":"Toggle menu",whileTap:{scale:.95},children:E.jsx(Fs,{mode:"wait",children:t?E.jsx($.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:E.jsx(UI,{size:24})},"close"):E.jsx($.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:E.jsx(CI,{size:24})},"menu")})}),E.jsx(Fs,{children:t&&E.jsx($.div,{className:"mobile-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)})}),E.jsxs($.aside,{className:`sidebar-container ${t?"mobile-open":""}`,variants:c,initial:"hidden",animate:"visible",children:[E.jsxs($.div,{className:"sidebar-header",variants:d,children:[E.jsx($.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:E.jsx("h1",{className:"sidebar-logo",children:"HomeBase"})}),E.jsx($.span,{className:"sidebar-version",whileHover:{scale:1.1},animate:{boxShadow:["0 0 0 rgba(127, 90, 240, 0)","0 0 20px rgba(127, 90, 240, 0.5)","0 0 0 rgba(127, 90, 240, 0)"]},transition:{duration:2,repeat:1/0},children:"Pro"})]}),E.jsx("nav",{className:"sidebar-nav",children:a.map((p,_)=>E.jsx($.div,{variants:d,custom:_,children:E.jsx(tA,{to:p.to,className:"nav-link",onClick:()=>i(!1),children:({isActive:v})=>E.jsxs($.div,{style:{display:"flex",alignItems:"center",gap:"12px",width:"100%"},whileHover:{x:4},whileTap:{scale:.98},children:[E.jsx($.span,{className:"nav-icon",animate:v?{color:p.color,scale:[1,1.2,1]}:{},transition:{duration:.3},style:{color:v?p.color:void 0},children:p.icon}),E.jsx("span",{className:"nav-text",children:p.text}),v&&E.jsx($.div,{layoutId:"activeIndicator",className:"active-indicator",style:{background:p.color},transition:{type:"spring",stiffness:500,damping:30}})]})})},p.to))}),E.jsxs($.div,{className:"sidebar-footer",variants:d,children:[E.jsxs($.div,{className:"user-profile",whileHover:{scale:1.02},children:[E.jsx($.div,{className:"user-avatar",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5},children:r?.photoURL?E.jsx("img",{src:r.photoURL,alt:r.displayName}):r?.displayName?.[0]||"?"}),E.jsxs("div",{className:"user-info",children:[E.jsx($.span,{className:"user-name",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},children:r?.displayName||"Guest"}),E.jsx("span",{className:"user-email",children:r?.email})]})]}),E.jsxs("div",{className:"sidebar-actions",children:[E.jsx(BI,{}),E.jsxs($.button,{className:"aurora-button secondary sign-out-btn",onClick:o,whileHover:{scale:1.02},whileTap:{scale:.98},children:[E.jsx(II,{}),E.jsx("span",{children:"Sign Out"})]})]})]}),E.jsx($.div,{className:"sidebar-credits",variants:d,initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:E.jsx("span",{children:"v2.0  Made with "})})]})]})},FI=({children:r})=>E.jsxs("div",{className:"dashboard-layout",children:[E.jsx(HI,{}),E.jsx("main",{className:"dashboard-main",children:r})]}),ip=()=>{const[r,t]=it.useState([]),[i,a]=it.useState(!0),o=Zn.currentUser;return it.useEffect(()=>{if(!o){a(!1);return}const p=hE(ih(La,"projects"),fE("userId","==",o.uid)),_=ep(p,v=>{const S=[];v.forEach(w=>{S.push({...w.data(),id:w.id})}),t(S),a(!1)});return()=>_()},[o]),{projects:r,loading:i,addProject:async p=>{o&&await pE(ih(La,"projects"),{...p,userId:o.uid,createdAt:Oo(),lastUpdated:Oo()})},deleteProject:async p=>{await pI(sh(La,"projects",p))}}},Qo=()=>E.jsx("div",{className:"loader-container",children:E.jsx("div",{className:"loader-spinner"})}),GI=()=>{const{projects:r,loading:t,addProject:i,deleteProject:a}=ip(),[o,c]=it.useState("All"),[d,p]=it.useState(""),[_,v]=it.useState("grid"),[S,w]=it.useState(!1),[V,H]=it.useState({title:"",tags:"",description:""}),{notify:X}=np(),J=async rt=>{if(rt.preventDefault(),!V.title.trim()){X("Project title is required");return}await i({...V,tags:V.tags.split(",").map(Et=>Et.trim()).filter(Et=>Et),status:"Active"}),H({title:"",tags:"",description:""}),w(!1),X("Project added successfully! ")},Z=async(rt,Et)=>{window.confirm(`Delete "${Et}"? This cannot be undone.`)&&(await a(rt),X("Project deleted"))};if(t)return E.jsx(Qo,{});const ht=r.filter(rt=>{const Et=o==="All"||rt.status===o,N=!d||rt.title?.toLowerCase().includes(d.toLowerCase())||rt.tags?.some(b=>b.toLowerCase().includes(d.toLowerCase()));return Et&&N}),_t={Active:"#2CB67D",Pending:"#F2B900",Completed:"#7F5AF0"},Tt={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},Ut={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return E.jsxs("div",{className:"projects-container",children:[E.jsxs($.header,{className:"page-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[E.jsxs("div",{children:[E.jsx($.h1,{className:"page-title",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:"Projects"}),E.jsx($.p,{className:"page-subtitle",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Manage and track your portfolio projects"})]}),E.jsxs($.div,{className:"stats-badge",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30,delay:.3},children:[E.jsx("span",{children:r.length})," Projects"]})]}),E.jsxs($.div,{className:"toolbar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[E.jsx("div",{className:"filter-tabs",children:["All","Active","Pending","Completed"].map(rt=>E.jsx($.button,{className:`filter-tab ${o===rt?"active":""}`,onClick:()=>c(rt),whileHover:{scale:1.05},whileTap:{scale:.95},style:o===rt?{background:_t[rt]||"var(--accent-primary)"}:{},children:rt},rt))}),E.jsxs("div",{className:"toolbar-actions",children:[E.jsxs("div",{className:"search-box",children:[E.jsx(NI,{className:"search-icon"}),E.jsx("input",{type:"text",placeholder:"Search projects...",value:d,onChange:rt=>p(rt.target.value),className:"search-input"})]}),E.jsxs("div",{className:"view-toggle",children:[E.jsx($.button,{className:_==="grid"?"active":"",onClick:()=>v("grid"),whileHover:{scale:1.1},whileTap:{scale:.9},children:E.jsx(_E,{})}),E.jsx($.button,{className:_==="list"?"active":"",onClick:()=>v("list"),whileHover:{scale:1.1},whileTap:{scale:.9},children:E.jsx(RI,{})})]}),E.jsxs($.button,{className:"aurora-button",onClick:()=>w(!0),whileHover:{scale:1.05},whileTap:{scale:.95},children:[E.jsx(Pd,{})," Add Project"]})]})]}),E.jsx($.div,{layout:!0,className:`project-grid ${_}`,variants:Tt,initial:"hidden",animate:"visible",children:E.jsx(Fs,{mode:"popLayout",children:ht.length>0?ht.map((rt,Et)=>E.jsxs($.div,{layout:!0,variants:Ut,initial:"hidden",animate:"visible",exit:{opacity:0,scale:.8},transition:{duration:.3},className:"aurora-card project-card",whileHover:{y:-5,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[E.jsxs("div",{className:"project-card-header",children:[E.jsx("h3",{className:"project-card-title",children:rt.title}),E.jsx($.div,{className:"status-dot",style:{backgroundColor:_t[rt.status]||"#888"},title:rt.status,whileHover:{scale:1.5},animate:{boxShadow:[`0 0 0 ${_t[rt.status]||"#888"}`,`0 0 10px ${_t[rt.status]||"#888"}`,`0 0 0 ${_t[rt.status]||"#888"}`]},transition:{duration:2,repeat:1/0}})]}),rt.description&&E.jsx("p",{className:"project-description",children:rt.description}),E.jsxs("p",{className:"project-meta",children:["Updated ",rt.lastUpdated?.toDate?new Date(rt.lastUpdated.toDate()).toLocaleDateString():"Recently"]}),E.jsx("div",{className:"project-card-tags",children:rt.tags?.map((N,b)=>E.jsx($.span,{className:"tech-tag",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:b*.1},whileHover:{scale:1.1},children:N},N))}),E.jsxs("div",{className:"project-card-footer",children:[E.jsx("div",{className:"project-stats",children:E.jsxs("span",{children:["#",String(Et+1).padStart(3,"0")]})}),E.jsx($.button,{className:"delete-btn",onClick:()=>Z(rt.id,rt.title),title:"Delete Project",whileHover:{scale:1.2,color:"#E53E3E"},whileTap:{scale:.9},children:E.jsx(kI,{})})]})]},rt.id)):E.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},className:"empty-state aurora-card",children:[E.jsx($.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),E.jsxs("p",{children:["No projects found",d?` for "${d}"`:"","."]}),E.jsx("p",{style:{fontSize:"0.875rem",opacity:.7},children:d?"Try a different search term":"Add one to get started!"})]})})}),E.jsx(Fs,{children:S&&E.jsx($.div,{className:"modal-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>w(!1),children:E.jsx($.div,{className:"aurora-card modal-content",initial:{y:-50,opacity:0,scale:.9},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.9},onClick:rt=>rt.stopPropagation(),children:E.jsxs("form",{onSubmit:J,className:"add-project-form",children:[E.jsxs("h2",{className:"modal-title",children:[E.jsx(Pd,{style:{verticalAlign:"middle",marginRight:"8px"}}),"Add New Project"]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"project-title",children:"Project Title *"}),E.jsx("input",{id:"project-title",type:"text",className:"aurora-input",value:V.title,onChange:rt=>H({...V,title:rt.target.value}),placeholder:"e.g., My Awesome App",required:!0,autoFocus:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"project-description",children:"Description"}),E.jsx("textarea",{id:"project-description",className:"aurora-input",value:V.description,onChange:rt=>H({...V,description:rt.target.value}),placeholder:"Brief description of your project...",rows:3,style:{resize:"vertical"}})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"project-tags",children:"Tags (comma-separated)"}),E.jsx("input",{id:"project-tags",type:"text",className:"aurora-input",value:V.tags,onChange:rt=>H({...V,tags:rt.target.value}),placeholder:"e.g., React, Node.js, AI"})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx($.button,{type:"button",className:"aurora-button secondary",onClick:()=>w(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),E.jsxs($.button,{type:"submit",className:"aurora-button",whileHover:{scale:1.02},whileTap:{scale:.98},children:[E.jsx(Pd,{style:{marginRight:"4px"}})," Add Project"]})]})]})})})})]})},KI=()=>{const{projects:r,loading:t}=ip(),[i,a]=it.useState({totalProjects:0,activeProjects:0,completedProjects:0,projectsByTag:{}});return it.useEffect(()=>{if(!t){const o=r.length,c=r.filter(_=>_.status==="Active").length,d=r.filter(_=>_.status==="Completed").length,p=r.reduce((_,v)=>(v.tags?.forEach(S=>{_[S]=(_[S]||0)+1}),_),{});a({totalProjects:o,activeProjects:c,completedProjects:d,projectsByTag:p})}},[r,t]),{stats:i,loading:t}},QI=()=>{const{stats:r,loading:t}=KI();return t?E.jsx(Qo,{}):E.jsxs("div",{className:"analytics-container",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Analytics"}),E.jsx("p",{className:"page-subtitle",children:"An overview of your project landscape"})]}),E.jsxs("div",{className:"stats-grid",children:[E.jsxs($.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Total Projects"}),E.jsx("p",{children:r.totalProjects})]}),E.jsxs($.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Active Projects"}),E.jsx("p",{children:r.activeProjects})]}),E.jsxs($.div,{className:"aurora-card stat-card",children:[E.jsx("h3",{children:"Completed Projects"}),E.jsx("p",{children:r.completedProjects})]})]}),E.jsxs("div",{className:"aurora-card chart-card",children:[E.jsx("h3",{children:"Projects by Tag"}),Object.entries(r.projectsByTag).map(([i,a])=>E.jsxs("div",{className:"chart-bar",children:[E.jsx("span",{className:"chart-label",children:i}),E.jsx("div",{className:"chart-value",style:{width:`${r.totalProjects>0?a/r.totalProjects*100:0}%`},children:a})]},i))]})]})},YI=()=>{const[r,t]=it.useState(null),[i,a]=it.useState(!0),{user:o}=Ch();return it.useEffect(()=>{if(!o){t(null),a(!1);return}a(!0);const d=sh(La,"users",o.uid),p=ep(d,_=>{if(_.exists())t(_.data());else{const v={displayName:o.displayName,email:o.email,photoURL:o.photoURL,createdAt:Oo()};dI(d,v).catch(()=>{}),t(v)}a(!1)},()=>{a(!1)});return()=>p()},[o]),{userProfile:r,loading:i,updateUserProfile:async d=>{if(!o)return;const p=sh(La,"users",o.uid);await mI(p,{...d,updatedAt:Oo()})},user:o}},XI=()=>{const{userProfile:r,loading:t,updateUserProfile:i}=YI(),[a,o]=it.useState(""),{notify:c}=np();it.useEffect(()=>{r&&o(r.displayName||"")},[r]);const d=async p=>{p.preventDefault(),await i({displayName:a}),c("Settings saved successfully!")};return t?E.jsx(Qo,{}):E.jsxs("div",{className:"settings-container",children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:"Settings"}),E.jsx("p",{className:"page-subtitle",children:"Manage your profile and application settings"})]}),E.jsx($.div,{className:"aurora-card",children:E.jsxs("form",{onSubmit:d,style:{padding:"var(--space-5)"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Display Name"}),E.jsx("input",{type:"text",className:"form-input",value:a,onChange:p=>o(p.target.value)})]}),E.jsx("div",{className:"form-actions",children:E.jsx("button",{type:"submit",className:"aurora-button",children:"Save Changes"})})]})})]})},Jv={ls:"eza",ll:"eza -l --icons --git --header",la:"eza -la --icons --git",cat:"bat",gs:"git status",ga:"git add .",gc:"git commit -m",gp:"git push",gpl:"git pull",gpp:"git push",nv:"nvim",h:"cd ~",u:"cd /storage/emulated/0/Download",up:"pkg update && pkg upgrade -y",cl:"pkg autoclean && rm -rf ~/.cache/*","savage-clean":"up && cl","backup-config":"cp ~/.zshrc ~/.zshrc.bak",py:"python"},JI=r=>{const[t]=r.split(" ");return Jv[t]?Jv[t]+r.substring(t.length):r},ZI=(r,t)=>{if(r.startsWith("eza")){if(!t||t.length===0)return"No projects found.";let i=`Projects:
`;return r.includes("-l")?i+=t.map(a=>`drwxr-xr-x  - staff ${new Date(a.createdAt?.toDate()).toLocaleDateString()}  ${a.title}`).join(`
`):i+=t.map(a=>` ${a.title}`).join("  "),i}if(r.startsWith("bat")){const i=r.split(" ").slice(1).join(" "),a=t.find(o=>o.title.toLowerCase()===i.toLowerCase());return a?`--- Project: ${a.title} ---
Status: ${a.status}
Description: ${a.description||"N/A"}
Tags: ${a.tags?.join(", ")||"N/A"}`:`File not found: ${i}`}return r.startsWith("git")?"Git commands are not fully functional in this simulated environment. Use the Projects page to manage your portfolio.":null},WI=(r,t)=>{if(/^(hello|hi|hey|greetings)/.test(r)){const i=["Greetings, human. I'm Online and ready to assist.","Hello! The matrix has you... just kidding. How can I help?"];return i[Math.floor(Math.random()*i.length)]}if(r==="help"||r==="?")return`HomeBase Pro - Savage Edition Help:

  CORE COMMANDS:
   projects      - List all your projects (alias: ls)
   bat <project> - Show details for a specific project (alias: cat)
   stats         - Show project statistics
   ai <prompt>   - Ask Gemini AI anything (powered by Firebase AI)
   clear         - Clear terminal screen
   whoami        - Show current user info
   date          - Show current date/time
   uptime        - Show simulated system uptime

  SAVAGE ALIASES:
   ll, la        - Detailed project listings
   gs, ga, gp    - Simulated Git commands
   up, cl        - Simulated system maintenance
   h             - Go to 'home' (simulated)
   nv            - Open Neovim (simulated)
    `;if(r==="whoami")return Zn.currentUser?`Logged in as: ${Zn.currentUser.displayName} (${Zn.currentUser.email})`:"Not logged in";if(r==="date")return new Date().toLocaleString();if(r==="stats"){if(!t||t.length===0)return"No project data to analyze.";const i=t.filter(o=>o.status==="Active").length,a=t.filter(o=>o.status==="Completed").length;return`Project Stats:
   Total Projects: ${t.length}
   Active: ${i}
   Completed: ${a}`}return r==="projects"?TE("eza -l",t):r==="uptime"?`System uptime: ${Math.floor(Math.random()*999)} days...`:null},TE=(r,t,i)=>{const a=r.toLowerCase().trim(),o=ZI(a,t);if(o)return o;const c=WI(a,t);return c||(a==="clear"?(i(),null):["nvim","cd ~","pkg update && pkg upgrade -y","pkg autoclean && rm -rf ~/.cache/*"].includes(a)?`Simulating command: ${a}`:`Command not found: ${r}. Type "help" for a list of commands.`)},$I=()=>{const[r,t]=it.useState([{type:"response",text:"Welcome to HomeBase Pro - Savage Edition. Type 'help' for commands."}]),[i,a]=it.useState(!0),[o,c]=it.useState([]),d=Zn.currentUser;it.useEffect(()=>{if(!d){a(!1);return}const v=hE(ih(La,"projects"),fE("userId","==",d.uid)),S=ep(v,w=>{const V=[];w.forEach(H=>{V.push({...H.data(),id:H.id})}),c(V),a(!1)});return()=>S()},[d]);const p=it.useCallback(async v=>{if(!d)return;const S=v.trim(),w=JI(S),V={type:"command",text:S};if(w.startsWith("ai ")){const H=w.slice(3);t(X=>[...X,V]);try{const X=vA(),Z=await TA(X,{model:"gemini-1.5-flash"}).generateContentStream(H);let ht="";for await(const _t of Z.stream)ht+=_t.text(),t(Tt=>{const Ut=[...Tt];return Ut[Ut.length-1]={type:"response",text:ht},Ut})}catch(X){t(J=>[...J,{type:"response",text:`AI Error: ${X.message}`}])}}else{const H=TE(w,o);H!==null&&t(X=>[...X,V,{type:"response",text:H}])}try{await pE(ih(La,"terminal-history"),{type:"command",text:S,userId:d.uid,createdAt:Oo()})}catch{}},[d,o]),_=it.useCallback(()=>{t([{type:"response",text:'Terminal cleared. Type "help" for commands.'}])},[]);return{history:r,loading:i,executeCommand:p,clear:_,projects:o}},tC=()=>{const[r,t]=it.useState(""),{history:i,loading:a,executeCommand:o,clear:c}=$I(),d=it.useRef(null),p=it.useRef(null),_=w=>{t(w.target.value)},v=async w=>{w.preventDefault(),r.trim()&&(await o(r),t(""))};it.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[i]),it.useEffect(()=>{p.current?.focus()},[]);const S=()=>{p.current?.focus()};return it.useEffect(()=>{const w=V=>{(V.ctrlKey||V.metaKey)&&V.key==="l"&&(V.preventDefault(),c()),V.key==="Escape"&&p.current?.focus()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[c]),E.jsxs($.div,{className:"terminal-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:S,children:[E.jsxs("div",{className:"terminal-header",children:[E.jsxs("div",{className:"terminal-buttons",children:[E.jsx("span",{className:"button red"}),E.jsx("span",{className:"button yellow"}),E.jsx("span",{className:"button green"})]}),E.jsx("div",{className:"terminal-title",children:"Termux"})]}),E.jsxs("div",{className:"terminal-body",children:[E.jsxs("div",{className:"output-area",children:[a&&E.jsx("div",{children:"Loading terminal history..."}),E.jsx(Fs,{children:i.map((w,V)=>E.jsxs($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:`output-line ${w.type}`,children:[w.type==="command"&&E.jsx("span",{className:"prompt-symbol",children:"$ "}),E.jsx("span",{className:"output-text",children:w.text})]},V))}),E.jsx("div",{ref:d})]}),E.jsxs("form",{onSubmit:v,className:"terminal-input-form",children:[E.jsxs("span",{className:"prompt",children:[E.jsx("span",{className:"prompt-user",children:"homebase"}),E.jsx("span",{className:"prompt-at",children:"@"}),E.jsx("span",{className:"prompt-host",children:"pro"}),E.jsx("span",{className:"prompt-symbol",children:":$ "})]}),E.jsx("input",{ref:p,type:"text",value:r,onChange:_,className:"terminal-input",autoFocus:!0,autoComplete:"off",spellCheck:"false"}),E.jsx($.span,{className:"cursor",animate:{opacity:[1,0]},transition:{duration:.5,repeat:1/0},children:""})]})]}),E.jsx("div",{className:"terminal-footer",children:E.jsxs("span",{className:"terminal-hint",children:[E.jsx("kbd",{children:"Ctrl"})," + ",E.jsx("kbd",{children:"L"})," to clear  Type ",E.jsx("code",{children:"help"})," for commands"]})})]})},eC=()=>{const{projects:r,loading:t}=ip();return t?E.jsx(Qo,{}):E.jsx("div",{children:E.jsx(tC,{projects:r})})};function nC(){const{user:r}=Ch(),[t,i]=it.useState(""),[a,o]=it.useState(""),[c,d]=it.useState(!1),[p,_]=it.useState(""),[v,S]=it.useState(!1);it.useEffect(()=>{r&&(i(r.displayName||""),o(r.email||""))},[r]);const w=async X=>{X.preventDefault(),d(!0),_("");try{r&&(await CS(r,{displayName:t.trim()||null}),_("Profile updated successfully! "),S(!1))}catch(J){_("Error: "+J.message)}finally{d(!1)}};if(!r)return E.jsx("div",{className:"aurora-card",style:{padding:"2rem",textAlign:"center"},children:E.jsx("h2",{children:"Please sign in to view your profile."})});const V={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.1}}},H={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return E.jsxs($.div,{className:"profile-container",variants:V,initial:"hidden",animate:"visible",children:[E.jsxs($.header,{className:"page-header",variants:H,children:[E.jsx("h1",{className:"page-title",children:"litreelabmeta Profile"}),E.jsx("p",{className:"page-subtitle",children:"Manage your HomeBase Pro identity"})]}),E.jsx($.div,{className:"aurora-card",variants:H,style:{padding:"2rem",marginBottom:"2rem",background:"linear-gradient(135deg, rgba(127, 90, 240, 0.1), rgba(44, 182, 125, 0.1))"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem",flexWrap:"wrap"},children:[E.jsxs($.div,{style:{width:"100px",height:"100px",borderRadius:"50%",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem",fontWeight:"bold",color:"white",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)",position:"relative"},whileHover:{scale:1.05},animate:{boxShadow:["0 10px 40px rgba(127, 90, 240, 0.4)","0 10px 60px rgba(127, 90, 240, 0.6)","0 10px 40px rgba(127, 90, 240, 0.4)"]},transition:{duration:2,repeat:1/0},children:[r.photoURL?E.jsx("img",{src:r.photoURL,alt:t,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):t?.charAt(0)?.toUpperCase()||E.jsx(jc,{}),E.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",background:"#2CB67D",borderRadius:"50%",border:"3px solid var(--background-primary)"}})]}),E.jsxs("div",{style:{flex:1},children:[E.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"0.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:t||"litreelabmeta"}),E.jsxs("p",{style:{color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx(Yv,{size:16})," ",a]}),E.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",fontFamily:"var(--font-mono)"},children:["ID: ",r.uid?.slice(0,8),"...",r.uid?.slice(-8)]})]}),E.jsxs($.button,{className:"aurora-button secondary",onClick:()=>S(!v),whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v?E.jsx(Xv,{}):E.jsx(SI,{}),v?"Cancel":"Edit Profile"]})]})}),E.jsx($.div,{variants:H,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[{icon:E.jsx(VI,{}),label:"Status",value:r.emailVerified?"Verified ":"Unverified",color:r.emailVerified?"#2CB67D":"#F2B900"},{icon:E.jsx(PI,{}),label:"Provider",value:r.providerData[0]?.providerId?.split(".")[0]||"Google",color:"#7F5AF0"},{icon:E.jsx(jc,{}),label:"Member Since",value:r.metadata?.creationTime?new Date(r.metadata.creationTime).toLocaleDateString():"N/A",color:"#00D4AA"}].map((X,J)=>E.jsxs($.div,{className:"aurora-card",style:{padding:"1.5rem",textAlign:"center",borderLeft:`4px solid ${X.color}`},whileHover:{y:-5},children:[E.jsx("div",{style:{fontSize:"2rem",color:X.color,marginBottom:"0.5rem"},children:X.icon}),E.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:X.label}),E.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:X.value})]},J))}),E.jsx(Fs,{children:v&&E.jsxs($.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"aurora-card",style:{padding:"2rem"},children:[E.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Edit Profile"}),E.jsxs("form",{onSubmit:w,children:[E.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx(jc,{size:16})," Display Name"]}),E.jsx("input",{type:"text",className:"aurora-input",value:t,onChange:X=>i(X.target.value),placeholder:"Enter your display name"})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[E.jsx(Yv,{size:16})," Email (Read-only)"]}),E.jsx("input",{type:"email",className:"aurora-input",value:a,disabled:!0,style:{opacity:.6}})]}),p&&E.jsx($.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"1rem",background:p.includes("Error")?"rgba(229, 62, 62, 0.1)":"rgba(44, 182, 125, 0.1)",borderRadius:"8px",marginBottom:"1rem",color:p.includes("Error")?"var(--color-error)":"var(--color-success)"},children:p}),E.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[E.jsx($.button,{type:"button",className:"aurora-button secondary",onClick:()=>S(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),E.jsx($.button,{type:"submit",className:"aurora-button",disabled:c,whileHover:{scale:1.02},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:c?"Saving...":E.jsxs(E.Fragment,{children:[E.jsx(Xv,{})," Save Changes"]})})]})]})]})})]})}const iC=()=>{const{user:r}=Ch(),t=r?.displayName||r?.email?.split("@")[0]||"Guest";return E.jsxs($.div,{className:"aurora-card",style:{padding:"var(--space-5)",textAlign:"center"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[E.jsx($.div,{style:{width:"80px",height:"80px",margin:"0 auto 1.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)"},animate:{rotate:[0,10,-10,0]},transition:{duration:5,repeat:1/0},children:""}),E.jsxs("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Welcome, ",t]}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.125rem",marginBottom:"2rem"},children:"Your HomeBase Pro command center is ready"}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",maxWidth:"600px",margin:"0 auto"},children:[{icon:"",label:"Projects",path:"/projects"},{icon:"",label:"Analytics",path:"/analytics"},{icon:"",label:"Termux",path:"/termux"},{icon:"",label:"Profile",path:"/profile"}].map((i,a)=>E.jsx($.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:E.jsxs(eA,{to:i.path,className:"aurora-card",style:{padding:"1.5rem",textDecoration:"none",color:"var(--text-primary)",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{fontSize:"2rem"},children:i.icon}),E.jsx("span",{style:{fontWeight:600},children:i.label})]})},a))})]})};function sC(){const{user:r,loading:t}=Ch();return t?E.jsx(Qo,{}):r?E.jsx(FI,{children:E.jsxs(nA,{children:[E.jsx(Da,{path:"/",element:E.jsx(iC,{})}),E.jsx(Da,{path:"/projects",element:E.jsx(GI,{})}),E.jsx(Da,{path:"/analytics",element:E.jsx(QI,{})}),E.jsx(Da,{path:"/settings",element:E.jsx(XI,{})}),E.jsx(Da,{path:"/termux",element:E.jsx(eC,{})}),E.jsx(Da,{path:"/profile",element:E.jsx(nC,{})}),E.jsx(Da,{path:"*",element:E.jsx(iA,{to:"/"})})]})}):E.jsx(jI,{})}const Zv=()=>{const r=it.useRef(null),t=it.useRef(null);return it.useEffect(()=>{const i=r.current,a=i.getContext("2d"),o=()=>{i.width=window.innerWidth,i.height=window.innerHeight};o(),window.addEventListener("resize",o);const d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),p=14,_=i.width/p,v=[];for(let V=0;V<_;V++)v[V]=Math.random()*-100;let S=0;const w=()=>{if(S++,S%2!==0){t.current=requestAnimationFrame(w);return}a.fillStyle="rgba(10, 10, 16, 0.05)",a.fillRect(0,0,i.width,i.height),a.fillStyle="#0F0",a.font=`${p}px monospace`;for(let V=0;V<v.length;V++){const H=d[Math.floor(Math.random()*d.length)],X=Math.floor(Math.random()*155+100);a.fillStyle=`rgba(0, ${X}, 0, ${Math.random()*.5+.3})`,a.fillText(H,V*p,v[V]*p),v[V]*p>i.height&&Math.random()>.975&&(v[V]=0),v[V]++}t.current=requestAnimationFrame(w)};return w(),()=>{window.removeEventListener("resize",o),t.current&&cancelAnimationFrame(t.current)}},[]),E.jsx("canvas",{ref:r,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,opacity:.15,pointerEvents:"none"}})};class aC{constructor(t,i){this.x=Math.random()*t,this.y=Math.random()*i,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.size=Math.random()*2+1,this.color=Math.random()>.5?"#7F5AF0":"#2CB67D"}update(t,i,a){if(this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t)&&(this.vx*=-1),(this.y<0||this.y>i)&&(this.vy*=-1),a.x!==null){const o=a.x-this.x,c=a.y-this.y,d=Math.sqrt(o*o+c*c);if(d<100){const p=(100-d)/100;this.vx+=o/d*p*.02,this.vy+=c/d*p*.02}}}draw(t){t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fillStyle=this.color,t.fill()}}const jd=()=>{const r=it.useRef(null),t=it.useRef(null),i=it.useRef({x:null,y:null});return it.useEffect(()=>{const a=r.current,o=a.getContext("2d"),c=()=>{a.width=window.innerWidth,a.height=window.innerHeight};c(),window.addEventListener("resize",c);const d=S=>{i.current={x:S.clientX,y:S.clientY}};window.addEventListener("mousemove",d);const p=[];for(let S=0;S<50;S++)p.push(new aC(a.width,a.height));let _=0;const v=()=>{if(_++,_%2!==0){t.current=requestAnimationFrame(v);return}o.clearRect(0,0,a.width,a.height),p.forEach((S,w)=>{S.update(a.width,a.height,i.current),S.draw(o),p.slice(w+1).forEach(V=>{const H=S.x-V.x,X=S.y-V.y,J=Math.sqrt(H*H+X*X);J<150&&(o.beginPath(),o.strokeStyle=`rgba(127, 90, 240, ${.2*(1-J/150)})`,o.lineWidth=.5,o.moveTo(S.x,S.y),o.lineTo(V.x,V.y),o.stroke())})}),t.current=requestAnimationFrame(v)};return v(),()=>{window.removeEventListener("resize",c),window.removeEventListener("mousemove",d),t.current&&cancelAnimationFrame(t.current)}},[]),E.jsx("canvas",{ref:r,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,pointerEvents:"none"}})},zd=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],rC=r=>{const[t,i]=it.useState([]),[a,o]=it.useState(!1);return it.useEffect(()=>{const c=d=>{const p=[...t,d.key];p.length>zd.length&&p.shift(),i(p),p.length===zd.length&&p.every((v,S)=>v===zd[S])&&!a&&(o(!0),r?.())};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,r,a]),{activated:a,reset:()=>{o(!1),i([])}}},qd=(r,t)=>{const[i,a]=it.useState([]),o=typeof r=="string"?r.split(""):r;it.useEffect(()=>{const c=d=>{const p=[...i,d.key.toLowerCase()];p.length>o.length&&p.shift(),a(p),p.length===o.length&&p.every((v,S)=>v===o[S].toLowerCase())&&(t?.(),a([]))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[i,o,t])},lC=()=>{const[r,t]=it.useState("normal"),[i,a]=it.useState("");return rC(()=>{t("god");const o=new Audio;o.volume=.3;const c=new(window.AudioContext||window.webkitAudioContext),d=c.createOscillator(),p=c.createGain();d.connect(p),p.connect(c.destination),d.frequency.setValueAtTime(440,c.currentTime),d.frequency.exponentialRampToValueAtTime(880,c.currentTime+.1),p.gain.setValueAtTime(.3,c.currentTime),p.gain.exponentialRampToValueAtTime(.01,c.currentTime+.5),d.start(c.currentTime),d.stop(c.currentTime+.5)}),qd("matrix",()=>t(o=>o==="matrix"?"normal":"matrix")),qd("hacker",()=>t(o=>o==="hacker"?"normal":"hacker")),qd("particles",()=>t(o=>o==="particles"?"normal":"particles")),it.useEffect(()=>{if(r==="hacker"){const o="01",c=setInterval(()=>{a(o[Math.floor(Math.random()*o.length)])},50);return()=>clearInterval(c)}},[r]),E.jsxs(E.Fragment,{children:[r==="normal"&&E.jsx(jd,{}),r==="matrix"&&E.jsx(Zv,{}),r==="particles"&&E.jsx(jd,{}),r==="god"&&E.jsxs(E.Fragment,{children:[E.jsx(Zv,{}),E.jsx(jd,{})]}),r==="hacker"&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 255, 0, 0.05)",zIndex:9999,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"monospace",fontSize:"20vw",color:"rgba(0, 255, 0, 0.1)",fontWeight:"bold"},children:i}),r!=="normal"&&E.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"8px 16px",background:r==="god"?"linear-gradient(135deg, #FFD700, #FF6B35)":"var(--accent-primary)",borderRadius:"8px",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",zIndex:1e4,animation:"pulse 2s infinite",boxShadow:r==="god"?"0 0 30px rgba(255, 215, 0, 0.5)":void 0},children:r==="god"?" GOD MODE ":`${r} mode`})]})};RA.createRoot(document.getElementById("root")).render(E.jsx(sA.StrictMode,{children:E.jsx(aA,{children:E.jsx(TI,{children:E.jsxs(zI,{children:[E.jsx(lC,{}),E.jsx(sC,{})]})})})}));
