function qA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function gE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gf={exports:{}},Cl={},Kf={exports:{}},ke={};var i_;function GA(){if(i_)return ke;i_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,M={};function k(F,Z,Pe){this.props=F,this.context=Z,this.refs=M,this.updater=Pe||A}k.prototype.isReactComponent={},k.prototype.setState=function(F,Z){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Z,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function W(){}W.prototype=k.prototype;function Q(F,Z,Pe){this.props=F,this.context=Z,this.refs=M,this.updater=Pe||A}var Y=Q.prototype=new W;Y.constructor=Q,j(Y,k.prototype),Y.isPureReactComponent=!0;var re=Array.isArray,K=Object.prototype.hasOwnProperty,G={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(F,Z,Pe){var Re,Ve={},be=null,We=null;if(Z!=null)for(Re in Z.ref!==void 0&&(We=Z.ref),Z.key!==void 0&&(be=""+Z.key),Z)K.call(Z,Re)&&!N.hasOwnProperty(Re)&&(Ve[Re]=Z[Re]);var Ue=arguments.length-2;if(Ue===1)Ve.children=Pe;else if(1<Ue){for(var Ke=Array(Ue),en=0;en<Ue;en++)Ke[en]=arguments[en+2];Ve.children=Ke}if(F&&F.defaultProps)for(Re in Ue=F.defaultProps,Ue)Ve[Re]===void 0&&(Ve[Re]=Ue[Re]);return{$$typeof:n,type:F,key:be,ref:We,props:Ve,_owner:G.current}}function P(F,Z){return{$$typeof:n,type:F.type,key:Z,ref:F.ref,props:F.props,_owner:F._owner}}function V(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function b(F){var Z={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Pe){return Z[Pe]})}var U=/\/+/g;function R(F,Z){return typeof F=="object"&&F!==null&&F.key!=null?b(""+F.key):Z.toString(36)}function qe(F,Z,Pe,Re,Ve){var be=typeof F;(be==="undefined"||be==="boolean")&&(F=null);var We=!1;if(F===null)We=!0;else switch(be){case"string":case"number":We=!0;break;case"object":switch(F.$$typeof){case n:case e:We=!0}}if(We)return We=F,Ve=Ve(We),F=Re===""?"."+R(We,0):Re,re(Ve)?(Pe="",F!=null&&(Pe=F.replace(U,"$&/")+"/"),qe(Ve,Z,Pe,"",function(en){return en})):Ve!=null&&(V(Ve)&&(Ve=P(Ve,Pe+(!Ve.key||We&&We.key===Ve.key?"":(""+Ve.key).replace(U,"$&/")+"/")+F)),Z.push(Ve)),1;if(We=0,Re=Re===""?".":Re+":",re(F))for(var Ue=0;Ue<F.length;Ue++){be=F[Ue];var Ke=Re+R(be,Ue);We+=qe(be,Z,Pe,Ke,Ve)}else if(Ke=T(F),typeof Ke=="function")for(F=Ke.call(F),Ue=0;!(be=F.next()).done;)be=be.value,Ke=Re+R(be,Ue++),We+=qe(be,Z,Pe,Ke,Ve);else if(be==="object")throw Z=String(F),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return We}function It(F,Z,Pe){if(F==null)return F;var Re=[],Ve=0;return qe(F,Re,"","",function(be){return Z.call(Pe,be,Ve++)}),Re}function Vt(F){if(F._status===-1){var Z=F._result;Z=Z(),Z.then(function(Pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=Pe)},function(Pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=Pe)}),F._status===-1&&(F._status=0,F._result=Z)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},ie={transition:null},ge={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:ie,ReactCurrentOwner:G};function le(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:It,forEach:function(F,Z,Pe){It(F,function(){Z.apply(this,arguments)},Pe)},count:function(F){var Z=0;return It(F,function(){Z++}),Z},toArray:function(F){return It(F,function(Z){return Z})||[]},only:function(F){if(!V(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},ke.Component=k,ke.Fragment=t,ke.Profiler=i,ke.PureComponent=Q,ke.StrictMode=r,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,ke.act=le,ke.cloneElement=function(F,Z,Pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Re=j({},F.props),Ve=F.key,be=F.ref,We=F._owner;if(Z!=null){if(Z.ref!==void 0&&(be=Z.ref,We=G.current),Z.key!==void 0&&(Ve=""+Z.key),F.type&&F.type.defaultProps)var Ue=F.type.defaultProps;for(Ke in Z)K.call(Z,Ke)&&!N.hasOwnProperty(Ke)&&(Re[Ke]=Z[Ke]===void 0&&Ue!==void 0?Ue[Ke]:Z[Ke])}var Ke=arguments.length-2;if(Ke===1)Re.children=Pe;else if(1<Ke){Ue=Array(Ke);for(var en=0;en<Ke;en++)Ue[en]=arguments[en+2];Re.children=Ue}return{$$typeof:n,type:F.type,key:Ve,ref:be,props:Re,_owner:We}},ke.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},ke.createElement=I,ke.createFactory=function(F){var Z=I.bind(null,F);return Z.type=F,Z},ke.createRef=function(){return{current:null}},ke.forwardRef=function(F){return{$$typeof:d,render:F}},ke.isValidElement=V,ke.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:Vt}},ke.memo=function(F,Z){return{$$typeof:m,type:F,compare:Z===void 0?null:Z}},ke.startTransition=function(F){var Z=ie.transition;ie.transition={};try{F()}finally{ie.transition=Z}},ke.unstable_act=le,ke.useCallback=function(F,Z){return Ne.current.useCallback(F,Z)},ke.useContext=function(F){return Ne.current.useContext(F)},ke.useDebugValue=function(){},ke.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},ke.useEffect=function(F,Z){return Ne.current.useEffect(F,Z)},ke.useId=function(){return Ne.current.useId()},ke.useImperativeHandle=function(F,Z,Pe){return Ne.current.useImperativeHandle(F,Z,Pe)},ke.useInsertionEffect=function(F,Z){return Ne.current.useInsertionEffect(F,Z)},ke.useLayoutEffect=function(F,Z){return Ne.current.useLayoutEffect(F,Z)},ke.useMemo=function(F,Z){return Ne.current.useMemo(F,Z)},ke.useReducer=function(F,Z,Pe){return Ne.current.useReducer(F,Z,Pe)},ke.useRef=function(F){return Ne.current.useRef(F)},ke.useState=function(F){return Ne.current.useState(F)},ke.useSyncExternalStore=function(F,Z,Pe){return Ne.current.useSyncExternalStore(F,Z,Pe)},ke.useTransition=function(){return Ne.current.useTransition()},ke.version="18.3.1",ke}var o_;function vm(){return o_||(o_=1,Kf.exports=GA()),Kf.exports}var a_;function KA(){if(a_)return Cl;a_=1;var n=vm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var y,w={},T=null,A=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(A=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:d,key:T,ref:A,props:w,_owner:i.current}}return Cl.Fragment=t,Cl.jsx=u,Cl.jsxs=u,Cl}var l_;function QA(){return l_||(l_=1,Gf.exports=KA()),Gf.exports}var p=QA(),O=vm();const yE=gE(O),YA=qA({__proto__:null,default:yE},[O]);var Kc={},Qf={exports:{}},cn={},Yf={exports:{}},Xf={};var u_;function XA(){return u_||(u_=1,(function(n){function e(ie,ge){var le=ie.length;ie.push(ge);e:for(;0<le;){var F=le-1>>>1,Z=ie[F];if(0<i(Z,ge))ie[F]=ge,ie[le]=Z,le=F;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ge=ie[0],le=ie.pop();if(le!==ge){ie[0]=le;e:for(var F=0,Z=ie.length,Pe=Z>>>1;F<Pe;){var Re=2*(F+1)-1,Ve=ie[Re],be=Re+1,We=ie[be];if(0>i(Ve,le))be<Z&&0>i(We,Ve)?(ie[F]=We,ie[be]=le,F=be):(ie[F]=Ve,ie[Re]=le,F=Re);else if(be<Z&&0>i(We,le))ie[F]=We,ie[be]=le,F=be;else break e}}return ge}function i(ie,ge){var le=ie.sortIndex-ge.sortIndex;return le!==0?le:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],y=1,w=null,T=3,A=!1,j=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(ie){for(var ge=t(m);ge!==null;){if(ge.callback===null)r(m);else if(ge.startTime<=ie)r(m),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(m)}}function re(ie){if(M=!1,Y(ie),!j)if(t(f)!==null)j=!0,Vt(K);else{var ge=t(m);ge!==null&&Ne(re,ge.startTime-ie)}}function K(ie,ge){j=!1,M&&(M=!1,W(I),I=-1),A=!0;var le=T;try{for(Y(ge),w=t(f);w!==null&&(!(w.expirationTime>ge)||ie&&!b());){var F=w.callback;if(typeof F=="function"){w.callback=null,T=w.priorityLevel;var Z=F(w.expirationTime<=ge);ge=n.unstable_now(),typeof Z=="function"?w.callback=Z:w===t(f)&&r(f),Y(ge)}else r(f);w=t(f)}if(w!==null)var Pe=!0;else{var Re=t(m);Re!==null&&Ne(re,Re.startTime-ge),Pe=!1}return Pe}finally{w=null,T=le,A=!1}}var G=!1,N=null,I=-1,P=5,V=-1;function b(){return!(n.unstable_now()-V<P)}function U(){if(N!==null){var ie=n.unstable_now();V=ie;var ge=!0;try{ge=N(!0,ie)}finally{ge?R():(G=!1,N=null)}}else G=!1}var R;if(typeof Q=="function")R=function(){Q(U)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,It=qe.port2;qe.port1.onmessage=U,R=function(){It.postMessage(null)}}else R=function(){k(U,0)};function Vt(ie){N=ie,G||(G=!0,R())}function Ne(ie,ge){I=k(function(){ie(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){j||A||(j=!0,Vt(K))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var le=T;T=ge;try{return ie()}finally{T=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var le=T;T=ie;try{return ge()}finally{T=le}},n.unstable_scheduleCallback=function(ie,ge,le){var F=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,ie){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,ie={id:y++,callback:ge,priorityLevel:ie,startTime:le,expirationTime:Z,sortIndex:-1},le>F?(ie.sortIndex=le,e(m,ie),t(f)===null&&ie===t(m)&&(M?(W(I),I=-1):M=!0,Ne(re,le-F))):(ie.sortIndex=Z,e(f,ie),j||A||(j=!0,Vt(K))),ie},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(ie){var ge=T;return function(){var le=T;T=ge;try{return ie.apply(this,arguments)}finally{T=le}}}})(Xf)),Xf}var c_;function JA(){return c_||(c_=1,Yf.exports=XA()),Yf.exports}var h_;function ZA(){if(h_)return cn;h_=1;var n=vm(),e=JA();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function T(s){return f.call(w,s)?!0:f.call(y,s)?!1:m.test(s)?w[s]=!0:(y[s]=!0,!1)}function A(s,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,o,l,h){if(o===null||typeof o>"u"||A(s,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(s,o,l,h,g,v,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=S}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new M(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];k[o]=new M(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new M(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new M(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new M(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new M(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new M(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new M(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new M(s,5,!1,s.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function Q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(W,Q);k[o]=new M(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(W,Q);k[o]=new M(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(W,Q);k[o]=new M(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new M(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new M(s,1,!1,s.toLowerCase(),null,!0,!0)});function Y(s,o,l,h){var g=k.hasOwnProperty(o)?k[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(j(o,l,g,h)&&(l=null),h||g===null?T(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):g.mustUseProperty?s[g.propertyName]=l===null?g.type===3?!1:"":l:(o=g.attributeName,h=g.attributeNamespace,l===null?s.removeAttribute(o):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,h?s.setAttributeNS(h,o,l):s.setAttribute(o,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),G=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),b=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,F;function Z(s){if(F===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+s}var Pe=!1;function Re(s,o){if(!s||Pe)return"";Pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var h=H}Reflect.construct(s,[],o)}else{try{o.call()}catch(H){h=H}s.call(o.prototype)}else{try{throw Error()}catch(H){h=H}s()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var g=H.stack.split(`
`),v=h.stack.split(`
`),S=g.length-1,C=v.length-1;1<=S&&0<=C&&g[S]!==v[C];)C--;for(;1<=S&&0<=C;S--,C--)if(g[S]!==v[C]){if(S!==1||C!==1)do if(S--,C--,0>C||g[S]!==v[C]){var D=`
`+g[S].replace(" at new "," at ");return s.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",s.displayName)),D}while(1<=S&&0<=C);break}}}finally{Pe=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Z(s):""}function Ve(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Re(s.type,!1),s;case 11:return s=Re(s.type.render,!1),s;case 1:return s=Re(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case G:return"Portal";case P:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case qe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case U:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case It:return o=s.displayName||null,o!==null?o:be(s.type)||"Memo";case Vt:o=s._payload,s=s._init;try{return be(s(o))}catch{}}return null}function We(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ke(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function en(s){var o=Ke(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function lo(s){s._valueTracker||(s._valueTracker=en(s))}function Va(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return s&&(h=Ke(s)?s.checked?"true":"false":s.value),s=h,s!==l?(o.setValue(s),!0):!1}function rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function uo(s,o){var l=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Vu(s,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Ue(o.value!=null?o.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function co(s,o){o=o.checked,o!=null&&Y(s,"checked",o,!1)}function hi(s,o){co(s,o);var l=Ue(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?vt(s,o.type,l):o.hasOwnProperty("defaultValue")&&vt(s,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ba(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function vt(s,o,l){(o!=="number"||rs(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var dt=Array.isArray;function On(s,o,l,h){if(s=s.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=o.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Ue(l),o=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function ja(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ma(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(dt(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Ue(l)}}function bu(s,o){var l=Ue(o.value),h=Ue(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function ss(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function La(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ho(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?La(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var is,ju=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,g){MSApp.execUnsafeLocalFunction(function(){return s(o,l,h,g)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=is.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function di(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mu=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(s){Mu.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),os[o]=os[s]})});function as(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||os.hasOwnProperty(s)&&os[s]?(""+o).trim():o+"px"}function fo(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,g=as(l,o[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,g):s[l]=g}}var Oa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fn(s,o){if(o){if(Oa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function po(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function mo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Cr=null,Pr=null,ut=null;function Fa(s){if(s=dl(s)){if(typeof Cr!="function")throw Error(t(280));var o=s.stateNode;o&&(o=uc(o),Cr(s.stateNode,s.type,o))}}function us(s){Pr?ut?ut.push(s):ut=[s]:Pr=s}function cs(){if(Pr){var s=Pr,o=ut;if(ut=Pr=null,Fa(s),o)for(s=0;s<o.length;s++)Fa(o[s])}}function Lu(s,o){return s(o)}function Ou(){}var er=!1;function Fu(s,o,l){if(er)return s(o,l);er=!0;try{return Lu(s,o,l)}finally{er=!1,(Pr!==null||ut!==null)&&(Ou(),cs())}}function fi(s,o){var l=s.stateNode;if(l===null)return null;var h=uc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var hs=!1;if(d)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){hs=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{hs=!1}function Uu(s,o,l,h,g,v,S,C,D){var H=Array.prototype.slice.call(arguments,3);try{o.apply(l,H)}catch(te){this.onError(te)}}var Rr=!1,tr=null,go=!1,In=null,Bu={onError:function(s){Rr=!0,tr=s}};function zu(s,o,l,h,g,v,S,C,D){Rr=!1,tr=null,Uu.apply(Bu,arguments)}function Ua(s,o,l,h,g,v,S,C,D){if(zu.apply(this,arguments),Rr){if(Rr){var H=tr;Rr=!1,tr=null}else throw Error(t(198));go||(go=!0,In=H)}}function Un(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Ba(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function $u(s){if(Un(s)!==s)throw Error(t(188))}function Wu(s){var o=s.alternate;if(!o){if(o=Un(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,h=o;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return $u(g),s;if(v===h)return $u(g),o;v=v.sibling}throw Error(t(188))}if(l.return!==h.return)l=g,h=v;else{for(var S=!1,C=g.child;C;){if(C===l){S=!0,l=g,h=v;break}if(C===h){S=!0,h=g,l=v;break}C=C.sibling}if(!S){for(C=v.child;C;){if(C===l){S=!0,l=v,h=g;break}if(C===h){S=!0,h=v,l=g;break}C=C.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Hu(s){return s=Wu(s),s!==null?pi(s):null}function pi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=pi(s);if(o!==null)return o;s=s.sibling}return null}var za=e.unstable_scheduleCallback,yo=e.unstable_cancelCallback,mi=e.unstable_shouldYield,Nr=e.unstable_requestPaint,Je=e.unstable_now,Sd=e.unstable_getCurrentPriorityLevel,vo=e.unstable_ImmediatePriority,$a=e.unstable_UserBlockingPriority,gi=e.unstable_NormalPriority,Wa=e.unstable_LowPriority,_o=e.unstable_IdlePriority,yi=null,fn=null;function qu(s){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(yi,s,void 0,(s.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:vi,nr=Math.log,An=Math.LN2;function vi(s){return s>>>=0,s===0?32:31-(nr(s)/An|0)|0}var rr=64,fs=4194304;function $e(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function kr(s,o){var l=s.pendingLanes;if(l===0)return 0;var h=0,g=s.suspendedLanes,v=s.pingedLanes,S=l&268435455;if(S!==0){var C=S&~g;C!==0?h=$e(C):(v&=S,v!==0&&(h=$e(v)))}else S=l&~g,S!==0?h=$e(S):v!==0&&(h=$e(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,v=o&-o,g>=v||g===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)l=31-pn(o),g=1<<l,h|=s[l],o&=~g;return h}function _i(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wi(s,o){for(var l=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var S=31-pn(v),C=1<<S,D=g[S];D===-1?((C&l)===0||(C&h)!==0)&&(g[S]=_i(C,o)):D<=o&&(s.expiredLanes|=C),v&=~C}}function Ha(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qa(){var s=rr;return rr<<=1,(rr&4194240)===0&&(rr=64),s}function Ga(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Ei(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-pn(o),s[o]=l}function xd(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var g=31-pn(l),v=1<<g;o[g]=0,h[g]=-1,s[g]=-1,l&=~v}}function Ka(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var h=31-pn(l),g=1<<h;g&o|s[h]&o&&(s[h]|=o),l&=~g}}var Oe=0;function sr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Qa,wo,Ya,Xa,Ja,ir=!1,Eo=[],or=null,ar=null,bt=null,Ti=new Map,Dr=new Map,mn=[],Gu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ps(s,o){switch(s){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":bt=null;break;case"pointerover":case"pointerout":Ti.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(o.pointerId)}}function Bn(s,o,l,h,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},o!==null&&(o=dl(o),o!==null&&wo(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Ku(s,o,l,h,g){switch(o){case"focusin":return or=Bn(or,s,o,l,h,g),!0;case"dragenter":return ar=Bn(ar,s,o,l,h,g),!0;case"mouseover":return bt=Bn(bt,s,o,l,h,g),!0;case"pointerover":var v=g.pointerId;return Ti.set(v,Bn(Ti.get(v)||null,s,o,l,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Dr.set(v,Bn(Dr.get(v)||null,s,o,l,h,g)),!0}return!1}function To(s){var o=Ai(s.target);if(o!==null){var l=Un(o);if(l!==null){if(o=l.tag,o===13){if(o=Ba(l),o!==null){s.blockedOn=o,Ja(s.priority,function(){Ya(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qe(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=So(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);ls=h,l.target.dispatchEvent(h),ls=null}else return o=dl(l),o!==null&&wo(o),s.blockedOn=l,!1;o.shift()}return!0}function Qu(s,o,l){Qe(s)&&l.delete(o)}function Id(){ir=!1,or!==null&&Qe(or)&&(or=null),ar!==null&&Qe(ar)&&(ar=null),bt!==null&&Qe(bt)&&(bt=null),Ti.forEach(Qu),Dr.forEach(Qu)}function ms(s,o){s.blockedOn===o&&(s.blockedOn=null,ir||(ir=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Id)))}function gs(s){function o(g){return ms(g,s)}if(0<Eo.length){ms(Eo[0],s);for(var l=1;l<Eo.length;l++){var h=Eo[l];h.blockedOn===s&&(h.blockedOn=null)}}for(or!==null&&ms(or,s),ar!==null&&ms(ar,s),bt!==null&&ms(bt,s),Ti.forEach(o),Dr.forEach(o),l=0;l<mn.length;l++)h=mn[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<mn.length&&(l=mn[0],l.blockedOn===null);)To(l),l.blockedOn===null&&mn.shift()}var Vr=re.ReactCurrentBatchConfig,br=!0;function lr(s,o,l,h){var g=Oe,v=Vr.transition;Vr.transition=null;try{Oe=1,Za(s,o,l,h)}finally{Oe=g,Vr.transition=v}}function Yu(s,o,l,h){var g=Oe,v=Vr.transition;Vr.transition=null;try{Oe=4,Za(s,o,l,h)}finally{Oe=g,Vr.transition=v}}function Za(s,o,l,h){if(br){var g=So(s,o,l,h);if(g===null)Md(s,o,h,ur,l),ps(s,h);else if(Ku(g,s,o,l,h))h.stopPropagation();else if(ps(s,h),o&4&&-1<Gu.indexOf(s)){for(;g!==null;){var v=dl(g);if(v!==null&&Qa(v),v=So(s,o,l,h),v===null&&Md(s,o,h,ur,l),v===g)break;g=v}g!==null&&h.stopPropagation()}else Md(s,o,h,null,l)}}var ur=null;function So(s,o,l,h){if(ur=null,s=mo(h),s=Ai(s),s!==null)if(o=Un(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Ba(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return ur=s,null}function xo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sd()){case vo:return 1;case $a:return 4;case gi:case Wa:return 16;case _o:return 536870912;default:return 16}default:return 16}}var gn=null,Io=null,jr=null;function Xu(){if(jr)return jr;var s,o=Io,l=o.length,h,g="value"in gn?gn.value:gn.textContent,v=g.length;for(s=0;s<l&&o[s]===g[s];s++);var S=l-s;for(h=1;h<=S&&o[l-h]===g[v-h];h++);return jr=g.slice(s,1<h?1-h:void 0)}function Si(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function cr(){return!0}function el(){return!1}function $t(s){function o(l,h,g,v,S){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(l=s[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?cr:el,this.isPropagationStopped=el,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),o}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=$t(hr),ys=le({},hr,{view:0,detail:0}),Ao=$t(ys),Co,Po,yn,Ii=le({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ae,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yn&&(yn&&s.type==="mousemove"?(Co=s.screenX-yn.screenX,Po=s.screenY-yn.screenY):Po=Co=0,yn=s),Co)},movementY:function(s){return"movementY"in s?s.movementY:Po}}),tl=$t(Ii),Ju=le({},Ii,{dataTransfer:0}),Zu=$t(Ju),Ro=le({},ys,{relatedTarget:0}),jt=$t(Ro),ec=le({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=$t(ec),vs=le({},hr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),c=$t(vs),_=le({},hr,{data:0}),E=$t(_),x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=q[s])?!!o[s]:!1}function Ae(){return oe}var ft=le({},ys,{key:function(s){if(s.key){var o=x[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Si(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?z[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ae,charCode:function(s){return s.type==="keypress"?Si(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Si(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ge=$t(ft),_t=le({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vn=$t(_t),Mr=le({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ae}),dr=$t(Mr),fr=le({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),No=$t(fr),nl=le({},Ii,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),UI=$t(nl),BI=[9,13,27,32],Ad=d&&"CompositionEvent"in window,rl=null;d&&"documentMode"in document&&(rl=document.documentMode);var zI=d&&"TextEvent"in window&&!rl,Xg=d&&(!Ad||rl&&8<rl&&11>=rl),Jg=" ",Zg=!1;function ey(s,o){switch(s){case"keyup":return BI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ko=!1;function $I(s,o){switch(s){case"compositionend":return ty(o);case"keypress":return o.which!==32?null:(Zg=!0,Jg);case"textInput":return s=o.data,s===Jg&&Zg?null:s;default:return null}}function WI(s,o){if(ko)return s==="compositionend"||!Ad&&ey(s,o)?(s=Xu(),jr=Io=gn=null,ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xg&&o.locale!=="ko"?null:o.data;default:return null}}var HI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!HI[s.type]:o==="textarea"}function ry(s,o,l,h){us(h),o=oc(o,"onChange"),0<o.length&&(l=new xi("onChange","change",null,l,h),s.push({event:l,listeners:o}))}var sl=null,il=null;function qI(s){Ey(s,0)}function nc(s){var o=Mo(s);if(Va(o))return s}function GI(s,o){if(s==="change")return o}var sy=!1;if(d){var Cd;if(d){var Pd="oninput"in document;if(!Pd){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Pd=typeof iy.oninput=="function"}Cd=Pd}else Cd=!1;sy=Cd&&(!document.documentMode||9<document.documentMode)}function oy(){sl&&(sl.detachEvent("onpropertychange",ay),il=sl=null)}function ay(s){if(s.propertyName==="value"&&nc(il)){var o=[];ry(o,il,s,mo(s)),Fu(qI,o)}}function KI(s,o,l){s==="focusin"?(oy(),sl=o,il=l,sl.attachEvent("onpropertychange",ay)):s==="focusout"&&oy()}function QI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nc(il)}function YI(s,o){if(s==="click")return nc(o)}function XI(s,o){if(s==="input"||s==="change")return nc(o)}function JI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var zn=typeof Object.is=="function"?Object.is:JI;function ol(s,o){if(zn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!f.call(o,g)||!zn(s[g],o[g]))return!1}return!0}function ly(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function uy(s,o){var l=ly(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=o&&h>=o)return{node:l,offset:o-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ly(l)}}function cy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?cy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function hy(){for(var s=window,o=rs();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=rs(s.document)}return o}function Rd(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function ZI(s){var o=hy(),l=s.focusedElem,h=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&cy(l.ownerDocument.documentElement,l)){if(h!==null&&Rd(l)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=l.textContent.length,v=Math.min(h.start,g);h=h.end===void 0?v:Math.min(h.end,g),!s.extend&&v>h&&(g=h,h=v,v=g),g=uy(l,v);var S=uy(l,h);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var eA=d&&"documentMode"in document&&11>=document.documentMode,Do=null,Nd=null,al=null,kd=!1;function dy(s,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;kd||Do==null||Do!==rs(h)||(h=Do,"selectionStart"in h&&Rd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),al&&ol(al,h)||(al=h,h=oc(Nd,"onSelect"),0<h.length&&(o=new xi("onSelect","select",null,o,l),s.push({event:o,listeners:h}),o.target=Do)))}function rc(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Vo={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},Dd={},fy={};d&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function sc(s){if(Dd[s])return Dd[s];if(!Vo[s])return s;var o=Vo[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in fy)return Dd[s]=o[l];return s}var py=sc("animationend"),my=sc("animationiteration"),gy=sc("animationstart"),yy=sc("transitionend"),vy=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(s,o){vy.set(s,o),a(o,[s])}for(var Vd=0;Vd<_y.length;Vd++){var bd=_y[Vd],tA=bd.toLowerCase(),nA=bd[0].toUpperCase()+bd.slice(1);_s(tA,"on"+nA)}_s(py,"onAnimationEnd"),_s(my,"onAnimationIteration"),_s(gy,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(yy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function wy(s,o,l){var h=s.type||"unknown-event";s.currentTarget=l,Ua(h,o,void 0,s),s.currentTarget=null}function Ey(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],g=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var S=h.length-1;0<=S;S--){var C=h[S],D=C.instance,H=C.currentTarget;if(C=C.listener,D!==v&&g.isPropagationStopped())break e;wy(g,C,H),v=D}else for(S=0;S<h.length;S++){if(C=h[S],D=C.instance,H=C.currentTarget,C=C.listener,D!==v&&g.isPropagationStopped())break e;wy(g,C,H),v=D}}}if(go)throw s=In,go=!1,In=null,s}function Ze(s,o){var l=o[zd];l===void 0&&(l=o[zd]=new Set);var h=s+"__bubble";l.has(h)||(Ty(o,s,2,!1),l.add(h))}function jd(s,o,l){var h=0;o&&(h|=4),Ty(l,s,h,o)}var ic="_reactListening"+Math.random().toString(36).slice(2);function ul(s){if(!s[ic]){s[ic]=!0,r.forEach(function(l){l!=="selectionchange"&&(rA.has(l)||jd(l,!1,s),jd(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[ic]||(o[ic]=!0,jd("selectionchange",!1,o))}}function Ty(s,o,l,h){switch(xo(o)){case 1:var g=lr;break;case 4:g=Yu;break;default:g=Za}l=g.bind(null,o,l,s),g=void 0,!hs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,l,{capture:!0,passive:g}):s.addEventListener(o,l,!0):g!==void 0?s.addEventListener(o,l,{passive:g}):s.addEventListener(o,l,!1)}function Md(s,o,l,h,g){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var C=h.stateNode.containerInfo;if(C===g||C.nodeType===8&&C.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var D=S.tag;if((D===3||D===4)&&(D=S.stateNode.containerInfo,D===g||D.nodeType===8&&D.parentNode===g))return;S=S.return}for(;C!==null;){if(S=Ai(C),S===null)return;if(D=S.tag,D===5||D===6){h=v=S;continue e}C=C.parentNode}}h=h.return}Fu(function(){var H=v,te=mo(l),ne=[];e:{var ee=vy.get(s);if(ee!==void 0){var ue=xi,fe=s;switch(s){case"keypress":if(Si(l)===0)break e;case"keydown":case"keyup":ue=Ge;break;case"focusin":fe="focus",ue=jt;break;case"focusout":fe="blur",ue=jt;break;case"beforeblur":case"afterblur":ue=jt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=dr;break;case py:case my:case gy:ue=tc;break;case yy:ue=No;break;case"scroll":ue=Ao;break;case"wheel":ue=UI;break;case"copy":case"cut":case"paste":ue=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=vn}var pe=(o&4)!==0,pt=!pe&&s==="scroll",B=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var L=H,$;L!==null;){$=L;var se=$.stateNode;if($.tag===5&&se!==null&&($=se,B!==null&&(se=fi(L,B),se!=null&&pe.push(cl(L,se,$)))),pt)break;L=L.return}0<pe.length&&(ee=new ue(ee,fe,null,l,te),ne.push({event:ee,listeners:pe}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",ee&&l!==ls&&(fe=l.relatedTarget||l.fromElement)&&(Ai(fe)||fe[Lr]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(fe=l.relatedTarget||l.toElement,ue=H,fe=fe?Ai(fe):null,fe!==null&&(pt=Un(fe),fe!==pt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=H),ue!==fe)){if(pe=tl,se="onMouseLeave",B="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(pe=vn,se="onPointerLeave",B="onPointerEnter",L="pointer"),pt=ue==null?ee:Mo(ue),$=fe==null?ee:Mo(fe),ee=new pe(se,L+"leave",ue,l,te),ee.target=pt,ee.relatedTarget=$,se=null,Ai(te)===H&&(pe=new pe(B,L+"enter",fe,l,te),pe.target=$,pe.relatedTarget=pt,se=pe),pt=se,ue&&fe)t:{for(pe=ue,B=fe,L=0,$=pe;$;$=bo($))L++;for($=0,se=B;se;se=bo(se))$++;for(;0<L-$;)pe=bo(pe),L--;for(;0<$-L;)B=bo(B),$--;for(;L--;){if(pe===B||B!==null&&pe===B.alternate)break t;pe=bo(pe),B=bo(B)}pe=null}else pe=null;ue!==null&&Sy(ne,ee,ue,pe,!1),fe!==null&&pt!==null&&Sy(ne,pt,fe,pe,!0)}}e:{if(ee=H?Mo(H):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var me=GI;else if(ny(ee))if(sy)me=XI;else{me=QI;var ve=KI}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=YI);if(me&&(me=me(s,H))){ry(ne,me,l,te);break e}ve&&ve(s,ee,H),s==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&vt(ee,"number",ee.value)}switch(ve=H?Mo(H):window,s){case"focusin":(ny(ve)||ve.contentEditable==="true")&&(Do=ve,Nd=H,al=null);break;case"focusout":al=Nd=Do=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,dy(ne,l,te);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":dy(ne,l,te)}var _e;if(Ad)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ko?ey(s,l)&&(Te="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Xg&&l.locale!=="ko"&&(ko||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ko&&(_e=Xu()):(gn=te,Io="value"in gn?gn.value:gn.textContent,ko=!0)),ve=oc(H,Te),0<ve.length&&(Te=new E(Te,s,null,l,te),ne.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=ty(l),_e!==null&&(Te.data=_e)))),(_e=zI?$I(s,l):WI(s,l))&&(H=oc(H,"onBeforeInput"),0<H.length&&(te=new E("onBeforeInput","beforeinput",null,l,te),ne.push({event:te,listeners:H}),te.data=_e))}Ey(ne,o)})}function cl(s,o,l){return{instance:s,listener:o,currentTarget:l}}function oc(s,o){for(var l=o+"Capture",h=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=fi(s,l),v!=null&&h.unshift(cl(s,v,g)),v=fi(s,o),v!=null&&h.push(cl(s,v,g))),s=s.return}return h}function bo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Sy(s,o,l,h,g){for(var v=o._reactName,S=[];l!==null&&l!==h;){var C=l,D=C.alternate,H=C.stateNode;if(D!==null&&D===h)break;C.tag===5&&H!==null&&(C=H,g?(D=fi(l,v),D!=null&&S.unshift(cl(l,D,C))):g||(D=fi(l,v),D!=null&&S.push(cl(l,D,C)))),l=l.return}S.length!==0&&s.push({event:o,listeners:S})}var sA=/\r\n?/g,iA=/\u0000|\uFFFD/g;function xy(s){return(typeof s=="string"?s:""+s).replace(sA,`
`).replace(iA,"")}function ac(s,o,l){if(o=xy(o),xy(s)!==o&&l)throw Error(t(425))}function lc(){}var Ld=null,Od=null;function Fd(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ud=typeof setTimeout=="function"?setTimeout:void 0,oA=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(s){return Iy.resolve(null).then(s).catch(lA)}:Ud;function lA(s){setTimeout(function(){throw s})}function Bd(s,o){var l=o,h=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(h===0){s.removeChild(g),gs(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=g}while(l);gs(o)}function ws(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Ay(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var jo=Math.random().toString(36).slice(2),pr="__reactFiber$"+jo,hl="__reactProps$"+jo,Lr="__reactContainer$"+jo,zd="__reactEvents$"+jo,uA="__reactListeners$"+jo,cA="__reactHandles$"+jo;function Ai(s){var o=s[pr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Lr]||l[pr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Ay(s);s!==null;){if(l=s[pr])return l;s=Ay(s)}return o}s=l,l=s.parentNode}return null}function dl(s){return s=s[pr]||s[Lr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Mo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function uc(s){return s[hl]||null}var $d=[],Lo=-1;function Es(s){return{current:s}}function et(s){0>Lo||(s.current=$d[Lo],$d[Lo]=null,Lo--)}function Ye(s,o){Lo++,$d[Lo]=s.current,s.current=o}var Ts={},Wt=Es(Ts),sn=Es(!1),Ci=Ts;function Oo(s,o){var l=s.type.contextTypes;if(!l)return Ts;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function on(s){return s=s.childContextTypes,s!=null}function cc(){et(sn),et(Wt)}function Cy(s,o,l){if(Wt.current!==Ts)throw Error(t(168));Ye(Wt,o),Ye(sn,l)}function Py(s,o,l){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(t(108,We(s)||"Unknown",g));return le({},l,h)}function hc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ts,Ci=Wt.current,Ye(Wt,s),Ye(sn,sn.current),!0}function Ry(s,o,l){var h=s.stateNode;if(!h)throw Error(t(169));l?(s=Py(s,o,Ci),h.__reactInternalMemoizedMergedChildContext=s,et(sn),et(Wt),Ye(Wt,s)):et(sn),Ye(sn,l)}var Or=null,dc=!1,Wd=!1;function Ny(s){Or===null?Or=[s]:Or.push(s)}function hA(s){dc=!0,Ny(s)}function Ss(){if(!Wd&&Or!==null){Wd=!0;var s=0,o=Oe;try{var l=Or;for(Oe=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}Or=null,dc=!1}catch(g){throw Or!==null&&(Or=Or.slice(s+1)),za(vo,Ss),g}finally{Oe=o,Wd=!1}}return null}var Fo=[],Uo=0,fc=null,pc=0,Cn=[],Pn=0,Pi=null,Fr=1,Ur="";function Ri(s,o){Fo[Uo++]=pc,Fo[Uo++]=fc,fc=s,pc=o}function ky(s,o,l){Cn[Pn++]=Fr,Cn[Pn++]=Ur,Cn[Pn++]=Pi,Pi=s;var h=Fr;s=Ur;var g=32-pn(h)-1;h&=~(1<<g),l+=1;var v=32-pn(o)+g;if(30<v){var S=g-g%5;v=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Fr=1<<32-pn(o)+g|l<<g|h,Ur=v+s}else Fr=1<<v|l<<g|h,Ur=s}function Hd(s){s.return!==null&&(Ri(s,1),ky(s,1,0))}function qd(s){for(;s===fc;)fc=Fo[--Uo],Fo[Uo]=null,pc=Fo[--Uo],Fo[Uo]=null;for(;s===Pi;)Pi=Cn[--Pn],Cn[Pn]=null,Ur=Cn[--Pn],Cn[Pn]=null,Fr=Cn[--Pn],Cn[Pn]=null}var _n=null,wn=null,st=!1,$n=null;function Dy(s,o){var l=Dn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Vy(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,_n=s,wn=ws(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,_n=s,wn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Pi!==null?{id:Fr,overflow:Ur}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Dn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,_n=s,wn=null,!0):!1;default:return!1}}function Gd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Kd(s){if(st){var o=wn;if(o){var l=o;if(!Vy(s,o)){if(Gd(s))throw Error(t(418));o=ws(l.nextSibling);var h=_n;o&&Vy(s,o)?Dy(h,l):(s.flags=s.flags&-4097|2,st=!1,_n=s)}}else{if(Gd(s))throw Error(t(418));s.flags=s.flags&-4097|2,st=!1,_n=s}}}function by(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;_n=s}function mc(s){if(s!==_n)return!1;if(!st)return by(s),st=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Fd(s.type,s.memoizedProps)),o&&(o=wn)){if(Gd(s))throw jy(),Error(t(418));for(;o;)Dy(s,o),o=ws(o.nextSibling)}if(by(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){wn=ws(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}wn=null}}else wn=_n?ws(s.stateNode.nextSibling):null;return!0}function jy(){for(var s=wn;s;)s=ws(s.nextSibling)}function Bo(){wn=_n=null,st=!1}function Qd(s){$n===null?$n=[s]:$n.push(s)}var dA=re.ReactCurrentBatchConfig;function fl(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,s));var g=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(S){var C=g.refs;S===null?delete C[v]:C[v]=S},o._stringRef=v,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function gc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function My(s){var o=s._init;return o(s._payload)}function Ly(s){function o(B,L){if(s){var $=B.deletions;$===null?(B.deletions=[L],B.flags|=16):$.push(L)}}function l(B,L){if(!s)return null;for(;L!==null;)o(B,L),L=L.sibling;return null}function h(B,L){for(B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function g(B,L){return B=ks(B,L),B.index=0,B.sibling=null,B}function v(B,L,$){return B.index=$,s?($=B.alternate,$!==null?($=$.index,$<L?(B.flags|=2,L):$):(B.flags|=2,L)):(B.flags|=1048576,L)}function S(B){return s&&B.alternate===null&&(B.flags|=2),B}function C(B,L,$,se){return L===null||L.tag!==6?(L=Bf($,B.mode,se),L.return=B,L):(L=g(L,$),L.return=B,L)}function D(B,L,$,se){var me=$.type;return me===N?te(B,L,$.props.children,se,$.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Vt&&My(me)===L.type)?(se=g(L,$.props),se.ref=fl(B,L,$),se.return=B,se):(se=Uc($.type,$.key,$.props,null,B.mode,se),se.ref=fl(B,L,$),se.return=B,se)}function H(B,L,$,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=zf($,B.mode,se),L.return=B,L):(L=g(L,$.children||[]),L.return=B,L)}function te(B,L,$,se,me){return L===null||L.tag!==7?(L=Li($,B.mode,se,me),L.return=B,L):(L=g(L,$),L.return=B,L)}function ne(B,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Bf(""+L,B.mode,$),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case K:return $=Uc(L.type,L.key,L.props,null,B.mode,$),$.ref=fl(B,null,L),$.return=B,$;case G:return L=zf(L,B.mode,$),L.return=B,L;case Vt:var se=L._init;return ne(B,se(L._payload),$)}if(dt(L)||ge(L))return L=Li(L,B.mode,$,null),L.return=B,L;gc(B,L)}return null}function ee(B,L,$,se){var me=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return me!==null?null:C(B,L,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case K:return $.key===me?D(B,L,$,se):null;case G:return $.key===me?H(B,L,$,se):null;case Vt:return me=$._init,ee(B,L,me($._payload),se)}if(dt($)||ge($))return me!==null?null:te(B,L,$,se,null);gc(B,$)}return null}function ue(B,L,$,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get($)||null,C(L,B,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case K:return B=B.get(se.key===null?$:se.key)||null,D(L,B,se,me);case G:return B=B.get(se.key===null?$:se.key)||null,H(L,B,se,me);case Vt:var ve=se._init;return ue(B,L,$,ve(se._payload),me)}if(dt(se)||ge(se))return B=B.get($)||null,te(L,B,se,me,null);gc(L,se)}return null}function fe(B,L,$,se){for(var me=null,ve=null,_e=L,Te=L=0,kt=null;_e!==null&&Te<$.length;Te++){_e.index>Te?(kt=_e,_e=null):kt=_e.sibling;var ze=ee(B,_e,$[Te],se);if(ze===null){_e===null&&(_e=kt);break}s&&_e&&ze.alternate===null&&o(B,_e),L=v(ze,L,Te),ve===null?me=ze:ve.sibling=ze,ve=ze,_e=kt}if(Te===$.length)return l(B,_e),st&&Ri(B,Te),me;if(_e===null){for(;Te<$.length;Te++)_e=ne(B,$[Te],se),_e!==null&&(L=v(_e,L,Te),ve===null?me=_e:ve.sibling=_e,ve=_e);return st&&Ri(B,Te),me}for(_e=h(B,_e);Te<$.length;Te++)kt=ue(_e,B,Te,$[Te],se),kt!==null&&(s&&kt.alternate!==null&&_e.delete(kt.key===null?Te:kt.key),L=v(kt,L,Te),ve===null?me=kt:ve.sibling=kt,ve=kt);return s&&_e.forEach(function(Ds){return o(B,Ds)}),st&&Ri(B,Te),me}function pe(B,L,$,se){var me=ge($);if(typeof me!="function")throw Error(t(150));if($=me.call($),$==null)throw Error(t(151));for(var ve=me=null,_e=L,Te=L=0,kt=null,ze=$.next();_e!==null&&!ze.done;Te++,ze=$.next()){_e.index>Te?(kt=_e,_e=null):kt=_e.sibling;var Ds=ee(B,_e,ze.value,se);if(Ds===null){_e===null&&(_e=kt);break}s&&_e&&Ds.alternate===null&&o(B,_e),L=v(Ds,L,Te),ve===null?me=Ds:ve.sibling=Ds,ve=Ds,_e=kt}if(ze.done)return l(B,_e),st&&Ri(B,Te),me;if(_e===null){for(;!ze.done;Te++,ze=$.next())ze=ne(B,ze.value,se),ze!==null&&(L=v(ze,L,Te),ve===null?me=ze:ve.sibling=ze,ve=ze);return st&&Ri(B,Te),me}for(_e=h(B,_e);!ze.done;Te++,ze=$.next())ze=ue(_e,B,Te,ze.value,se),ze!==null&&(s&&ze.alternate!==null&&_e.delete(ze.key===null?Te:ze.key),L=v(ze,L,Te),ve===null?me=ze:ve.sibling=ze,ve=ze);return s&&_e.forEach(function(HA){return o(B,HA)}),st&&Ri(B,Te),me}function pt(B,L,$,se){if(typeof $=="object"&&$!==null&&$.type===N&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case K:e:{for(var me=$.key,ve=L;ve!==null;){if(ve.key===me){if(me=$.type,me===N){if(ve.tag===7){l(B,ve.sibling),L=g(ve,$.props.children),L.return=B,B=L;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Vt&&My(me)===ve.type){l(B,ve.sibling),L=g(ve,$.props),L.ref=fl(B,ve,$),L.return=B,B=L;break e}l(B,ve);break}else o(B,ve);ve=ve.sibling}$.type===N?(L=Li($.props.children,B.mode,se,$.key),L.return=B,B=L):(se=Uc($.type,$.key,$.props,null,B.mode,se),se.ref=fl(B,L,$),se.return=B,B=se)}return S(B);case G:e:{for(ve=$.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){l(B,L.sibling),L=g(L,$.children||[]),L.return=B,B=L;break e}else{l(B,L);break}else o(B,L);L=L.sibling}L=zf($,B.mode,se),L.return=B,B=L}return S(B);case Vt:return ve=$._init,pt(B,L,ve($._payload),se)}if(dt($))return fe(B,L,$,se);if(ge($))return pe(B,L,$,se);gc(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,L!==null&&L.tag===6?(l(B,L.sibling),L=g(L,$),L.return=B,B=L):(l(B,L),L=Bf($,B.mode,se),L.return=B,B=L),S(B)):l(B,L)}return pt}var zo=Ly(!0),Oy=Ly(!1),yc=Es(null),vc=null,$o=null,Yd=null;function Xd(){Yd=$o=vc=null}function Jd(s){var o=yc.current;et(yc),s._currentValue=o}function Zd(s,o,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===l)break;s=s.return}}function Wo(s,o){vc=s,Yd=$o=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(an=!0),s.firstContext=null)}function Rn(s){var o=s._currentValue;if(Yd!==s)if(s={context:s,memoizedValue:o,next:null},$o===null){if(vc===null)throw Error(t(308));$o=s,vc.dependencies={lanes:0,firstContext:s}}else $o=$o.next=s;return o}var Ni=null;function ef(s){Ni===null?Ni=[s]:Ni.push(s)}function Fy(s,o,l,h){var g=o.interleaved;return g===null?(l.next=l,ef(o)):(l.next=g.next,g.next=l),o.interleaved=l,Br(s,h)}function Br(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var xs=!1;function tf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function zr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Is(s,o,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,Br(s,l)}return g=h.interleaved,g===null?(o.next=o,ef(h)):(o.next=g.next,g.next=o),h.interleaved=o,Br(s,l)}function _c(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,Ka(s,l)}}function By(s,o){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?g=v=o:v=v.next=o}else g=v=o;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function wc(s,o,l,h){var g=s.updateQueue;xs=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var D=C,H=D.next;D.next=null,S===null?v=H:S.next=H,S=D;var te=s.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==S&&(C===null?te.firstBaseUpdate=H:C.next=H,te.lastBaseUpdate=D))}if(v!==null){var ne=g.baseState;S=0,te=H=D=null,C=v;do{var ee=C.lane,ue=C.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var fe=s,pe=C;switch(ee=o,ue=l,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){ne=fe.call(ue,ne,ee);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ee=typeof fe=="function"?fe.call(ue,ne,ee):fe,ee==null)break e;ne=le({},ne,ee);break e;case 2:xs=!0}}C.callback!==null&&C.lane!==0&&(s.flags|=64,ee=g.effects,ee===null?g.effects=[C]:ee.push(C))}else ue={eventTime:ue,lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(H=te=ue,D=ne):te=te.next=ue,S|=ee;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(D=ne),g.baseState=D,g.firstBaseUpdate=H,g.lastBaseUpdate=te,o=g.shared.interleaved,o!==null){g=o;do S|=g.lane,g=g.next;while(g!==o)}else v===null&&(g.shared.lanes=0);Vi|=S,s.lanes=S,s.memoizedState=ne}}function zy(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],g=h.callback;if(g!==null){if(h.callback=null,h=l,typeof g!="function")throw Error(t(191,g));g.call(h)}}}var pl={},mr=Es(pl),ml=Es(pl),gl=Es(pl);function ki(s){if(s===pl)throw Error(t(174));return s}function nf(s,o){switch(Ye(gl,o),Ye(ml,s),Ye(mr,pl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ho(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=ho(o,s)}et(mr),Ye(mr,o)}function Ho(){et(mr),et(ml),et(gl)}function $y(s){ki(gl.current);var o=ki(mr.current),l=ho(o,s.type);o!==l&&(Ye(ml,s),Ye(mr,l))}function rf(s){ml.current===s&&(et(mr),et(ml))}var it=Es(0);function Ec(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var sf=[];function of(){for(var s=0;s<sf.length;s++)sf[s]._workInProgressVersionPrimary=null;sf.length=0}var Tc=re.ReactCurrentDispatcher,af=re.ReactCurrentBatchConfig,Di=0,ot=null,At=null,Rt=null,Sc=!1,yl=!1,vl=0,fA=0;function Ht(){throw Error(t(321))}function lf(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!zn(s[l],o[l]))return!1;return!0}function uf(s,o,l,h,g,v){if(Di=v,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Tc.current=s===null||s.memoizedState===null?yA:vA,s=l(h,g),yl){v=0;do{if(yl=!1,vl=0,25<=v)throw Error(t(301));v+=1,Rt=At=null,o.updateQueue=null,Tc.current=_A,s=l(h,g)}while(yl)}if(Tc.current=Ac,o=At!==null&&At.next!==null,Di=0,Rt=At=ot=null,Sc=!1,o)throw Error(t(300));return s}function cf(){var s=vl!==0;return vl=0,s}function gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?ot.memoizedState=Rt=s:Rt=Rt.next=s,Rt}function Nn(){if(At===null){var s=ot.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var o=Rt===null?ot.memoizedState:Rt.next;if(o!==null)Rt=o,At=s;else{if(s===null)throw Error(t(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Rt===null?ot.memoizedState=Rt=s:Rt=Rt.next=s}return Rt}function _l(s,o){return typeof o=="function"?o(s):o}function hf(s){var o=Nn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=At,g=h.baseQueue,v=l.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}h.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,h=h.baseState;var C=S=null,D=null,H=v;do{var te=H.lane;if((Di&te)===te)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:s(h,H.action);else{var ne={lane:te,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(C=D=ne,S=h):D=D.next=ne,ot.lanes|=te,Vi|=te}H=H.next}while(H!==null&&H!==v);D===null?S=h:D.next=C,zn(h,o.memoizedState)||(an=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=D,l.lastRenderedState=h}if(s=l.interleaved,s!==null){g=s;do v=g.lane,ot.lanes|=v,Vi|=v,g=g.next;while(g!==s)}else g===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function df(s){var o=Nn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var h=l.dispatch,g=l.pending,v=o.memoizedState;if(g!==null){l.pending=null;var S=g=g.next;do v=s(v,S.action),S=S.next;while(S!==g);zn(v,o.memoizedState)||(an=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,h]}function Wy(){}function Hy(s,o){var l=ot,h=Nn(),g=o(),v=!zn(h.memoizedState,g);if(v&&(h.memoizedState=g,an=!0),h=h.queue,ff(Ky.bind(null,l,h,s),[s]),h.getSnapshot!==o||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,wl(9,Gy.bind(null,l,h,g,o),void 0,null),Nt===null)throw Error(t(349));(Di&30)!==0||qy(l,o,g)}return g}function qy(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Gy(s,o,l,h){o.value=l,o.getSnapshot=h,Qy(o)&&Yy(s)}function Ky(s,o,l){return l(function(){Qy(o)&&Yy(s)})}function Qy(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!zn(s,l)}catch{return!0}}function Yy(s){var o=Br(s,1);o!==null&&Gn(o,s,1,-1)}function Xy(s){var o=gr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:s},o.queue=s,s=s.dispatch=gA.bind(null,ot,s),[o.memoizedState,s]}function wl(s,o,l,h){return s={tag:s,create:o,destroy:l,deps:h,next:null},o=ot.updateQueue,o===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,o.lastEffect=s)),s}function Jy(){return Nn().memoizedState}function xc(s,o,l,h){var g=gr();ot.flags|=s,g.memoizedState=wl(1|o,l,void 0,h===void 0?null:h)}function Ic(s,o,l,h){var g=Nn();h=h===void 0?null:h;var v=void 0;if(At!==null){var S=At.memoizedState;if(v=S.destroy,h!==null&&lf(h,S.deps)){g.memoizedState=wl(o,l,v,h);return}}ot.flags|=s,g.memoizedState=wl(1|o,l,v,h)}function Zy(s,o){return xc(8390656,8,s,o)}function ff(s,o){return Ic(2048,8,s,o)}function ev(s,o){return Ic(4,2,s,o)}function tv(s,o){return Ic(4,4,s,o)}function nv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function rv(s,o,l){return l=l!=null?l.concat([s]):null,Ic(4,4,nv.bind(null,o,s),l)}function pf(){}function sv(s,o){var l=Nn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&lf(o,h[1])?h[0]:(l.memoizedState=[s,o],s)}function iv(s,o){var l=Nn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&lf(o,h[1])?h[0]:(s=s(),l.memoizedState=[s,o],s)}function ov(s,o,l){return(Di&21)===0?(s.baseState&&(s.baseState=!1,an=!0),s.memoizedState=l):(zn(l,o)||(l=qa(),ot.lanes|=l,Vi|=l,s.baseState=!0),o)}function pA(s,o){var l=Oe;Oe=l!==0&&4>l?l:4,s(!0);var h=af.transition;af.transition={};try{s(!1),o()}finally{Oe=l,af.transition=h}}function av(){return Nn().memoizedState}function mA(s,o,l){var h=Rs(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},lv(s))uv(o,l);else if(l=Fy(s,o,l,h),l!==null){var g=nn();Gn(l,s,h,g),cv(l,o,h)}}function gA(s,o,l){var h=Rs(s),g={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(lv(s))uv(o,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var S=o.lastRenderedState,C=v(S,l);if(g.hasEagerState=!0,g.eagerState=C,zn(C,S)){var D=o.interleaved;D===null?(g.next=g,ef(o)):(g.next=D.next,D.next=g),o.interleaved=g;return}}catch{}l=Fy(s,o,g,h),l!==null&&(g=nn(),Gn(l,s,h,g),cv(l,o,h))}}function lv(s){var o=s.alternate;return s===ot||o!==null&&o===ot}function uv(s,o){yl=Sc=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function cv(s,o,l){if((l&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,Ka(s,l)}}var Ac={readContext:Rn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},yA={readContext:Rn,useCallback:function(s,o){return gr().memoizedState=[s,o===void 0?null:o],s},useContext:Rn,useEffect:Zy,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,xc(4194308,4,nv.bind(null,o,s),l)},useLayoutEffect:function(s,o){return xc(4194308,4,s,o)},useInsertionEffect:function(s,o){return xc(4,2,s,o)},useMemo:function(s,o){var l=gr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var h=gr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=mA.bind(null,ot,s),[h.memoizedState,s]},useRef:function(s){var o=gr();return s={current:s},o.memoizedState=s},useState:Xy,useDebugValue:pf,useDeferredValue:function(s){return gr().memoizedState=s},useTransition:function(){var s=Xy(!1),o=s[0];return s=pA.bind(null,s[1]),gr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var h=ot,g=gr();if(st){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Nt===null)throw Error(t(349));(Di&30)!==0||qy(h,o,l)}g.memoizedState=l;var v={value:l,getSnapshot:o};return g.queue=v,Zy(Ky.bind(null,h,v,s),[s]),h.flags|=2048,wl(9,Gy.bind(null,h,v,l,o),void 0,null),l},useId:function(){var s=gr(),o=Nt.identifierPrefix;if(st){var l=Ur,h=Fr;l=(h&~(1<<32-pn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=vl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=fA++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},vA={readContext:Rn,useCallback:sv,useContext:Rn,useEffect:ff,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:hf,useRef:Jy,useState:function(){return hf(_l)},useDebugValue:pf,useDeferredValue:function(s){var o=Nn();return ov(o,At.memoizedState,s)},useTransition:function(){var s=hf(_l)[0],o=Nn().memoizedState;return[s,o]},useMutableSource:Wy,useSyncExternalStore:Hy,useId:av,unstable_isNewReconciler:!1},_A={readContext:Rn,useCallback:sv,useContext:Rn,useEffect:ff,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:df,useRef:Jy,useState:function(){return df(_l)},useDebugValue:pf,useDeferredValue:function(s){var o=Nn();return At===null?o.memoizedState=s:ov(o,At.memoizedState,s)},useTransition:function(){var s=df(_l)[0],o=Nn().memoizedState;return[s,o]},useMutableSource:Wy,useSyncExternalStore:Hy,useId:av,unstable_isNewReconciler:!1};function Wn(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function mf(s,o,l,h){o=s.memoizedState,l=l(h,o),l=l==null?o:le({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Cc={isMounted:function(s){return(s=s._reactInternals)?Un(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var h=nn(),g=Rs(s),v=zr(h,g);v.payload=o,l!=null&&(v.callback=l),o=Is(s,v,g),o!==null&&(Gn(o,s,g,h),_c(o,s,g))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var h=nn(),g=Rs(s),v=zr(h,g);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=Is(s,v,g),o!==null&&(Gn(o,s,g,h),_c(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=nn(),h=Rs(s),g=zr(l,h);g.tag=2,o!=null&&(g.callback=o),o=Is(s,g,h),o!==null&&(Gn(o,s,h,l),_c(o,s,h))}};function hv(s,o,l,h,g,v,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,S):o.prototype&&o.prototype.isPureReactComponent?!ol(l,h)||!ol(g,v):!0}function dv(s,o,l){var h=!1,g=Ts,v=o.contextType;return typeof v=="object"&&v!==null?v=Rn(v):(g=on(o)?Ci:Wt.current,h=o.contextTypes,v=(h=h!=null)?Oo(s,g):Ts),o=new o(l,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Cc,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),o}function fv(s,o,l,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==s&&Cc.enqueueReplaceState(o,o.state,null)}function gf(s,o,l,h){var g=s.stateNode;g.props=l,g.state=s.memoizedState,g.refs={},tf(s);var v=o.contextType;typeof v=="object"&&v!==null?g.context=Rn(v):(v=on(o)?Ci:Wt.current,g.context=Oo(s,v)),g.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(mf(s,o,v,l),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Cc.enqueueReplaceState(g,g.state,null),wc(s,l,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function qo(s,o){try{var l="",h=o;do l+=Ve(h),h=h.return;while(h);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:g,digest:null}}function yf(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function vf(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var wA=typeof WeakMap=="function"?WeakMap:Map;function pv(s,o,l){l=zr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){bc||(bc=!0,Vf=h),vf(s,o)},l}function mv(s,o,l){l=zr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;l.payload=function(){return h(g)},l.callback=function(){vf(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){vf(s,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function gv(s,o,l){var h=s.pingCache;if(h===null){h=s.pingCache=new wA;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(l)||(g.add(l),s=bA.bind(null,s,o,l),o.then(s,s))}function yv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function vv(s,o,l,h,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=zr(-1,1),o.tag=2,Is(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var EA=re.ReactCurrentOwner,an=!1;function tn(s,o,l,h){o.child=s===null?Oy(o,null,l,h):zo(o,s.child,l,h)}function _v(s,o,l,h,g){l=l.render;var v=o.ref;return Wo(o,g),h=uf(s,o,l,h,v,g),l=cf(),s!==null&&!an?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,$r(s,o,g)):(st&&l&&Hd(o),o.flags|=1,tn(s,o,h,g),o.child)}function wv(s,o,l,h,g){if(s===null){var v=l.type;return typeof v=="function"&&!Uf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,Ev(s,o,v,h,g)):(s=Uc(l.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&g)===0){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:ol,l(S,h)&&s.ref===o.ref)return $r(s,o,g)}return o.flags|=1,s=ks(v,h),s.ref=o.ref,s.return=o,o.child=s}function Ev(s,o,l,h,g){if(s!==null){var v=s.memoizedProps;if(ol(v,h)&&s.ref===o.ref)if(an=!1,o.pendingProps=h=v,(s.lanes&g)!==0)(s.flags&131072)!==0&&(an=!0);else return o.lanes=s.lanes,$r(s,o,g)}return _f(s,o,l,h,g)}function Tv(s,o,l){var h=o.pendingProps,g=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ko,En),En|=l;else{if((l&1073741824)===0)return s=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ye(Ko,En),En|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,Ye(Ko,En),En|=h}else v!==null?(h=v.baseLanes|l,o.memoizedState=null):h=l,Ye(Ko,En),En|=h;return tn(s,o,g,l),o.child}function Sv(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function _f(s,o,l,h,g){var v=on(l)?Ci:Wt.current;return v=Oo(o,v),Wo(o,g),l=uf(s,o,l,h,v,g),h=cf(),s!==null&&!an?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,$r(s,o,g)):(st&&h&&Hd(o),o.flags|=1,tn(s,o,l,g),o.child)}function xv(s,o,l,h,g){if(on(l)){var v=!0;hc(o)}else v=!1;if(Wo(o,g),o.stateNode===null)Rc(s,o),dv(o,l,h),gf(o,l,h,g),h=!0;else if(s===null){var S=o.stateNode,C=o.memoizedProps;S.props=C;var D=S.context,H=l.contextType;typeof H=="object"&&H!==null?H=Rn(H):(H=on(l)?Ci:Wt.current,H=Oo(o,H));var te=l.getDerivedStateFromProps,ne=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";ne||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(C!==h||D!==H)&&fv(o,S,h,H),xs=!1;var ee=o.memoizedState;S.state=ee,wc(o,h,S,g),D=o.memoizedState,C!==h||ee!==D||sn.current||xs?(typeof te=="function"&&(mf(o,l,te,h),D=o.memoizedState),(C=xs||hv(o,l,C,h,ee,D,H))?(ne||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=D),S.props=h,S.state=D,S.context=H,h=C):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,Uy(s,o),C=o.memoizedProps,H=o.type===o.elementType?C:Wn(o.type,C),S.props=H,ne=o.pendingProps,ee=S.context,D=l.contextType,typeof D=="object"&&D!==null?D=Rn(D):(D=on(l)?Ci:Wt.current,D=Oo(o,D));var ue=l.getDerivedStateFromProps;(te=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(C!==ne||ee!==D)&&fv(o,S,h,D),xs=!1,ee=o.memoizedState,S.state=ee,wc(o,h,S,g);var fe=o.memoizedState;C!==ne||ee!==fe||sn.current||xs?(typeof ue=="function"&&(mf(o,l,ue,h),fe=o.memoizedState),(H=xs||hv(o,l,H,h,ee,fe,D)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,fe,D),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,fe,D)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=fe),S.props=h,S.state=fe,S.context=D,h=H):(typeof S.componentDidUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return wf(s,o,l,h,v,g)}function wf(s,o,l,h,g,v){Sv(s,o);var S=(o.flags&128)!==0;if(!h&&!S)return g&&Ry(o,l,!1),$r(s,o,v);h=o.stateNode,EA.current=o;var C=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&S?(o.child=zo(o,s.child,null,v),o.child=zo(o,null,C,v)):tn(s,o,C,v),o.memoizedState=h.state,g&&Ry(o,l,!0),o.child}function Iv(s){var o=s.stateNode;o.pendingContext?Cy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Cy(s,o.context,!1),nf(s,o.containerInfo)}function Av(s,o,l,h,g){return Bo(),Qd(g),o.flags|=256,tn(s,o,l,h),o.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Tf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Cv(s,o,l){var h=o.pendingProps,g=it.current,v=!1,S=(o.flags&128)!==0,C;if((C=S)||(C=s!==null&&s.memoizedState===null?!1:(g&2)!==0),C?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Ye(it,g&1),s===null)return Kd(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,s=h.fallback,v?(h=o.mode,v=o.child,S={mode:"hidden",children:S},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Bc(S,h,0,null),s=Li(s,h,l,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Tf(l),o.memoizedState=Ef,s):Sf(o,S));if(g=s.memoizedState,g!==null&&(C=g.dehydrated,C!==null))return TA(s,o,S,h,C,g,l);if(v){v=h.fallback,S=o.mode,g=s.child,C=g.sibling;var D={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=D,o.deletions=null):(h=ks(g,D),h.subtreeFlags=g.subtreeFlags&14680064),C!==null?v=ks(C,v):(v=Li(v,S,l,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,S=s.child.memoizedState,S=S===null?Tf(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=s.childLanes&~l,o.memoizedState=Ef,h}return v=s.child,s=v.sibling,h=ks(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=h,o.memoizedState=null,h}function Sf(s,o){return o=Bc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Pc(s,o,l,h){return h!==null&&Qd(h),zo(o,s.child,null,l),s=Sf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function TA(s,o,l,h,g,v,S){if(l)return o.flags&256?(o.flags&=-257,h=yf(Error(t(422))),Pc(s,o,S,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,g=o.mode,h=Bc({mode:"visible",children:h.children},g,0,null),v=Li(v,g,S,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&zo(o,s.child,null,S),o.child.memoizedState=Tf(S),o.memoizedState=Ef,v);if((o.mode&1)===0)return Pc(s,o,S,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var C=h.dgst;return h=C,v=Error(t(419)),h=yf(v,h,void 0),Pc(s,o,S,h)}if(C=(S&s.childLanes)!==0,an||C){if(h=Nt,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|S))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Br(s,g),Gn(h,s,g,-1))}return Ff(),h=yf(Error(t(421))),Pc(s,o,S,h)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=jA.bind(null,s),g._reactRetry=o,null):(s=v.treeContext,wn=ws(g.nextSibling),_n=o,st=!0,$n=null,s!==null&&(Cn[Pn++]=Fr,Cn[Pn++]=Ur,Cn[Pn++]=Pi,Fr=s.id,Ur=s.overflow,Pi=o),o=Sf(o,h.children),o.flags|=4096,o)}function Pv(s,o,l){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Zd(s.return,o,l)}function xf(s,o,l,h,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=g)}function Rv(s,o,l){var h=o.pendingProps,g=h.revealOrder,v=h.tail;if(tn(s,o,h.children,l),h=it.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Pv(s,l,o);else if(s.tag===19)Pv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Ye(it,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(l=o.child,g=null;l!==null;)s=l.alternate,s!==null&&Ec(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),xf(o,!1,g,l,v);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Ec(s)===null){o.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}xf(o,!0,l,null,v);break;case"together":xf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Rc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function $r(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Vi|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=ks(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=ks(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function SA(s,o,l){switch(o.tag){case 3:Iv(o),Bo();break;case 5:$y(o);break;case 1:on(o.type)&&hc(o);break;case 4:nf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;Ye(yc,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ye(it,it.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Cv(s,o,l):(Ye(it,it.current&1),s=$r(s,o,l),s!==null?s.sibling:null);Ye(it,it.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Rv(s,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ye(it,it.current),h)break;return null;case 22:case 23:return o.lanes=0,Tv(s,o,l)}return $r(s,o,l)}var Nv,If,kv,Dv;Nv=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},If=function(){},kv=function(s,o,l,h){var g=s.memoizedProps;if(g!==h){s=o.stateNode,ki(mr.current);var v=null;switch(l){case"input":g=uo(s,g),h=uo(s,h),v=[];break;case"select":g=le({},g,{value:void 0}),h=le({},h,{value:void 0}),v=[];break;case"textarea":g=ja(s,g),h=ja(s,h),v=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=lc)}Fn(l,h);var S;l=null;for(H in g)if(!h.hasOwnProperty(H)&&g.hasOwnProperty(H)&&g[H]!=null)if(H==="style"){var C=g[H];for(S in C)C.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?v||(v=[]):(v=v||[]).push(H,null));for(H in h){var D=h[H];if(C=g?.[H],h.hasOwnProperty(H)&&D!==C&&(D!=null||C!=null))if(H==="style")if(C){for(S in C)!C.hasOwnProperty(S)||D&&D.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in D)D.hasOwnProperty(S)&&C[S]!==D[S]&&(l||(l={}),l[S]=D[S])}else l||(v||(v=[]),v.push(H,l)),l=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,C=C?C.__html:void 0,D!=null&&C!==D&&(v=v||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(v=v||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(i.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&Ze("scroll",s),v||C===D||(v=[])):(v=v||[]).push(H,D))}l&&(v=v||[]).push("style",l);var H=v;(o.updateQueue=H)&&(o.flags|=4)}},Dv=function(s,o,l,h){l!==h&&(o.flags|=4)};function El(s,o){if(!st)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function qt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(o)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=l,o}function xA(s,o,l){var h=o.pendingProps;switch(qd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return on(o.type)&&cc(),qt(o),null;case 3:return h=o.stateNode,Ho(),et(sn),et(Wt),of(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(mc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,$n!==null&&(Mf($n),$n=null))),If(s,o),qt(o),null;case 5:rf(o);var g=ki(gl.current);if(l=o.type,s!==null&&o.stateNode!=null)kv(s,o,l,h,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return qt(o),null}if(s=ki(mr.current),mc(o)){h=o.stateNode,l=o.type;var v=o.memoizedProps;switch(h[pr]=o,h[hl]=v,s=(o.mode&1)!==0,l){case"dialog":Ze("cancel",h),Ze("close",h);break;case"iframe":case"object":case"embed":Ze("load",h);break;case"video":case"audio":for(g=0;g<ll.length;g++)Ze(ll[g],h);break;case"source":Ze("error",h);break;case"img":case"image":case"link":Ze("error",h),Ze("load",h);break;case"details":Ze("toggle",h);break;case"input":Vu(h,v),Ze("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Ze("invalid",h);break;case"textarea":Ma(h,v),Ze("invalid",h)}Fn(l,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var C=v[S];S==="children"?typeof C=="string"?h.textContent!==C&&(v.suppressHydrationWarning!==!0&&ac(h.textContent,C,s),g=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&ac(h.textContent,C,s),g=["children",""+C]):i.hasOwnProperty(S)&&C!=null&&S==="onScroll"&&Ze("scroll",h)}switch(l){case"input":lo(h),ba(h,v,!0);break;case"textarea":lo(h),ss(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=lc)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=La(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=S.createElement(l,{is:h.is}):(s=S.createElement(l),l==="select"&&(S=s,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):s=S.createElementNS(s,l),s[pr]=o,s[hl]=h,Nv(s,o,!1,!1),o.stateNode=s;e:{switch(S=po(l,h),l){case"dialog":Ze("cancel",s),Ze("close",s),g=h;break;case"iframe":case"object":case"embed":Ze("load",s),g=h;break;case"video":case"audio":for(g=0;g<ll.length;g++)Ze(ll[g],s);g=h;break;case"source":Ze("error",s),g=h;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),g=h;break;case"details":Ze("toggle",s),g=h;break;case"input":Vu(s,h),g=uo(s,h),Ze("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=le({},h,{value:void 0}),Ze("invalid",s);break;case"textarea":Ma(s,h),g=ja(s,h),Ze("invalid",s);break;default:g=h}Fn(l,g),C=g;for(v in C)if(C.hasOwnProperty(v)){var D=C[v];v==="style"?fo(s,D):v==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&ju(s,D)):v==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&di(s,D):typeof D=="number"&&di(s,""+D):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?D!=null&&v==="onScroll"&&Ze("scroll",s):D!=null&&Y(s,v,D,S))}switch(l){case"input":lo(s),ba(s,h,!1);break;case"textarea":lo(s),ss(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ue(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?On(s,!!h.multiple,v,!1):h.defaultValue!=null&&On(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=lc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(s&&o.stateNode!=null)Dv(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=ki(gl.current),ki(mr.current),mc(o)){if(h=o.stateNode,l=o.memoizedProps,h[pr]=o,(v=h.nodeValue!==l)&&(s=_n,s!==null))switch(s.tag){case 3:ac(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ac(h.nodeValue,l,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[pr]=o,o.stateNode=h}return qt(o),null;case 13:if(et(it),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&wn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)jy(),Bo(),o.flags|=98560,v=!1;else if(v=mc(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[pr]=o}else Bo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),v=!1}else $n!==null&&(Mf($n),$n=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(it.current&1)!==0?Ct===0&&(Ct=3):Ff())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return Ho(),If(s,o),s===null&&ul(o.stateNode.containerInfo),qt(o),null;case 10:return Jd(o.type._context),qt(o),null;case 17:return on(o.type)&&cc(),qt(o),null;case 19:if(et(it),v=o.memoizedState,v===null)return qt(o),null;if(h=(o.flags&128)!==0,S=v.rendering,S===null)if(h)El(v,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=Ec(s),S!==null){for(o.flags|=128,El(v,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)v=l,s=h,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,s=S.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ye(it,it.current&1|2),o.child}s=s.sibling}v.tail!==null&&Je()>Qo&&(o.flags|=128,h=!0,El(v,!1),o.lanes=4194304)}else{if(!h)if(s=Ec(S),s!==null){if(o.flags|=128,h=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),El(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!st)return qt(o),null}else 2*Je()-v.renderingStartTime>Qo&&l!==1073741824&&(o.flags|=128,h=!0,El(v,!1),o.lanes=4194304);v.isBackwards?(S.sibling=o.child,o.child=S):(l=v.last,l!==null?l.sibling=S:o.child=S,v.last=S)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Je(),o.sibling=null,l=it.current,Ye(it,h?l&1|2:l&1),o):(qt(o),null);case 22:case 23:return Of(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(En&1073741824)!==0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function IA(s,o){switch(qd(o),o.tag){case 1:return on(o.type)&&cc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ho(),et(sn),et(Wt),of(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return rf(o),null;case 13:if(et(it),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Bo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return et(it),null;case 4:return Ho(),null;case 10:return Jd(o.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var Nc=!1,Gt=!1,AA=typeof WeakSet=="function"?WeakSet:Set,de=null;function Go(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ct(s,o,h)}else l.current=null}function Af(s,o,l){try{l()}catch(h){ct(s,o,h)}}var Vv=!1;function CA(s,o){if(Ld=br,s=hy(),Rd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,C=-1,D=-1,H=0,te=0,ne=s,ee=null;t:for(;;){for(var ue;ne!==l||g!==0&&ne.nodeType!==3||(C=S+g),ne!==v||h!==0&&ne.nodeType!==3||(D=S+h),ne.nodeType===3&&(S+=ne.nodeValue.length),(ue=ne.firstChild)!==null;)ee=ne,ne=ue;for(;;){if(ne===s)break t;if(ee===l&&++H===g&&(C=S),ee===v&&++te===h&&(D=S),(ue=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=ue}l=C===-1||D===-1?null:{start:C,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Od={focusedElem:s,selectionRange:l},br=!1,de=o;de!==null;)if(o=de,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,de=s;else for(;de!==null;){o=de;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,pt=fe.memoizedState,B=o.stateNode,L=B.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Wn(o.type,pe),pt);B.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var $=o.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ct(o,o.return,se)}if(s=o.sibling,s!==null){s.return=o.return,de=s;break}de=o.return}return fe=Vv,Vv=!1,fe}function Tl(s,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&Af(o,l,v)}g=g.next}while(g!==h)}}function kc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Cf(s){var o=s.ref;if(o!==null){var l=s.stateNode;s.tag,s=l,typeof o=="function"?o(s):o.current=s}}function bv(s){var o=s.alternate;o!==null&&(s.alternate=null,bv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[pr],delete o[hl],delete o[zd],delete o[uA],delete o[cA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function jv(s){return s.tag===5||s.tag===3||s.tag===4}function Mv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||jv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pf(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=lc));else if(h!==4&&(s=s.child,s!==null))for(Pf(s,o,l),s=s.sibling;s!==null;)Pf(s,o,l),s=s.sibling}function Rf(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Rf(s,o,l),s=s.sibling;s!==null;)Rf(s,o,l),s=s.sibling}var Mt=null,Hn=!1;function As(s,o,l){for(l=l.child;l!==null;)Lv(s,o,l),l=l.sibling}function Lv(s,o,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(yi,l)}catch{}switch(l.tag){case 5:Gt||Go(l,o);case 6:var h=Mt,g=Hn;Mt=null,As(s,o,l),Mt=h,Hn=g,Mt!==null&&(Hn?(s=Mt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Mt.removeChild(l.stateNode));break;case 18:Mt!==null&&(Hn?(s=Mt,l=l.stateNode,s.nodeType===8?Bd(s.parentNode,l):s.nodeType===1&&Bd(s,l),gs(s)):Bd(Mt,l.stateNode));break;case 4:h=Mt,g=Hn,Mt=l.stateNode.containerInfo,Hn=!0,As(s,o,l),Mt=h,Hn=g;break;case 0:case 11:case 14:case 15:if(!Gt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&Af(l,o,S),g=g.next}while(g!==h)}As(s,o,l);break;case 1:if(!Gt&&(Go(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(C){ct(l,o,C)}As(s,o,l);break;case 21:As(s,o,l);break;case 22:l.mode&1?(Gt=(h=Gt)||l.memoizedState!==null,As(s,o,l),Gt=h):As(s,o,l);break;default:As(s,o,l)}}function Ov(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new AA),o.forEach(function(h){var g=MA.bind(null,s,h);l.has(h)||(l.add(h),h.then(g,g))})}}function qn(s,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h];try{var v=s,S=o,C=S;e:for(;C!==null;){switch(C.tag){case 5:Mt=C.stateNode,Hn=!1;break e;case 3:Mt=C.stateNode.containerInfo,Hn=!0;break e;case 4:Mt=C.stateNode.containerInfo,Hn=!0;break e}C=C.return}if(Mt===null)throw Error(t(160));Lv(v,S,g),Mt=null,Hn=!1;var D=g.alternate;D!==null&&(D.return=null),g.return=null}catch(H){ct(g,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Fv(o,s),o=o.sibling}function Fv(s,o){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(qn(o,s),yr(s),h&4){try{Tl(3,s,s.return),kc(3,s)}catch(pe){ct(s,s.return,pe)}try{Tl(5,s,s.return)}catch(pe){ct(s,s.return,pe)}}break;case 1:qn(o,s),yr(s),h&512&&l!==null&&Go(l,l.return);break;case 5:if(qn(o,s),yr(s),h&512&&l!==null&&Go(l,l.return),s.flags&32){var g=s.stateNode;try{di(g,"")}catch(pe){ct(s,s.return,pe)}}if(h&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,S=l!==null?l.memoizedProps:v,C=s.type,D=s.updateQueue;if(s.updateQueue=null,D!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&co(g,v),po(C,S);var H=po(C,v);for(S=0;S<D.length;S+=2){var te=D[S],ne=D[S+1];te==="style"?fo(g,ne):te==="dangerouslySetInnerHTML"?ju(g,ne):te==="children"?di(g,ne):Y(g,te,ne,H)}switch(C){case"input":hi(g,v);break;case"textarea":bu(g,v);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?On(g,!!v.multiple,ue,!1):ee!==!!v.multiple&&(v.defaultValue!=null?On(g,!!v.multiple,v.defaultValue,!0):On(g,!!v.multiple,v.multiple?[]:"",!1))}g[hl]=v}catch(pe){ct(s,s.return,pe)}}break;case 6:if(qn(o,s),yr(s),h&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(pe){ct(s,s.return,pe)}}break;case 3:if(qn(o,s),yr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{gs(o.containerInfo)}catch(pe){ct(s,s.return,pe)}break;case 4:qn(o,s),yr(s);break;case 13:qn(o,s),yr(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Df=Je())),h&4&&Ov(s);break;case 22:if(te=l!==null&&l.memoizedState!==null,s.mode&1?(Gt=(H=Gt)||te,qn(o,s),Gt=H):qn(o,s),yr(s),h&8192){if(H=s.memoizedState!==null,(s.stateNode.isHidden=H)&&!te&&(s.mode&1)!==0)for(de=s,te=s.child;te!==null;){for(ne=de=te;de!==null;){switch(ee=de,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:Tl(4,ee,ee.return);break;case 1:Go(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){h=ee,l=ee.return;try{o=h,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){ct(h,l,pe)}}break;case 5:Go(ee,ee.return);break;case 22:if(ee.memoizedState!==null){zv(ne);continue}}ue!==null?(ue.return=ee,de=ue):zv(ne)}te=te.sibling}e:for(te=null,ne=s;;){if(ne.tag===5){if(te===null){te=ne;try{g=ne.stateNode,H?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=ne.stateNode,D=ne.memoizedProps.style,S=D!=null&&D.hasOwnProperty("display")?D.display:null,C.style.display=as("display",S))}catch(pe){ct(s,s.return,pe)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=H?"":ne.memoizedProps}catch(pe){ct(s,s.return,pe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:qn(o,s),yr(s),h&4&&Ov(s);break;case 21:break;default:qn(o,s),yr(s)}}function yr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(jv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(di(g,""),h.flags&=-33);var v=Mv(s);Rf(s,v,g);break;case 3:case 4:var S=h.stateNode.containerInfo,C=Mv(s);Pf(s,C,S);break;default:throw Error(t(161))}}catch(D){ct(s,s.return,D)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function PA(s,o,l){de=s,Uv(s)}function Uv(s,o,l){for(var h=(s.mode&1)!==0;de!==null;){var g=de,v=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||Nc;if(!S){var C=g.alternate,D=C!==null&&C.memoizedState!==null||Gt;C=Nc;var H=Gt;if(Nc=S,(Gt=D)&&!H)for(de=g;de!==null;)S=de,D=S.child,S.tag===22&&S.memoizedState!==null?$v(g):D!==null?(D.return=S,de=D):$v(g);for(;v!==null;)de=v,Uv(v),v=v.sibling;de=g,Nc=C,Gt=H}Bv(s)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,de=v):Bv(s)}}function Bv(s){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Gt||kc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Gt)if(l===null)h.componentDidMount();else{var g=o.elementType===o.type?l.memoizedProps:Wn(o.type,l.memoizedProps);h.componentDidUpdate(g,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&zy(o,v,h);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}zy(o,S,l)}break;case 5:var C=o.stateNode;if(l===null&&o.flags&4){l=C;var D=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var te=H.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&gs(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||o.flags&512&&Cf(o)}catch(ee){ct(o,o.return,ee)}}if(o===s){de=null;break}if(l=o.sibling,l!==null){l.return=o.return,de=l;break}de=o.return}}function zv(s){for(;de!==null;){var o=de;if(o===s){de=null;break}var l=o.sibling;if(l!==null){l.return=o.return,de=l;break}de=o.return}}function $v(s){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{kc(4,o)}catch(D){ct(o,l,D)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(D){ct(o,g,D)}}var v=o.return;try{Cf(o)}catch(D){ct(o,v,D)}break;case 5:var S=o.return;try{Cf(o)}catch(D){ct(o,S,D)}}}catch(D){ct(o,o.return,D)}if(o===s){de=null;break}var C=o.sibling;if(C!==null){C.return=o.return,de=C;break}de=o.return}}var RA=Math.ceil,Dc=re.ReactCurrentDispatcher,Nf=re.ReactCurrentOwner,kn=re.ReactCurrentBatchConfig,Be=0,Nt=null,wt=null,Lt=0,En=0,Ko=Es(0),Ct=0,Sl=null,Vi=0,Vc=0,kf=0,xl=null,ln=null,Df=0,Qo=1/0,Wr=null,bc=!1,Vf=null,Cs=null,jc=!1,Ps=null,Mc=0,Il=0,bf=null,Lc=-1,Oc=0;function nn(){return(Be&6)!==0?Je():Lc!==-1?Lc:Lc=Je()}function Rs(s){return(s.mode&1)===0?1:(Be&2)!==0&&Lt!==0?Lt&-Lt:dA.transition!==null?(Oc===0&&(Oc=qa()),Oc):(s=Oe,s!==0||(s=window.event,s=s===void 0?16:xo(s.type)),s)}function Gn(s,o,l,h){if(50<Il)throw Il=0,bf=null,Error(t(185));Ei(s,l,h),((Be&2)===0||s!==Nt)&&(s===Nt&&((Be&2)===0&&(Vc|=l),Ct===4&&Ns(s,Lt)),un(s,h),l===1&&Be===0&&(o.mode&1)===0&&(Qo=Je()+500,dc&&Ss()))}function un(s,o){var l=s.callbackNode;wi(s,o);var h=kr(s,s===Nt?Lt:0);if(h===0)l!==null&&yo(l),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(l!=null&&yo(l),o===1)s.tag===0?hA(Hv.bind(null,s)):Ny(Hv.bind(null,s)),aA(function(){(Be&6)===0&&Ss()}),l=null;else{switch(sr(h)){case 1:l=vo;break;case 4:l=$a;break;case 16:l=gi;break;case 536870912:l=_o;break;default:l=gi}l=Zv(l,Wv.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function Wv(s,o){if(Lc=-1,Oc=0,(Be&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Yo()&&s.callbackNode!==l)return null;var h=kr(s,s===Nt?Lt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Fc(s,h);else{o=h;var g=Be;Be|=2;var v=Gv();(Nt!==s||Lt!==o)&&(Wr=null,Qo=Je()+500,ji(s,o));do try{DA();break}catch(C){qv(s,C)}while(!0);Xd(),Dc.current=v,Be=g,wt!==null?o=0:(Nt=null,Lt=0,o=Ct)}if(o!==0){if(o===2&&(g=Ha(s),g!==0&&(h=g,o=jf(s,g))),o===1)throw l=Sl,ji(s,0),Ns(s,h),un(s,Je()),l;if(o===6)Ns(s,h);else{if(g=s.current.alternate,(h&30)===0&&!NA(g)&&(o=Fc(s,h),o===2&&(v=Ha(s),v!==0&&(h=v,o=jf(s,v))),o===1))throw l=Sl,ji(s,0),Ns(s,h),un(s,Je()),l;switch(s.finishedWork=g,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Mi(s,ln,Wr);break;case 3:if(Ns(s,h),(h&130023424)===h&&(o=Df+500-Je(),10<o)){if(kr(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){nn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Ud(Mi.bind(null,s,ln,Wr),o);break}Mi(s,ln,Wr);break;case 4:if(Ns(s,h),(h&4194240)===h)break;for(o=s.eventTimes,g=-1;0<h;){var S=31-pn(h);v=1<<S,S=o[S],S>g&&(g=S),h&=~v}if(h=g,h=Je()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*RA(h/1960))-h,10<h){s.timeoutHandle=Ud(Mi.bind(null,s,ln,Wr),h);break}Mi(s,ln,Wr);break;case 5:Mi(s,ln,Wr);break;default:throw Error(t(329))}}}return un(s,Je()),s.callbackNode===l?Wv.bind(null,s):null}function jf(s,o){var l=xl;return s.current.memoizedState.isDehydrated&&(ji(s,o).flags|=256),s=Fc(s,o),s!==2&&(o=ln,ln=l,o!==null&&Mf(o)),s}function Mf(s){ln===null?ln=s:ln.push.apply(ln,s)}function NA(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var g=l[h],v=g.getSnapshot;g=g.value;try{if(!zn(v(),g))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ns(s,o){for(o&=~kf,o&=~Vc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-pn(o),h=1<<l;s[l]=-1,o&=~h}}function Hv(s){if((Be&6)!==0)throw Error(t(327));Yo();var o=kr(s,0);if((o&1)===0)return un(s,Je()),null;var l=Fc(s,o);if(s.tag!==0&&l===2){var h=Ha(s);h!==0&&(o=h,l=jf(s,h))}if(l===1)throw l=Sl,ji(s,0),Ns(s,o),un(s,Je()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Mi(s,ln,Wr),un(s,Je()),null}function Lf(s,o){var l=Be;Be|=1;try{return s(o)}finally{Be=l,Be===0&&(Qo=Je()+500,dc&&Ss())}}function bi(s){Ps!==null&&Ps.tag===0&&(Be&6)===0&&Yo();var o=Be;Be|=1;var l=kn.transition,h=Oe;try{if(kn.transition=null,Oe=1,s)return s()}finally{Oe=h,kn.transition=l,Be=o,(Be&6)===0&&Ss()}}function Of(){En=Ko.current,et(Ko)}function ji(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,oA(l)),wt!==null)for(l=wt.return;l!==null;){var h=l;switch(qd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&cc();break;case 3:Ho(),et(sn),et(Wt),of();break;case 5:rf(h);break;case 4:Ho();break;case 13:et(it);break;case 19:et(it);break;case 10:Jd(h.type._context);break;case 22:case 23:Of()}l=l.return}if(Nt=s,wt=s=ks(s.current,null),Lt=En=o,Ct=0,Sl=null,kf=Vc=Vi=0,ln=xl=null,Ni!==null){for(o=0;o<Ni.length;o++)if(l=Ni[o],h=l.interleaved,h!==null){l.interleaved=null;var g=h.next,v=l.pending;if(v!==null){var S=v.next;v.next=g,h.next=S}l.pending=h}Ni=null}return s}function qv(s,o){do{var l=wt;try{if(Xd(),Tc.current=Ac,Sc){for(var h=ot.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Sc=!1}if(Di=0,Rt=At=ot=null,yl=!1,vl=0,Nf.current=null,l===null||l.return===null){Ct=1,Sl=o,wt=null;break}e:{var v=s,S=l.return,C=l,D=o;if(o=Lt,C.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,te=C,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=yv(S);if(ue!==null){ue.flags&=-257,vv(ue,S,C,v,o),ue.mode&1&&gv(v,H,o),o=ue,D=H;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(D),o.updateQueue=pe}else fe.add(D);break e}else{if((o&1)===0){gv(v,H,o),Ff();break e}D=Error(t(426))}}else if(st&&C.mode&1){var pt=yv(S);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),vv(pt,S,C,v,o),Qd(qo(D,C));break e}}v=D=qo(D,C),Ct!==4&&(Ct=2),xl===null?xl=[v]:xl.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var B=pv(v,D,o);By(v,B);break e;case 1:C=D;var L=v.type,$=v.stateNode;if((v.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Cs===null||!Cs.has($)))){v.flags|=65536,o&=-o,v.lanes|=o;var se=mv(v,C,o);By(v,se);break e}}v=v.return}while(v!==null)}Qv(l)}catch(me){o=me,wt===l&&l!==null&&(wt=l=l.return);continue}break}while(!0)}function Gv(){var s=Dc.current;return Dc.current=Ac,s===null?Ac:s}function Ff(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||(Vi&268435455)===0&&(Vc&268435455)===0||Ns(Nt,Lt)}function Fc(s,o){var l=Be;Be|=2;var h=Gv();(Nt!==s||Lt!==o)&&(Wr=null,ji(s,o));do try{kA();break}catch(g){qv(s,g)}while(!0);if(Xd(),Be=l,Dc.current=h,wt!==null)throw Error(t(261));return Nt=null,Lt=0,Ct}function kA(){for(;wt!==null;)Kv(wt)}function DA(){for(;wt!==null&&!mi();)Kv(wt)}function Kv(s){var o=Jv(s.alternate,s,En);s.memoizedProps=s.pendingProps,o===null?Qv(s):wt=o,Nf.current=null}function Qv(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=xA(l,o,En),l!==null){wt=l;return}}else{if(l=IA(l,o),l!==null){l.flags&=32767,wt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ct=6,wt=null;return}}if(o=o.sibling,o!==null){wt=o;return}wt=o=s}while(o!==null);Ct===0&&(Ct=5)}function Mi(s,o,l){var h=Oe,g=kn.transition;try{kn.transition=null,Oe=1,VA(s,o,l,h)}finally{kn.transition=g,Oe=h}return null}function VA(s,o,l,h){do Yo();while(Ps!==null);if((Be&6)!==0)throw Error(t(327));l=s.finishedWork;var g=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=l.lanes|l.childLanes;if(xd(s,v),s===Nt&&(wt=Nt=null,Lt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||jc||(jc=!0,Zv(gi,function(){return Yo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=kn.transition,kn.transition=null;var S=Oe;Oe=1;var C=Be;Be|=4,Nf.current=null,CA(s,l),Fv(l,s),ZI(Od),br=!!Ld,Od=Ld=null,s.current=l,PA(l),Nr(),Be=C,Oe=S,kn.transition=v}else s.current=l;if(jc&&(jc=!1,Ps=s,Mc=g),v=s.pendingLanes,v===0&&(Cs=null),qu(l.stateNode),un(s,Je()),o!==null)for(h=s.onRecoverableError,l=0;l<o.length;l++)g=o[l],h(g.value,{componentStack:g.stack,digest:g.digest});if(bc)throw bc=!1,s=Vf,Vf=null,s;return(Mc&1)!==0&&s.tag!==0&&Yo(),v=s.pendingLanes,(v&1)!==0?s===bf?Il++:(Il=0,bf=s):Il=0,Ss(),null}function Yo(){if(Ps!==null){var s=sr(Mc),o=kn.transition,l=Oe;try{if(kn.transition=null,Oe=16>s?16:s,Ps===null)var h=!1;else{if(s=Ps,Ps=null,Mc=0,(Be&6)!==0)throw Error(t(331));var g=Be;for(Be|=4,de=s.current;de!==null;){var v=de,S=v.child;if((de.flags&16)!==0){var C=v.deletions;if(C!==null){for(var D=0;D<C.length;D++){var H=C[D];for(de=H;de!==null;){var te=de;switch(te.tag){case 0:case 11:case 15:Tl(8,te,v)}var ne=te.child;if(ne!==null)ne.return=te,de=ne;else for(;de!==null;){te=de;var ee=te.sibling,ue=te.return;if(bv(te),te===H){de=null;break}if(ee!==null){ee.return=ue,de=ee;break}de=ue}}}var fe=v.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var pt=pe.sibling;pe.sibling=null,pe=pt}while(pe!==null)}}de=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,de=S;else e:for(;de!==null;){if(v=de,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Tl(9,v,v.return)}var B=v.sibling;if(B!==null){B.return=v.return,de=B;break e}de=v.return}}var L=s.current;for(de=L;de!==null;){S=de;var $=S.child;if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,de=$;else e:for(S=L;de!==null;){if(C=de,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:kc(9,C)}}catch(me){ct(C,C.return,me)}if(C===S){de=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,de=se;break e}de=C.return}}if(Be=g,Ss(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(yi,s)}catch{}h=!0}return h}finally{Oe=l,kn.transition=o}}return!1}function Yv(s,o,l){o=qo(l,o),o=pv(s,o,1),s=Is(s,o,1),o=nn(),s!==null&&(Ei(s,1,o),un(s,o))}function ct(s,o,l){if(s.tag===3)Yv(s,s,l);else for(;o!==null;){if(o.tag===3){Yv(o,s,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cs===null||!Cs.has(h))){s=qo(l,s),s=mv(o,s,1),o=Is(o,s,1),s=nn(),o!==null&&(Ei(o,1,s),un(o,s));break}}o=o.return}}function bA(s,o,l){var h=s.pingCache;h!==null&&h.delete(o),o=nn(),s.pingedLanes|=s.suspendedLanes&l,Nt===s&&(Lt&l)===l&&(Ct===4||Ct===3&&(Lt&130023424)===Lt&&500>Je()-Df?ji(s,0):kf|=l),un(s,o)}function Xv(s,o){o===0&&((s.mode&1)===0?o=1:(o=fs,fs<<=1,(fs&130023424)===0&&(fs=4194304)));var l=nn();s=Br(s,o),s!==null&&(Ei(s,o,l),un(s,l))}function jA(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),Xv(s,l)}function MA(s,o){var l=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Xv(s,l)}var Jv;Jv=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||sn.current)an=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return an=!1,SA(s,o,l);an=(s.flags&131072)!==0}else an=!1,st&&(o.flags&1048576)!==0&&ky(o,pc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Rc(s,o),s=o.pendingProps;var g=Oo(o,Wt.current);Wo(o,l),g=uf(null,o,h,s,g,l);var v=cf();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,on(h)?(v=!0,hc(o)):v=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,tf(o),g.updater=Cc,o.stateNode=g,g._reactInternals=o,gf(o,h,s,l),o=wf(null,o,h,!0,v,l)):(o.tag=0,st&&v&&Hd(o),tn(null,o,g,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Rc(s,o),s=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=OA(h),s=Wn(h,s),g){case 0:o=_f(null,o,h,s,l);break e;case 1:o=xv(null,o,h,s,l);break e;case 11:o=_v(null,o,h,s,l);break e;case 14:o=wv(null,o,h,Wn(h.type,s),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Wn(h,g),_f(s,o,h,g,l);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Wn(h,g),xv(s,o,h,g,l);case 3:e:{if(Iv(o),s===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,g=v.element,Uy(s,o),wc(o,h,null,l);var S=o.memoizedState;if(h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){g=qo(Error(t(423)),o),o=Av(s,o,h,l,g);break e}else if(h!==g){g=qo(Error(t(424)),o),o=Av(s,o,h,l,g);break e}else for(wn=ws(o.stateNode.containerInfo.firstChild),_n=o,st=!0,$n=null,l=Oy(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Bo(),h===g){o=$r(s,o,l);break e}tn(s,o,h,l)}o=o.child}return o;case 5:return $y(o),s===null&&Kd(o),h=o.type,g=o.pendingProps,v=s!==null?s.memoizedProps:null,S=g.children,Fd(h,g)?S=null:v!==null&&Fd(h,v)&&(o.flags|=32),Sv(s,o),tn(s,o,S,l),o.child;case 6:return s===null&&Kd(o),null;case 13:return Cv(s,o,l);case 4:return nf(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=zo(o,null,h,l):tn(s,o,h,l),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Wn(h,g),_v(s,o,h,g,l);case 7:return tn(s,o,o.pendingProps,l),o.child;case 8:return tn(s,o,o.pendingProps.children,l),o.child;case 12:return tn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,v=o.memoizedProps,S=g.value,Ye(yc,h._currentValue),h._currentValue=S,v!==null)if(zn(v.value,S)){if(v.children===g.children&&!sn.current){o=$r(s,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var C=v.dependencies;if(C!==null){S=v.child;for(var D=C.firstContext;D!==null;){if(D.context===h){if(v.tag===1){D=zr(-1,l&-l),D.tag=2;var H=v.updateQueue;if(H!==null){H=H.shared;var te=H.pending;te===null?D.next=D:(D.next=te.next,te.next=D),H.pending=D}}v.lanes|=l,D=v.alternate,D!==null&&(D.lanes|=l),Zd(v.return,l,o),C.lanes|=l;break}D=D.next}}else if(v.tag===10)S=v.type===o.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=l,C=S.alternate,C!==null&&(C.lanes|=l),Zd(S,l,o),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===o){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}tn(s,o,g.children,l),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,Wo(o,l),g=Rn(g),h=h(g),o.flags|=1,tn(s,o,h,l),o.child;case 14:return h=o.type,g=Wn(h,o.pendingProps),g=Wn(h.type,g),wv(s,o,h,g,l);case 15:return Ev(s,o,o.type,o.pendingProps,l);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:Wn(h,g),Rc(s,o),o.tag=1,on(h)?(s=!0,hc(o)):s=!1,Wo(o,l),dv(o,h,g),gf(o,h,g,l),wf(null,o,h,!0,s,l);case 19:return Rv(s,o,l);case 22:return Tv(s,o,l)}throw Error(t(156,o.tag))};function Zv(s,o){return za(s,o)}function LA(s,o,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(s,o,l,h){return new LA(s,o,l,h)}function Uf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function OA(s){if(typeof s=="function")return Uf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===It)return 14}return 2}function ks(s,o){var l=s.alternate;return l===null?(l=Dn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Uc(s,o,l,h,g,v){var S=2;if(h=s,typeof s=="function")Uf(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case N:return Li(l.children,g,v,o);case I:S=8,g|=8;break;case P:return s=Dn(12,l,o,g|2),s.elementType=P,s.lanes=v,s;case R:return s=Dn(13,l,o,g),s.elementType=R,s.lanes=v,s;case qe:return s=Dn(19,l,o,g),s.elementType=qe,s.lanes=v,s;case Ne:return Bc(l,g,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:S=10;break e;case b:S=9;break e;case U:S=11;break e;case It:S=14;break e;case Vt:S=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Dn(S,l,o,g),o.elementType=s,o.type=h,o.lanes=v,o}function Li(s,o,l,h){return s=Dn(7,s,h,o),s.lanes=l,s}function Bc(s,o,l,h){return s=Dn(22,s,h,o),s.elementType=Ne,s.lanes=l,s.stateNode={isHidden:!1},s}function Bf(s,o,l){return s=Dn(6,s,null,o),s.lanes=l,s}function zf(s,o,l){return o=Dn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function FA(s,o,l,h,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function $f(s,o,l,h,g,v,S,C,D){return s=new FA(s,o,l,C,D),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Dn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},tf(v),s}function UA(s,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:h==null?null:""+h,children:s,containerInfo:o,implementation:l}}function e_(s){if(!s)return Ts;s=s._reactInternals;e:{if(Un(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(on(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(on(l))return Py(s,l,o)}return o}function t_(s,o,l,h,g,v,S,C,D){return s=$f(l,h,!0,s,g,v,S,C,D),s.context=e_(null),l=s.current,h=nn(),g=Rs(l),v=zr(h,g),v.callback=o??null,Is(l,v,g),s.current.lanes=g,Ei(s,g,h),un(s,h),s}function zc(s,o,l,h){var g=o.current,v=nn(),S=Rs(g);return l=e_(l),o.context===null?o.context=l:o.pendingContext=l,o=zr(v,S),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Is(g,o,S),s!==null&&(Gn(s,g,S,v),_c(s,g,S)),S}function $c(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function n_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function Wf(s,o){n_(s,o),(s=s.alternate)&&n_(s,o)}function BA(){return null}var r_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Hf(s){this._internalRoot=s}Wc.prototype.render=Hf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));zc(s,o,null,null)},Wc.prototype.unmount=Hf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;bi(function(){zc(null,s,null,null)}),o[Lr]=null}};function Wc(s){this._internalRoot=s}Wc.prototype.unstable_scheduleHydration=function(s){if(s){var o=Xa();s={blockedOn:null,target:s,priority:o};for(var l=0;l<mn.length&&o!==0&&o<mn[l].priority;l++);mn.splice(l,0,s),l===0&&To(s)}};function qf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Hc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function s_(){}function zA(s,o,l,h,g){if(g){if(typeof h=="function"){var v=h;h=function(){var H=$c(S);v.call(H)}}var S=t_(o,h,s,0,null,!1,!1,"",s_);return s._reactRootContainer=S,s[Lr]=S.current,ul(s.nodeType===8?s.parentNode:s),bi(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var C=h;h=function(){var H=$c(D);C.call(H)}}var D=$f(s,0,!1,null,null,!1,!1,"",s_);return s._reactRootContainer=D,s[Lr]=D.current,ul(s.nodeType===8?s.parentNode:s),bi(function(){zc(o,D,l,h)}),D}function qc(s,o,l,h,g){var v=l._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var C=g;g=function(){var D=$c(S);C.call(D)}}zc(o,S,s,g)}else S=zA(l,o,s,g,h);return $c(S)}Qa=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=$e(o.pendingLanes);l!==0&&(Ka(o,l|1),un(o,Je()),(Be&6)===0&&(Qo=Je()+500,Ss()))}break;case 13:bi(function(){var h=Br(s,1);if(h!==null){var g=nn();Gn(h,s,1,g)}}),Wf(s,1)}},wo=function(s){if(s.tag===13){var o=Br(s,134217728);if(o!==null){var l=nn();Gn(o,s,134217728,l)}Wf(s,134217728)}},Ya=function(s){if(s.tag===13){var o=Rs(s),l=Br(s,o);if(l!==null){var h=nn();Gn(l,s,o,h)}Wf(s,o)}},Xa=function(){return Oe},Ja=function(s,o){var l=Oe;try{return Oe=s,o()}finally{Oe=l}},Cr=function(s,o,l){switch(o){case"input":if(hi(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==s&&h.form===s.form){var g=uc(h);if(!g)throw Error(t(90));Va(h),hi(h,g)}}}break;case"textarea":bu(s,l);break;case"select":o=l.value,o!=null&&On(s,!!l.multiple,o,!1)}},Lu=Lf,Ou=bi;var $A={usingClientEntryPoint:!1,Events:[dl,Mo,uc,us,cs,Lf]},Al={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WA={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Hu(s),s===null?null:s.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||BA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{yi=Gc.inject(WA),fn=Gc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$A,cn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qf(o))throw Error(t(200));return UA(s,o,null,l)},cn.createRoot=function(s,o){if(!qf(s))throw Error(t(299));var l=!1,h="",g=r_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=$f(s,1,!1,null,null,l,!1,h,g),s[Lr]=o.current,ul(s.nodeType===8?s.parentNode:s),new Hf(o)},cn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Hu(o),s=s===null?null:s.stateNode,s},cn.flushSync=function(s){return bi(s)},cn.hydrate=function(s,o,l){if(!Hc(o))throw Error(t(200));return qc(null,s,o,!0,l)},cn.hydrateRoot=function(s,o,l){if(!qf(s))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,g=!1,v="",S=r_;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=t_(o,null,s,1,l??null,g,!1,v,S),s[Lr]=o.current,ul(s),h)for(s=0;s<h.length;s++)l=h[s],g=l._getVersion,g=g(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,g]:o.mutableSourceEagerHydrationData.push(l,g);return new Wc(o)},cn.render=function(s,o,l){if(!Hc(o))throw Error(t(200));return qc(null,s,o,!1,l)},cn.unmountComponentAtNode=function(s){if(!Hc(s))throw Error(t(40));return s._reactRootContainer?(bi(function(){qc(null,null,s,!1,function(){s._reactRootContainer=null,s[Lr]=null})}),!0):!1},cn.unstable_batchedUpdates=Lf,cn.unstable_renderSubtreeIntoContainer=function(s,o,l,h){if(!Hc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return qc(s,o,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var d_;function vE(){if(d_)return Qf.exports;d_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qf.exports=ZA(),Qf.exports}var f_;function e1(){if(f_)return Kc;f_=1;var n=vE();return Kc.createRoot=n.createRoot,Kc.hydrateRoot=n.hydrateRoot,Kc}var t1=e1();const n1=gE(t1);vE();function Xl(){return Xl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xl.apply(this,arguments)}var Bs;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Bs||(Bs={}));const p_="popstate";function r1(n){n===void 0&&(n={});function e(r,i){let{pathname:a,search:u,hash:d}=r.location;return Ap("",{pathname:a,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:wh(i)}return i1(e,t,null,n)}function xt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function _m(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s1(){return Math.random().toString(36).substr(2,8)}function m_(n,e){return{usr:n.state,key:n.key,idx:e}}function Ap(n,e,t,r){return t===void 0&&(t=null),Xl({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:t,key:e&&e.key||r||s1()})}function wh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function i1(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,d=Bs.Pop,f=null,m=y();m==null&&(m=0,u.replaceState(Xl({},u.state,{idx:m}),""));function y(){return(u.state||{idx:null}).idx}function w(){d=Bs.Pop;let k=y(),W=k==null?null:k-m;m=k,f&&f({action:d,location:M.location,delta:W})}function T(k,W){d=Bs.Push;let Q=Ap(M.location,k,W);m=y()+1;let Y=m_(Q,m),re=M.createHref(Q);try{u.pushState(Y,"",re)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(re)}a&&f&&f({action:d,location:M.location,delta:1})}function A(k,W){d=Bs.Replace;let Q=Ap(M.location,k,W);m=y();let Y=m_(Q,m),re=M.createHref(Q);u.replaceState(Y,"",re),a&&f&&f({action:d,location:M.location,delta:0})}function j(k){let W=i.location.origin!=="null"?i.location.origin:i.location.href,Q=typeof k=="string"?k:wh(k);return Q=Q.replace(/ $/,"%20"),xt(W,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,W)}let M={get action(){return d},get location(){return n(i,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(p_,w),f=k,()=>{i.removeEventListener(p_,w),f=null}},createHref(k){return e(i,k)},createURL:j,encodeLocation(k){let W=j(k);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:A,go(k){return u.go(k)}};return M}var g_;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(g_||(g_={}));function o1(n,e,t){return t===void 0&&(t="/"),a1(n,e,t)}function a1(n,e,t,r){let i=typeof e=="string"?Ta(e):e,a=wm(i.pathname||"/",t);if(a==null)return null;let u=_E(n);l1(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=w1(a);d=y1(u[f],m)}return d}function _E(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(xt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=Ws([r,f.relativePath]),y=t.concat(f);a.children&&a.children.length>0&&(xt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),_E(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:m1(m,a.index),routesMeta:y})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,u);else for(let f of wE(a.path))i(a,u,f)}),e}function wE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=wE(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function l1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:g1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const u1=/^:[\w-]+$/,c1=3,h1=2,d1=1,f1=10,p1=-2,y_=n=>n==="*";function m1(n,e){let t=n.split("/"),r=t.length;return t.some(y_)&&(r+=p1),e&&(r+=h1),t.filter(i=>!y_(i)).reduce((i,a)=>i+(u1.test(a)?c1:a===""?d1:f1),r)}function g1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function y1(n,e,t){let{routesMeta:r}=n,i={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=v1({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),T=f.route;if(!w)return null;Object.assign(i,w.params),u.push({params:i,pathname:Ws([a,w.pathname]),pathnameBase:I1(Ws([a,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(a=Ws([a,w.pathnameBase]))}return u}function v1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=_1(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,y,w)=>{let{paramName:T,isOptional:A}=y;if(T==="*"){let M=d[w]||"";u=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const j=d[w];return A&&!j?m[T]=void 0:m[T]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function _1(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),_m(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function w1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _m(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function wm(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const E1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T1=n=>E1.test(n);function S1(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Ta(n):n,a;if(t)if(T1(t))a=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),_m(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+t))}t.startsWith("/")?a=v_(t.substring(1),"/"):a=v_(t,e)}else a=e;return{pathname:a,search:A1(r),hash:C1(i)}}function v_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Jf(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function EE(n,e){let t=x1(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function TE(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Ta(n):(i=Xl({},n),xt(!i.pathname||!i.pathname.includes("?"),Jf("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),Jf("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),Jf("#","search","hash",i)));let a=n===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;i.pathname=T.join("/")}d=w>=0?e[w]:"/"}let f=S1(i,d),m=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}const Ws=n=>n.join("/").replace(/\/\/+/g,"/"),I1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),A1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,C1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function P1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const SE=["post","put","patch","delete"];new Set(SE);const R1=["get",...SE];new Set(R1);function Jl(){return Jl=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jl.apply(this,arguments)}const Em=O.createContext(null),N1=O.createContext(null),ro=O.createContext(null),Kh=O.createContext(null),so=O.createContext({outlet:null,matches:[],isDataRoute:!1}),xE=O.createContext(null);function k1(n,e){let{relative:t}=e===void 0?{}:e;mu()||xt(!1);let{basename:r,navigator:i}=O.useContext(ro),{hash:a,pathname:u,search:d}=CE(n,{relative:t}),f=u;return r!=="/"&&(f=u==="/"?r:Ws([r,u])),i.createHref({pathname:f,search:d,hash:a})}function mu(){return O.useContext(Kh)!=null}function gu(){return mu()||xt(!1),O.useContext(Kh).location}function IE(n){O.useContext(ro).static||O.useLayoutEffect(n)}function AE(){let{isDataRoute:n}=O.useContext(so);return n?W1():D1()}function D1(){mu()||xt(!1);let n=O.useContext(Em),{basename:e,future:t,navigator:r}=O.useContext(ro),{matches:i}=O.useContext(so),{pathname:a}=gu(),u=JSON.stringify(EE(i,t.v7_relativeSplatPath)),d=O.useRef(!1);return IE(()=>{d.current=!0}),O.useCallback(function(m,y){if(y===void 0&&(y={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let w=TE(m,JSON.parse(u),a,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ws([e,w.pathname])),(y.replace?r.replace:r.push)(w,y.state,y)},[e,r,u,a,n])}function CE(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=O.useContext(ro),{matches:i}=O.useContext(so),{pathname:a}=gu(),u=JSON.stringify(EE(i,r.v7_relativeSplatPath));return O.useMemo(()=>TE(n,JSON.parse(u),a,t==="path"),[n,u,a,t])}function V1(n,e){return b1(n,e)}function b1(n,e,t,r){mu()||xt(!1);let{navigator:i}=O.useContext(ro),{matches:a}=O.useContext(so),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let m=gu(),y;if(e){var w;let k=typeof e=="string"?Ta(e):e;f==="/"||(w=k.pathname)!=null&&w.startsWith(f)||xt(!1),y=k}else y=m;let T=y.pathname||"/",A=T;if(f!=="/"){let k=f.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=o1(n,{pathname:A}),M=F1(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Ws([f,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:Ws([f,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,r);return e&&M?O.createElement(Kh.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Bs.Pop}},M):M}function j1(){let n=$1(),e=P1(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:i},t):null,null)}const M1=O.createElement(j1,null);class L1 extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(so.Provider,{value:this.props.routeContext},O.createElement(xE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O1(n){let{routeContext:e,match:t,children:r}=n,i=O.useContext(Em);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(so.Provider,{value:e},r)}function F1(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,d=(i=t)==null?void 0:i.errors;if(d!=null){let y=u.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);y>=0||xt(!1),u=u.slice(0,Math.min(u.length,y+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<u.length;y++){let w=u[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=y),w.route.id){let{loaderData:T,errors:A}=t,j=w.route.loader&&T[w.route.id]===void 0&&(!A||A[w.route.id]===void 0);if(w.route.lazy||j){f=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((y,w,T)=>{let A,j=!1,M=null,k=null;t&&(A=d&&w.route.id?d[w.route.id]:void 0,M=w.route.errorElement||M1,f&&(m<0&&T===0?(H1("route-fallback"),j=!0,k=null):m===T&&(j=!0,k=w.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,T+1)),Q=()=>{let Y;return A?Y=M:j?Y=k:w.route.Component?Y=O.createElement(w.route.Component,null):w.route.element?Y=w.route.element:Y=y,O.createElement(O1,{match:w,routeContext:{outlet:y,matches:W,isDataRoute:t!=null},children:Y})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?O.createElement(L1,{location:t.location,revalidation:t.revalidation,component:M,error:A,children:Q(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):Q()},null)}var PE=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(PE||{}),RE=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(RE||{});function U1(n){let e=O.useContext(Em);return e||xt(!1),e}function B1(n){let e=O.useContext(N1);return e||xt(!1),e}function z1(n){let e=O.useContext(so);return e||xt(!1),e}function NE(n){let e=z1(),t=e.matches[e.matches.length-1];return t.route.id||xt(!1),t.route.id}function $1(){var n;let e=O.useContext(xE),t=B1(),r=NE();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function W1(){let{router:n}=U1(PE.UseNavigateStable),e=NE(RE.UseNavigateStable),t=O.useRef(!1);return IE(()=>{t.current=!0}),O.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Jl({fromRouteId:e},a)))},[n,e])}const __={};function H1(n,e,t){__[n]||(__[n]=!0)}function q1(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function bs(n){xt(!1)}function G1(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Bs.Pop,navigator:a,static:u=!1,future:d}=n;mu()&&xt(!1);let f=e.replace(/^\/*/,"/"),m=O.useMemo(()=>({basename:f,navigator:a,static:u,future:Jl({v7_relativeSplatPath:!1},d)}),[f,d,a,u]);typeof r=="string"&&(r=Ta(r));let{pathname:y="/",search:w="",hash:T="",state:A=null,key:j="default"}=r,M=O.useMemo(()=>{let k=wm(y,f);return k==null?null:{location:{pathname:k,search:w,hash:T,state:A,key:j},navigationType:i}},[f,y,w,T,A,j,i]);return M==null?null:O.createElement(ro.Provider,{value:m},O.createElement(Kh.Provider,{children:t,value:M}))}function K1(n){let{children:e,location:t}=n;return V1(Cp(e),t)}new Promise(()=>{});function Cp(n,e){e===void 0&&(e=[]);let t=[];return O.Children.forEach(n,(r,i)=>{if(!O.isValidElement(r))return;let a=[...e,i];if(r.type===O.Fragment){t.push.apply(t,Cp(r.props.children,a));return}r.type!==bs&&xt(!1),!r.props.index||!r.props.children||xt(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Cp(r.props.children,a)),t.push(u)}),t}function Pp(){return Pp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pp.apply(this,arguments)}function Q1(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Y1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function X1(n,e){return n.button===0&&(!e||e==="_self")&&!Y1(n)}const J1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Z1="6";try{window.__reactRouterVersion=Z1}catch{}const eC="startTransition",w_=YA[eC];function tC(n){let{basename:e,children:t,future:r,window:i}=n,a=O.useRef();a.current==null&&(a.current=r1({window:i,v5Compat:!0}));let u=a.current,[d,f]=O.useState({action:u.action,location:u.location}),{v7_startTransition:m}=r||{},y=O.useCallback(w=>{m&&w_?w_(()=>f(w)):f(w)},[f,m]);return O.useLayoutEffect(()=>u.listen(y),[u,y]),O.useEffect(()=>q1(r),[r]),O.createElement(G1,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:u,future:r})}const nC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=O.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:y,viewTransition:w}=e,T=Q1(e,J1),{basename:A}=O.useContext(ro),j,M=!1;if(typeof m=="string"&&rC.test(m)&&(j=m,nC))try{let Y=new URL(window.location.href),re=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),K=wm(re.pathname,A);re.origin===Y.origin&&K!=null?m=K+re.search+re.hash:M=!0}catch{}let k=k1(m,{relative:i}),W=sC(m,{replace:u,state:d,target:f,preventScrollReset:y,relative:i,viewTransition:w});function Q(Y){r&&r(Y),Y.defaultPrevented||W(Y)}return O.createElement("a",Pp({},T,{href:j||k,onClick:M||a?r:Q,ref:t,target:f}))});var E_;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(E_||(E_={}));var T_;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(T_||(T_={}));function sC(n,e){let{target:t,replace:r,state:i,preventScrollReset:a,relative:u,viewTransition:d}=e===void 0?{}:e,f=AE(),m=gu(),y=CE(n,{relative:u});return O.useCallback(w=>{if(X1(w,t)){w.preventDefault();let T=r!==void 0?r:wh(m)===wh(y);f(n,{replace:T,state:i,preventScrollReset:a,relative:u,viewTransition:d})}},[m,f,y,r,i,t,n,a,u,d])}const ce=n=>{const e=new(window.AudioContext||window.webkitAudioContext),t={typing:()=>{const r=e.createOscillator(),i=e.createGain();r.connect(i),i.connect(e.destination),r.frequency.value=800+Math.random()*200,r.type="square",i.gain.setValueAtTime(.1,e.currentTime),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.05),r.start(e.currentTime),r.stop(e.currentTime+.05)},hover:()=>{const r=e.createOscillator(),i=e.createGain();r.connect(i),i.connect(e.destination),r.frequency.value=200,r.type="sawtooth",i.gain.setValueAtTime(.05,e.currentTime),i.gain.exponentialRampToValueAtTime(.001,e.currentTime+.1),r.start(e.currentTime),r.stop(e.currentTime+.1)},click:()=>{const r=e.createOscillator(),i=e.createGain();r.connect(i),i.connect(e.destination),r.frequency.value=150,r.type="square",i.gain.setValueAtTime(.2,e.currentTime),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),r.start(e.currentTime),r.stop(e.currentTime+.1)},transmit:()=>{const r=e.createOscillator(),i=e.createGain();r.connect(i),i.connect(e.destination),r.frequency.setValueAtTime(440,e.currentTime),r.frequency.exponentialRampToValueAtTime(880,e.currentTime+.2),r.type="sine",i.gain.setValueAtTime(.3,e.currentTime),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),r.start(e.currentTime),r.stop(e.currentTime+.5)},glitch:()=>{const r=e.createOscillator(),i=e.createGain();r.connect(i),i.connect(e.destination),r.frequency.setValueAtTime(Math.random()*1e3,e.currentTime),r.type="sawtooth",i.gain.setValueAtTime(.1,e.currentTime),i.gain.exponentialRampToValueAtTime(.001,e.currentTime+.05),r.start(e.currentTime),r.stop(e.currentTime+.05)}};t[n]&&t[n]()};function iC(){const n=gu();if(n.pathname==="/")return null;const e=[{path:"/",label:" HOME"},{path:"/feed",label:" FEED"},{path:"/projects",label:" PROJECTS"},{path:"/profile",label:" ARCHITECT"},{path:"/media",label:" STREAM"}];return p.jsxs("nav",{className:"navbar",children:[p.jsx(Se,{to:"/",className:"navbar-brand",onMouseEnter:()=>ce("hover"),children:"L1T.GRID"}),p.jsx("ul",{className:"navbar-list",children:e.map(t=>p.jsx("li",{className:"navbar-item",children:p.jsx(Se,{to:t.path,className:`navbar-link ${n.pathname===t.path?"active":""}`,onMouseEnter:()=>ce("hover"),children:t.label})},t.path))}),p.jsxs("div",{className:"navbar-status",children:[p.jsx("span",{className:"status-indicator online"}),p.jsx("span",{className:"status-text",children:"U0_A242"})]})]})}const Tm=O.createContext({});function Sm(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const Qh=O.createContext(null),xm=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class oC extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aC({children:n,isPresent:e}){const t=O.useId(),r=O.useRef(null),i=O.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=O.useContext(xm);return O.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m}=i.current;if(e||!r.current||!u||!d)return;r.current.dataset.motionPopId=t;const y=document.createElement("style");return a&&(y.nonce=a),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[e]),p.jsx(oC,{isPresent:e,childRef:r,sizeRef:i,children:O.cloneElement(n,{ref:r})})}const lC=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:u})=>{const d=Sm(uC),f=O.useId(),m=O.useCallback(w=>{d.set(w,!0);for(const T of d.values())if(!T)return;r&&r()},[d,r]),y=O.useMemo(()=>({id:f,initial:e,isPresent:t,custom:i,onExitComplete:m,register:w=>(d.set(w,!1),()=>d.delete(w))}),a?[Math.random(),m]:[t,m]);return O.useMemo(()=>{d.forEach((w,T)=>d.set(T,!1))},[t]),O.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),u==="popLayout"&&(n=p.jsx(aC,{isPresent:t,children:n})),p.jsx(Qh.Provider,{value:y,children:n})};function uC(){return new Map}function kE(n=!0){const e=O.useContext(Qh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,a=O.useId();O.useEffect(()=>{n&&i(a)},[n]);const u=O.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const Qc=n=>n.key||"";function S_(n){const e=[];return O.Children.forEach(n,t=>{O.isValidElement(t)&&e.push(t)}),e}const Im=typeof window<"u",DE=Im?O.useLayoutEffect:O.useEffect,Eh=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:u=!1})=>{const[d,f]=kE(u),m=O.useMemo(()=>S_(n),[n]),y=u&&!d?[]:m.map(Qc),w=O.useRef(!0),T=O.useRef(m),A=Sm(()=>new Map),[j,M]=O.useState(m),[k,W]=O.useState(m);DE(()=>{w.current=!1,T.current=m;for(let re=0;re<k.length;re++){const K=Qc(k[re]);y.includes(K)?A.delete(K):A.get(K)!==!0&&A.set(K,!1)}},[k,y.length,y.join("-")]);const Q=[];if(m!==j){let re=[...m];for(let K=0;K<k.length;K++){const G=k[K],N=Qc(G);y.includes(N)||(re.splice(K,0,G),Q.push(G))}a==="wait"&&Q.length&&(re=Q),W(S_(re)),M(m);return}const{forceRender:Y}=O.useContext(Tm);return p.jsx(p.Fragment,{children:k.map(re=>{const K=Qc(re),G=u&&!d?!1:m===k||y.includes(K),N=()=>{if(A.has(K))A.set(K,!0);else return;let I=!0;A.forEach(P=>{P||(I=!1)}),I&&(Y?.(),W(T.current),u&&f?.(),r&&r())};return p.jsx(lC,{isPresent:G,initial:!w.current||t?void 0:!1,custom:G?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:G?void 0:N,children:re},K)})})},Sn=n=>n;let VE=Sn;function Am(n){let e;return()=>(e===void 0&&(e=n()),e)}const fa=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Gr=n=>n*1e3,Kr=n=>n/1e3,cC={useManualTiming:!1};function hC(n){let e=new Set,t=new Set,r=!1,i=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(f.schedule(m),n()),m(u)}const f={schedule:(m,y=!1,w=!1)=>{const A=w&&r?e:t;return y&&a.add(m),A.has(m)||A.add(m),m},cancel:m=>{t.delete(m),a.delete(m)},process:m=>{if(u=m,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,f.process(m))}};return f}const Yc=["read","resolveKeyframes","update","preRender","render","postRender"],dC=40;function bE(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Yc.reduce((W,Q)=>(W[Q]=hC(a),W),{}),{read:d,resolveKeyframes:f,update:m,preRender:y,render:w,postRender:T}=u,A=()=>{const W=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(W-i.timestamp,dC),1),i.timestamp=W,i.isProcessing=!0,d.process(i),f.process(i),m.process(i),y.process(i),w.process(i),T.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(A))},j=()=>{t=!0,r=!0,i.isProcessing||n(A)};return{schedule:Yc.reduce((W,Q)=>{const Y=u[Q];return W[Q]=(re,K=!1,G=!1)=>(t||j(),Y.schedule(re,K,G)),W},{}),cancel:W=>{for(let Q=0;Q<Yc.length;Q++)u[Yc[Q]].cancel(W)},state:i,steps:u}}const{schedule:rt,cancel:Js,state:Ot,steps:Zf}=bE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Sn,!0),jE=O.createContext({strict:!1}),x_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pa={};for(const n in x_)pa[n]={isEnabled:e=>x_[n].some(t=>!!e[t])};function fC(n){for(const e in n)pa[e]={...pa[e],...n[e]}}const pC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Th(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||pC.has(n)}let ME=n=>!Th(n);function mC(n){n&&(ME=e=>e.startsWith("on")?!Th(e):n(e))}try{mC(require("@emotion/is-prop-valid").default)}catch{}function gC(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(ME(i)||t===!0&&Th(i)||!e&&!Th(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function yC(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Yh=O.createContext({});function Zl(n){return typeof n=="string"||Array.isArray(n)}function Xh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Cm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pm=["initial",...Cm];function Jh(n){return Xh(n.animate)||Pm.some(e=>Zl(n[e]))}function LE(n){return!!(Jh(n)||n.variants)}function vC(n,e){if(Jh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Zl(t)?t:void 0,animate:Zl(r)?r:void 0}}return n.inherit!==!1?e:{}}function _C(n){const{initial:e,animate:t}=vC(n,O.useContext(Yh));return O.useMemo(()=>({initial:e,animate:t}),[I_(e),I_(t)])}function I_(n){return Array.isArray(n)?n.join(" "):n}const wC=Symbol.for("motionComponentSymbol");function na(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function EC(n,e,t){return O.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):na(t)&&(t.current=r))},[e])}const Rm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TC="framerAppearId",OE="data-"+Rm(TC),{schedule:Nm}=bE(queueMicrotask,!1),FE=O.createContext({});function SC(n,e,t,r,i){var a,u;const{visualElement:d}=O.useContext(Yh),f=O.useContext(jE),m=O.useContext(Qh),y=O.useContext(xm).reducedMotion,w=O.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:d,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const T=w.current,A=O.useContext(FE);T&&!T.projection&&i&&(T.type==="html"||T.type==="svg")&&xC(w.current,t,i,A);const j=O.useRef(!1);O.useInsertionEffect(()=>{T&&j.current&&T.update(t,m)});const M=t[OE],k=O.useRef(!!M&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,M))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,M)));return DE(()=>{T&&(j.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Nm.render(T.render),k.current&&T.animationState&&T.animationState.animateChanges())}),O.useEffect(()=>{T&&(!k.current&&T.animationState&&T.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,M)}),k.current=!1))}),T}function xC(n,e,t,r){const{layoutId:i,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:UE(n.parent)),n.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!u||d&&na(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function UE(n){if(n)return n.options.allowProjection!==!1?n.projection:UE(n.parent)}function IC({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var a,u;n&&fC(n);function d(m,y){let w;const T={...O.useContext(xm),...m,layoutId:AC(m)},{isStatic:A}=T,j=_C(m),M=r(m,A);if(!A&&Im){CC();const k=PC(T);w=k.MeasureLayout,j.visualElement=SC(i,M,T,e,k.ProjectionNode)}return p.jsxs(Yh.Provider,{value:j,children:[w&&j.visualElement?p.jsx(w,{visualElement:j.visualElement,...T}):null,t(i,m,EC(M,j.visualElement,y),M,A,j.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(u=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&u!==void 0?u:""})`}`;const f=O.forwardRef(d);return f[wC]=i,f}function AC({layoutId:n}){const e=O.useContext(Tm).id;return e&&n!==void 0?e+"-"+n:n}function CC(n,e){O.useContext(jE).strict}function PC(n){const{drag:e,layout:t}=pa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const RC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function km(n){return typeof n!="string"||n.includes("-")?!1:!!(RC.indexOf(n)>-1||/[A-Z]/u.test(n))}function A_(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Dm(n,e,t,r){if(typeof e=="function"){const[i,a]=A_(r);e=e(t!==void 0?t:n.custom,i,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,a]=A_(r);e=e(t!==void 0?t:n.custom,i,a)}return e}const Rp=n=>Array.isArray(n),NC=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),kC=n=>Rp(n)?n[n.length-1]||0:n,Jt=n=>!!(n&&n.getVelocity);function ah(n){const e=Jt(n)?n.get():n;return NC(e)?e.toValue():e}function DC({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,a){const u={latestValues:VC(r,i,a,n),renderState:e()};return t&&(u.onMount=d=>t({props:r,current:d,...u}),u.onUpdate=d=>t(d)),u}const BE=n=>(e,t)=>{const r=O.useContext(Yh),i=O.useContext(Qh),a=()=>DC(n,e,r,i);return t?a():Sm(a)};function VC(n,e,t,r){const i={},a=r(n,{});for(const T in a)i[T]=ah(a[T]);let{initial:u,animate:d}=n;const f=Jh(n),m=LE(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let y=t?t.initial===!1:!1;y=y||u===!1;const w=y?d:u;if(w&&typeof w!="boolean"&&!Xh(w)){const T=Array.isArray(w)?w:[w];for(let A=0;A<T.length;A++){const j=Dm(n,T[A]);if(j){const{transitionEnd:M,transition:k,...W}=j;for(const Q in W){let Y=W[Q];if(Array.isArray(Y)){const re=y?Y.length-1:0;Y=Y[re]}Y!==null&&(i[Q]=Y)}for(const Q in M)i[Q]=M[Q]}}}return i}const Sa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],io=new Set(Sa),zE=n=>e=>typeof e=="string"&&e.startsWith(n),$E=zE("--"),bC=zE("var(--"),Vm=n=>bC(n)?jC.test(n.split("/*")[0].trim()):!1,jC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,WE=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Qr=(n,e,t)=>t>e?e:t<n?n:t,xa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},eu={...xa,transform:n=>Qr(0,1,n)},Xc={...xa,default:1},yu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),js=yu("deg"),_r=yu("%"),we=yu("px"),MC=yu("vh"),LC=yu("vw"),C_={..._r,parse:n=>_r.parse(n)/100,transform:n=>_r.transform(n*100)},OC={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},FC={rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:Xc,scaleX:Xc,scaleY:Xc,scaleZ:Xc,skew:js,skewX:js,skewY:js,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:eu,originX:C_,originY:C_,originZ:we},P_={...xa,transform:Math.round},bm={...OC,...FC,zIndex:P_,size:we,fillOpacity:eu,strokeOpacity:eu,numOctaves:P_},UC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BC=Sa.length;function zC(n,e,t){let r="",i=!0;for(let a=0;a<BC;a++){const u=Sa[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=WE(d,bm[u]);if(!f){i=!1;const y=UC[u]||u;r+=`${y}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function jm(n,e,t){const{style:r,vars:i,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const m=e[f];if(io.has(f)){u=!0;continue}else if($E(f)){i[f]=m;continue}else{const y=WE(m,bm[f]);f.startsWith("origin")?(d=!0,a[f]=y):r[f]=y}}if(e.transform||(u||t?r.transform=zC(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:y=0}=a;r.transformOrigin=`${f} ${m} ${y}`}}const $C={offset:"stroke-dashoffset",array:"stroke-dasharray"},WC={offset:"strokeDashoffset",array:"strokeDasharray"};function HC(n,e,t=1,r=0,i=!0){n.pathLength=1;const a=i?$C:WC;n[a.offset]=we.transform(-r);const u=we.transform(e),d=we.transform(t);n[a.array]=`${u} ${d}`}function R_(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function qC(n,e,t){const r=R_(e,n.x,n.width),i=R_(t,n.y,n.height);return`${r} ${i}`}function Mm(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},y,w){if(jm(n,m,w),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:A,dimensions:j}=n;T.transform&&(j&&(A.transform=T.transform),delete T.transform),j&&(i!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=qC(j,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),r!==void 0&&(T.scale=r),u!==void 0&&HC(T,u,d,f,!1)}const Lm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),HE=()=>({...Lm(),attrs:{}}),Om=n=>typeof n=="string"&&n.toLowerCase()==="svg";function qE(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const GE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function KE(n,e,t,r){qE(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(GE.has(i)?i:Rm(i),e.attrs[i])}const Sh={};function GC(n){Object.assign(Sh,n)}function QE(n,{layout:e,layoutId:t}){return io.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Sh[n]||n==="opacity")}function Fm(n,e,t){var r;const{style:i}=n,a={};for(const u in i)(Jt(i[u])||e.style&&Jt(e.style[u])||QE(u,n)||((r=t?.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=i[u]);return a}function YE(n,e,t){const r=Fm(n,e,t);for(const i in n)if(Jt(n[i])||Jt(e[i])){const a=Sa.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=n[i]}return r}function KC(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const N_=["x","y","width","height","cx","cy","r"],QC={useVisualState:BE({scrapeMotionValuesFromProps:YE,createRenderState:HE,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in i)if(io.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<N_.length;d++){const f=N_[d];n[f]!==e[f]&&(u=!0)}u&&rt.read(()=>{KC(t,r),rt.render(()=>{Mm(r,i,Om(t.tagName),n.transformTemplate),KE(t,r)})})}})},YC={useVisualState:BE({scrapeMotionValuesFromProps:Fm,createRenderState:Lm})};function XE(n,e,t){for(const r in e)!Jt(e[r])&&!QE(r,t)&&(n[r]=e[r])}function XC({transformTemplate:n},e){return O.useMemo(()=>{const t=Lm();return jm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function JC(n,e){const t=n.style||{},r={};return XE(r,t,n),Object.assign(r,XC(n,e)),r}function ZC(n,e){const t={},r=JC(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function eP(n,e,t,r){const i=O.useMemo(()=>{const a=HE();return Mm(a,e,Om(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};XE(a,n.style,n),i.style={...a,...i.style}}return i}function tP(n=!1){return(t,r,i,{latestValues:a},u)=>{const f=(km(t)?eP:ZC)(r,a,u,t),m=gC(r,typeof t=="string",n),y=t!==O.Fragment?{...m,...f,ref:i}:{},{children:w}=r,T=O.useMemo(()=>Jt(w)?w.get():w,[w]);return O.createElement(t,{...y,children:T})}}function nP(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const u={...km(r)?QC:YC,preloadedFeatures:n,useRender:tP(i),createVisualElement:e,Component:r};return IC(u)}}function JE(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Zh(n,e,t){const r=n.getProps();return Dm(r,e,t!==void 0?t:r.custom,n)}const rP=Am(()=>window.ScrollTimeline!==void 0);class sP{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(rP()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iP extends sP{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Um(n,e){return n?n[e]||n.default||n:void 0}const Np=2e4;function ZE(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Np;)e+=t,r=n.next(e);return e>=Np?1/0:e}function Bm(n){return typeof n=="function"}function k_(n,e){n.timeline=e,n.onfinish=null}const zm=n=>Array.isArray(n)&&typeof n[0]=="number",oP={linearEasing:void 0};function aP(n,e){const t=Am(n);return()=>{var r;return(r=oP[e])!==null&&r!==void 0?r:t()}}const xh=aP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eT=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let a=0;a<i;a++)r+=n(fa(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function tT(n){return!!(typeof n=="function"&&xh()||!n||typeof n=="string"&&(n in kp||xh())||zm(n)||Array.isArray(n)&&n.every(tT))}const Dl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,kp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dl([0,.65,.55,1]),circOut:Dl([.55,0,1,.45]),backIn:Dl([.31,.01,.66,-.59]),backOut:Dl([.33,1.53,.69,.99])};function nT(n,e){if(n)return typeof n=="function"&&xh()?eT(n,e):zm(n)?Dl(n):Array.isArray(n)?n.map(t=>nT(t,e)||kp.easeOut):kp[n]}const Kn={x:!1,y:!1};function rT(){return Kn.x||Kn.y}function lP(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function sT(n,e){const t=lP(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function D_(n){return e=>{e.pointerType==="touch"||rT()||n(e)}}function uP(n,e,t={}){const[r,i,a]=sT(n,t),u=D_(d=>{const{target:f}=d,m=e(d);if(typeof m!="function"||!f)return;const y=D_(w=>{m(w),f.removeEventListener("pointerleave",y)});f.addEventListener("pointerleave",y,i)});return r.forEach(d=>{d.addEventListener("pointerenter",u,i)}),a}const iT=(n,e)=>e?n===e?!0:iT(n,e.parentElement):!1,$m=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,cP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hP(n){return cP.has(n.tagName)||n.tabIndex!==-1}const Vl=new WeakSet;function V_(n){return e=>{e.key==="Enter"&&n(e)}}function ep(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dP=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=V_(()=>{if(Vl.has(t))return;ep(t,"down");const i=V_(()=>{ep(t,"up")}),a=()=>ep(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function b_(n){return $m(n)&&!rT()}function fP(n,e,t={}){const[r,i,a]=sT(n,t),u=d=>{const f=d.currentTarget;if(!b_(d)||Vl.has(f))return;Vl.add(f);const m=e(d),y=(A,j)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!b_(A)||!Vl.has(f))&&(Vl.delete(f),typeof m=="function"&&m(A,{success:j}))},w=A=>{y(A,t.useGlobalTarget||iT(f,A.target))},T=A=>{y(A,!1)};window.addEventListener("pointerup",w,i),window.addEventListener("pointercancel",T,i)};return r.forEach(d=>{!hP(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,i),d.addEventListener("focus",m=>dP(m,i),i)}),a}function pP(n){return n==="x"||n==="y"?Kn[n]?null:(Kn[n]=!0,()=>{Kn[n]=!1}):Kn.x||Kn.y?null:(Kn.x=Kn.y=!0,()=>{Kn.x=Kn.y=!1})}const oT=new Set(["width","height","top","left","right","bottom",...Sa]);let lh;function mP(){lh=void 0}const wr={now:()=>(lh===void 0&&wr.set(Ot.isProcessing||cC.useManualTiming?Ot.timestamp:performance.now()),lh),set:n=>{lh=n,queueMicrotask(mP)}};function Wm(n,e){n.indexOf(e)===-1&&n.push(e)}function Hm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class qm{constructor(){this.subscriptions=[]}add(e){return Wm(this.subscriptions,e),()=>Hm(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let a=0;a<i;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function aT(n,e){return e?n*(1e3/e):0}const j_=30,gP=n=>!isNaN(parseFloat(n));class yP{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=wr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=wr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new qm);const r=this.events[e].add(t);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>j_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,j_);return aT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tu(n,e){return new yP(n,e)}function vP(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,tu(t))}function _P(n,e){const t=Zh(n,e);let{transitionEnd:r={},transition:i={},...a}=t||{};a={...a,...r};for(const u in a){const d=kC(a[u]);vP(n,u,d)}}function wP(n){return!!(Jt(n)&&n.add)}function Dp(n,e){const t=n.getValue("willChange");if(wP(t))return t.add(e)}function lT(n){return n.props[OE]}const uT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,EP=1e-7,TP=12;function SP(n,e,t,r,i){let a,u,d=0;do u=e+(t-e)/2,a=uT(u,r,i)-n,a>0?t=u:e=u;while(Math.abs(a)>EP&&++d<TP);return u}function vu(n,e,t,r){if(n===e&&t===r)return Sn;const i=a=>SP(a,0,1,n,t);return a=>a===0||a===1?a:uT(i(a),e,r)}const cT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,hT=n=>e=>1-n(1-e),dT=vu(.33,1.53,.69,.99),Gm=hT(dT),fT=cT(Gm),pT=n=>(n*=2)<1?.5*Gm(n):.5*(2-Math.pow(2,-10*(n-1))),Km=n=>1-Math.sin(Math.acos(n)),mT=hT(Km),gT=cT(Km),yT=n=>/^0[^.\s]+$/u.test(n);function xP(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||yT(n):!0}const Ul=n=>Math.round(n*1e5)/1e5,Qm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IP(n){return n==null}const AP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ym=(n,e)=>t=>!!(typeof t=="string"&&AP.test(t)&&t.startsWith(n)||e&&!IP(t)&&Object.prototype.hasOwnProperty.call(t,e)),vT=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,a,u,d]=r.match(Qm);return{[n]:parseFloat(i),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},CP=n=>Qr(0,255,n),tp={...xa,transform:n=>Math.round(CP(n))},Wi={test:Ym("rgb","red"),parse:vT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+tp.transform(n)+", "+tp.transform(e)+", "+tp.transform(t)+", "+Ul(eu.transform(r))+")"};function PP(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Vp={test:Ym("#"),parse:PP,transform:Wi.transform},ra={test:Ym("hsl","hue"),parse:vT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+_r.transform(Ul(e))+", "+_r.transform(Ul(t))+", "+Ul(eu.transform(r))+")"},Qt={test:n=>Wi.test(n)||Vp.test(n)||ra.test(n),parse:n=>Wi.test(n)?Wi.parse(n):ra.test(n)?ra.parse(n):Vp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Wi.transform(n):ra.transform(n)},RP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NP(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Qm))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(RP))===null||t===void 0?void 0:t.length)||0)>0}const _T="number",wT="color",kP="var",DP="var(",M_="${}",VP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(VP,f=>(Qt.test(f)?(r.color.push(a),i.push(wT),t.push(Qt.parse(f))):f.startsWith(DP)?(r.var.push(a),i.push(kP),t.push(f)):(r.number.push(a),i.push(_T),t.push(parseFloat(f))),++a,M_)).split(M_);return{values:t,split:d,indexes:r,types:i}}function ET(n){return nu(n).values}function TT(n){const{split:e,types:t}=nu(n),r=e.length;return i=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],i[u]!==void 0){const d=t[u];d===_T?a+=Ul(i[u]):d===wT?a+=Qt.transform(i[u]):a+=i[u]}return a}}const bP=n=>typeof n=="number"?0:n;function jP(n){const e=ET(n);return TT(n)(e.map(bP))}const Zs={test:NP,parse:ET,createTransformer:TT,getAnimatableNone:jP},MP=new Set(["brightness","contrast","saturate","opacity"]);function LP(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Qm)||[];if(!r)return n;const i=t.replace(r,"");let a=MP.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+i+")"}const OP=/\b([a-z-]*)\(.*?\)/gu,bp={...Zs,getAnimatableNone:n=>{const e=n.match(OP);return e?e.map(LP).join(" "):n}},FP={...bm,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:bp,WebkitFilter:bp},Xm=n=>FP[n];function ST(n,e){let t=Xm(n);return t!==bp&&(t=Zs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const UP=new Set(["auto","none","0"]);function BP(n,e,t){let r=0,i;for(;r<n.length&&!i;){const a=n[r];typeof a=="string"&&!UP.has(a)&&nu(a).values.length&&(i=n[r]),r++}if(i&&t)for(const a of e)n[a]=ST(t,i)}const L_=n=>n===xa||n===we,O_=(n,e)=>parseFloat(n.split(", ")[e]),F_=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return O_(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?O_(a[1],n):0}},zP=new Set(["x","y","z"]),$P=Sa.filter(n=>!zP.has(n));function WP(n){const e=[];return $P.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const ma={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:F_(4,13),y:F_(5,14)};ma.translateX=ma.x;ma.translateY=ma.y;const qi=new Set;let jp=!1,Mp=!1;function xT(){if(Mp){const n=Array.from(qi).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=WP(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Mp=!1,jp=!1,qi.forEach(n=>n.complete()),qi.clear()}function IT(){qi.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Mp=!0)})}function HP(){IT(),xT()}class Jm{constructor(e,t,r,i,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qi.add(this),jp||(jp=!0,rt.read(IT),rt.resolveKeyframes(xT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=i?.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),i&&u===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const AT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),qP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GP(n){const e=qP.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function CT(n,e,t=1){const[r,i]=GP(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return AT(u)?parseFloat(u):u}return Vm(i)?CT(i,e,t+1):i}const PT=n=>e=>e.test(n),KP={test:n=>n==="auto",parse:n=>n},RT=[xa,we,_r,js,LC,MC,KP],U_=n=>RT.find(PT(n));class NT extends Jm{constructor(e,t,r,i,a){super(e,t,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Vm(m))){const y=CT(m,t.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!oT.has(r)||e.length!==2)return;const[i,a]=e,u=U_(i),d=U_(a);if(u!==d)if(L_(u)&&L_(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)xP(e[i])&&r.push(i);r.length&&BP(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ma[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=i.length-1,d=i[u];i[u]=ma[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const B_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Zs.test(n)||n==="0")&&!n.startsWith("url("));function QP(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function YP(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=B_(i,e),d=B_(a,e);return!u||!d?!1:QP(n)||(t==="spring"||Bm(t))&&r}const XP=n=>n!==null;function ed(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(XP),a=e&&t!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const JP=40;class kT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=wr.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>JP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HP(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=wr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!YP(e,r,i,a))if(u)this.options.duration=0;else{f&&f(ed(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,t);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...y},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const at=(n,e,t)=>n+(e-n)*t;function np(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function ZP({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,a=0,u=0;if(!e)i=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;i=np(f,d,n+1/3),a=np(f,d,n),u=np(f,d,n-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Ih(n,e){return t=>t>0?e:n}const rp=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},eR=[Vp,Wi,ra],tR=n=>eR.find(e=>e.test(n));function z_(n){const e=tR(n);if(!e)return!1;let t=e.parse(n);return e===ra&&(t=ZP(t)),t}const $_=(n,e)=>{const t=z_(n),r=z_(e);if(!t||!r)return Ih(n,e);const i={...t};return a=>(i.red=rp(t.red,r.red,a),i.green=rp(t.green,r.green,a),i.blue=rp(t.blue,r.blue,a),i.alpha=at(t.alpha,r.alpha,a),Wi.transform(i))},nR=(n,e)=>t=>e(n(t)),_u=(...n)=>n.reduce(nR),Lp=new Set(["none","hidden"]);function rR(n,e){return Lp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function sR(n,e){return t=>at(n,e,t)}function Zm(n){return typeof n=="number"?sR:typeof n=="string"?Vm(n)?Ih:Qt.test(n)?$_:aR:Array.isArray(n)?DT:typeof n=="object"?Qt.test(n)?$_:iR:Ih}function DT(n,e){const t=[...n],r=t.length,i=n.map((a,u)=>Zm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=i[u](a);return t}}function iR(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=Zm(n[i])(n[i],e[i]));return i=>{for(const a in r)t[a]=r[a](i);return t}}function oR(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=n.indexes[u][i[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,i[u]++}return r}const aR=(n,e)=>{const t=Zs.createTransformer(e),r=nu(n),i=nu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Lp.has(n)&&!i.values.length||Lp.has(e)&&!r.values.length?rR(n,e):_u(DT(oR(r,i),i.values),t):Ih(n,e)};function VT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?at(n,e,t):Zm(n)(n,e)}const lR=5;function bT(n,e,t){const r=Math.max(e-lR,0);return aT(t-n(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function uR({duration:n=ht.duration,bounce:e=ht.bounce,velocity:t=ht.velocity,mass:r=ht.mass}){let i,a,u=1-e;u=Qr(ht.minDamping,ht.maxDamping,u),n=Qr(ht.minDuration,ht.maxDuration,Kr(n)),u<1?(i=m=>{const y=m*u,w=y*n,T=y-t,A=Op(m,u),j=Math.exp(-w);return sp-T/A*j},a=m=>{const w=m*u*n,T=w*t+t,A=Math.pow(u,2)*Math.pow(m,2)*n,j=Math.exp(-w),M=Op(Math.pow(m,2),u);return(-i(m)+sp>0?-1:1)*((T-A)*j)/M}):(i=m=>{const y=Math.exp(-m*n),w=(m-t)*n+1;return-sp+y*w},a=m=>{const y=Math.exp(-m*n),w=(t-m)*(n*n);return y*w});const d=5/n,f=hR(i,a,d);if(n=Gr(n),isNaN(f))return{stiffness:ht.stiffness,damping:ht.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const cR=12;function hR(n,e,t){let r=t;for(let i=1;i<cR;i++)r=r-n(r)/e(r);return r}function Op(n,e){return n*Math.sqrt(1-e*e)}const dR=["duration","bounce"],fR=["stiffness","damping","mass"];function W_(n,e){return e.some(t=>n[t]!==void 0)}function pR(n){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...n};if(!W_(n,fR)&&W_(n,dR))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,a=2*Qr(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:ht.mass,stiffness:i,damping:a}}else{const t=uR(n);e={...e,...t,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function jT(n=ht.visualDuration,e=ht.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:y,duration:w,velocity:T,isResolvedFromDuration:A}=pR({...t,velocity:-Kr(t.velocity||0)}),j=T||0,M=m/(2*Math.sqrt(f*y)),k=u-a,W=Kr(Math.sqrt(f/y)),Q=Math.abs(k)<5;r||(r=Q?ht.restSpeed.granular:ht.restSpeed.default),i||(i=Q?ht.restDelta.granular:ht.restDelta.default);let Y;if(M<1){const K=Op(W,M);Y=G=>{const N=Math.exp(-M*W*G);return u-N*((j+M*W*k)/K*Math.sin(K*G)+k*Math.cos(K*G))}}else if(M===1)Y=K=>u-Math.exp(-W*K)*(k+(j+W*k)*K);else{const K=W*Math.sqrt(M*M-1);Y=G=>{const N=Math.exp(-M*W*G),I=Math.min(K*G,300);return u-N*((j+M*W*k)*Math.sinh(I)+K*k*Math.cosh(I))/K}}const re={calculatedDuration:A&&w||null,next:K=>{const G=Y(K);if(A)d.done=K>=w;else{let N=0;M<1&&(N=K===0?Gr(j):bT(Y,K,G));const I=Math.abs(N)<=r,P=Math.abs(u-G)<=i;d.done=I&&P}return d.value=d.done?u:G,d},toString:()=>{const K=Math.min(ZE(re),Np),G=eT(N=>re.next(K*N).value,K,30);return K+"ms "+G}};return re}function H_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:y}){const w=n[0],T={done:!1,value:w},A=I=>d!==void 0&&I<d||f!==void 0&&I>f,j=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let M=t*e;const k=w+M,W=u===void 0?k:u(k);W!==k&&(M=W-w);const Q=I=>-M*Math.exp(-I/r),Y=I=>W+Q(I),re=I=>{const P=Q(I),V=Y(I);T.done=Math.abs(P)<=m,T.value=T.done?W:V};let K,G;const N=I=>{A(T.value)&&(K=I,G=jT({keyframes:[T.value,j(T.value)],velocity:bT(Y,I,T.value),damping:i,stiffness:a,restDelta:m,restSpeed:y}))};return N(0),{calculatedDuration:null,next:I=>{let P=!1;return!G&&K===void 0&&(P=!0,re(I),N(I)),K!==void 0&&I>=K?G.next(I-K):(!P&&re(I),T)}}}const mR=vu(.42,0,1,1),gR=vu(0,0,.58,1),MT=vu(.42,0,.58,1),yR=n=>Array.isArray(n)&&typeof n[0]!="number",vR={linear:Sn,easeIn:mR,easeInOut:MT,easeOut:gR,circIn:Km,circInOut:gT,circOut:mT,backIn:Gm,backInOut:fT,backOut:dT,anticipate:pT},q_=n=>{if(zm(n)){VE(n.length===4);const[e,t,r,i]=n;return vu(e,t,r,i)}else if(typeof n=="string")return vR[n];return n};function _R(n,e,t){const r=[],i=t||VT,a=n.length-1;for(let u=0;u<a;u++){let d=i(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Sn:e;d=_u(f,d)}r.push(d)}return r}function wR(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const a=n.length;if(VE(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=_R(e,r,i),f=d.length,m=y=>{if(u&&y<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(y<n[w+1]);w++);const T=fa(n[w],n[w+1],y);return d[w](T)};return t?y=>m(Qr(n[0],n[a-1],y)):m}function ER(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=fa(0,e,r);n.push(at(t,1,i))}}function TR(n){const e=[0];return ER(e,n.length-1),e}function SR(n,e){return n.map(t=>t*e)}function xR(n,e){return n.map(()=>e||MT).splice(0,n.length-1)}function Ah({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=yR(r)?r.map(q_):q_(r),a={done:!1,value:e[0]},u=SR(t&&t.length===e.length?t:TR(e),n),d=wR(u,e,{ease:Array.isArray(i)?i:xR(e,i)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const IR=n=>{const e=({timestamp:t})=>n(t);return{start:()=>rt.update(e,!0),stop:()=>Js(e),now:()=>Ot.isProcessing?Ot.timestamp:wr.now()}},AR={decay:H_,inertia:H_,tween:Ah,keyframes:Ah,spring:jT},CR=n=>n/100;class eg extends kT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:i,keyframes:a}=this.options,u=i?.KeyframeResolver||Jm,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(a,d,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:u=0}=this.options,d=Bm(t)?t:AR[t]||Ah;let f,m;d!==Ah&&typeof e[0]!="number"&&(f=_u(CR,VT(e[0],e[1])),e=[0,100]);const y=d({...this.options,keyframes:e});a==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=ZE(y));const{calculatedDuration:w}=y,T=w+i,A=T*(r+1)-i;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:T,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:y,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:T,repeat:A,repeatType:j,repeatDelay:M,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-T*(this.speed>=0?1:-1),Q=this.speed>=0?W<0:W>y;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let Y=this.currentTime,re=a;if(A){const I=Math.min(this.currentTime,y)/w;let P=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&P--,P=Math.min(P,A+1),P%2&&(j==="reverse"?(V=1-V,M&&(V-=M/w)):j==="mirror"&&(re=u)),Y=Qr(0,1,V)*w}const K=Q?{done:!1,value:f[0]}:re.next(Y);d&&(K.value=d(K.value));let{done:G}=K;!Q&&m!==null&&(G=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return N&&i!==void 0&&(K.value=ed(f,this.options,i)),k&&k(K.value),N&&this.finish(),K}get duration(){const{resolved:e}=this;return e?Kr(e.calculatedDuration):0}get time(){return Kr(this.currentTime)}set time(e){e=Gr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Kr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=IR,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const PR=new Set(["opacity","clipPath","filter","transform"]);function RR(n,e,t,{delay:r=0,duration:i=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:t};f&&(m.offset=f);const y=nT(d,i);return Array.isArray(y)&&(m.easing=y),n.animate(m,{delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const NR=Am(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ch=10,kR=2e4;function DR(n){return Bm(n.type)||n.type==="spring"||!tT(n.ease)}function VR(n,e){const t=new eg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let a=0;for(;!r.done&&a<kR;)r=t.sample(a),i.push(r.value),a+=Ch;return{times:void 0,keyframes:i,duration:a-Ch,ease:"linear"}}const LT={anticipate:pT,backInOut:fT,circInOut:gT};function bR(n){return n in LT}class G_ extends kT{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new NT(a,(u,d)=>this.onKeyframesResolved(u,d),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:a,type:u,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&xh()&&bR(a)&&(a=LT[a]),DR(this.options)){const{onComplete:w,onUpdate:T,motionValue:A,element:j,...M}=this.options,k=VR(e,M);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,i=k.times,a=k.ease,u="keyframes"}const y=RR(d.owner.current,f,e,{...this.options,duration:r,times:i,ease:a});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(k_(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:w}=this.options;d.set(ed(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:i,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Kr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Kr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Gr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Sn;const{animation:r}=t;k_(r,e)}return Sn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:a,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:w,element:T,...A}=this.options,j=new eg({...A,keyframes:r,duration:i,type:a,ease:u,times:d,isGenerator:!0}),M=Gr(this.time);m.setWithVelocity(j.sample(M-Ch).value,j.sample(M).value,Ch)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:a,damping:u,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return NR()&&r&&PR.has(r)&&!f&&!m&&!i&&a!=="mirror"&&u!==0&&d!=="inertia"}}const jR={type:"spring",stiffness:500,damping:25,restSpeed:10},MR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),LR={type:"keyframes",duration:.8},OR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FR=(n,{keyframes:e})=>e.length>2?LR:io.has(n)?n.startsWith("scale")?MR(e[1]):jR:OR;function UR({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:m,...y}){return!!Object.keys(y).length}const tg=(n,e,t,r={},i,a)=>u=>{const d=Um(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Gr(f);let y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:i};UR(d)||(y={...y,...FR(n,y)}),y.duration&&(y.duration=Gr(y.duration)),y.repeatDelay&&(y.repeatDelay=Gr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const T=ed(y.keyframes,d);if(T!==void 0)return rt.update(()=>{y.onUpdate(T),y.onComplete()}),new iP([])}return!a&&G_.supports(y)?new G_(y):new eg(y)};function BR({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function OT(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const m=[],y=i&&n.animationState&&n.animationState.getState()[i];for(const w in f){const T=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),A=f[w];if(A===void 0||y&&BR(y,w))continue;const j={delay:t,...Um(u||{},w)};let M=!1;if(window.MotionHandoffAnimation){const W=lT(n);if(W){const Q=window.MotionHandoffAnimation(W,w,rt);Q!==null&&(j.startTime=Q,M=!0)}}Dp(n,w),T.start(tg(w,T,A,n.shouldReduceMotion&&oT.has(w)?{type:!1}:j,n,M));const k=T.animation;k&&m.push(k)}return d&&Promise.all(m).then(()=>{rt.update(()=>{d&&_P(n,d)})}),m}function Fp(n,e,t={}){var r;const i=Zh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const u=i?()=>Promise.all(OT(n,i,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:w,staggerDirection:T}=a;return zR(n,e,y+m,w,T,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,y]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>y())}else return Promise.all([u(),d(t.delay)])}function zR(n,e,t=0,r=0,i=1,a){const u=[],d=(n.variantChildren.size-1)*r,f=i===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(n.variantChildren).sort($R).forEach((m,y)=>{m.notify("AnimationStart",e),u.push(Fp(m,e,{...a,delay:t+f(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function $R(n,e){return n.sortNodePosition(e)}function WR(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>Fp(n,a,t));r=Promise.all(i)}else if(typeof e=="string")r=Fp(n,e,t);else{const i=typeof e=="function"?Zh(n,e,t.custom):e;r=Promise.all(OT(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const HR=Pm.length;function FT(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?FT(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<HR;t++){const r=Pm[t],i=n.props[r];(Zl(i)||i===!1)&&(e[r]=i)}return e}const qR=[...Cm].reverse(),GR=Cm.length;function KR(n){return e=>Promise.all(e.map(({animation:t,options:r})=>WR(n,t,r)))}function QR(n){let e=KR(n),t=K_(),r=!0;const i=f=>(m,y)=>{var w;const T=Zh(n,y,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:A,transitionEnd:j,...M}=T;m={...m,...M,...j}}return m};function a(f){e=f(n)}function u(f){const{props:m}=n,y=FT(n.parent)||{},w=[],T=new Set;let A={},j=1/0;for(let k=0;k<GR;k++){const W=qR[k],Q=t[W],Y=m[W]!==void 0?m[W]:y[W],re=Zl(Y),K=W===f?Q.isActive:null;K===!1&&(j=k);let G=Y===y[W]&&Y!==m[W]&&re;if(G&&r&&n.manuallyAnimateOnMount&&(G=!1),Q.protectedKeys={...A},!Q.isActive&&K===null||!Y&&!Q.prevProp||Xh(Y)||typeof Y=="boolean")continue;const N=YR(Q.prevProp,Y);let I=N||W===f&&Q.isActive&&!G&&re||k>j&&re,P=!1;const V=Array.isArray(Y)?Y:[Y];let b=V.reduce(i(W),{});K===!1&&(b={});const{prevResolvedValues:U={}}=Q,R={...U,...b},qe=Ne=>{I=!0,T.has(Ne)&&(P=!0,T.delete(Ne)),Q.needsAnimating[Ne]=!0;const ie=n.getValue(Ne);ie&&(ie.liveStyle=!1)};for(const Ne in R){const ie=b[Ne],ge=U[Ne];if(A.hasOwnProperty(Ne))continue;let le=!1;Rp(ie)&&Rp(ge)?le=!JE(ie,ge):le=ie!==ge,le?ie!=null?qe(Ne):T.add(Ne):ie!==void 0&&T.has(Ne)?qe(Ne):Q.protectedKeys[Ne]=!0}Q.prevProp=Y,Q.prevResolvedValues=b,Q.isActive&&(A={...A,...b}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(G&&N)||P)&&w.push(...V.map(Ne=>({animation:Ne,options:{type:W}})))}if(T.size){const k={};T.forEach(W=>{const Q=n.getBaseTarget(W),Y=n.getValue(W);Y&&(Y.liveStyle=!0),k[W]=Q??null}),w.push({animation:k})}let M=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(w):Promise.resolve()}function d(f,m){var y;if(t[f].isActive===m)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(T=>{var A;return(A=T.animationState)===null||A===void 0?void 0:A.setActive(f,m)}),t[f].isActive=m;const w=u(f);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=K_(),r=!0}}}function YR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!JE(e,n):!1}function Oi(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K_(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class li{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XR extends li{constructor(e){super(e),e.animationState||(e.animationState=QR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let JR=0;class ZR extends li{constructor(){super(...arguments),this.id=JR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const eN={animation:{Feature:XR},exit:{Feature:ZR}};function ru(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function wu(n){return{point:{x:n.pageX,y:n.pageY}}}const tN=n=>e=>$m(e)&&n(e,wu(e));function Bl(n,e,t,r){return ru(n,e,tN(t),r)}const Q_=(n,e)=>Math.abs(n-e);function nN(n,e){const t=Q_(n.x,e.x),r=Q_(n.y,e.y);return Math.sqrt(t**2+r**2)}class UT{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=op(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,A=nN(w.offset,{x:0,y:0})>=3;if(!T&&!A)return;const{point:j}=w,{timestamp:M}=Ot;this.history.push({...j,timestamp:M});const{onStart:k,onMove:W}=this.handlers;T||(k&&k(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=ip(T,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:A,onSessionEnd:j,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=op(w.type==="pointercancel"?this.lastMoveEventInfo:ip(T,this.transformPagePoint),this.history);this.startEvent&&A&&A(w,k),j&&j(w,k)},!$m(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const u=wu(e),d=ip(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Ot;this.history=[{...f,timestamp:m}];const{onSessionStart:y}=t;y&&y(e,op(d,this.history)),this.removeListeners=_u(Bl(this.contextWindow,"pointermove",this.handlePointerMove),Bl(this.contextWindow,"pointerup",this.handlePointerUp),Bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function ip(n,e){return e?{point:e(n.point)}:n}function Y_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function op({point:n},e){return{point:n,delta:Y_(n,BT(e)),offset:Y_(n,rN(e)),velocity:sN(e,.1)}}function rN(n){return n[0]}function BT(n){return n[n.length-1]}function sN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=BT(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Gr(e)));)t--;if(!r)return{x:0,y:0};const a=Kr(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const zT=1e-4,iN=1-zT,oN=1+zT,$T=.01,aN=0-$T,lN=0+$T;function xn(n){return n.max-n.min}function uN(n,e,t){return Math.abs(n-e)<=t}function X_(n,e,t,r=.5){n.origin=r,n.originPoint=at(e.min,e.max,n.origin),n.scale=xn(t)/xn(e),n.translate=at(t.min,t.max,n.origin)-n.originPoint,(n.scale>=iN&&n.scale<=oN||isNaN(n.scale))&&(n.scale=1),(n.translate>=aN&&n.translate<=lN||isNaN(n.translate))&&(n.translate=0)}function zl(n,e,t,r){X_(n.x,e.x,t.x,r?r.originX:void 0),X_(n.y,e.y,t.y,r?r.originY:void 0)}function J_(n,e,t){n.min=t.min+e.min,n.max=n.min+xn(e)}function cN(n,e,t){J_(n.x,e.x,t.x),J_(n.y,e.y,t.y)}function Z_(n,e,t){n.min=e.min-t.min,n.max=n.min+xn(e)}function $l(n,e,t){Z_(n.x,e.x,t.x),Z_(n.y,e.y,t.y)}function hN(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?at(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?at(t,n,r.max):Math.min(n,t)),n}function e0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function dN(n,{top:e,left:t,bottom:r,right:i}){return{x:e0(n.x,t,i),y:e0(n.y,e,r)}}function t0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function fN(n,e){return{x:t0(n.x,e.x),y:t0(n.y,e.y)}}function pN(n,e){let t=.5;const r=xn(n),i=xn(e);return i>r?t=fa(e.min,e.max-r,n.min):r>i&&(t=fa(n.min,n.max-i,e.min)),Qr(0,1,t)}function mN(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Up=.35;function gN(n=Up){return n===!1?n=0:n===!0&&(n=Up),{x:n0(n,"left","right"),y:n0(n,"top","bottom")}}function n0(n,e,t){return{min:r0(n,e),max:r0(n,t)}}function r0(n,e){return typeof n=="number"?n:n[e]||0}const s0=()=>({translate:0,scale:1,origin:0,originPoint:0}),sa=()=>({x:s0(),y:s0()}),i0=()=>({min:0,max:0}),mt=()=>({x:i0(),y:i0()});function bn(n){return[n("x"),n("y")]}function WT({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function yN({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function vN(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function ap(n){return n===void 0||n===1}function Bp({scale:n,scaleX:e,scaleY:t}){return!ap(n)||!ap(e)||!ap(t)}function Fi(n){return Bp(n)||HT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function HT(n){return o0(n.x)||o0(n.y)}function o0(n){return n&&n!=="0%"}function Ph(n,e,t){const r=n-t,i=e*r;return t+i}function a0(n,e,t,r,i){return i!==void 0&&(n=Ph(n,i,r)),Ph(n,t,r)+e}function zp(n,e=0,t=1,r,i){n.min=a0(n.min,e,t,r,i),n.max=a0(n.max,e,t,r,i)}function qT(n,{x:e,y:t}){zp(n.x,e.translate,e.scale,e.originPoint),zp(n.y,t.translate,t.scale,t.originPoint)}const l0=.999999999999,u0=1.0000000000001;function _N(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let a,u;for(let d=0;d<i;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&oa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,qT(n,u)),r&&Fi(a.latestValues)&&oa(n,a.latestValues))}e.x<u0&&e.x>l0&&(e.x=1),e.y<u0&&e.y>l0&&(e.y=1)}function ia(n,e){n.min=n.min+e,n.max=n.max+e}function c0(n,e,t,r,i=.5){const a=at(n.min,n.max,i);zp(n,e,t,a,r)}function oa(n,e){c0(n.x,e.x,e.scaleX,e.scale,e.originX),c0(n.y,e.y,e.scaleY,e.scale,e.originY)}function GT(n,e){return WT(vN(n.getBoundingClientRect(),e))}function wN(n,e,t){const r=GT(n,t),{scroll:i}=e;return i&&(ia(r.x,i.offset.x),ia(r.y,i.offset.y)),r}const KT=({current:n})=>n?n.ownerDocument.defaultView:null,EN=new WeakMap;class TN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wu(y).point)},a=(y,w)=>{const{drag:T,dragPropagation:A,onDragStart:j}=this.getProps();if(T&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pP(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(k=>{let W=this.getAxisMotionValue(k).get()||0;if(_r.test(W)){const{projection:Q}=this.visualElement;if(Q&&Q.layout){const Y=Q.layout.layoutBox[k];Y&&(W=xn(Y)*(parseFloat(W)/100))}}this.originPoint[k]=W}),j&&rt.postRender(()=>j(y,w)),Dp(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},u=(y,w)=>{const{dragPropagation:T,dragDirectionLock:A,onDirectionLock:j,onDrag:M}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:k}=w;if(A&&this.currentDirection===null){this.currentDirection=SN(k),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",w.point,k),this.updateAxis("y",w.point,k),this.visualElement.render(),M&&M(y,w)},d=(y,w)=>this.stop(y,w),f=()=>bn(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new UT(e,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:KT(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&rt.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!Jc(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=hN(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&na(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=dN(i.layoutBox,t):this.constraints=!1,this.elastic=gN(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=mN(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!na(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=wN(r,i.root,this.visualElement.getTransformPagePoint());let u=fN(i.layout.layoutBox,a);if(t){const d=t(yN(u));this.hasMutatedConstraints=!!d,d&&(u=WT(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=bn(y=>{if(!Jc(y,t,this.currentDirection))return;let w=f&&f[y]||{};u&&(w={min:0,max:0});const T=i?200:1e6,A=i?40:1e7,j={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(y,j)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Dp(this.visualElement,e),r.start(tg(e,r,0,t,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(t=>{const{drag:r}=this.getProps();if(!Jc(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(t);if(i&&i.layout){const{min:u,max:d}=i.layout.layoutBox[t];a.set(e[t]-at(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!na(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();i[u]=pN({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(u=>{if(!Jc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(at(f,m,i[u]))})}addListeners(){if(!this.visualElement.current)return;EN.set(this.visualElement,this);const e=this.visualElement.current,t=Bl(e,"pointerdown",f=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();na(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),rt.read(r);const u=ru(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(bn(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=f[y].translate,w.set(w.get()+f[y].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:u=Up,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Jc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function SN(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class xN extends li{constructor(e){super(e),this.removeGroupControls=Sn,this.removeListeners=Sn,this.controls=new TN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Sn}unmount(){this.removeGroupControls(),this.removeListeners()}}const h0=n=>(e,t)=>{n&&rt.postRender(()=>n(e,t))};class IN extends li{constructor(){super(...arguments),this.removePointerDownListener=Sn}onPointerDown(e){this.session=new UT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:h0(e),onStart:h0(t),onMove:r,onEnd:(a,u)=>{delete this.session,i&&rt.postRender(()=>i(a,u))}}}mount(){this.removePointerDownListener=Bl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Pl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=d0(n,e.target.x),r=d0(n,e.target.y);return`${t}% ${r}%`}},AN={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Zs.parse(n);if(i.length>5)return r;const a=Zs.createTransformer(n),u=typeof i[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;i[0+u]/=d,i[1+u]/=f;const m=at(d,f,.5);return typeof i[2+u]=="number"&&(i[2+u]/=m),typeof i[3+u]=="number"&&(i[3+u]/=m),a(i)}};class CN extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;GC(PN),a&&(t.group&&t.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),uh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,i||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||rt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Nm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QT(n){const[e,t]=kE(),r=O.useContext(Tm);return p.jsx(CN,{...n,layoutGroup:r,switchLayoutGroup:O.useContext(FE),isPresent:e,safeToRemove:t})}const PN={borderRadius:{...Pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pl,borderTopRightRadius:Pl,borderBottomLeftRadius:Pl,borderBottomRightRadius:Pl,boxShadow:AN};function RN(n,e,t){const r=Jt(n)?n:tu(n);return r.start(tg("",r,e,t)),r.animation}function NN(n){return n instanceof SVGElement&&n.tagName!=="svg"}const kN=(n,e)=>n.depth-e.depth;class DN{constructor(){this.children=[],this.isDirty=!1}add(e){Wm(this.children,e),this.isDirty=!0}remove(e){Hm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kN),this.isDirty=!1,this.children.forEach(e)}}function VN(n,e){const t=wr.now(),r=({timestamp:i})=>{const a=i-t;a>=e&&(Js(r),n(a-e))};return rt.read(r,!0),()=>Js(r)}const YT=["TopLeft","TopRight","BottomLeft","BottomRight"],bN=YT.length,f0=n=>typeof n=="string"?parseFloat(n):n,p0=n=>typeof n=="number"||we.test(n);function jN(n,e,t,r,i,a){i?(n.opacity=at(0,t.opacity!==void 0?t.opacity:1,MN(r)),n.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,LN(r))):a&&(n.opacity=at(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<bN;u++){const d=`border${YT[u]}Radius`;let f=m0(e,d),m=m0(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||p0(f)===p0(m)?(n[d]=Math.max(at(f0(f),f0(m),r),0),(_r.test(m)||_r.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=at(e.rotate||0,t.rotate||0,r))}function m0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const MN=XT(0,.5,mT),LN=XT(.5,.95,Sn);function XT(n,e,t){return r=>r<n?0:r>e?1:t(fa(n,e,r))}function g0(n,e){n.min=e.min,n.max=e.max}function Vn(n,e){g0(n.x,e.x),g0(n.y,e.y)}function y0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function v0(n,e,t,r,i){return n-=e,n=Ph(n,1/t,r),i!==void 0&&(n=Ph(n,1/i,r)),n}function ON(n,e=0,t=1,r=.5,i,a=n,u=n){if(_r.test(e)&&(e=parseFloat(e),e=at(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=at(a.min,a.max,r);n===a&&(d-=e),n.min=v0(n.min,e,t,d,i),n.max=v0(n.max,e,t,d,i)}function _0(n,e,[t,r,i],a,u){ON(n,e[t],e[r],e[i],e.scale,a,u)}const FN=["x","scaleX","originX"],UN=["y","scaleY","originY"];function w0(n,e,t,r){_0(n.x,e,FN,t?t.x:void 0,r?r.x:void 0),_0(n.y,e,UN,t?t.y:void 0,r?r.y:void 0)}function E0(n){return n.translate===0&&n.scale===1}function JT(n){return E0(n.x)&&E0(n.y)}function T0(n,e){return n.min===e.min&&n.max===e.max}function BN(n,e){return T0(n.x,e.x)&&T0(n.y,e.y)}function S0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function ZT(n,e){return S0(n.x,e.x)&&S0(n.y,e.y)}function x0(n){return xn(n.x)/xn(n.y)}function I0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class zN{constructor(){this.members=[]}add(e){Wm(this.members,e),e.scheduleRender()}remove(e){if(Hm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $N(n,e,t){let r="";const i=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((i||a||u)&&(r=`translate3d(${i}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:w,rotateY:T,skewX:A,skewY:j}=t;m&&(r=`perspective(${m}px) ${r}`),y&&(r+=`rotate(${y}deg) `),w&&(r+=`rotateX(${w}deg) `),T&&(r+=`rotateY(${T}deg) `),A&&(r+=`skewX(${A}deg) `),j&&(r+=`skewY(${j}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Ui={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bl=typeof window<"u"&&window.MotionDebug!==void 0,lp=["","X","Y","Z"],WN={visibility:"hidden"},A0=1e3;let HN=0;function up(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function eS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=lT(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",rt,!(i||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&eS(r)}function tS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(u={},d=e?.()){this.id=HN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bl&&(Ui.totalNodes=Ui.resolvedTargetDeltas=Ui.recalculatedProjection=0),this.nodes.forEach(KN),this.nodes.forEach(ZN),this.nodes.forEach(ek),this.nodes.forEach(QN),bl&&window.MotionDebug.record(Ui)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new DN)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new qm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=NN(u),this.instance=u;const{layoutId:f,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=VN(T,250),uh.hasAnimatedSinceResize&&(uh.hasAnimatedSinceResize=!1,this.nodes.forEach(P0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:A,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||y.getDefaultTransition()||ik,{onLayoutAnimationStart:k,onLayoutAnimationComplete:W}=y.getProps(),Q=!this.targetLayout||!ZT(this.targetLayout,j)||A,Y=!T&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Y||T&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,Y);const re={...Um(M,"layout"),onPlay:k,onComplete:W};(y.shouldReduceMotion||this.options.layoutRoot)&&(re.delay=0,re.type=!1),this.startAnimation(re)}else T||P0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C0);return}this.isUpdating||this.nodes.forEach(XN),this.isUpdating=!1,this.nodes.forEach(JN),this.nodes.forEach(qN),this.nodes.forEach(GN),this.clearAllSnapshots();const d=wr.now();Ot.delta=Qr(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,Zf.update.process(Ot),Zf.preRender.process(Ot),Zf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YN),this.sharedNodes.forEach(nk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!JT(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&(d||Fi(this.latestValues)||y)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),ok(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return mt();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(ak))){const{scroll:y}=this.root;y&&(ia(f.x,y.offset.x),ia(f.y,y.offset.y))}return f}removeElementScroll(u){var d;const f=mt();if(Vn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:w,options:T}=y;y!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Vn(f,u),ia(f.x,w.offset.x),ia(f.y,w.offset.y))}return f}applyTransform(u,d=!1){const f=mt();Vn(f,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!d&&y.options.layoutScroll&&y.scroll&&y!==y.root&&oa(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Fi(y.latestValues)&&oa(f,y.latestValues)}return Fi(this.latestValues)&&oa(f,this.latestValues),f}removeTransform(u){const d=mt();Vn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Fi(m.latestValues))continue;Bp(m.latestValues)&&m.updateSnapshot();const y=mt(),w=m.measurePageBox();Vn(y,w),w0(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Fi(this.latestValues)&&w0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),$l(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),qT(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),$l(this.relativeTargetOrigin,this.target,A.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bl&&Ui.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bp(this.parent.latestValues)||HT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(m=!1),m)return;const{layout:y,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||w))return;Vn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,A=this.treeScale.y;_N(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=mt());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(y0(this.prevProjectionDelta.x,this.projectionDelta.x),y0(this.prevProjectionDelta.y,this.projectionDelta.y)),zl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==A||!I0(this.projectionDelta.x,this.prevProjectionDelta.x)||!I0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),bl&&Ui.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sa(),this.projectionDelta=sa(),this.projectionDeltaWithTransform=sa()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},y={...this.latestValues},w=sa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=mt(),A=f?f.source:void 0,j=this.layout?this.layout.source:void 0,M=A!==j,k=this.getStack(),W=!k||k.members.length<=1,Q=!!(M&&!W&&this.options.crossfade===!0&&!this.path.some(sk));this.animationProgress=0;let Y;this.mixTargetDelta=re=>{const K=re/1e3;R0(w.x,u.x,K),R0(w.y,u.y,K),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($l(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rk(this.relativeTarget,this.relativeTargetOrigin,T,K),Y&&BN(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=mt()),Vn(Y,this.relativeTarget)),M&&(this.animationValues=y,jN(y,m,this.latestValues,K,Q,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{uh.hasAnimatedSinceResize=!0,this.currentAnimation=RN(0,A0,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:y}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&nS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||mt();const w=xn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const T=xn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}Vn(d,f),oa(d,y),zl(this.projectionDeltaWithTransform,this.layoutCorrected,d,y)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new zN),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&up("z",u,m,this.animationValues);for(let y=0;y<lp.length;y++)up(`rotate${lp[y]}`,u,m,this.animationValues),up(`skew${lp[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return WN;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=ah(u?.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=ah(u?.pointerEvents)||""),this.hasProjected&&!Fi(this.latestValues)&&(M.transform=y?y({},""):"none",this.hasProjected=!1),M}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=$N(this.projectionDeltaWithTransform,this.treeScale,T),y&&(m.transform=y(T,m.transform));const{x:A,y:j}=this.projectionDelta;m.transformOrigin=`${A.origin*100}% ${j.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const M in Sh){if(T[M]===void 0)continue;const{correct:k,applyTo:W}=Sh[M],Q=m.transform==="none"?T[M]:k(T[M],w);if(W){const Y=W.length;for(let re=0;re<Y;re++)m[W[re]]=Q}else m[M]=Q}return this.options.layoutId&&(m.pointerEvents=w===this?ah(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(C0),this.root.sharedNodes.clear()}}}function qN(n){n.updateLayout()}function GN(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?bn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],A=xn(T);T.min=r[w].min,T.max=T.min+A}):nS(a,t.layoutBox,r)&&bn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],A=xn(r[w]);T.max=T.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+A)});const d=sa();zl(d,r,t.layoutBox);const f=sa();u?zl(f,n.applyTransform(i,!0),t.measuredBox):zl(f,r,t.layoutBox);const m=!JT(d);let y=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:A}=w;if(T&&A){const j=mt();$l(j,t.layoutBox,T.layoutBox);const M=mt();$l(M,r,A.layoutBox),ZT(j,M)||(y=!0),w.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=j,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:y})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function KN(n){bl&&Ui.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function QN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function YN(n){n.clearSnapshot()}function C0(n){n.clearMeasurements()}function XN(n){n.isLayoutDirty=!1}function JN(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function P0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ZN(n){n.resolveTargetDelta()}function ek(n){n.calcProjection()}function tk(n){n.resetSkewAndRotation()}function nk(n){n.removeLeadSnapshot()}function R0(n,e,t){n.translate=at(e.translate,0,t),n.scale=at(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function N0(n,e,t,r){n.min=at(e.min,t.min,r),n.max=at(e.max,t.max,r)}function rk(n,e,t,r){N0(n.x,e.x,t.x,r),N0(n.y,e.y,t.y,r)}function sk(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ik={duration:.45,ease:[.4,0,.1,1]},k0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),D0=k0("applewebkit/")&&!k0("chrome/")?Math.round:Sn;function V0(n){n.min=D0(n.min),n.max=D0(n.max)}function ok(n){V0(n.x),V0(n.y)}function nS(n,e,t){return n==="position"||n==="preserve-aspect"&&!uN(x0(e),x0(t),.2)}function ak(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const lk=tS({attachResizeListener:(n,e)=>ru(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cp={current:void 0},rS=tS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!cp.current){const n=new lk({});n.mount(window),n.setOptions({layoutScroll:!0}),cp.current=n}return cp.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),uk={pan:{Feature:IN},drag:{Feature:xN,ProjectionNode:rS,MeasureLayout:QT}};function b0(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,a=r[i];a&&rt.postRender(()=>a(e,wu(e)))}class ck extends li{mount(){const{current:e}=this.node;e&&(this.unmount=uP(e,t=>(b0(this.node,t,"Start"),r=>b0(this.node,r,"End"))))}unmount(){}}class hk extends li{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_u(ru(this.node.current,"focus",()=>this.onFocus()),ru(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j0(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),a=r[i];a&&rt.postRender(()=>a(e,wu(e)))}class dk extends li{mount(){const{current:e}=this.node;e&&(this.unmount=fP(e,t=>(j0(this.node,t,"Start"),(r,{success:i})=>j0(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $p=new WeakMap,hp=new WeakMap,fk=n=>{const e=$p.get(n.target);e&&e(n)},pk=n=>{n.forEach(fk)};function mk({root:n,...e}){const t=n||document;hp.has(t)||hp.set(t,{});const r=hp.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(pk,{root:n,...e})),r[i]}function gk(n,e,t){const r=mk(e);return $p.set(n,t),r.observe(n),()=>{$p.delete(n),r.unobserve(n)}}const yk={some:0,all:1};class vk extends li{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yk[i]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),T=m?y:w;T&&T(f)};return gk(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(_k(e,t))&&this.startObserver()}unmount(){}}function _k({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const wk={inView:{Feature:vk},tap:{Feature:dk},focus:{Feature:hk},hover:{Feature:ck}},Ek={layout:{ProjectionNode:rS,MeasureLayout:QT}},Wp={current:null},sS={current:!1};function Tk(){if(sS.current=!0,!!Im)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wp.current=n.matches;n.addListener(e),e()}else Wp.current=!1}const Sk=[...RT,Qt,Zs],xk=n=>Sk.find(PT(n)),M0=new WeakMap;function Ik(n,e,t){for(const r in e){const i=e[r],a=t[r];if(Jt(i))n.addValue(r,i);else if(Jt(a))n.addValue(r,tu(i,{owner:n}));else if(a!==i)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(i):u.hasAnimated||u.set(i)}else{const u=n.getStaticValue(r);n.addValue(r,tu(u!==void 0?u:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const L0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ak{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=wr.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,rt.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:y}=u;this.onUpdate=y,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Jh(t),this.isVariantNode=LE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const A in T){const j=T[A];f[A]!==void 0&&Jt(j)&&j.set(f[A],!1)}}mount(e){this.current=e,M0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),sS.current||Tk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){M0.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=io.has(e),i=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&rt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pa){const t=pa[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<L0.length;r++){const i=L0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,u=e[a];u&&(this.propEventSubscriptions[i]=this.on(i,u))}this.prevMotionValues=Ik(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=tu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(AT(i)||yT(i))?i=parseFloat(i):!xk(i)&&Zs.test(t)&&(i=ST(e,t)),this.setBaseTarget(e,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const u=Dm(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(i=u[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Jt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new qm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class iS extends Ak{constructor(){super(...arguments),this.KeyframeResolver=NT}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Ck(n){return window.getComputedStyle(n)}class Pk extends iS{constructor(){super(...arguments),this.type="html",this.renderInstance=qE}readValueFromInstance(e,t){if(io.has(t)){const r=Xm(t);return r&&r.default||0}else{const r=Ck(e),i=($E(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return GT(e,t)}build(e,t,r){jm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Fm(e,t,r)}}class Rk extends iS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(io.has(t)){const r=Xm(t);return r&&r.default||0}return t=GE.has(t)?t:Rm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return YE(e,t,r)}build(e,t,r){Mm(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){KE(e,t,r,i)}mount(e){this.isSVGTag=Om(e.tagName),super.mount(e)}}const Nk=(n,e)=>km(n)?new Rk(e):new Pk(e,{allowProjection:n!==O.Fragment}),kk=nP({...eN,...wk,...uk,...Ek},Nk),De=yC(kk);function Qi(){const n=O.useRef(null);return O.useEffect(()=>{const e=n.current,t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const r="010123456789ABCDEF<>[]{}|/\\=+-_!@#$%^&*()~`",i=16,a=e.width/i,u=[];for(let w=0;w<a;w++)u[w]=Math.random()*-100;const d=["#00ff41","#00cc33","#008f11","#00ff88","#0f0","#003b00"],m=setInterval(()=>{t.fillStyle="rgba(10, 10, 15, 0.05)",t.fillRect(0,0,e.width,e.height),t.font=i+"px monospace";for(let w=0;w<u.length;w++){t.fillStyle=d[Math.floor(Math.random()*d.length)];const T=r.charAt(Math.floor(Math.random()*r.length));t.shadowColor="#00ff41",t.shadowBlur=8,t.fillText(T,w*i,u[w]*i),t.shadowBlur=0,u[w]*i>e.height&&Math.random()>.975&&(u[w]=0),u[w]++}},35),y=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return window.addEventListener("resize",y),()=>{clearInterval(m),window.removeEventListener("resize",y)}},[]),p.jsx("canvas",{ref:n,className:"matrix-rain"})}const Dk=({onComplete:n})=>{const[e,t]=O.useState([]),[r,i]=O.useState(!0),a=[{text:"BIOS Date: 02/25/26 23:14:13 Ver 1.0.24",color:"#888"},{text:"CPU: U0_A242 ARCHITECT @ 4.20GHz",color:"#00ff88"},{text:"Memory Test: 65536K OK",color:"#00ff88"},{text:"",color:""},{text:"[ OK ] Loading kernel modules...",color:"#00ff88"},{text:"[ OK ] Mounting root filesystem...",color:"#00ff88"},{text:"[ OK ] Starting system logger...",color:"#00ff88"},{text:"[ OK ] Initializing network interface...",color:"#00ff88"},{text:"[ OK ] Starting L1T.GRID protocol...",color:"#ff8c00"},{text:"",color:""},{text:"WARNING: Unauthorized access detected",color:"#ff0040"},{text:"Bypassing security protocols...",color:"#ff8c00"},{text:"[ OK ] Root access granted",color:"#00ff88"},{text:"",color:""},{text:"Welcome to L1T.GRID Terminal v1.0.24",color:"#00ff88"},{text:"Type 'startx' to enter the grid...",color:"#888"}];return O.useEffect(()=>{let u=0;const d=setInterval(()=>{u<a.length?(t(f=>[...f,a[u]]),ce("typing"),u++):(clearInterval(d),setTimeout(n,1500))},150);return()=>clearInterval(d)},[n]),p.jsx("div",{className:"boot-sequence",children:p.jsxs("div",{className:"boot-screen",children:[e.map((u,d)=>p.jsx(De.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"boot-line",style:{color:u.color},children:u.text},d)),r&&p.jsx("span",{className:"boot-cursor",children:"_"})]})})},Zc=({title:n,children:e,className:t=""})=>p.jsxs(De.div,{className:`terminal-window ${t}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"terminal-header",children:[p.jsxs("div",{className:"terminal-buttons",children:[p.jsx("span",{className:"term-btn close"}),p.jsx("span",{className:"term-btn minimize"}),p.jsx("span",{className:"term-btn maximize"})]}),p.jsx("span",{className:"terminal-title",children:n}),p.jsx("div",{className:"terminal-spacer"})]}),p.jsx("div",{className:"terminal-body",children:e})]}),Vk=({text:n,className:e=""})=>{const[t,r]=O.useState(""),[i,a]=O.useState(0);return O.useEffect(()=>{if(i<n.length){const u=setTimeout(()=>{r(d=>d+n[i]),a(i+1),i%2===0&&ce("typing")},50);return()=>clearTimeout(u)}},[i,n]),p.jsxs("span",{className:e,children:[t,p.jsx("span",{className:"cursor-blink",children:"_"})]})};function bk(){const[n,e]=O.useState(!1),[t,r]=O.useState(!1),[i,a]=O.useState(new Date);O.useEffect(()=>{const d=setInterval(()=>a(new Date),1e3);return()=>clearInterval(d)},[]),O.useEffect(()=>{const d=setInterval(()=>{r(!0),setTimeout(()=>r(!1),200)},5e3);return()=>clearInterval(d)},[]);const u=()=>{ce("transmit"),e(!0)};return n?p.jsxs("div",{className:`landing-container ${t?"glitch-mode":""}`,children:[p.jsx(Qi,{}),p.jsxs("div",{className:"kali-topbar",children:[p.jsxs("div",{className:"topbar-left",children:[p.jsx("span",{className:"kali-logo",children:" L1T.GRID"}),p.jsx("span",{className:"topbar-separator",children:"|"}),p.jsx("span",{className:"topbar-item",children:"File"}),p.jsx("span",{className:"topbar-item",children:"Edit"}),p.jsx("span",{className:"topbar-item",children:"View"}),p.jsx("span",{className:"topbar-item",children:"Terminal"}),p.jsx("span",{className:"topbar-item",children:"Help"})]}),p.jsxs("div",{className:"topbar-right",children:[p.jsx("span",{className:"topbar-icon",children:""}),p.jsx("span",{className:"topbar-icon",children:""}),p.jsx("span",{className:"topbar-icon",children:""}),p.jsx("span",{className:"topbar-time",children:i.toLocaleTimeString()})]})]}),p.jsxs("div",{className:"desktop-area",children:[p.jsxs("div",{className:"desktop-left",children:[p.jsx(Zc,{title:"root@L1T.GRID:~",className:"info-terminal",children:p.jsxs("div",{className:"terminal-content",children:[p.jsxs("p",{className:"term-line",children:[p.jsx("span",{className:"prompt",children:"root@L1T.GRID:~#"})," whoami"]}),p.jsx("p",{className:"term-output",children:"FALLEN_ANGEL"}),p.jsxs("p",{className:"term-line",children:[p.jsx("span",{className:"prompt",children:"root@L1T.GRID:~#"})," cat /etc/passwd | grep skills"]}),p.jsxs("p",{className:"term-output",children:["Mobile Dev",p.jsx("br",{}),"Terminal Mastery",p.jsx("br",{}),"Code God",p.jsx("br",{}),"System Architect"]}),p.jsxs("p",{className:"term-line",children:[p.jsx("span",{className:"prompt",children:"root@L1T.GRID:~#"}),p.jsx("span",{className:"cursor",children:"_"})]})]})}),p.jsx(Zc,{title:"system_stats.log",className:"stats-terminal",children:p.jsxs("div",{className:"stats-grid",children:[p.jsxs("div",{className:"stat-box",children:[p.jsx("span",{className:"stat-label",children:"CPU"}),p.jsx("div",{className:"stat-bar",children:p.jsx("div",{className:"stat-fill",style:{width:"95%"}})}),p.jsx("span",{className:"stat-value",children:"95%"})]}),p.jsxs("div",{className:"stat-box",children:[p.jsx("span",{className:"stat-label",children:"MEM"}),p.jsx("div",{className:"stat-bar",children:p.jsx("div",{className:"stat-fill",style:{width:"87%"}})}),p.jsx("span",{className:"stat-value",children:"87%"})]}),p.jsxs("div",{className:"stat-box",children:[p.jsx("span",{className:"stat-label",children:"NET"}),p.jsx("div",{className:"stat-bar",children:p.jsx("div",{className:"stat-fill green",style:{width:"100%"}})}),p.jsx("span",{className:"stat-value",children:"ONLINE"})]})]})})]}),p.jsx("div",{className:"desktop-center",children:p.jsxs(De.div,{className:"hero-main",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring"},children:[p.jsxs("div",{className:"hero-avatar",children:[p.jsx("div",{className:"avatar-ring"}),p.jsx("span",{className:"avatar-emoji",children:""}),p.jsx("div",{className:"avatar-glow"})]}),p.jsxs("h1",{className:"hero-title",children:[p.jsx("span",{className:"title-bracket",children:"["}),p.jsx(Vk,{text:"FALLEN ANGEL"}),p.jsx("span",{className:"title-bracket",children:"]"})]}),p.jsxs("div",{className:"hero-subtitle",children:[p.jsx("span",{className:"subtitle-prompt",children:">"}),p.jsx("span",{className:"subtitle-text",children:"System Architect // Code God // Terminal Master"})]}),p.jsxs("div",{className:"hero-tags",children:[p.jsx("span",{className:"tag",children:"#KaliLinux"}),p.jsx("span",{className:"tag",children:"#Cyberpunk"}),p.jsx("span",{className:"tag",children:"#React"}),p.jsx("span",{className:"tag",children:"#Firebase"})]}),p.jsxs("div",{className:"hero-actions",children:[p.jsx(Se,{to:"/feed",className:"action-btn primary",children:p.jsxs(De.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:()=>ce("hover"),onClick:()=>ce("click"),children:[p.jsx("span",{className:"btn-icon",children:""}),p.jsx("span",{children:"ENTER_GRID"})]})}),p.jsx(Se,{to:"/projects",className:"action-btn secondary",children:p.jsxs(De.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onMouseEnter:()=>ce("hover"),onClick:()=>ce("click"),children:[p.jsx("span",{className:"btn-icon",children:""}),p.jsx("span",{children:"PROJECTS"})]})})]})]})}),p.jsxs("div",{className:"desktop-right",children:[p.jsx(Zc,{title:"quick_access.sh",className:"links-terminal",children:p.jsxs("div",{className:"quick-links-list",children:[p.jsxs(Se,{to:"/feed",className:"quick-link-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"link-icon",children:""}),p.jsxs("div",{className:"link-info",children:[p.jsx("span",{className:"link-name",children:"Live Feed"}),p.jsx("span",{className:"link-desc",children:"Broadcast to grid"})]})]}),p.jsxs(Se,{to:"/profile",className:"quick-link-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"link-icon",children:""}),p.jsxs("div",{className:"link-info",children:[p.jsx("span",{className:"link-name",children:"Architect"}),p.jsx("span",{className:"link-desc",children:"Root access"})]})]}),p.jsxs(Se,{to:"/media",className:"quick-link-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"link-icon",children:""}),p.jsxs("div",{className:"link-info",children:[p.jsx("span",{className:"link-name",children:"U0 Stream"}),p.jsx("span",{className:"link-desc",children:"Media stream"})]})]}),p.jsxs(Se,{to:"/projects",className:"quick-link-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"link-icon",children:""}),p.jsxs("div",{className:"link-info",children:[p.jsx("span",{className:"link-name",children:"Projects"}),p.jsx("span",{className:"link-desc",children:"View work"})]})]})]})}),p.jsx(Zc,{title:"network_status.dat",className:"network-terminal",children:p.jsxs("div",{className:"network-info",children:[p.jsxs("div",{className:"net-row",children:[p.jsx("span",{className:"net-label",children:"IP:"}),p.jsx("span",{className:"net-value",children:"192.168.0.77"})]}),p.jsxs("div",{className:"net-row",children:[p.jsx("span",{className:"net-label",children:"MAC:"}),p.jsx("span",{className:"net-value",children:"U0:A2:42:XX:XX"})]}),p.jsxs("div",{className:"net-row",children:[p.jsx("span",{className:"net-label",children:"PING:"}),p.jsx("span",{className:"net-value green",children:"12ms"})]}),p.jsxs("div",{className:"net-row",children:[p.jsx("span",{className:"net-label",children:"NODE:"}),p.jsx("span",{className:"net-value orange",children:"TERMINUX"})]})]})})]})]}),p.jsxs("div",{className:"kodi-dock",children:[p.jsxs(Se,{to:"/",className:"dock-item active",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"dock-icon",children:""}),p.jsx("span",{className:"dock-label",children:"Home"})]}),p.jsxs(Se,{to:"/feed",className:"dock-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"dock-icon",children:""}),p.jsx("span",{className:"dock-label",children:"Feed"})]}),p.jsxs(Se,{to:"/projects",className:"dock-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"dock-icon",children:""}),p.jsx("span",{className:"dock-label",children:"Work"})]}),p.jsxs(Se,{to:"/media",className:"dock-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"dock-icon",children:""}),p.jsx("span",{className:"dock-label",children:"Media"})]}),p.jsxs(Se,{to:"/profile",className:"dock-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"dock-icon",children:""}),p.jsx("span",{className:"dock-label",children:"Root"})]}),p.jsx("div",{className:"dock-separator"}),p.jsxs("a",{href:"https://github.com/fallenangel",target:"_blank",rel:"noopener noreferrer",className:"dock-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"dock-icon",children:""}),p.jsx("span",{className:"dock-label",children:"GitHub"})]})]})]}):p.jsxs("div",{className:"landing-container boot-mode",children:[p.jsx(Qi,{}),p.jsx(Dk,{onComplete:u})]})}const jk=[{title:"HomeBase Portfolio",description:"A futuristic, cyberpunk-themed React portfolio that combines stunning Matrix Rain effects with a terminal-like user interface.",tech:["React","Firebase","Vite","CSS"],demo:"#",source:"https://github.com/Litlabsai/homebase-portfolio"}],Mk=()=>p.jsxs("div",{className:"projects",children:[p.jsx("h2",{children:"My Work"}),p.jsx("div",{className:"project-list",children:jk.map((n,e)=>p.jsxs("div",{className:"project-card",children:[p.jsx("h3",{children:n.title}),p.jsx("p",{children:n.description}),p.jsx("div",{className:"project-technologies",children:n.tech.map(t=>p.jsx("span",{className:"tech-tag",children:t},t))}),p.jsxs("div",{className:"project-links",children:[p.jsx("a",{href:n.demo,target:"_blank",rel:"noopener noreferrer",children:"Live Demo"}),p.jsx("a",{href:n.source,target:"_blank",rel:"noopener noreferrer",children:"Source Code"})]})]},e))})]});class Lk{constructor(){this.userPreferences=new Map,this.contentIndex=new Map,this.interactionHistory=[]}async generateFeedRecommendations(e,t,r=20){const i=await this.getUserPreferences(e);return t.map(u=>({...u,score:this.calculateRelevanceScore(u,i)})).sort((u,d)=>d.score-u.score).slice(0,r)}calculateRelevanceScore(e,t){let r=0;const i=Date.now()-(e.timestamp?.toMillis()||Date.now()),a=Math.exp(-i/(1440*60*1e3));if(r+=a*.3,e.tags){const d=e.tags.filter(f=>t.interests?.includes(f)).length;r+=d/(e.tags.length||1)*.25}const u=this.predictEngagement(e);return r+=u*.2,e.userId&&t.following?.includes(e.userId)&&(r+=.15),r+=(e.qualityScore||.5)*.1,r}predictEngagement(e){const t=(e.likes||0)+(e.comments||0)*2,r=Math.exp(-(Date.now()-(e.timestamp?.toMillis()||Date.now()))/(10080*60*1e3));return Math.min(t*r/100,1)}async getUserPreferences(e){const t=localStorage.getItem(`l1t_prefs_${e}`);return t?JSON.parse(t):{interests:["cyberpunk","coding","hacking","technology"],following:[],contentTypes:["video","audio","post"],preferredTags:[]}}updatePreferences(e,t){const r=this.getUserPreferences(e);t.type==="like"&&(r.interests=[...new Set([...r.interests,...t.tags])]),localStorage.setItem(`l1t_prefs_${e}`,JSON.stringify(r))}smartSearch(e,t){const r=e.toLowerCase(),i=r.split(/\s+/);return t.filter(a=>{const u=`${a.title||""} ${a.content||""} ${a.tags?.join(" ")||""}`.toLowerCase();return u.includes(r)?!0:i.filter(f=>u.includes(f)).length>=i.length*.5}).sort((a,u)=>{const d=this.calculateSearchRelevance(a,r);return this.calculateSearchRelevance(u,r)-d})}calculateSearchRelevance(e,t){let r=0;const i=`${e.title||""} ${e.content||""}`.toLowerCase();return i.startsWith(t)&&(r+=3),i.includes(t)&&(r+=2),e.tags?.some(a=>a.toLowerCase().includes(t))&&(r+=1),r}}const oS=new Lk,Ok=()=>{};var O0={};const aS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Fk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],d=n[t++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,d=u?n[i+1]:0,f=i+2<n.length,m=f?n[i+2]:0,y=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,A=m&63;f||(A=64,u||(T=64)),r.push(t[y],t[w],t[T],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Fk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;const m=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||d==null||m==null||w==null)throw new Uk;const T=a<<2|d>>4;if(r.push(T),m!==64){const A=d<<4&240|m>>2;if(r.push(A),w!==64){const j=m<<6&192|w;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Uk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bk=function(n){const e=aS(n);return lS.encodeByteArray(e,!0)},Rh=function(n){return Bk(n).replace(/\./g,"")},uS=function(n){try{return lS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function zk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $k=()=>zk().__FIREBASE_DEFAULTS__,Wk=()=>{if(typeof process>"u"||typeof O0>"u")return;const n=O0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Hk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uS(n[1]);return e&&JSON.parse(e)},td=()=>{try{return Ok()||$k()||Wk()||Hk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cS=n=>td()?.emulatorHosts?.[n],qk=n=>{const e=cS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hS=()=>td()?.config,dS=n=>td()?.[`_${n}`];class Gk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Ia(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fS(n){return(await fetch(n,{credentials:"include"})).ok}function Kk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rh(JSON.stringify(t)),Rh(JSON.stringify(u)),""].join(".")}const Wl={};function Qk(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?n.emulator.push(e):n.prod.push(e);return n}function Yk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let F0=!1;function pS(n,e){if(typeof window>"u"||typeof document>"u"||!Ia(window.location.host)||Wl[n]===e||Wl[n]||F0)return;Wl[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=Qk().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{F0=!0,u()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=Yk(r),A=t("text"),j=document.getElementById(A)||document.createElement("span"),M=t("learnmore"),k=document.getElementById(M)||document.createElement("a"),W=t("preprendIcon"),Q=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;d(Y),y(k,M);const re=m();f(Q,W),Y.append(Q,j,k,re),document.body.appendChild(Y)}a?(j.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Jk(){const n=td()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nD(){const n=Zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rD(){return!Jk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sD(){try{return typeof indexedDB=="object"}catch{return!1}}function iD(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const oD="FirebaseError";class ts extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=oD,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?aD(a,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new ts(i,d,r)}}function aD(n,e){return n.replace(lD,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const lD=/\{\$([^}]+)}/g;function uD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Yi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(U0(a)&&U0(u)){if(!Yi(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function U0(n){return n!==null&&typeof n=="object"}function Tu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cD(n,e){const t=new hD(n,e);return t.subscribe.bind(t)}class hD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");dD(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=dp),i.error===void 0&&(i.error=dp),i.complete===void 0&&(i.complete=dp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dp(){}function Bt(n){return n&&n._delegate?n._delegate:n}class Xi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bi="[DEFAULT]";class fD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Gk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mD(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pD(n){return n===Bi?void 0:n}function mD(n){return n.instantiationMode==="EAGER"}class gD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const yD={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},vD=je.INFO,_D={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},wD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=_D[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ng{constructor(e){this.name=e,this._logLevel=vD,this._logHandler=wD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const ED=(n,e)=>e.some(t=>n instanceof t);let B0,z0;function TD(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mS=new WeakMap,Hp=new WeakMap,gS=new WeakMap,fp=new WeakMap,rg=new WeakMap;function xD(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Hs(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&mS.set(t,n)}).catch(()=>{}),rg.set(e,n),e}function ID(n){if(Hp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Hp.set(n,e)}let qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Hp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AD(n){qp=n(qp)}function CD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(pp(this),e,...t);return gS.set(r,e.sort?e.sort():[e]),Hs(r)}:SD().includes(n)?function(...e){return n.apply(pp(this),e),Hs(mS.get(this))}:function(...e){return Hs(n.apply(pp(this),e))}}function PD(n){return typeof n=="function"?CD(n):(n instanceof IDBTransaction&&ID(n),ED(n,TD())?new Proxy(n,qp):n)}function Hs(n){if(n instanceof IDBRequest)return xD(n);if(fp.has(n))return fp.get(n);const e=PD(n);return e!==n&&(fp.set(n,e),rg.set(e,n)),e}const pp=n=>rg.get(n);function RD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),d=Hs(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Hs(u.result),f.oldVersion,f.newVersion,Hs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const ND=["get","getKey","getAll","getAllKeys","count"],kD=["put","add","delete","clear"],mp=new Map;function $0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=kD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ND.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),i&&f.done]))[0]};return mp.set(e,a),a}AD(n=>({...n,get:(e,t,r)=>$0(e,t)||n.get(e,t,r),has:(e,t)=>!!$0(e,t)||n.has(e,t)}));class DD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function VD(n){return n.getComponent()?.type==="VERSION"}const Gp="@firebase/app",W0="0.14.8";const Yr=new ng("@firebase/app"),bD="@firebase/app-compat",jD="@firebase/analytics-compat",MD="@firebase/analytics",LD="@firebase/app-check-compat",OD="@firebase/app-check",FD="@firebase/auth",UD="@firebase/auth-compat",BD="@firebase/database",zD="@firebase/data-connect",$D="@firebase/database-compat",WD="@firebase/functions",HD="@firebase/functions-compat",qD="@firebase/installations",GD="@firebase/installations-compat",KD="@firebase/messaging",QD="@firebase/messaging-compat",YD="@firebase/performance",XD="@firebase/performance-compat",JD="@firebase/remote-config",ZD="@firebase/remote-config-compat",eV="@firebase/storage",tV="@firebase/storage-compat",nV="@firebase/firestore",rV="@firebase/ai",sV="@firebase/firestore-compat",iV="firebase",oV="12.9.0";const Kp="[DEFAULT]",aV={[Gp]:"fire-core",[bD]:"fire-core-compat",[MD]:"fire-analytics",[jD]:"fire-analytics-compat",[OD]:"fire-app-check",[LD]:"fire-app-check-compat",[FD]:"fire-auth",[UD]:"fire-auth-compat",[BD]:"fire-rtdb",[zD]:"fire-data-connect",[$D]:"fire-rtdb-compat",[WD]:"fire-fn",[HD]:"fire-fn-compat",[qD]:"fire-iid",[GD]:"fire-iid-compat",[KD]:"fire-fcm",[QD]:"fire-fcm-compat",[YD]:"fire-perf",[XD]:"fire-perf-compat",[JD]:"fire-rc",[ZD]:"fire-rc-compat",[eV]:"fire-gcs",[tV]:"fire-gcs-compat",[nV]:"fire-fst",[sV]:"fire-fst-compat",[rV]:"fire-vertex","fire-js":"fire-js",[iV]:"fire-js-all"};const Nh=new Map,lV=new Map,Qp=new Map;function H0(n,e){try{n.container.addComponent(e)}catch(t){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ga(n){const e=n.name;if(Qp.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,n);for(const t of Nh.values())H0(t,n);for(const t of lV.values())H0(t,n);return!0}function sg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yn(n){return n==null?!1:n.settings!==void 0}const uV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Eu("app","Firebase",uV);class cV{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const Aa=oV;function yS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Kp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(t||(t=hS()),!t)throw qs.create("no-options");const a=Nh.get(i);if(a){if(Yi(t,a.options)&&Yi(r,a.config))return a;throw qs.create("duplicate-app",{appName:i})}const u=new gD(i);for(const f of Qp.values())u.addComponent(f);const d=new cV(t,r,u);return Nh.set(i,d),d}function vS(n=Kp){const e=Nh.get(n);if(!e&&n===Kp&&hS())return yS();if(!e)throw qs.create("no-app",{appName:n});return e}function Gs(n,e,t){let r=aV[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(u.join(" "));return}ga(new Xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const hV="firebase-heartbeat-database",dV=1,su="firebase-heartbeat-store";let gp=null;function _S(){return gp||(gp=RD(hV,dV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(su)}catch(t){console.warn(t)}}}}).catch(n=>{throw qs.create("idb-open",{originalErrorMessage:n.message})})),gp}async function fV(n){try{const t=(await _S()).transaction(su),r=await t.objectStore(su).get(wS(n));return await t.done,r}catch(e){if(e instanceof ts)Yr.warn(e.message);else{const t=qs.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(t.message)}}}async function q0(n,e){try{const r=(await _S()).transaction(su,"readwrite");await r.objectStore(su).put(e,wS(n)),await r.done}catch(t){if(t instanceof ts)Yr.warn(t.message);else{const r=qs.create("idb-set",{originalErrorMessage:t?.message});Yr.warn(r.message)}}}function wS(n){return`${n.name}!${n.options.appId}`}const pV=1024,mV=30;class gV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=G0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>mV){const i=_V(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G0(),{heartbeatsToSend:t,unsentEntries:r}=yV(this._heartbeatsCache.heartbeats),i=Rh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Yr.warn(e),""}}}function G0(){return new Date().toISOString().substring(0,10)}function yV(n,e=pV){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),K0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),K0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class vV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sD()?iD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function K0(n){return Rh(JSON.stringify({version:2,heartbeats:n})).length}function _V(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function wV(n){ga(new Xi("platform-logger",e=>new DD(e),"PRIVATE")),ga(new Xi("heartbeat",e=>new gV(e),"PRIVATE")),Gs(Gp,W0,n),Gs(Gp,W0,"esm2020"),Gs("fire-js","")}wV("");var EV="firebase",TV="12.9.0";Gs(EV,TV,"app");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,ES;(function(){var n;function e(N,I){function P(){}P.prototype=I.prototype,N.F=I.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(V,b,U){for(var R=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)R[qe-2]=arguments[qe];return I.prototype[b].apply(V,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,I,P){P||(P=0);const V=Array(16);if(typeof I=="string")for(var b=0;b<16;++b)V[b]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(b=0;b<16;++b)V[b]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=N.g[0],P=N.g[1],b=N.g[2];let U=N.g[3],R;R=I+(U^P&(b^U))+V[0]+3614090360&4294967295,I=P+(R<<7&4294967295|R>>>25),R=U+(b^I&(P^b))+V[1]+3905402710&4294967295,U=I+(R<<12&4294967295|R>>>20),R=b+(P^U&(I^P))+V[2]+606105819&4294967295,b=U+(R<<17&4294967295|R>>>15),R=P+(I^b&(U^I))+V[3]+3250441966&4294967295,P=b+(R<<22&4294967295|R>>>10),R=I+(U^P&(b^U))+V[4]+4118548399&4294967295,I=P+(R<<7&4294967295|R>>>25),R=U+(b^I&(P^b))+V[5]+1200080426&4294967295,U=I+(R<<12&4294967295|R>>>20),R=b+(P^U&(I^P))+V[6]+2821735955&4294967295,b=U+(R<<17&4294967295|R>>>15),R=P+(I^b&(U^I))+V[7]+4249261313&4294967295,P=b+(R<<22&4294967295|R>>>10),R=I+(U^P&(b^U))+V[8]+1770035416&4294967295,I=P+(R<<7&4294967295|R>>>25),R=U+(b^I&(P^b))+V[9]+2336552879&4294967295,U=I+(R<<12&4294967295|R>>>20),R=b+(P^U&(I^P))+V[10]+4294925233&4294967295,b=U+(R<<17&4294967295|R>>>15),R=P+(I^b&(U^I))+V[11]+2304563134&4294967295,P=b+(R<<22&4294967295|R>>>10),R=I+(U^P&(b^U))+V[12]+1804603682&4294967295,I=P+(R<<7&4294967295|R>>>25),R=U+(b^I&(P^b))+V[13]+4254626195&4294967295,U=I+(R<<12&4294967295|R>>>20),R=b+(P^U&(I^P))+V[14]+2792965006&4294967295,b=U+(R<<17&4294967295|R>>>15),R=P+(I^b&(U^I))+V[15]+1236535329&4294967295,P=b+(R<<22&4294967295|R>>>10),R=I+(b^U&(P^b))+V[1]+4129170786&4294967295,I=P+(R<<5&4294967295|R>>>27),R=U+(P^b&(I^P))+V[6]+3225465664&4294967295,U=I+(R<<9&4294967295|R>>>23),R=b+(I^P&(U^I))+V[11]+643717713&4294967295,b=U+(R<<14&4294967295|R>>>18),R=P+(U^I&(b^U))+V[0]+3921069994&4294967295,P=b+(R<<20&4294967295|R>>>12),R=I+(b^U&(P^b))+V[5]+3593408605&4294967295,I=P+(R<<5&4294967295|R>>>27),R=U+(P^b&(I^P))+V[10]+38016083&4294967295,U=I+(R<<9&4294967295|R>>>23),R=b+(I^P&(U^I))+V[15]+3634488961&4294967295,b=U+(R<<14&4294967295|R>>>18),R=P+(U^I&(b^U))+V[4]+3889429448&4294967295,P=b+(R<<20&4294967295|R>>>12),R=I+(b^U&(P^b))+V[9]+568446438&4294967295,I=P+(R<<5&4294967295|R>>>27),R=U+(P^b&(I^P))+V[14]+3275163606&4294967295,U=I+(R<<9&4294967295|R>>>23),R=b+(I^P&(U^I))+V[3]+4107603335&4294967295,b=U+(R<<14&4294967295|R>>>18),R=P+(U^I&(b^U))+V[8]+1163531501&4294967295,P=b+(R<<20&4294967295|R>>>12),R=I+(b^U&(P^b))+V[13]+2850285829&4294967295,I=P+(R<<5&4294967295|R>>>27),R=U+(P^b&(I^P))+V[2]+4243563512&4294967295,U=I+(R<<9&4294967295|R>>>23),R=b+(I^P&(U^I))+V[7]+1735328473&4294967295,b=U+(R<<14&4294967295|R>>>18),R=P+(U^I&(b^U))+V[12]+2368359562&4294967295,P=b+(R<<20&4294967295|R>>>12),R=I+(P^b^U)+V[5]+4294588738&4294967295,I=P+(R<<4&4294967295|R>>>28),R=U+(I^P^b)+V[8]+2272392833&4294967295,U=I+(R<<11&4294967295|R>>>21),R=b+(U^I^P)+V[11]+1839030562&4294967295,b=U+(R<<16&4294967295|R>>>16),R=P+(b^U^I)+V[14]+4259657740&4294967295,P=b+(R<<23&4294967295|R>>>9),R=I+(P^b^U)+V[1]+2763975236&4294967295,I=P+(R<<4&4294967295|R>>>28),R=U+(I^P^b)+V[4]+1272893353&4294967295,U=I+(R<<11&4294967295|R>>>21),R=b+(U^I^P)+V[7]+4139469664&4294967295,b=U+(R<<16&4294967295|R>>>16),R=P+(b^U^I)+V[10]+3200236656&4294967295,P=b+(R<<23&4294967295|R>>>9),R=I+(P^b^U)+V[13]+681279174&4294967295,I=P+(R<<4&4294967295|R>>>28),R=U+(I^P^b)+V[0]+3936430074&4294967295,U=I+(R<<11&4294967295|R>>>21),R=b+(U^I^P)+V[3]+3572445317&4294967295,b=U+(R<<16&4294967295|R>>>16),R=P+(b^U^I)+V[6]+76029189&4294967295,P=b+(R<<23&4294967295|R>>>9),R=I+(P^b^U)+V[9]+3654602809&4294967295,I=P+(R<<4&4294967295|R>>>28),R=U+(I^P^b)+V[12]+3873151461&4294967295,U=I+(R<<11&4294967295|R>>>21),R=b+(U^I^P)+V[15]+530742520&4294967295,b=U+(R<<16&4294967295|R>>>16),R=P+(b^U^I)+V[2]+3299628645&4294967295,P=b+(R<<23&4294967295|R>>>9),R=I+(b^(P|~U))+V[0]+4096336452&4294967295,I=P+(R<<6&4294967295|R>>>26),R=U+(P^(I|~b))+V[7]+1126891415&4294967295,U=I+(R<<10&4294967295|R>>>22),R=b+(I^(U|~P))+V[14]+2878612391&4294967295,b=U+(R<<15&4294967295|R>>>17),R=P+(U^(b|~I))+V[5]+4237533241&4294967295,P=b+(R<<21&4294967295|R>>>11),R=I+(b^(P|~U))+V[12]+1700485571&4294967295,I=P+(R<<6&4294967295|R>>>26),R=U+(P^(I|~b))+V[3]+2399980690&4294967295,U=I+(R<<10&4294967295|R>>>22),R=b+(I^(U|~P))+V[10]+4293915773&4294967295,b=U+(R<<15&4294967295|R>>>17),R=P+(U^(b|~I))+V[1]+2240044497&4294967295,P=b+(R<<21&4294967295|R>>>11),R=I+(b^(P|~U))+V[8]+1873313359&4294967295,I=P+(R<<6&4294967295|R>>>26),R=U+(P^(I|~b))+V[15]+4264355552&4294967295,U=I+(R<<10&4294967295|R>>>22),R=b+(I^(U|~P))+V[6]+2734768916&4294967295,b=U+(R<<15&4294967295|R>>>17),R=P+(U^(b|~I))+V[13]+1309151649&4294967295,P=b+(R<<21&4294967295|R>>>11),R=I+(b^(P|~U))+V[4]+4149444226&4294967295,I=P+(R<<6&4294967295|R>>>26),R=U+(P^(I|~b))+V[11]+3174756917&4294967295,U=I+(R<<10&4294967295|R>>>22),R=b+(I^(U|~P))+V[2]+718787259&4294967295,b=U+(R<<15&4294967295|R>>>17),R=P+(U^(b|~I))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(b+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,I){I===void 0&&(I=N.length);const P=I-this.blockSize,V=this.C;let b=this.h,U=0;for(;U<I;){if(b==0)for(;U<=P;)i(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<I;)if(V[b++]=N.charCodeAt(U++),b==this.blockSize){i(this,V),b=0;break}}else for(;U<I;)if(V[b++]=N[U++],b==this.blockSize){i(this,V),b=0;break}}this.h=b,this.o+=I},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,P=0;P<4;++P)for(let V=0;V<32;V+=8)N[I++]=this.g[P]>>>V&255;return N};function a(N,I){var P=d;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=I(N)}function u(N,I){this.h=I;const P=[];let V=!0;for(let b=N.length-1;b>=0;b--){const U=N[b]|0;V&&U==I||(P[b]=U,V=!1)}this.g=P}var d={};function f(N){return-128<=N&&N<128?a(N,function(I){return new u([I|0],I<0?-1:0)}):new u([N|0],N<0?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return k(m(-N));const I=[];let P=1;for(let V=0;N>=P;V++)I[V]=N/P|0,P*=4294967296;return new u(I,0)}function y(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return k(y(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(I,8));let V=w;for(let U=0;U<N.length;U+=8){var b=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+b),I);b<8?(b=m(Math.pow(I,b)),V=V.j(b).add(m(R))):(V=V.j(P),V=V.add(m(R)))}return V}var w=f(0),T=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(M(this))return-k(this).m();let N=0,I=1;for(let P=0;P<this.g.length;P++){const V=this.i(P);N+=(V>=0?V:4294967296+V)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(M(this))return"-"+k(this).toString(N);const I=m(Math.pow(N,6));var P=this;let V="";for(;;){const b=re(P,I).g;P=W(P,b.j(I));let U=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=b,j(P))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function M(N){return N.h==-1}n.l=function(N){return N=W(this,N),M(N)?-1:j(N)?0:1};function k(N){const I=N.g.length,P=[];for(let V=0;V<I;V++)P[V]=~N.g[V];return new u(P,~N.h).add(T)}n.abs=function(){return M(this)?k(this):this},n.add=function(N){const I=Math.max(this.g.length,N.g.length),P=[];let V=0;for(let b=0;b<=I;b++){let U=V+(this.i(b)&65535)+(N.i(b)&65535),R=(U>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);V=R>>>16,U&=65535,R&=65535,P[b]=R<<16|U}return new u(P,P[P.length-1]&-2147483648?-1:0)};function W(N,I){return N.add(k(I))}n.j=function(N){if(j(this)||j(N))return w;if(M(this))return M(N)?k(this).j(k(N)):k(k(this).j(N));if(M(N))return k(this.j(k(N)));if(this.l(A)<0&&N.l(A)<0)return m(this.m()*N.m());const I=this.g.length+N.g.length,P=[];for(var V=0;V<2*I;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(let b=0;b<N.g.length;b++){const U=this.i(V)>>>16,R=this.i(V)&65535,qe=N.i(b)>>>16,It=N.i(b)&65535;P[2*V+2*b]+=R*It,Q(P,2*V+2*b),P[2*V+2*b+1]+=U*It,Q(P,2*V+2*b+1),P[2*V+2*b+1]+=R*qe,Q(P,2*V+2*b+1),P[2*V+2*b+2]+=U*qe,Q(P,2*V+2*b+2)}for(N=0;N<I;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=I;N<2*I;N++)P[N]=0;return new u(P,0)};function Q(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function Y(N,I){this.g=N,this.h=I}function re(N,I){if(j(I))throw Error("division by zero");if(j(N))return new Y(w,w);if(M(N))return I=re(k(N),I),new Y(k(I.g),k(I.h));if(M(I))return I=re(N,k(I)),new Y(k(I.g),I.h);if(N.g.length>30){if(M(N)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var P=T,V=I;V.l(N)<=0;)P=K(P),V=K(V);var b=G(P,1),U=G(V,1);for(V=G(V,2),P=G(P,2);!j(V);){var R=U.add(V);R.l(N)<=0&&(b=b.add(P),U=R),V=G(V,1),P=G(P,1)}return I=W(N,b.j(I)),new Y(b,I)}for(b=w;N.l(I)>=0;){for(P=Math.max(1,Math.floor(N.m()/I.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=m(P),R=U.j(I);M(R)||R.l(N)>0;)P-=V,U=m(P),R=U.j(I);j(U)&&(U=T),b=b.add(U),N=W(N,R)}return new Y(b,N)}n.B=function(N){return re(this,N).h},n.and=function(N){const I=Math.max(this.g.length,N.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)&N.i(V);return new u(P,this.h&N.h)},n.or=function(N){const I=Math.max(this.g.length,N.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)|N.i(V);return new u(P,this.h|N.h)},n.xor=function(N){const I=Math.max(this.g.length,N.g.length),P=[];for(let V=0;V<I;V++)P[V]=this.i(V)^N.i(V);return new u(P,this.h^N.h)};function K(N){const I=N.g.length+1,P=[];for(let V=0;V<I;V++)P[V]=N.i(V)<<1|N.i(V-1)>>>31;return new u(P,N.h)}function G(N,I){const P=I>>5;I%=32;const V=N.g.length-P,b=[];for(let U=0;U<V;U++)b[U]=I>0?N.i(U+P)>>>I|N.i(U+P+1)<<32-I:N.i(U+P);return new u(b,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ES=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Ks=u}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TS,jl,SS,ch,Yp,xS,IS,AS;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(c,_){if(_)e:{var E=r;c=c.split(".");for(var x=0;x<c.length-1;x++){var z=c[x];if(!(z in E))break e;E=E[z]}c=c[c.length-1],x=E[c],_=_(x),_!=x&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(_){var E=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&E.push([x,_[x]]);return E}});var a=a||{},u=this||self;function d(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function f(c,_,E){return c.call.apply(c.bind,arguments)}function m(c,_,E){return m=f,m.apply(null,arguments)}function y(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function w(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(x,z,q){for(var oe=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)oe[Ae-2]=arguments[Ae];return _.prototype[z].apply(x,oe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function A(c){const _=c.length;if(_>0){const E=Array(_);for(let x=0;x<_;x++)E[x]=c[x];return E}return[]}function j(c,_){for(let x=1;x<arguments.length;x++){const z=arguments[x];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=c.length||0;const q=z.length||0;c.length=E+q;for(let oe=0;oe<q;oe++)c[E+oe]=z[oe]}else c.push(z)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(c){u.setTimeout(()=>{throw c},0)}function W(){var c=N;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,E){const x=Y.get();x.set(_,E),this.h?this.h.next=x:this.g=x,this.h=x}}var Y=new M(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,G=!1,N=new Q,I=()=>{const c=Promise.resolve(void 0);K=()=>{c.then(P)}};function P(){for(var c;c=W();){try{c.h.call(c.g)}catch(E){k(E)}var _=Y;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}G=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function qe(c,_){b.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}w(qe,b),qe.prototype.init=function(c,_){const E=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),Vt=0;function Ne(c,_,E,x,z){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!x,this.ha=z,this.key=++Vt,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ge(c,_,E){for(const x in c)_.call(E,c[x],x,c)}function le(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function F(c){const _={};for(const E in c)_[E]=c[E];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pe(c,_){let E,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(E in x)c[E]=x[E];for(let q=0;q<Z.length;q++)E=Z[q],Object.prototype.hasOwnProperty.call(x,E)&&(c[E]=x[E])}}function Re(c){this.src=c,this.g={},this.h=0}Re.prototype.add=function(c,_,E,x,z){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const oe=be(c,_,x,z);return oe>-1?(_=c[oe],E||(_.fa=!1)):(_=new Ne(_,this.src,q,!!x,z),_.fa=E,c.push(_)),_};function Ve(c,_){const E=_.type;if(E in c.g){var x=c.g[E],z=Array.prototype.indexOf.call(x,_,void 0),q;(q=z>=0)&&Array.prototype.splice.call(x,z,1),q&&(ie(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function be(c,_,E,x){for(let z=0;z<c.length;++z){const q=c[z];if(!q.da&&q.listener==_&&q.capture==!!E&&q.ha==x)return z}return-1}var We="closure_lm_"+(Math.random()*1e6|0),Ue={};function Ke(c,_,E,x,z){if(Array.isArray(_)){for(let q=0;q<_.length;q++)Ke(c,_[q],E,x,z);return null}return E=ba(E),c&&c[It]?c.J(_,E,d(x)?!!x.capture:!1,z):en(c,_,E,!1,x,z)}function en(c,_,E,x,z,q){if(!_)throw Error("Invalid event type");const oe=d(z)?!!z.capture:!!z;let Ae=co(c);if(Ae||(c[We]=Ae=new Re(c)),E=Ae.add(_,E,x,oe,q),E.proxy)return E;if(x=lo(),E.proxy=x,x.src=c,x.listener=E,c.addEventListener)U||(z=oe),z===void 0&&(z=!1),c.addEventListener(_.toString(),x,z);else if(c.attachEvent)c.attachEvent(uo(_.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return E}function lo(){function c(E){return _.call(c.src,c.listener,E)}const _=Vu;return c}function Va(c,_,E,x,z){if(Array.isArray(_))for(var q=0;q<_.length;q++)Va(c,_[q],E,x,z);else x=d(x)?!!x.capture:!!x,E=ba(E),c&&c[It]?(c=c.i,q=String(_).toString(),q in c.g&&(_=c.g[q],E=be(_,E,x,z),E>-1&&(ie(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[q],c.h--)))):c&&(c=co(c))&&(_=c.g[_.toString()],c=-1,_&&(c=be(_,E,x,z)),(E=c>-1?_[c]:null)&&rs(E))}function rs(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[It])Ve(_.i,c);else{var E=c.type,x=c.proxy;_.removeEventListener?_.removeEventListener(E,x,c.capture):_.detachEvent?_.detachEvent(uo(E),x):_.addListener&&_.removeListener&&_.removeListener(x),(E=co(_))?(Ve(E,c),E.h==0&&(E.src=null,_[We]=null)):ie(c)}}}function uo(c){return c in Ue?Ue[c]:Ue[c]="on"+c}function Vu(c,_){if(c.da)c=!0;else{_=new qe(_,this);const E=c.listener,x=c.ha||c.src;c.fa&&rs(c),c=E.call(x,_)}return c}function co(c){return c=c[We],c instanceof Re?c:null}var hi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ba(c){return typeof c=="function"?c:(c[hi]||(c[hi]=function(_){return c.handleEvent(_)}),c[hi])}function vt(){V.call(this),this.i=new Re(this),this.M=this,this.G=null}w(vt,V),vt.prototype[It]=!0,vt.prototype.removeEventListener=function(c,_,E,x){Va(this,c,_,E,x)};function dt(c,_){var E,x=c.G;if(x)for(E=[];x;x=x.G)E.push(x);if(c=c.M,x=_.type||_,typeof _=="string")_=new b(_,c);else if(_ instanceof b)_.target=_.target||c;else{var z=_;_=new b(x,c),Pe(_,z)}z=!0;let q,oe;if(E)for(oe=E.length-1;oe>=0;oe--)q=_.g=E[oe],z=On(q,x,!0,_)&&z;if(q=_.g=c,z=On(q,x,!0,_)&&z,z=On(q,x,!1,_)&&z,E)for(oe=0;oe<E.length;oe++)q=_.g=E[oe],z=On(q,x,!1,_)&&z}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let x=0;x<E.length;x++)ie(E[x]);delete c.g[_],c.h--}}this.G=null},vt.prototype.J=function(c,_,E,x){return this.i.add(String(c),_,!1,E,x)},vt.prototype.K=function(c,_,E,x){return this.i.add(String(c),_,!0,E,x)};function On(c,_,E,x){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let z=!0;for(let q=0;q<_.length;++q){const oe=_[q];if(oe&&!oe.da&&oe.capture==E){const Ae=oe.listener,ft=oe.ha||oe.src;oe.fa&&Ve(c.i,oe),z=Ae.call(ft,x)!==!1&&z}}return z&&!x.defaultPrevented}function ja(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(c,_||0)}function Ma(c){c.g=ja(()=>{c.g=null,c.i&&(c.i=!1,Ma(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class bu extends V{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ma(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){V.call(this),this.h=c,this.g={}}w(ss,V);var La=[];function ho(c){ge(c.g,function(_,E){this.g.hasOwnProperty(E)&&rs(_)},c),c.g={}}ss.prototype.N=function(){ss.Z.N.call(this),ho(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=u.JSON.stringify,ju=u.JSON.parse,di=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function os(){}function Mu(){}var as={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fo(){b.call(this,"d")}w(fo,b);function Oa(){b.call(this,"c")}w(Oa,b);var Fn={},po=null;function ls(){return po=po||new vt}Fn.Ia="serverreachability";function mo(c){b.call(this,Fn.Ia,c)}w(mo,b);function Cr(c){const _=ls();dt(_,new mo(_))}Fn.STAT_EVENT="statevent";function Pr(c,_){b.call(this,Fn.STAT_EVENT,c),this.stat=_}w(Pr,b);function ut(c){const _=ls();dt(_,new Pr(_,c))}Fn.Ja="timingevent";function Fa(c,_){b.call(this,Fn.Ja,c),this.size=_}w(Fa,b);function us(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},_)}function cs(){this.g=!0}cs.prototype.ua=function(){this.g=!1};function Lu(c,_,E,x,z,q){c.info(function(){if(c.g)if(q){var oe="",Ae=q.split("&");for(let Ge=0;Ge<Ae.length;Ge++){var ft=Ae[Ge].split("=");if(ft.length>1){const _t=ft[0];ft=ft[1];const vn=_t.split("_");oe=vn.length>=2&&vn[1]=="type"?oe+(_t+"="+ft+"&"):oe+(_t+"=redacted&")}}}else oe=null;else oe=q;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+_+`
`+E+`
`+oe})}function Ou(c,_,E,x,z,q,oe){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+_+`
`+E+`
`+q+" "+oe})}function er(c,_,E,x){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+fi(c,E)+(x?" "+x:"")})}function Fu(c,_){c.info(function(){return"TIMEOUT: "+_})}cs.prototype.info=function(){};function fi(c,_){if(!c.g)return _;if(!_)return null;try{const q=JSON.parse(_);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var x=E[1];if(Array.isArray(x)&&!(x.length<1)){var z=x[0];if(z!="noop"&&z!="stop"&&z!="close")for(let oe=1;oe<x.length;oe++)x[oe]=""}}}}return is(q)}catch{return _}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ds={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uu;function Rr(){}w(Rr,os),Rr.prototype.g=function(){return new XMLHttpRequest},Uu=new Rr;function tr(c){return encodeURIComponent(String(c))}function go(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function In(c,_,E,x){this.j=c,this.i=_,this.l=E,this.S=x||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bu}function Bu(){this.i=null,this.g="",this.h=!1}var zu={},Ua={};function Un(c,_,E){c.M=1,c.A=kr(An(_)),c.u=E,c.R=!0,Ba(c,null)}function Ba(c,_){c.F=Date.now(),pi(c),c.B=An(c.A);var E=c.B,x=c.S;Array.isArray(x)||(x=[String(x)]),Xa(E.i,"t",x),c.C=0,E=c.j.L,c.h=new Bu,c.g=Ju(c.j,E?_:null,!c.u),c.P>0&&(c.O=new bu(m(c.Y,c,c.g),c.P)),_=c.V,E=c.g,x=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(La[0]=z.toString()),z=La);for(let q=0;q<z.length;q++){const oe=Ke(E,z[q],x||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=c.J?F(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),Cr(),Lu(c.i,c.v,c.B,c.l,c.S,c.u)}In.prototype.ba=function(c){c=c.target;const _=this.O;_&&lr(c)==3?_.j():this.Y(c)},In.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=lr(this.g),ft=this.g.ya(),Ge=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Yu(this.g)))){this.K||Ae!=4||ft==7||(ft==8||Ge<=0?Cr(3):Cr(2)),yo(this);var _=this.g.ca();this.X=_;var E=$u(this);if(this.o=_==200,Ou(this.i,this.v,this.B,this.l,this.S,Ae,_),this.o){if(this.U&&!this.L){t:{if(this.g){var x,z=this.g;if((x=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var q=x;break t}}q=null}if(c=q)er(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Je(this,c);else{this.o=!1,this.m=3,ut(12),Nr(this),mi(this);break e}}if(this.R){c=!0;let _t;for(;!this.K&&this.C<E.length;)if(_t=Hu(this,E),_t==Ua){Ae==4&&(this.m=4,ut(14),c=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==zu){this.m=4,ut(15),er(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else er(this.i,this.l,_t,null),Je(this,_t);if(Wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,ut(16),c=!1),this.o=this.o&&c,!c)er(this.i,this.l,E,"[Invalid Chunked Response]"),Nr(this),mi(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),xi(oe),oe.P=!0,ut(11))}}else er(this.i,this.l,E,null),Je(this,E);Ae==4&&Nr(this),this.o&&!this.K&&(Ae==4?Co(this.j,this):(this.o=!1,pi(this)))}else Za(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),Nr(this),mi(this)}}}catch{}};function $u(c){if(!Wu(c))return c.g.la();const _=Yu(c.g);if(_==="")return"";let E="";const x=_.length,z=lr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Nr(c),mi(c),"";c.h.i=new u.TextDecoder}for(let q=0;q<x;q++)c.h.h=!0,E+=c.h.i.decode(_[q],{stream:!(z&&q==x-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function Wu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Hu(c,_){var E=c.C,x=_.indexOf(`
`,E);return x==-1?Ua:(E=Number(_.substring(E,x)),isNaN(E)?zu:(x+=1,x+E>_.length?Ua:(_=_.slice(x,x+E),c.C=x+E,_)))}In.prototype.cancel=function(){this.K=!0,Nr(this)};function pi(c){c.T=Date.now()+c.H,za(c,c.H)}function za(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=us(m(c.aa,c),_)}function yo(c){c.D&&(u.clearTimeout(c.D),c.D=null)}In.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Fu(this.i,this.B),this.M!=2&&(Cr(),ut(17)),Nr(this),this.m=2,mi(this)):za(this,this.T-c)};function mi(c){c.j.I==0||c.K||Co(c.j,c)}function Nr(c){yo(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,ho(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function Je(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||Wa(E.h,c))){if(!c.L&&Wa(E.h,c)&&E.I==3){try{var x=E.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Ao(E),gn(E);else break e;hr(E),ut(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=us(m(E.Va,E),6e3));gi(E.h)<=1&&E.ta&&(E.ta=void 0)}else yn(E,11)}else if((c.L||E.g==c)&&Ao(E),!R(_))for(z=E.Ba.g.parse(_),_=0;_<z.length;_++){let Ge=z[_];const _t=Ge[0];if(!(_t<=E.K))if(E.K=_t,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const vn=Ge[3];vn!=null&&(E.ka=vn,E.j.info("VER="+E.ka));const Mr=Ge[4];Mr!=null&&(E.za=Mr,E.j.info("SVER="+E.za));const dr=Ge[5];dr!=null&&typeof dr=="number"&&dr>0&&(x=1.5*dr,E.O=x,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const fr=c.g;if(fr){const No=fr.g?fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(No){var q=x.h;q.g||No.indexOf("spdy")==-1&&No.indexOf("quic")==-1&&No.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_o(q,q.h),q.h=null))}if(x.G){const nl=fr.g?fr.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(x.wa=nl,$e(x.J,x.G,nl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),x=E;var oe=c;if(x.na=tl(x,x.L?x.ba:null,x.W),oe.L){yi(x.h,oe);var Ae=oe,ft=x.O;ft&&(Ae.H=ft),Ae.D&&(yo(Ae),pi(Ae)),x.g=oe}else $t(x);E.i.length>0&&jr(E)}else Ge[0]!="stop"&&Ge[0]!="close"||yn(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?yn(E,7):xo(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}Cr(4)}catch{}}var Sd=class{constructor(c,_){this.g=c,this.map=_}};function vo(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $a(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function Wa(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function _o(c,_){c.g?c.g.add(_):c.h=_}function yi(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}vo.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return A(c.i)}var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pn(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const x=c[E].indexOf("=");let z,q=null;x>=0?(z=c[E].substring(0,x),q=c[E].substring(x+1)):z=c[E],_(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function nr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof nr?(this.l=c.l,vi(this,c.j),this.o=c.o,this.g=c.g,rr(this,c.u),this.h=c.h,fs(this,Ja(c.i)),this.m=c.m):c&&(_=String(c).match(qu))?(this.l=!1,vi(this,_[1]||"",!0),this.o=_i(_[2]||""),this.g=_i(_[3]||"",!0),rr(this,_[4]),this.h=_i(_[5]||"",!0),fs(this,_[6]||"",!0),this.m=_i(_[7]||"")):(this.l=!1,this.i=new Oe(null,this.l))}nr.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(wi(_,qa,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(wi(_,qa,!0),"@"),c.push(tr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(wi(E,E.charAt(0)=="/"?Ei:Ga,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",wi(E,Ka)),c.join("")},nr.prototype.resolve=function(c){const _=An(this);let E=!!c.j;E?vi(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var x=c.h;if(E)rr(_,c.u);else if(E=!!c.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var z=_.h.lastIndexOf("/");z!=-1&&(x=_.h.slice(0,z+1)+x)}if(z=x,z==".."||z==".")x="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){x=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let oe=0;oe<z.length;){const Ae=z[oe++];Ae=="."?x&&oe==z.length&&q.push(""):Ae==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),x&&oe==z.length&&q.push("")):(q.push(Ae),x=!0)}x=q.join("/")}else x=z}return E?_.h=x:E=c.i.toString()!=="",E?fs(_,Ja(c.i)):E=!!c.m,E&&(_.m=c.m),_};function An(c){return new nr(c)}function vi(c,_,E){c.j=E?_i(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function rr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function fs(c,_,E){_ instanceof Oe?(c.i=_,Eo(c.i,c.l)):(E||(_=wi(_,xd)),c.i=new Oe(_,c.l))}function $e(c,_,E){c.i.set(_,E)}function kr(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wi(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,Ha),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ha(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qa=/[#\/\?@]/g,Ga=/[#\?:]/g,Ei=/[#\?]/g,xd=/[#\?@]/g,Ka=/#/g;function Oe(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function sr(c){c.g||(c.g=new Map,c.h=0,c.i&&pn(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Oe.prototype,n.add=function(c,_){sr(this),this.i=null,c=ir(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Qa(c,_){sr(c),_=ir(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function wo(c,_){return sr(c),_=ir(c,_),c.g.has(_)}n.forEach=function(c,_){sr(this),this.g.forEach(function(E,x){E.forEach(function(z){c.call(_,z,x,this)},this)},this)};function Ya(c,_){sr(c);let E=[];if(typeof _=="string")wo(c,_)&&(E=E.concat(c.g.get(ir(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}n.set=function(c,_){return sr(this),this.i=null,c=ir(this,c),wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},n.get=function(c,_){return c?(c=Ya(this,c),c.length>0?String(c[0]):_):_};function Xa(c,_,E){Qa(c,_),E.length>0&&(c.i=null,c.g.set(ir(c,_),A(E)),c.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var E=_[x];const z=tr(E);E=Ya(this,E);for(let q=0;q<E.length;q++){let oe=z;E[q]!==""&&(oe+="="+tr(E[q])),c.push(oe)}}return this.i=c.join("&")};function Ja(c){const _=new Oe;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function ir(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Eo(c,_){_&&!c.j&&(sr(c),c.i=null,c.g.forEach(function(E,x){const z=x.toLowerCase();x!=z&&(Qa(this,x),Xa(this,z,E))},c)),c.j=_}function or(c,_){const E=new cs;if(u.Image){const x=new Image;x.onload=y(bt,E,"TestLoadImage: loaded",!0,_,x),x.onerror=y(bt,E,"TestLoadImage: error",!1,_,x),x.onabort=y(bt,E,"TestLoadImage: abort",!1,_,x),x.ontimeout=y(bt,E,"TestLoadImage: timeout",!1,_,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else _(!1)}function ar(c,_){const E=new cs,x=new AbortController,z=setTimeout(()=>{x.abort(),bt(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:x.signal}).then(q=>{clearTimeout(z),q.ok?bt(E,"TestPingServer: ok",!0,_):bt(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(z),bt(E,"TestPingServer: error",!1,_)})}function bt(c,_,E,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(E)}catch{}}function Ti(){this.g=new di}function Dr(c){this.i=c.Sb||null,this.h=c.ab||!1}w(Dr,os),Dr.prototype.g=function(){return new mn(this.i,this.h)};function mn(c,_){vt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(mn,vt),n=mn.prototype,n.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Bn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ps(this):Bn(this),this.readyState==3&&Gu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,ps(this))},n.Na=function(c){this.g&&(this.response=c,ps(this))},n.ga=function(){this.g&&ps(this)};function ps(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Bn(c)}n.setRequestHeader=function(c,_){this.A.append(c,_)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Bn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ku(c){let _="";return ge(c,function(E,x){_+=x,_+=":",_+=E,_+=`\r
`}),_}function To(c,_,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=Ku(E),typeof c=="string"?E!=null&&tr(E):$e(c,_,E))}function Qe(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Qe,vt);var Qu=/^https?$/i,Id=["POST","PUT"];n=Qe.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,_,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uu.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(q){ms(this,q);return}if(c=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)E.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const q of x.keys())E.set(q,x.get(q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),z=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Id,_,void 0)>=0)||x||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,oe]of E)this.g.setRequestHeader(q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){ms(this,q)}};function ms(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,gs(c),br(c)}function gs(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,dt(this,"complete"),dt(this,"abort"),br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),Qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vr(this):this.Xa())},n.Xa=function(){Vr(this)};function Vr(c){if(c.h&&typeof a<"u"){if(c.v&&lr(c)==4)setTimeout(c.Ca.bind(c),0);else if(dt(c,"readystatechange"),lr(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var x;if(x=q===0){let oe=String(c.D).match(qu)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),x=!Qu.test(oe?oe.toLowerCase():"")}E=x}if(E)dt(c,"complete"),dt(c,"success");else{c.o=6;try{var z=lr(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",gs(c)}}finally{br(c)}}}}function br(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||dt(c,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function lr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return lr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ju(_)}};function Yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Za(c){const _={};c=(c.g&&lr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(R(c[x]))continue;var E=go(c[x]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=_[z]||[];_[z]=q,q.push(E)}le(_,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function So(c){this.za=0,this.i=[],this.j=new cs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ur("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ur("baseRetryDelayMs",5e3,c),this.Za=ur("retryDelaySeedMs",1e4,c),this.Ta=ur("forwardChannelMaxRetries",2,c),this.va=ur("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new vo(c&&c.concurrentRequestLimit),this.Ba=new Ti,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=So.prototype,n.ka=8,n.I=1,n.connect=function(c,_,E,x){ut(0),this.W=c,this.H=_||{},E&&x!==void 0&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.J=tl(this,null,this.W),jr(this)};function xo(c){if(Io(c),c.I==3){var _=c.V++,E=An(c.J);if($e(E,"SID",c.M),$e(E,"RID",_),$e(E,"TYPE","terminate"),cr(c,E),_=new In(c,c.j,_),_.M=2,_.A=kr(An(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Ju(_.j,null),_.g.ea(_.A)),_.F=Date.now(),pi(_)}Ii(c)}function gn(c){c.g&&(xi(c),c.g.cancel(),c.g=null)}function Io(c){gn(c),c.v&&(u.clearTimeout(c.v),c.v=null),Ao(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function jr(c){if(!$a(c.h)&&!c.m){c.m=!0;var _=c.Ea;K||I(),G||(K(),G=!0),N.add(_,c),c.D=0}}function Xu(c,_){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=us(m(c.Ea,c,_),Po(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new In(this,this.j,c);let q=this.o;if(this.U&&(q?(q=F(q),Pe(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var x=this.i[E];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=el(this,z,_),E=An(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),cr(this,E),q&&(this.R?_="headers="+tr(Ku(q))+"&"+_:this.u&&To(E,this.u,q)),_o(this.h,z),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",_),$e(E,"SID","null"),z.U=!0,Un(z,E,null)):Un(z,E,_),this.I=2}}else this.I==3&&(c?Si(this,c):this.i.length==0||$a(this.h)||Si(this))};function Si(c,_){var E;_?E=_.l:E=c.V++;const x=An(c.J);$e(x,"SID",c.M),$e(x,"RID",E),$e(x,"AID",c.K),cr(c,x),c.u&&c.o&&To(x,c.u,c.o),E=new In(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=el(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),_o(c.h,E),Un(E,x,_)}function cr(c,_){c.H&&ge(c.H,function(E,x){$e(_,x,E)}),c.l&&ge({},function(E,x){$e(_,x,E)})}function el(c,_,E){E=Math.min(c.i.length,E);const x=c.l?m(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ae=-1;for(;;){const ft=["count="+E];Ae==-1?E>0?(Ae=z[0].g,ft.push("ofs="+Ae)):Ae=0:ft.push("ofs="+Ae);let Ge=!0;for(let _t=0;_t<E;_t++){var q=z[_t].g;const vn=z[_t].map;if(q-=Ae,q<0)Ae=Math.max(0,z[_t].g-100),Ge=!1;else try{q="req"+q+"_"||"";try{var oe=vn instanceof Map?vn:Object.entries(vn);for(const[Mr,dr]of oe){let fr=dr;d(dr)&&(fr=is(dr)),ft.push(q+Mr+"="+encodeURIComponent(fr))}}catch(Mr){throw ft.push(q+"type="+encodeURIComponent("_badmap")),Mr}}catch{x&&x(vn)}}if(Ge){oe=ft.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),_.G=c,oe}function $t(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;K||I(),G||(K(),G=!0),N.add(_,c),c.A=0}}function hr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=us(m(c.Da,c),Po(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,ys(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=us(m(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),gn(this),ys(this))};function xi(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function ys(c){c.g=new In(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=An(c.na);$e(_,"RID","rpc"),$e(_,"SID",c.M),$e(_,"AID",c.K),$e(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(_,"TO",c.ia),$e(_,"TYPE","xmlhttp"),cr(c,_),c.u&&c.o&&To(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=kr(An(_)),E.u=null,E.R=!0,Ba(E,c)}n.Va=function(){this.C!=null&&(this.C=null,gn(this),hr(this),ut(19))};function Ao(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function Co(c,_){var E=null;if(c.g==_){Ao(c),xi(c),c.g=null;var x=2}else if(Wa(c.h,_))E=_.G,yi(c.h,_),x=1;else return;if(c.I!=0){if(_.o)if(x==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var z=c.D;x=ls(),dt(x,new Fa(x,E)),jr(c)}else $t(c);else if(z=_.m,z==3||z==0&&_.X>0||!(x==1&&Xu(c,_)||x==2&&hr(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),z){case 1:yn(c,5);break;case 4:yn(c,10);break;case 3:yn(c,6);break;default:yn(c,2)}}}function Po(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function yn(c,_){if(c.j.info("Error code "+_),_==2){var E=m(c.bb,c),x=c.Ua;const z=!x;x=new nr(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vi(x,"https"),kr(x),z?or(x.toString(),E):ar(x.toString(),E)}else ut(2);c.I=0,c.l&&c.l.pa(_),Ii(c),Io(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Ii(c){if(c.I=0,c.ja=[],c.l){const _=fn(c.h);(_.length!=0||c.i.length!=0)&&(j(c.ja,_),j(c.ja,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.oa()}}function tl(c,_,E){var x=E instanceof nr?An(E):new nr(E);if(x.g!="")_&&(x.g=_+"."+x.g),rr(x,x.u);else{var z=u.location;x=z.protocol,_=_?_+"."+z.hostname:z.hostname,z=+z.port;const q=new nr(null);x&&vi(q,x),_&&(q.g=_),z&&rr(q,z),E&&(q.h=E),x=q}return E=c.G,_=c.wa,E&&_&&$e(x,E,_),$e(x,"VER",c.ka),cr(c,x),x}function Ju(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new Qe(new Dr({ab:E})):new Qe(c.ma),_.Fa(c.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}n=Zu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ro(){}Ro.prototype.g=function(c,_){return new jt(c,_)};function jt(c,_){vt.call(this),this.g=new So(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!R(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new vs(this)}w(jt,vt),jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){xo(this.g)},jt.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=is(c),c=E);_.i.push(new Sd(_.Ya++,c)),_.I==3&&jr(_)},jt.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,jt.Z.N.call(this)};function ec(c){fo.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}w(ec,fo);function tc(){Oa.call(this),this.status=1}w(tc,Oa);function vs(c){this.g=c}w(vs,Zu),vs.prototype.ra=function(){dt(this.g,"a")},vs.prototype.qa=function(c){dt(this.g,new ec(c))},vs.prototype.pa=function(c){dt(this.g,new tc)},vs.prototype.oa=function(){dt(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,AS=function(){return new Ro},IS=function(){return ls()},xS=Fn,Yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,ch=hs,ds.COMPLETE="complete",SS=ds,Mu.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",vt.prototype.listen=vt.prototype.J,jl=Mu,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,TS=Qe}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");let Ca="12.9.0";function SV(n){Ca=n}const Ji=new ng("@firebase/firestore");function Jo(){return Ji.logLevel}function he(n,...e){if(Ji.logLevel<=je.DEBUG){const t=e.map(ig);Ji.debug(`Firestore (${Ca}): ${n}`,...t)}}function Xr(n,...e){if(Ji.logLevel<=je.ERROR){const t=e.map(ig);Ji.error(`Firestore (${Ca}): ${n}`,...t)}}function Zi(n,...e){if(Ji.logLevel<=je.WARN){const t=e.map(ig);Ji.warn(`Firestore (${Ca}): ${n}`,...t)}}function ig(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CS(n,r,t)}function CS(n,e,t){let r=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xr(r),new Error(r)}function He(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||CS(e,i,r)}function Ce(n,e){return n}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ts{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class PS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Yt.UNAUTHENTICATED)))}shutdown(){}}class IV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class AV{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qs,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new PS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class CV{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PV{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new CV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Yt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Y0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function NV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=NV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function Xp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return yp(i)===yp(a)?Me(i,a):yp(i)?1:-1}return Me(n.length,e.length)}const kV=55296,DV=57343;function yp(n){const e=n.charCodeAt(0);return e>=kV&&e<=DV}function ya(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}const X0="__name__";class vr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=vr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Me(e.length,t.length)}static compareSegments(e,t){const r=vr.isNumericId(e),i=vr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?vr.extractNumericId(e).compare(vr.extractNumericId(t)):Xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ks.fromString(e.substring(4,e.length-2))}}class Xe extends vr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Xe(t)}static emptyPath(){return new Xe([])}}const VV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends vr{construct(e,t,r){return new Ut(e,t,r)}static isValidIdentifier(e){return VV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new Ut([X0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(a(),i++)}if(a(),u)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(t)}static emptyPath(){return new Ut([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xe.fromString(e))}static fromName(e){return new ye(Xe.fromString(e).popFirst(5))}static empty(){return new ye(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xe(e.slice()))}}function RS(n,e,t){if(!t)throw new ae(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bV(n,e,t,r){if(e===!0&&r===!0)throw new ae(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function J0(n){if(!ye.isDocumentKey(n))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Z0(n){if(ye.isDocumentKey(n))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function nd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nd(n);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function jV(n,e){if(e<=0)throw new ae(X.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function St(n,e){const t={typeString:n};return e&&(t.value=e),t}function Su(n,e){if(!NS(n))throw new ae(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new ae(X.INVALID_ARGUMENT,t);return!0}const ew=-62135596800,tw=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tw);return new nt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ew)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tw}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ew;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:St("string",nt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new nt(0,0))}static max(){return new Ie(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function MV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new nt(t+1,0):new nt(t,r));return new ei(i,ye.empty(),e)}function LV(n){return new ei(n.readTime,n.key,iu)}class ei{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ei(Ie.min(),ye.empty(),iu)}static max(){return new ei(Ie.max(),ye.empty(),iu)}}function OV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}const FV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pa(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==FV)throw n;he("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let i=0,a=0,u=!1;e.forEach((d=>{++i,d.next((()=>{++a,u&&a===i&&t()}),(f=>r(f)))})),u=!0,a===i&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((i=>i?J.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,i)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((y=>{u[m]=y,++d,d===a&&r(u)}),(y=>i(y)))}}))}static doWhile(e,t){return new J(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function BV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ra(n){return n.name==="IndexedDbTransactionError"}class rd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rd.ce=-1;const ag=-1;function sd(n){return n==null}function kh(n){return n===0&&1/n==-1/0}function zV(n){return typeof n=="number"&&Number.isInteger(n)&&!kh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const kS="";function $V(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nw(e)),e=WV(n.get(t),e);return nw(e)}function WV(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case kS:t+="";break;default:t+=a}}return t}function nw(n){return n+kS+""}function rw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ui(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class lt{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ft(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sw(this.data.getIterator())}getIteratorFrom(e){return new sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Tn([])}unionWith(e){let t=new Pt(Ut.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class VS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new VS("Invalid base64 string: "+a):a}})(e);return new zt(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const HV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(n){if(He(!!n,39018),typeof n=="string"){let e=0;const t=HV.exec(n);if(He(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ni(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}const bS="server_timestamp",jS="__type__",MS="__previous_value__",LS="__local_write_time__";function lg(n){return(n?.mapValue?.fields||{})[jS]?.stringValue===bS}function id(n){const e=n.mapValue.fields[MS];return lg(e)?id(e):e}function ou(n){const e=ti(n.mapValue.fields[LS].timestampValue);return new nt(e.seconds,e.nanos)}class qV{constructor(e,t,r,i,a,u,d,f,m,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=w}}const Dh="(default)";class au{constructor(e,t){this.projectId=e,this.database=t||Dh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}function GV(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(n.options.projectId,e)}const OS="__type__",KV="__max__",nh={mapValue:{}},FS="__vector__",Vh="value";function ri(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lg(n)?4:YV(n)?9007199254740991:QV(n)?10:11:Ee(28295,{value:n})}function Ar(n,e){if(n===e)return!0;const t=ri(n);if(t!==ri(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ou(n).isEqual(ou(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=ti(i.timestampValue),d=ti(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return ni(i.bytesValue).isEqual(ni(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return gt(i.geoPointValue.latitude)===gt(a.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return gt(i.integerValue)===gt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=gt(i.doubleValue),d=gt(a.doubleValue);return u===d?kh(u)===kh(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return ya(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},d=a.mapValue.fields||{};if(rw(u)!==rw(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ar(u[f],d[f])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function lu(n,e){return(n.values||[]).find((t=>Ar(t,e)))!==void 0}function va(n,e){if(n===e)return 0;const t=ri(n),r=ri(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=gt(a.integerValue||a.doubleValue),f=gt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return iw(n.timestampValue,e.timestampValue);case 4:return iw(ou(n),ou(e));case 5:return Xp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=ni(a),f=ni(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const y=Me(d[m],f[m]);if(y!==0)return y}return Me(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Me(gt(a.latitude),gt(u.latitude));return d!==0?d:Me(gt(a.longitude),gt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ow(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const d=a.fields||{},f=u.fields||{},m=d[Vh]?.arrayValue,y=f[Vh]?.arrayValue,w=Me(m?.values?.length||0,y?.values?.length||0);return w!==0?w:ow(m,y)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===nh.mapValue&&u===nh.mapValue)return 0;if(a===nh.mapValue)return 1;if(u===nh.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const T=Xp(f[w],y[w]);if(T!==0)return T;const A=va(d[f[w]],m[y[w]]);if(A!==0)return A}return Me(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function iw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=ti(n),r=ti(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function ow(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=va(t[i],r[i]);if(a)return a}return Me(t.length,r.length)}function _a(n){return Jp(n)}function Jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=ti(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ni(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ye.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Jp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${Jp(t.fields[u])}`;return i+"}"})(n.mapValue):Ee(61005,{value:n})}function hh(n){switch(ri(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(n);return e?16+hh(e):16;case 5:return 2*n.stringValue.length;case 6:return ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+hh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ui(r.fields,((a,u)=>{i+=a.length+hh(u)})),i})(n.mapValue);default:throw Ee(13486,{value:n})}}function aw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zp(n){return!!n&&"integerValue"in n}function ug(n){return!!n&&"arrayValue"in n}function lw(n){return!!n&&"nullValue"in n}function uw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dh(n){return!!n&&"mapValue"in n}function QV(n){return(n?.mapValue?.fields||{})[OS]?.stringValue===FS}function Hl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ui(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Hl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hl(n.arrayValue.values[t]);return e}return{...n}}function YV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KV}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(t)}setAll(e){let t=Ut.emptyPath(),r={},i=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=d.popLast()}u?r[d.lastSegment()]=Hl(u):i.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];dh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ui(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new dn(Hl(this.value))}}function US(n){const e=[];return ui(n.fields,((t,r)=>{const i=new Ut([t]);if(dh(r)){const a=US(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new Tn(e)}class Xt{constructor(e,t,r,i,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Xt(e,0,Ie.min(),Ie.min(),Ie.min(),dn.empty(),0)}static newFoundDocument(e,t,r,i){return new Xt(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new Xt(e,2,t,Ie.min(),Ie.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Xt(e,3,t,Ie.min(),Ie.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,t){this.position=e,this.inclusive=t}}function cw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=va(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function hw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}class uu{constructor(e,t="asc"){this.field=e,this.dir=t}}function XV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class BS{}class Tt extends BS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ZV(e,t,r):t==="array-contains"?new nb(e,r):t==="in"?new rb(e,r):t==="not-in"?new sb(e,r):t==="array-contains-any"?new ib(e,r):new Tt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new eb(e,r):new tb(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(va(t,this.value)):t!==null&&ri(this.value)===ri(t)&&this.matchesComparison(va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends BS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zn(e,t)}matches(e){return zS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zS(n){return n.op==="and"}function $S(n){return JV(n)&&zS(n)}function JV(n){for(const e of n.filters)if(e instanceof Zn)return!1;return!0}function em(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+_a(n.value);if($S(n))return n.filters.map((e=>em(e))).join(",");{const e=n.filters.map((t=>em(t))).join(",");return`${n.op}(${e})`}}function WS(n,e){return n instanceof Tt?(function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Ar(r.value,i.value)})(n,e):n instanceof Zn?(function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,d)=>a&&WS(u,i.filters[d])),!0):!1})(n,e):void Ee(19439)}function HS(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${_a(t.value)}`})(n):n instanceof Zn?(function(t){return t.op.toString()+" {"+t.getFilters().map(HS).join(" ,")+"}"})(n):"Filter"}class ZV extends Tt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class eb extends Tt{constructor(e,t){super(e,"in",t),this.keys=qS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class tb extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=qS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qS(n,e){return(e.arrayValue?.values||[]).map((t=>ye.fromName(t.referenceValue)))}class nb extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ug(t)&&lu(t.arrayValue,this.value)}}class rb extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lu(this.value.arrayValue,t)}}class sb extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lu(this.value.arrayValue,t)}}class ib extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>lu(this.value.arrayValue,r)))}}class ob{constructor(e,t=null,r=[],i=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function dw(n,e=null,t=[],r=[],i=null,a=null,u=null){return new ob(n,e,t,r,i,a,u)}function cg(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>em(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),sd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>_a(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>_a(r))).join(",")),e.Te=t}return e.Te}function hg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hw(n.startAt,e.startAt)&&hw(n.endAt,e.endAt)}function tm(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Na{constructor(e,t=null,r=[],i=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ab(n,e,t,r,i,a,u,d){return new Na(n,e,t,r,i,a,u,d)}function dg(n){return new Na(n)}function fw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function lb(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function GS(n){return n.collectionGroup!==null}function ql(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Pt(Ut.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new uu(a,r))})),t.has(Ut.keyField().canonicalString())||e.Ie.push(new uu(Ut.keyField(),r))}return e.Ie}function Er(n){const e=Ce(n);return e.Ee||(e.Ee=ub(e,ql(n))),e.Ee}function ub(n,e){if(n.limitType==="F")return dw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new uu(i.field,a)}));const t=n.endAt?new bh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bh(n.startAt.position,n.startAt.inclusive):null;return dw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function nm(n,e){const t=n.filters.concat([e]);return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cb(n,e){const t=n.explicitOrderBy.concat([e]);return new Na(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function jh(n,e,t){return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function od(n,e){return hg(Er(n),Er(e))&&n.limitType===e.limitType}function KS(n){return`${cg(Er(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>HS(i))).join(", ")}]`),sd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>_a(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>_a(i))).join(",")),`Target(${r})`})(Er(n))}; limitType=${n.limitType})`}function ad(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of ql(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(u,d,f){const m=cw(u,d,f);return u.inclusive?m<=0:m<0})(r.startAt,ql(r),i)||r.endAt&&!(function(u,d,f){const m=cw(u,d,f);return u.inclusive?m>=0:m>0})(r.endAt,ql(r),i))})(n,e)}function hb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QS(n){return(e,t)=>{let r=!1;for(const i of ql(n)){const a=db(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function db(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?va(f,m):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}class oo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return DS(this.inner)}size(){return this.innerSize}}const fb=new lt(ye.comparator);function Jr(){return fb}const YS=new lt(ye.comparator);function Ml(...n){let e=YS;for(const t of n)e=e.insert(t.key,t);return e}function XS(n){let e=YS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Hi(){return Gl()}function JS(){return Gl()}function Gl(){return new oo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const pb=new lt(ye.comparator),mb=new Pt(ye.comparator);function Le(...n){let e=mb;for(const t of n)e=e.add(t);return e}const gb=new Pt(Me);function yb(){return gb}function fg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function ZS(n){return{integerValue:""+n}}function ex(n,e){return zV(e)?ZS(e):fg(n,e)}class ld{constructor(){this._=void 0}}function vb(n,e,t){return n instanceof cu?(function(i,a){const u={fields:{[jS]:{stringValue:bS},[LS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&lg(a)&&(a=id(a)),a&&(u.fields[MS]=a),{mapValue:u}})(t,e):n instanceof hu?nx(n,e):n instanceof du?rx(n,e):(function(i,a){const u=tx(i,a),d=pw(u)+pw(i.Ae);return Zp(u)&&Zp(i.Ae)?ZS(d):fg(i.serializer,d)})(n,e)}function _b(n,e,t){return n instanceof hu?nx(n,e):n instanceof du?rx(n,e):t}function tx(n,e){return n instanceof fu?(function(r){return Zp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class cu extends ld{}class hu extends ld{constructor(e){super(),this.elements=e}}function nx(n,e){const t=sx(e);for(const r of n.elements)t.some((i=>Ar(i,r)))||t.push(r);return{arrayValue:{values:t}}}class du extends ld{constructor(e){super(),this.elements=e}}function rx(n,e){let t=sx(e);for(const r of n.elements)t=t.filter((i=>!Ar(i,r)));return{arrayValue:{values:t}}}class fu extends ld{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function pw(n){return gt(n.integerValue||n.doubleValue)}function sx(n){return ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ix{constructor(e,t){this.field=e,this.transform=t}}function wb(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof hu&&i instanceof hu||r instanceof du&&i instanceof du?ya(r.elements,i.elements,Ar):r instanceof fu&&i instanceof fu?Ar(r.Ae,i.Ae):r instanceof cu&&i instanceof cu})(n.transform,e.transform)}class Eb{constructor(e,t){this.version=e,this.transformResults=t}}class Ln{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ud{}function ox(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pg(n.key,Ln.none()):new xu(n.key,n.data,Ln.none());{const t=n.data,r=dn.empty();let i=new Pt(Ut.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new ci(n.key,r,new Tn(i.toArray()),Ln.none())}}function Tb(n,e,t){n instanceof xu?(function(i,a,u){const d=i.value.clone(),f=gw(i.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ci?(function(i,a,u){if(!fh(i.precondition,a))return void a.convertToUnknownDocument(u.version);const d=gw(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(ax(i)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Kl(n,e,t,r){return n instanceof xu?(function(a,u,d,f){if(!fh(a.precondition,u))return d;const m=a.value.clone(),y=yw(a.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof ci?(function(a,u,d,f){if(!fh(a.precondition,u))return d;const m=yw(a.fieldTransforms,f,u),y=u.data;return y.setAll(ax(a)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(a,u,d){return fh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function Sb(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=tx(r.transform,i||null);a!=null&&(t===null&&(t=dn.empty()),t.set(r.field,a))}return t||null}function mw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ya(r,i,((a,u)=>wb(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xu extends ud{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ci extends ud{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ax(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function gw(n,e,t){const r=new Map;He(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,d=e.data.field(a.field);r.set(a.field,_b(u,d,t[i]))}return r}function yw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,vb(a,u,e))}return r}class pg extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xb extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ib{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Tb(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Kl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Kl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=JS();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(i.key)?null:d;const f=ox(u,d);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,((t,r)=>mw(t,r)))&&ya(this.baseMutations,e.baseMutations,((t,r)=>mw(t,r)))}}class mg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return pb})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new mg(e,t,r,i)}}class Ab{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Cb{constructor(e,t){this.count=e,this.unchangedNames=t}}var Et,Fe;function Pb(n){switch(n){case X.OK:return Ee(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function lx(n){if(n===void 0)return Xr("GRPC error has no .code"),X.UNKNOWN;switch(n){case Et.OK:return X.OK;case Et.CANCELLED:return X.CANCELLED;case Et.UNKNOWN:return X.UNKNOWN;case Et.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Et.INTERNAL:return X.INTERNAL;case Et.UNAVAILABLE:return X.UNAVAILABLE;case Et.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Et.NOT_FOUND:return X.NOT_FOUND;case Et.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Et.ABORTED:return X.ABORTED;case Et.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Et.DATA_LOSS:return X.DATA_LOSS;default:return Ee(39323,{code:n})}}(Fe=Et||(Et={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function Rb(){return new TextEncoder}const Nb=new Ks([4294967295,4294967295],0);function vw(n){const e=Rb().encode(n),t=new ES;return t.update(e),new Uint8Array(t.digest())}function _w(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ks([t,r],0),new Ks([i,a],0)]}class gg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ll(`Invalid padding: ${t}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ks.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Ks.fromNumber(r)));return i.compare(Nb)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=vw(e),[r,i]=_w(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new gg(a,i,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=vw(e),[r,i]=_w(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cd(Ie.min(),i,new lt(Me),Jr(),Le())}}class Iu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Iu(r,t,Le(),Le(),Le())}}class ph{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}}class ux{constructor(e,t){this.targetId=e,this.Ce=t}}class cx{constructor(e,t,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ww{constructor(){this.ve=0,this.Fe=Ew(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),r=Le();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:a})}})),new Iu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Ew()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.He=rh(),this.Je=rh(),this.Ze=new lt(Me)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(tm(a))if(r===0){const u=new ye(a.path);this.et(t,u,Xt.newNoDocument(u,Ie.min()))}else He(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,d;try{u=ni(r).toUint8Array()}catch(f){if(f instanceof VS)return Zi("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new gg(u,i,a)}catch(f){return Zi(f instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&tm(d.target)){const f=new ye(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Xt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.Ke())}}));let r=Le();this.Je.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new cd(e,t,this.Ze,this.je,r);return this.je=Jr(),this.He=rh(),this.Je=rh(),this.Ze=new lt(Me),i}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new ww,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Pt(Me),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Pt(Me),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ww),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rh(){return new lt(ye.comparator)}function Ew(){return new lt(ye.comparator)}const Db={asc:"ASCENDING",desc:"DESCENDING"},Vb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bb={and:"AND",or:"OR"};class jb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rm(n,e){return n.useProto3Json||sd(e)?e:{value:e}}function Mh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mb(n,e){return Mh(n,e.toTimestamp())}function Tr(n){return He(!!n,49232),Ie.fromTimestamp((function(t){const r=ti(t);return new nt(r.seconds,r.nanos)})(n))}function yg(n,e){return sm(n,e).canonicalString()}function sm(n,e){const t=(function(i){return new Xe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function dx(n){const e=Xe.fromString(n);return He(yx(e),10190,{key:e.toString()}),e}function im(n,e){return yg(n.databaseId,e.path)}function vp(n,e){const t=dx(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(px(t))}function fx(n,e){return yg(n.databaseId,e)}function Lb(n){const e=dx(n);return e.length===4?Xe.emptyPath():px(e)}function om(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function px(n){return He(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Tw(n,e,t){return{name:im(n,e),fields:t.value.mapValue.fields}}function Ob(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(He(y===void 0||typeof y=="string",58123),zt.fromBase64String(y||"")):(He(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),zt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(m){const y=m.code===void 0?X.UNKNOWN:lx(m.code);return new ae(y,m.message||"")})(u);t=new cx(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vp(n,r.document.name),a=Tr(r.document.updateTime),u=r.document.createTime?Tr(r.document.createTime):Ie.min(),d=new dn({mapValue:{fields:r.document.fields}}),f=Xt.newFoundDocument(i,a,u,d),m=r.targetIds||[],y=r.removedTargetIds||[];t=new ph(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vp(n,r.document),a=r.readTime?Tr(r.readTime):Ie.min(),u=Xt.newNoDocument(i,a),d=r.removedTargetIds||[];t=new ph([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vp(n,r.document),a=r.removedTargetIds||[];t=new ph([],a,i,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new Cb(i,a),d=r.targetId;t=new ux(d,u)}}return t}function Fb(n,e){let t;if(e instanceof xu)t={update:Tw(n,e.key,e.value)};else if(e instanceof pg)t={delete:im(n,e.key)};else if(e instanceof ci)t={update:Tw(n,e.key,e.data),updateMask:Kb(e.fieldMask)};else{if(!(e instanceof xb))return Ee(16599,{dt:e.type});t={verify:im(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof cu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof hu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof du)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof fu)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Mb(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)})(n,e.precondition)),t}function Ub(n,e){return n&&n.length>0?(He(e!==void 0,14353),n.map((t=>(function(i,a){let u=i.updateTime?Tr(i.updateTime):Tr(a);return u.isEqual(Ie.min())&&(u=Tr(a)),new Eb(u,i.transformResults||[])})(t,e)))):[]}function Bb(n,e){return{documents:[fx(n,e.path)]}}function zb(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fx(n,i);const a=(function(m){if(m.length!==0)return gx(Zn.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((y=>(function(T){return{field:ea(T.field),direction:Hb(T.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=rm(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:i}}function $b(n){let e=Lb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){He(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(w){const T=mx(w);return T instanceof Zn&&$S(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((T=>(function(j){return new uu(ta(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(T)))})(t.orderBy));let d=null;t.limit&&(d=(function(w){let T;return T=typeof w=="object"?w.value:w,sd(T)?null:T})(t.limit));let f=null;t.startAt&&(f=(function(w){const T=!!w.before,A=w.values||[];return new bh(A,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(w){const T=!w.before,A=w.values||[];return new bh(A,T)})(t.endAt)),ab(e,i,u,a,d,"F",f,m)}function Wb(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ta(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ta(t.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ta(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ta(t.unaryFilter.field);return Tt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(ta(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zn.create(t.compositeFilter.filters.map((r=>mx(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function Hb(n){return Db[n]}function qb(n){return Vb[n]}function Gb(n){return bb[n]}function ea(n){return{fieldPath:n.canonicalString()}}function ta(n){return Ut.fromServerFormat(n.fieldPath)}function gx(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(uw(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(lw(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uw(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(lw(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:qb(t.op),value:t.value}}})(n):n instanceof Zn?(function(t){const r=t.getFilters().map((i=>gx(i)));return r.length===1?r[0]:{compositeFilter:{op:Gb(t.op),filters:r}}})(n):Ee(54877,{filter:n})}function Kb(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function yx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function vx(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class zs{constructor(e,t,r,i,a=Ie.min(),u=Ie.min(),d=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qb{constructor(e){this.yt=e}}function Yb(n){const e=$b({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jh(e,e.limit,"L"):e}class Xb{constructor(){this.Sn=new Jb}addToCollectionParentIndex(e,t){return this.Sn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(ei.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class Jb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pt(Xe.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Xe.comparator)).toArray()}}const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_x=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(_x,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class wa{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wa(0)}static ar(){return new wa(-1)}}const xw="LruGarbageCollector",Zb=1048576;function Iw([n,e],[t,r]){const i=Me(n,t);return i===0?Me(e,r):i}class ej{constructor(e){this.Pr=e,this.buffer=new Pt(Iw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Iw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(xw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ra(t)?he(xw,"Ignoring IndexedDB error during garbage collection: ",t):await Pa(t)}await this.Ar(3e5)}))}}class nj{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(rd.ce);const r=new ej(t);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Sw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,a,u,d,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,u=Date.now(),this.nthSequenceNumber(e,i)))).next((w=>(r=w,d=Date.now(),this.removeTargets(e,r,t)))).next((w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(m=Date.now(),Jo()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${i} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w}))))}}function rj(n,e){return new nj(n,e)}class sj{constructor(){this.changes=new oo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ij{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Kl(r.mutation,i,Tn.empty(),nt.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Le()){const i=Hi();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let u=Ml();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Hi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Le())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,i){let a=Jr();const u=Gl(),d=(function(){return Gl()})();return t.forEach(((f,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof ci)?a=a.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Kl(y.mutation,m,y.mutation.getFieldMask(),nt.now())):u.set(m.key,Tn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>d.set(m,new ij(y,u.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Gl();let i=new lt(((u,d)=>u-d)),a=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Tn.empty();y=d.applyToLocalView(m,y),r.set(f,y);const w=(i.get(d.batchId)||Le()).add(f);i=i.insert(d.batchId,w)}))})).next((()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,w=JS();y.forEach((T=>{if(!a.has(T)){const A=ox(t.get(T),r.get(T));A!==null&&w.set(T,A),a=a.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return J.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return lb(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):GS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):J.resolve(Hi());let d=iu,f=a;return u.next((m=>J.forEach(m,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(y)?J.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{f=f.insert(y,T)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Le()))).next((y=>({batchId:d,changes:XS(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next((r=>{let i=Ml();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=Ml();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(f=>{const m=(function(w,T){return new Na(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((y=>{y.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((u=>{a.forEach(((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Xt.newInvalidDocument(y)))}));let d=Ml();return u.forEach(((f,m)=>{const y=a.get(f);y!==void 0&&Kl(y.mutation,m,Tn.empty(),nt.now()),ad(t,m)&&(d=d.insert(f,m))})),d}))}}class aj{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return J.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:Yb(i.bundledQuery),readTime:Tr(i.readTime)}})(t)),J.resolve()}}class lj{constructor(){this.overlays=new lt(ye.comparator),this.Lr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hi();return J.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.bt(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=Hi(),a=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new lt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=Hi(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Hi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=i)););return J.resolve(d)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ab(t,r));let a=this.Lr.get(t);a===void 0&&(a=Le(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class uj{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}class vg{constructor(){this.kr=new Pt(Dt.Kr),this.qr=new Pt(Dt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Dt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Dt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ye(new Xe([])),r=new Dt(t,e),i=new Dt(t,e+1),a=[];return this.qr.forEachInRange([r,i],(u=>{this.Wr(u),a.push(u.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ye(new Xe([])),r=new Dt(t,e),i=new Dt(t,e+1);let a=Le();return this.qr.forEachInRange([r,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Dt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ye.comparator(e.key,t.key)||Me(e.Hr,t.Hr)}static Ur(e,t){return Me(e.Hr,t.Hr)||ye.comparator(e.key,t.key)}}class cj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Dt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Ib(a,t,r,i);this.mutationQueue.push(u);for(const d of i)this.Jr=this.Jr.add(new Dt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(u)}lookupMutationBatch(e,t){return J.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ag:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Dt(t,0),i=new Dt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,i],(u=>{const d=this.Zr(u.Hr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Me);return t.forEach((i=>{const a=new Dt(i,0),u=new Dt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,u],(d=>{r=r.add(d.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new Dt(new ye(a),0);let d=new Pt(Me);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(f.Hr)),!0)}),u),J.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){He(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(t.mutations,(i=>{const a=new Dt(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Dt(t,0),i=this.Jr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hj{constructor(e){this.ti=e,this.docs=(function(){return new lt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(t))}getEntries(e,t){let r=Jr();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xt.newInvalidDocument(i))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Jr();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||OV(LV(y),r)<=0||(i.has(y.key)||ad(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ee(9500)}ni(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new dj(this)}getSize(e){return J.resolve(this.size)}}class dj extends sj{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class fj{constructor(e){this.persistence=e,this.ri=new oo((t=>cg(t)),hg),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ii=0,this.si=new vg,this.targetCount=0,this.oi=wa._r()}forEachTarget(e,t){return this.ri.forEach(((r,i)=>t(i))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),J.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new wa(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.lr(t),J.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.ri.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.ri.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),J.waitFor(a).next((()=>i))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),J.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this.si.containsKey(t))}}class wx{constructor(e,t){this._i={},this.overlays={},this.ai=new rd(0),this.ui=!1,this.ui=!0,this.ci=new uj,this.referenceDelegate=e(this),this.li=new fj(this),this.indexManager=new Xb,this.remoteDocumentCache=(function(i){return new hj(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Qb(t),this.Pi=new aj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new cj(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const i=new pj(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,t){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class pj extends UV{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new vg,this.Ai=null}static Vi(e){return new _g(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const i=ye.fromPath(r);return this.mi(e,i).next((a=>{a||t.removeEntry(i,Ie.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Lh{constructor(e,t){this.persistence=e,this.fi=new oo((r=>$V(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=rj(this,t)}static Vi(e,t){return new Lh(e,t)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return J.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((a=>a?J.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(u=>this.wr(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Ie.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),J.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hh(e.data.value)),t}wr(e,t,r){return J.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.fi.get(t);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class wg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=Le(),i=Le();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new wg(e,t.fromCache,r,i)}}class mj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class gj{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return rD()?8:BV(Zt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.gs(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ps(e,t,i,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new mj;return this.ys(e,t,u).next((d=>{if(a.result=d,this.As)return this.ws(e,t,u,d.size)}))})).next((()=>a.result))}ws(e,t,r,i){return r.documentReadCount<this.Vs?(Jo()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Jo()<=je.DEBUG&&he("QueryEngine","Query:",Zo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Jo()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(t))):J.resolve())}gs(e,t){if(fw(t))return J.resolve(null);let r=Er(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=jh(t,null,"F"),r=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=Le(...a);return this.fs.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,d);return this.Ss(t,m,u,f.readTime)?this.gs(e,jh(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,i){return fw(t)||i.isEqual(Ie.min())?J.resolve(null):this.fs.getDocuments(e,r).next((a=>{const u=this.bs(t,a);return this.Ss(t,u,r,i)?J.resolve(null):(Jo()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zo(t)),this.Ds(e,u,t,MV(i,iu)).next((d=>d)))}))}bs(e,t){let r=new Pt(QS(e));return t.forEach(((i,a)=>{ad(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,t,r){return Jo()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.fs.getDocumentsMatchingQuery(e,t,ei.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}const Eg="LocalStore",yj=3e8;class vj{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new lt(Me),this.Fs=new oo((a=>cg(a)),hg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oj(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function _j(n,e,t,r){return new vj(n,e,t,r)}async function Ex(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=Le();for(const m of i){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:u,addedBatchIds:d})))}))}))}function wj(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,y){const w=m.batch,T=w.keys();let A=J.resolve();return T.forEach((j=>{A=A.next((()=>y.getEntry(f,j))).next((M=>{const k=m.docVersions.get(j);He(k!==null,48541),M.version.compareTo(k)<0&&(w.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=Le();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function Tx(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Ej(n,e){const t=Ce(n),r=e.snapshotVersion;let i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;const d=[];e.targetChanges.forEach(((y,w)=>{const T=i.get(w);if(!T)return;d.push(t.li.removeMatchingKeys(a,y.removedDocuments,w).next((()=>t.li.addMatchingKeys(a,y.addedDocuments,w))));let A=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(zt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),i=i.insert(w,A),(function(M,k,W){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=yj?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(T,A,y)&&d.push(t.li.updateTargetData(a,A))}));let f=Jr(),m=Le();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(Tj(a,u,e.documentUpdates).next((y=>{f=y.Bs,m=y.Ls}))),!r.isEqual(Ie.min())){const y=t.li.getLastRemoteSnapshotVersion(a).next((w=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(y)}return J.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.vs=i,a)))}function Tj(n,e,t){let r=Le(),i=Le();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Jr();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):he(Eg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{Bs:u,Ls:i}}))}function Sj(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ag),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function xj(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.li.getTargetData(r,e).next((a=>a?(i=a,J.resolve(i)):t.li.allocateTargetId(r).next((u=>(i=new zs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function am(n,e,t){const r=Ce(n),i=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Ra(u))throw u;he(Eg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function Aw(n,e,t){const r=Ce(n);let i=Ie.min(),a=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,y){const w=Ce(f),T=w.Fs.get(y);return T!==void 0?J.resolve(w.vs.get(T)):w.li.getTargetData(m,y)})(r,u,Er(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?i:Ie.min(),t?a:Le()))).next((d=>(Ij(r,hb(e),d),{documents:d,ks:a})))))}function Ij(n,e,t){let r=n.Ms.get(e)||Ie.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class Cw{constructor(){this.activeTargetIds=yb()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aj{constructor(){this.vo=new Cw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Cw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Cj{Mo(e){}shutdown(){}}const Pw="ConnectivityMonitor";class Rw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(Pw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(Pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let sh=null;function lm(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}const _p="RestConnection",Pj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Rj{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Dh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,a){const u=lm(),d=this.Qo(e,t.toUriEncodedString());he(_p,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,i,a);const{host:m}=new URL(d),y=Ia(m);return this.zo(e,d,f,r,y).then((w=>(he(_p,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Zi(_p,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w}))}jo(e,t,r,i,a,u){return this.Wo(e,t,r,i,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ca})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}Qo(e,t){const r=Pj[e];let i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class Nj{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Kt="WebChannelConnection",Rl=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class la extends Rj{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!la.c_){const e=IS();Rl(e,xS.STAT_EVENT,(t=>{t.stat===Yp.PROXY?he(Kt,"STAT_EVENT: detected buffering proxy"):t.stat===Yp.NOPROXY&&he(Kt,"STAT_EVENT: detected no buffering proxy")})),la.c_=!0}}zo(e,t,r,i,a){const u=lm();return new Promise(((d,f)=>{const m=new TS;m.setWithCredentials(!0),m.listenOnce(SS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ch.NO_ERROR:const w=m.getResponseJson();he(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case ch.TIMEOUT:he(Kt,`RPC '${e}' ${u} timed out`),f(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const T=m.getStatus();if(he(Kt,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const j=A?.error;if(j&&j.status&&j.message){const M=(function(W){const Q=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Q)>=0?Q:X.UNKNOWN})(j.status);f(new ae(M,j.message))}else f(new ae(X.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ae(X.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{he(Kt,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(i);he(Kt,`RPC '${e}' ${u} sending request:`,i),m.send(t,"POST",y,r,15)}))}T_(e,t,r){const i=lm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=a.join("");he(Kt,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=u.createWebChannel(m,d);this.I_(y);let w=!1,T=!1;const A=new Nj({Ho:j=>{T?he(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,j):(w||(he(Kt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),he(Kt,`RPC '${e}' stream ${i} sending:`,j),y.send(j))},Jo:()=>y.close()});return Rl(y,jl.EventType.OPEN,(()=>{T||(he(Kt,`RPC '${e}' stream ${i} transport opened.`),A.i_())})),Rl(y,jl.EventType.CLOSE,(()=>{T||(T=!0,he(Kt,`RPC '${e}' stream ${i} transport closed`),A.o_(),this.E_(y))})),Rl(y,jl.EventType.ERROR,(j=>{T||(T=!0,Zi(Kt,`RPC '${e}' stream ${i} transport errored. Name:`,j.name,"Message:",j.message),A.o_(new ae(X.UNAVAILABLE,"The operation could not be completed")))})),Rl(y,jl.EventType.MESSAGE,(j=>{if(!T){const M=j.data[0];He(!!M,16349);const k=M,W=k?.error||k[0]?.error;if(W){he(Kt,`RPC '${e}' stream ${i} received error:`,W);const Q=W.status;let Y=(function(G){const N=Et[G];if(N!==void 0)return lx(N)})(Q),re=W.message;Q==="NOT_FOUND"&&re.includes("database")&&re.includes("does not exist")&&re.includes(this.databaseId.database)&&Zi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Y===void 0&&(Y=X.INTERNAL,re="Unknown error status: "+Q+" with message "+W.message),T=!0,A.o_(new ae(Y,re)),y.close()}else he(Kt,`RPC '${e}' stream ${i} received:`,M),A.__(M)}})),la.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return AS()}}function kj(n){return new la(n)}function wp(){return typeof document<"u"?document:null}function hd(n){return new jb(n,!0)}la.c_=!1;class Sx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Nw="PersistentStream";class xx{constructor(e,t,r,i,a,u,d,f){this.Ci=e,this.b_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Nw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(he(Nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dj extends xx{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Ob(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Tr(u.readTime):Ie.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=om(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=tm(f)?{documents:Bb(a,f)}:{query:zb(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=hx(a,u.resumeToken);const m=rm(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Mh(a,u.snapshotVersion.toTimestamp());const m=rm(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=Wb(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=om(this.serializer),t.removeTarget=e,this.K_(t)}}class Vj extends xx{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Ub(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=om(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Fb(this.serializer,r)))};this.K_(t)}}class bj{}class jj extends bj{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Wo(e,sm(t,r),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(X.UNKNOWN,a.toString())}))}jo(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.jo(e,sm(t,r),i,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(X.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Mj(n,e,t,r){return new jj(n,e,t,r)}class Lj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eo="RemoteStore";class Oj{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{ao(this)&&(he(eo,"Restarting streams for network reachability change."),await(async function(f){const m=Ce(f);m.Ea.add(4),await Au(m),m.Va.set("Unknown"),m.Ea.delete(4),await dd(m)})(this))}))})),this.Va=new Lj(r,i)}}async function dd(n){if(ao(n))for(const e of n.Ra)await e(!0)}async function Au(n){for(const e of n.Ra)await e(!1)}function Ix(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ig(t)?xg(t):ka(t).O_()&&Sg(t,e))}function Tg(n,e){const t=Ce(n),r=ka(t);t.Ia.delete(e),r.O_()&&Ax(t,e),t.Ia.size===0&&(r.O_()?r.L_():ao(t)&&t.Va.set("Unknown"))}function Sg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ka(n).Z_(e)}function Ax(n,e){n.da.$e(e),ka(n).X_(e)}function xg(n){n.da=new kb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ka(n).start(),n.Va.ua()}function Ig(n){return ao(n)&&!ka(n).x_()&&n.Ia.size>0}function ao(n){return Ce(n).Ea.size===0}function Cx(n){n.da=void 0}async function Fj(n){n.Va.set("Online")}async function Uj(n){n.Ia.forEach(((e,t)=>{Sg(n,e)}))}async function Bj(n,e){Cx(n),Ig(n)?(n.Va.ha(e),xg(n)):n.Va.set("Unknown")}async function zj(n,e,t){if(n.Va.set("Online"),e instanceof cx&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.Ia.delete(d),i.da.removeTarget(d))})(n,e)}catch(r){he(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(n,r)}else if(e instanceof ph?n.da.Xe(e):e instanceof ux?n.da.st(e):n.da.tt(e),!t.isEqual(Ie.min()))try{const r=await Tx(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.da.Tt(u);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(m);y&&a.Ia.set(m,y.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,m)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken(zt.EMPTY_BYTE_STRING,y.snapshotVersion)),Ax(a,f);const w=new zs(y.target,f,m,y.sequenceNumber);Sg(a,w)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){he(eo,"Failed to raise snapshot:",r),await Oh(n,r)}}async function Oh(n,e,t){if(!Ra(e))throw e;n.Ea.add(1),await Au(n),n.Va.set("Offline"),t||(t=()=>Tx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{he(eo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await dd(n)}))}function Px(n,e){return e().catch((t=>Oh(n,t,e)))}async function fd(n){const e=Ce(n),t=si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;$j(e);)try{const i=await Sj(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,Wj(e,i)}catch(i){await Oh(e,i)}Rx(e)&&Nx(e)}function $j(n){return ao(n)&&n.Ta.length<10}function Wj(n,e){n.Ta.push(e);const t=si(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function Rx(n){return ao(n)&&!si(n).x_()&&n.Ta.length>0}function Nx(n){si(n).start()}async function Hj(n){si(n).ra()}async function qj(n){const e=si(n);for(const t of n.Ta)e.ea(t.mutations)}async function Gj(n,e,t){const r=n.Ta.shift(),i=mg.from(r,e,t);await Px(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await fd(n)}async function Kj(n,e){e&&si(n).Y_&&await(async function(r,i){if((function(u){return Pb(u)&&u!==X.ABORTED})(i.code)){const a=r.Ta.shift();si(r).B_(),await Px(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await fd(r)}})(n,e),Rx(n)&&Nx(n)}async function kw(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),he(eo,"RemoteStore received new credentials");const r=ao(t);t.Ea.add(3),await Au(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dd(t)}async function Qj(n,e){const t=Ce(n);e?(t.Ea.delete(2),await dd(t)):e||(t.Ea.add(2),await Au(t),t.Va.set("Unknown"))}function ka(n){return n.ma||(n.ma=(function(t,r,i){const a=Ce(t);return a.sa(),new Dj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Zo:Fj.bind(null,n),Yo:Uj.bind(null,n),t_:Bj.bind(null,n),J_:zj.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Ig(n)?xg(n):n.Va.set("Unknown")):(await n.ma.stop(),Cx(n))}))),n.ma}function si(n){return n.fa||(n.fa=(function(t,r,i){const a=Ce(t);return a.sa(),new Vj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Hj.bind(null,n),t_:Kj.bind(null,n),ta:qj.bind(null,n),na:Gj.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await fd(n)):(await n.fa.stop(),n.Ta.length>0&&(he(eo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Ag{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,d=new Ag(e,t,u,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),Ra(n))return new ae(X.UNAVAILABLE,`${e}: ${n}`);throw n}class ua{static emptySet(e){return new ua(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Ml(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ua)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ua;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Dw{constructor(){this.ga=new lt(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ea{constructor(e,t,r,i,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new Ea(e,t,ua.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Yj{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Xj{constructor(){this.queries=Vw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ce(t),a=i.queries;i.queries=Vw(),a.forEach(((u,d)=>{for(const f of d.ba)f.onError(r)}))})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function Vw(){return new oo((n=>KS(n)),od)}async function kx(n,e){const t=Ce(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Sa()&&e.Da()&&(r=2):(a=new Yj,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const d=Cg(u,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Pg(t)}async function Dx(n,e){const t=Ce(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.ba.indexOf(e);u>=0&&(a.ba.splice(u,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Jj(n,e){const t=Ce(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const d of u.ba)d.Fa(i)&&(r=!0);u.wa=i}}r&&Pg(t)}function Zj(n,e,t){const r=Ce(n),i=r.queries.get(e);if(i)for(const a of i.ba)a.onError(t);r.queries.delete(e)}function Pg(n){n.Ca.forEach((e=>{e.next()}))}var um,bw;(bw=um||(um={})).Ma="default",bw.Cache="cache";class Vx{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==um.Cache}}class bx{constructor(e){this.key=e}}class jx{constructor(e){this.key=e}}class eM{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.eu=QS(e),this.tu=new ua(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new Dw,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,w)=>{const T=i.get(y),A=ad(this.query,w)?w:null,j=!!T&&this.mutatedKeys.has(T.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;T&&A?T.data.isEqual(A.data)?j!==M&&(r.track({type:3,doc:A}),k=!0):this.su(T,A)||(r.track({type:2,doc:A}),k=!0,(f&&this.eu(A,f)>0||m&&this.eu(A,m)<0)&&(d=!0)):!T&&A?(r.track({type:0,doc:A}),k=!0):T&&!A&&(r.track({type:1,doc:T}),k=!0,(f||m)&&(d=!0)),k&&(A?(u=u.add(A),a=M?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Ss:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,w)=>(function(A,j){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:k})}};return M(A)-M(j)})(y.type,w.type)||this.eu(y.doc,w.doc))),this.ou(r),i=i??!1;const d=t&&!i?this._u():[],f=this.Ya.size===0&&this.current&&!i?1:0,m=f!==this.Xa;return this.Xa=f,u.length!==0||m?{snapshot:new Ea(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new jx(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new bx(r))})),t}cu(e){this.Za=e.ks,this.Ya=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Rg="SyncEngine";class tM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nM{constructor(e){this.key=e,this.hu=!1}}class rM{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new oo((d=>KS(d)),od),this.Iu=new Map,this.Eu=new Set,this.Ru=new lt(ye.comparator),this.Au=new Map,this.Vu=new vg,this.du={},this.mu=new Map,this.fu=wa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sM(n,e,t=!0){const r=Bx(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Mx(r,e,t,!0),i}async function iM(n,e){const t=Bx(n);await Mx(t,e,!0,!1)}async function Mx(n,e,t,r){const i=await xj(n.localStore,Er(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await oM(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&Ix(n.remoteStore,i),d}async function oM(n,e,t,r,i){n.pu=(w,T,A)=>(async function(M,k,W,Q){let Y=k.view.ru(W);Y.Ss&&(Y=await Aw(M.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,Y))));const re=Q&&Q.targetChanges.get(k.targetId),K=Q&&Q.targetMismatches.get(k.targetId)!=null,G=k.view.applyChanges(Y,M.isPrimaryClient,re,K);return Mw(M,k.targetId,G.au),G.snapshot})(n,w,T,A);const a=await Aw(n.localStore,e,!0),u=new eM(e,a.ks),d=u.ru(a.documents),f=Iu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),m=u.applyChanges(d,n.isPrimaryClient,f);Mw(n,t,m.au);const y=new tM(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function aM(n,e,t){const r=Ce(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((u=>!od(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await am(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Tg(r.remoteStore,i.targetId),cm(r,i.targetId)})).catch(Pa)):(cm(r,i.targetId),await am(r.localStore,i.targetId,!0))}async function lM(n,e){const t=Ce(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Tg(t.remoteStore,r.targetId))}async function uM(n,e,t){const r=gM(n);try{const i=await(function(u,d){const f=Ce(u),m=nt.now(),y=d.reduce(((A,j)=>A.add(j.key)),Le());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let j=Jr(),M=Le();return f.xs.getEntries(A,y).next((k=>{j=k,j.forEach(((W,Q)=>{Q.isValidDocument()||(M=M.add(W))}))})).next((()=>f.localDocuments.getOverlayedDocuments(A,j))).next((k=>{w=k;const W=[];for(const Q of d){const Y=Sb(Q,w.get(Q.key).overlayedDocument);Y!=null&&W.push(new ci(Q.key,Y,US(Y.value.mapValue),Ln.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,W,d)})).next((k=>{T=k;const W=k.applyToLocalDocumentSet(w,M);return f.documentOverlayCache.saveOverlays(A,k.batchId,W)}))})).then((()=>({batchId:T.batchId,changes:XS(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,d,f){let m=u.du[u.currentUser.toKey()];m||(m=new lt(Me)),m=m.insert(d,f),u.du[u.currentUser.toKey()]=m})(r,i.batchId,t),await Cu(r,i.changes),await fd(r.remoteStore)}catch(i){const a=Cg(i,"Failed to persist write");t.reject(a)}}async function Lx(n,e){const t=Ce(n);try{const r=await Ej(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Au.get(a);u&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?He(u.hu,14607):i.removedDocuments.size>0&&(He(u.hu,42227),u.hu=!1))})),await Cu(t,r,e)}catch(r){await Pa(r)}}function jw(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(u,d){const f=Ce(u);f.onlineState=d;let m=!1;f.queries.forEach(((y,w)=>{for(const T of w.ba)T.va(d)&&(m=!0)})),m&&Pg(f)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cM(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new lt(ye.comparator);u=u.insert(a,Xt.newNoDocument(a,Ie.min()));const d=Le().add(a),f=new cd(Ie.min(),new Map,new lt(Me),u,d);await Lx(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),Ng(r)}else await am(r.localStore,e,!1).then((()=>cm(r,e,t))).catch(Pa)}async function hM(n,e){const t=Ce(n),r=e.batch.batchId;try{const i=await wj(t.localStore,e);Fx(t,r,null),Ox(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cu(t,i)}catch(i){await Pa(i)}}async function dM(n,e,t){const r=Ce(n);try{const i=await(function(u,d){const f=Ce(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,d).next((w=>(He(w!==null,37113),y=w.keys(),f.mutationQueue.removeMutationBatch(m,w)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);Fx(r,e,t),Ox(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cu(r,i)}catch(i){await Pa(i)}}function Ox(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Fx(n,e,t){const r=Ce(n);let i=r.du[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||Ux(n,r)}))}function Ux(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Tg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Ng(n))}function Mw(n,e,t){for(const r of t)r instanceof bx?(n.Vu.addReference(r.key,e),fM(n,r)):r instanceof jx?(he(Rg,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||Ux(n,r.key)):Ee(19791,{wu:r})}function fM(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(he(Rg,"New document in limbo: "+t),n.Eu.add(r),Ng(n))}function Ng(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Xe.fromString(e)),r=n.fu.next();n.Au.set(r,new nM(t)),n.Ru=n.Ru.insert(t,r),Ix(n.remoteStore,new zs(Er(dg(t.path)),r,"TargetPurposeLimboResolution",rd.ce))}}async function Cu(n,e,t){const r=Ce(n),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){i.push(m);const y=wg.Es(f.targetId,m);a.push(y)}})))})),await Promise.all(u),r.Pu.J_(i),await(async function(f,m){const y=Ce(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(m,(T=>J.forEach(T.Ts,(A=>y.persistence.referenceDelegate.addReference(w,T.targetId,A))).next((()=>J.forEach(T.Is,(A=>y.persistence.referenceDelegate.removeReference(w,T.targetId,A)))))))))}catch(w){if(!Ra(w))throw w;he(Eg,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const A=y.vs.get(T),j=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(j);y.vs=y.vs.insert(T,M)}}})(r.localStore,a))}async function pM(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){he(Rg,"User change. New user:",e.toKey());const r=await Ex(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new ae(X.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cu(t,r.Ns)}}function mM(n,e){const t=Ce(n),r=t.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let i=Le();const a=t.Iu.get(e);if(!a)return i;for(const u of a){const d=t.Tu.get(u);i=i.unionWith(d.view.nu)}return i}}function Bx(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cM.bind(null,e),e.Pu.J_=Jj.bind(null,e.eventManager),e.Pu.yu=Zj.bind(null,e.eventManager),e}function gM(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _j(this.persistence,new gj,e.initialUser,this.serializer)}Cu(e){return new wx(_g.Vi,this.serializer)}Du(e){return new Aj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class yM extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){He(this.persistence.referenceDelegate instanceof Lh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tj(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new wx((r=>Lh.Vi(r,t)),this.serializer)}}class hm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pM.bind(null,this.syncEngine),await Qj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Xj})()}createDatastore(e){const t=hd(e.databaseInfo.databaseId),r=kj(e.databaseInfo);return Mj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,u,d){return new Oj(r,i,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>jw(this.syncEngine,t,0)),(function(){return Rw.v()?new Rw:new Cj})())}createSyncEngine(e,t){return(function(i,a,u,d,f,m,y){const w=new rM(i,a,u,d,f,m);return y&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ce(t);he(eo,"RemoteStore shutting down."),r.Ea.add(5),await Au(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hm.provider={build:()=>new hm};class zx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ii="FirestoreClient";class vM{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{he(ii,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(he(ii,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ep(n,e){n.asyncQueue.verifyOperationInProgress(),he(ii,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Ex(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Lw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _M(n);he(ii,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>kw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>kw(e.remoteStore,i))),n._onlineComponents=e}async function _M(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(ii,"Using user provided OfflineComponentProvider");try{await Ep(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Zi("Error using user provided cache. Falling back to memory cache: "+t),await Ep(n,new Fh)}}else he(ii,"Using default OfflineComponentProvider"),await Ep(n,new yM(void 0));return n._offlineComponents}async function $x(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(ii,"Using user provided OnlineComponentProvider"),await Lw(n,n._uninitializedComponentsProvider._online)):(he(ii,"Using default OnlineComponentProvider"),await Lw(n,new hm))),n._onlineComponents}function wM(n){return $x(n).then((e=>e.syncEngine))}async function dm(n){const e=await $x(n),t=e.eventManager;return t.onListen=sM.bind(null,e.syncEngine),t.onUnlisten=aM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lM.bind(null,e.syncEngine),t}function EM(n,e,t,r){const i=new zx(r),a=new Vx(e,i,t);return n.asyncQueue.enqueueAndForget((async()=>kx(await dm(n),a))),()=>{i.Nu(),n.asyncQueue.enqueueAndForget((async()=>Dx(await dm(n),a)))}}function TM(n,e,t={}){const r=new Qs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,m){const y=new zx({next:T=>{y.Nu(),u.enqueueAndForget((()=>Dx(a,w))),T.fromCache&&f.source==="server"?m.reject(new ae(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new Vx(d,y,{includeMetadataChanges:!0,Ka:!0});return kx(a,w)})(await dm(n),n.asyncQueue,e,t,r))),r.promise}function SM(n,e){const t=new Qs;return n.asyncQueue.enqueueAndForget((async()=>uM(await wM(n),e,t))),t.promise}function Wx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const xM="ComponentProvider",Ow=new Map;function IM(n,e,t,r,i){return new qV(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Wx(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const Hx="firestore.googleapis.com",Fw=!0;class Uw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hx,this.ssl=Fw}else this.host=e.host,this.ssl=e.ssl??Fw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_x;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zb)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new xV;switch(r.type){case"firstParty":return new PV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Ow.get(t);r&&(he(xM,"Removing Datastore"),Ow.delete(t),r.terminate())})(this),Promise.resolve()}}function AM(n,e,t,r={}){n=Mn(n,pd);const i=Ia(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;i&&(fS(`https://${d}`),pS("Firestore",!0)),a.host!==Hx&&a.host!==d&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:i,emulatorOptions:r};if(!Yi(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Yt.MOCK_USER;else{m=Kk(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Yt(w)}n._authCredentials=new IV(new PS(m,y))}}class ns{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Su(t,yt._jsonSchema))return new yt(e,r||null,new ye(Xe.fromString(t.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:St("string",yt._jsonSchemaVersion),referencePath:St("string")};class Ys extends ns{constructor(e,t,r){super(e,t,dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ye(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function Qn(n,e,...t){if(n=Bt(n),RS("collection","path",e),n instanceof pd){const r=Xe.fromString(e,...t);return Z0(r),new Ys(n,null,r)}{if(!(n instanceof yt||n instanceof Ys))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return Z0(r),new Ys(n.firestore,null,r)}}function rn(n,e,...t){if(n=Bt(n),arguments.length===1&&(e=og.newId()),RS("doc","path",e),n instanceof pd){const r=Xe.fromString(e,...t);return J0(r),new yt(n,null,new ye(r))}{if(!(n instanceof yt||n instanceof Ys))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return J0(r),new yt(n.firestore,n instanceof Ys?n.converter:null,new ye(r))}}const Bw="AsyncQueue";class zw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sx(this,"async_queue_retry"),this._c=()=>{const r=wp();r&&he(Bw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=wp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=wp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ra(e))throw e;he(Bw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",$w(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Ag.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:$w(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $w(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class oi extends pd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zw(e),this._firestoreClient=void 0,await e}}}function CM(n,e){const t=typeof n=="object"?n:vS(),r=typeof n=="string"?n:Dh,i=sg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=qk("firestore");a&&AM(i,...a)}return i}function kg(n){if(n._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||PM(n),n._firestoreClient}function PM(n){const e=n._freezeSettings(),t=IM(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new vM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn(zt.fromBase64String(e))}catch(t){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jn(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:St("string",jn._jsonSchemaVersion),bytes:St("string")};class Dg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pu{constructor(e){this._methodName=e}}class Sr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(Su(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:St("string",Sr._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};class Jn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Jn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,Jn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Jn(e.vectorValues);throw new ae(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Jn._jsonSchemaVersion="firestore/vectorValue/1.0",Jn._jsonSchema={type:St("string",Jn._jsonSchemaVersion),vectorValues:St("object")};const RM=/^__.*__$/;class NM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new xu(e,this.data,t,this.fieldTransforms)}}class qx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ci(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:n})}}class Vg{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Gx(this.dataSource)&&RM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class kM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hd(e)}createContext(e,t,r,i=!1){return new Vg({dataSource:e,methodName:t,targetDoc:r,path:Ut.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function md(n){const e=n._freezeSettings(),t=hd(n._databaseId);return new kM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Kx(n,e,t,r,i,a={}){const u=n.createContext(a.merge||a.mergeFields?2:0,e,t,i);Mg("Data must be an object, but it was:",u,r);const d=Qx(r,u);let f,m;if(a.merge)f=new Tn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const T=to(e,w,t);if(!u.contains(T))throw new ae(X.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Jx(y,T)||y.push(T)}f=new Tn(y),m=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,m=u.fieldTransforms;return new NM(new dn(d),f,m)}class gd extends Pu{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gd}}class bg extends Pu{_toFieldTransform(e){return new ix(e.path,new cu)}isEqual(e){return e instanceof bg}}class jg extends Pu{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new fu(e.serializer,ex(e.serializer,this.Vc));return new ix(e.path,t)}isEqual(e){return e instanceof jg&&this.Vc===e.Vc}}function DM(n,e,t,r){const i=n.createContext(1,e,t);Mg("Data must be an object, but it was:",i,r);const a=[],u=dn.empty();ui(r,((f,m)=>{const y=Xx(e,f,t);m=Bt(m);const w=i.childContextForFieldPath(y);if(m instanceof gd)a.push(y);else{const T=Ru(m,w);T!=null&&(a.push(y),u.set(y,T))}}));const d=new Tn(a);return new qx(u,d,i.fieldTransforms)}function VM(n,e,t,r,i,a){const u=n.createContext(1,e,t),d=[to(e,r,t)],f=[i];if(a.length%2!=0)throw new ae(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)d.push(to(e,a[T])),f.push(a[T+1]);const m=[],y=dn.empty();for(let T=d.length-1;T>=0;--T)if(!Jx(m,d[T])){const A=d[T];let j=f[T];j=Bt(j);const M=u.childContextForFieldPath(A);if(j instanceof gd)m.push(A);else{const k=Ru(j,M);k!=null&&(m.push(A),y.set(A,k))}}const w=new Tn(m);return new qx(y,w,u.fieldTransforms)}function bM(n,e,t,r=!1){return Ru(t,n.createContext(r?4:3,e))}function Ru(n,e){if(Yx(n=Bt(n)))return Mg("Unsupported field value:",e,n),Qx(n,e);if(n instanceof Pu)return(function(r,i){if(!Gx(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const a=[];let u=0;for(const d of r){let f=Ru(d,i.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ex(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=nt.fromDate(r);return{timestampValue:Mh(i.serializer,a)}}if(r instanceof nt){const a=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(i.serializer,a)}}if(r instanceof Sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:hx(i.serializer,r._byteString)};if(r instanceof yt){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:yg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jn)return(function(u,d){const f=u instanceof Jn?u.toArray():u;return{mapValue:{fields:{[OS]:{stringValue:FS},[Vh]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw d.createError("VectorValues must only contain numeric values.");return fg(d.serializer,y)}))}}}}}})(r,i);if(vx(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${nd(r)}`)})(n,e)}function Qx(n,e){const t={};return DS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(n,((r,i)=>{const a=Ru(i,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function Yx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof nt||n instanceof Sr||n instanceof jn||n instanceof yt||n instanceof Pu||n instanceof Jn||vx(n))}function Mg(n,e,t){if(!Yx(t)||!NS(t)){const r=nd(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function to(n,e,t){if((e=Bt(e))instanceof Dg)return e._internalPath;if(typeof e=="string")return Xx(n,e);throw Uh("Field path arguments must be of type string or ",n,!1,void 0,t)}const jM=new RegExp("[~\\*/\\[\\]]");function Xx(n,e,t){if(e.search(jM)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dg(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Uh(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new ae(X.INVALID_ARGUMENT,d+n+f)}function Jx(n,e){return n.some((t=>t.isEqual(e)))}class MM{convertValue(e,t="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ui(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Vh].arrayValue?.values?.map((r=>gt(r.doubleValue)));return new Jn(t)}convertGeoPoint(e){return new Sr(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=id(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const t=ti(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);He(yx(r),9688,{name:e});const i=new au(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return i.isEqual(t)||Xr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class Lg extends MM{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function Ms(){return new bg("serverTimestamp")}function Zx(n){return new jg("increment",n)}const Ww="@firebase/firestore",Hw="4.11.0";function qw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(n,["next","error","complete"])}class eI{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(to("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LM extends eI{data(){return super.data()}}function tI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class Fg extends Og{}function zi(n,e,...t){let r=[];e instanceof Og&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((f=>f instanceof Ug)).length,d=a.filter((f=>f instanceof yd)).length;if(u>1||u>0&&d>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class yd extends Fg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yd(e,t,r)}_apply(e){const t=this._parse(e);return nI(e._query,t),new ns(e.firestore,e.converter,nm(e._query,t))}_parse(e){const t=md(e.firestore);return(function(a,u,d,f,m,y,w){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Kw(w,y);const j=[];for(const M of w)j.push(Gw(f,a,M));T={arrayValue:{values:j}}}else T=Gw(f,a,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Kw(w,y),T=bM(d,u,w,y==="in"||y==="not-in");return Tt.create(m,y,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Tp(n,e,t){const r=e,i=to("where",n);return yd._create(i,r,t)}class Ug extends Og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ug(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let u=i;const d=a.getFlattenedFilters();for(const f of d)nI(u,f),u=nm(u,f)})(e._query,t),new ns(e.firestore,e.converter,nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bg extends Fg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Bg(e,t)}_apply(e){const t=(function(i,a,u){if(i.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(a,u)})(e._query,this._field,this._direction);return new ns(e.firestore,e.converter,cb(e._query,t))}}function Ql(n,e="asc"){const t=e,r=to("orderBy",n);return Bg._create(r,t)}class zg extends Fg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new zg(e,t,r)}_apply(e){return new ns(e.firestore,e.converter,jh(e._query,this._limit,this._limitType))}}function Nl(n){return jV("limit",n),zg._create("limit",n,"F")}function Gw(n,e,t){if(typeof(t=Bt(t))=="string"){if(t==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GS(e)&&t.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xe.fromString(t));if(!ye.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aw(n,new ye(r))}if(t instanceof yt)return aw(n,t._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(t)}.`)}function Kw(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nI(n,e){const t=(function(i,a){for(const u of i)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rI(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gi extends eI{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(to("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Gi._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:St("string",Gi._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class mh extends Gi{data(e={}){return super.data(e)}}class Ki{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new mh(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((d=>{const f=new mh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Ol(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new mh(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Ol(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:OM(d.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ki._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}Ki._jsonSchemaVersion="firestore/querySnapshot/1.0",Ki._jsonSchema={type:St("string",Ki._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};function Fl(n){n=Mn(n,ns);const e=Mn(n.firestore,oi),t=kg(e),r=new Lg(e);return tI(n._query),TM(t,n._query).then((i=>new Ki(e,r,n,i)))}function ih(n,e,t){n=Mn(n,yt);const r=Mn(n.firestore,oi),i=rI(n.converter,e),a=md(r);return vd(r,[Kx(a,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ln.none())])}function $i(n,e,t,...r){n=Mn(n,yt);const i=Mn(n.firestore,oi),a=md(i);let u;return u=typeof(e=Bt(e))=="string"||e instanceof Dg?VM(a,"updateDoc",n._key,e,t,r):DM(a,"updateDoc",n._key,e),vd(i,[u.toMutation(n._key,Ln.exists(!0))])}function sI(n){return vd(Mn(n.firestore,oi),[new pg(n._key,Ln.none())])}function $g(n,e){const t=Mn(n.firestore,oi),r=rn(n),i=rI(n.converter,e),a=md(n.firestore);return vd(t,[Kx(a,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then((()=>r))}function Bh(n,...e){n=Bt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qw(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(qw(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let a,u,d;if(n instanceof yt)u=Mn(n.firestore,oi),d=dg(n._key.path),a={next:m=>{e[r]&&e[r](FM(u,n,m))},error:e[r+1],complete:e[r+2]};else{const m=Mn(n,ns);u=Mn(m.firestore,oi),d=m._query;const y=new Lg(u);a={next:w=>{e[r]&&e[r](new Ki(u,y,m,w))},error:e[r+1],complete:e[r+2]},tI(n._query)}const f=kg(u);return EM(f,d,i,a)}function vd(n,e){const t=kg(n);return SM(t,e)}function FM(n,e,t){const r=t.docs.get(e._key),i=new Lg(n);return new Gi(n,i,e._key,r,new Ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){SV(Aa),ga(new Xi("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new oi(new AV(r.getProvider("auth-internal")),new RV(u,r.getProvider("app-check-internal")),GV(u,i),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Gs(Ww,Hw,e),Gs(Ww,Hw,"esm2020")})();function iI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UM=iI,oI=new Eu("auth","Firebase",iI());const zh=new ng("@firebase/auth");function BM(n,...e){zh.logLevel<=je.WARN&&zh.warn(`Auth (${Aa}): ${n}`,...e)}function gh(n,...e){zh.logLevel<=je.ERROR&&zh.error(`Auth (${Aa}): ${n}`,...e)}function Zr(n,...e){throw Wg(n,...e)}function xr(n,...e){return Wg(n,...e)}function aI(n,e,t){const r={...UM(),[e]:t};return new Eu("auth","Firebase",r).create(e,{appName:n.name})}function Xs(n){return aI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return oI.create(n,...e)}function xe(n,e,...t){if(!n)throw Wg(e,...t)}function Hr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gh(e),new Error(e)}function es(n,e){n||Hr(e)}function fm(){return typeof self<"u"&&self.location?.href||""}function zM(){return Qw()==="http:"||Qw()==="https:"}function Qw(){return typeof self<"u"&&self.location?.protocol||null}function $M(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zM()||eD()||"connection"in navigator)?navigator.onLine:!0}function WM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Nu{constructor(e,t){this.shortDelay=e,this.longDelay=t,es(t>e,"Short delay should be less than long delay!"),this.isMobile=Xk()||tD()}get(){return $M()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hg(n,e){es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class lI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GM=new Nu(3e4,6e4);function _d(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Da(n,e,t,r,i={}){return uI(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Tu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return Zk()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ia(n.emulatorConfig.host)&&(m.credentials="include"),lI.fetch()(await hI(n,n.config.apiHost,t,d),m)})}async function uI(n,e,t){n._canInitEmulator=!1;const r={...HM,...e};try{const i=new KM(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw oh(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw oh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw oh(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw aI(n,y,m);Zr(n,y)}}catch(i){if(i instanceof ts)throw i;Zr(n,"network-request-failed",{message:String(i)})}}async function cI(n,e,t,r,i={}){const a=await Da(n,e,t,r,i);return"mfaPendingCredential"in a&&Zr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function hI(n,e,t,r){const i=`${e}${t}?${r}`,a=n,u=a.config.emulator?Hg(n.config,i):`${n.config.apiScheme}://${i}`;return qM.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class KM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),GM.get())})}}function oh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=xr(n,e,r);return i.customData._tokenResponse=t,i}async function QM(n,e){return Da(n,"POST","/v1/accounts:delete",e)}async function $h(n,e){return Da(n,"POST","/v1/accounts:lookup",e)}function Yl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YM(n,e=!1){const t=Bt(n),r=await t.getIdToken(e),i=qg(r);xe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a?.sign_in_provider;return{claims:i,token:r,authTime:Yl(Sp(i.auth_time)),issuedAtTime:Yl(Sp(i.iat)),expirationTime:Yl(Sp(i.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Sp(n){return Number(n)*1e3}function qg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=uS(t);return i?JSON.parse(i):(gh("Failed to decode base64 JWT payload"),null)}catch(i){return gh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Yw(n){const e=qg(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ts&&XM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function XM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class JM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wh(n){const e=n.auth,t=await n.getIdToken(),r=await pu(n,$h(e,{idToken:t}));xe(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?dI(i.providerUserInfo):[],u=e2(n.providerData,a),d=n.isAnonymous,f=!(n.email&&i.passwordHash)&&!u?.length,m=d?f:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new pm(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function ZM(n){const e=Bt(n);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dI(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function t2(n,e){const t=await uI(n,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=await hI(n,i,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Ia(n.emulatorConfig.host)&&(f.credentials="include"),lI.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function n2(n,e){return Da(n,"POST","/v2/accounts:revokeToken",_d(n,e))}class ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=Yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await t2(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new ca;return r&&(xe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(xe(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(xe(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ca,this.toJSON())}_performRefresh(){return Hr("not implemented")}}function Vs(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xn{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new JM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await pu(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YM(this,e)}reload(){return ZM(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await pu(this,QM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:A,providerData:j,stsTokenManager:M}=t;xe(w&&M,e,"internal-error");const k=ca.fromJSON(this.name,M);xe(typeof w=="string",e,"internal-error"),Vs(r,e.name),Vs(i,e.name),xe(typeof T=="boolean",e,"internal-error"),xe(typeof A=="boolean",e,"internal-error"),Vs(a,e.name),Vs(u,e.name),Vs(d,e.name),Vs(f,e.name),Vs(m,e.name),Vs(y,e.name);const W=new Xn({uid:w,auth:e,email:i,emailVerified:T,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:k,createdAt:m,lastLoginAt:y});return j&&Array.isArray(j)&&(W.providerData=j.map(Q=>({...Q}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,t,r=!1){const i=new ca;i.updateFromServerResponse(t);const a=new Xn({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];xe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?dI(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!a?.length,d=new ca;d.updateFromIdToken(r);const f=new Xn({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,m),f}}const Xw=new Map;function qr(n){es(n instanceof Function,"Expected a class definition");let e=Xw.get(n);return e?(es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Xw.set(n,e),e)}class fI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fI.type="NONE";const Jw=fI;function yh(n,e,t){return`firebase:${n}:${e}:${t}`}class ha{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=yh(this.userKey,i.apiKey,a),this.fullPersistenceKey=yh("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $h(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ha(qr(Jw),e,r);const i=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||qr(Jw);const u=yh(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const y=await m._get(u);if(y){let w;if(typeof y=="string"){const T=await $h(e,{idToken:y}).catch(()=>{});if(!T)break;w=await Xn._fromGetAccountInfoResponse(e,T,y)}else w=Xn._fromJSON(e,y);m!==a&&(d=w),a=m;break}}catch{}const f=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ha(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ha(a,e,r))}}function Zw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_I(e))return"Blackberry";if(wI(e))return"Webos";if(mI(e))return"Safari";if((e.includes("chrome/")||gI(e))&&!e.includes("edge/"))return"Chrome";if(vI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function pI(n=Zt()){return/firefox\//i.test(n)}function mI(n=Zt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gI(n=Zt()){return/crios\//i.test(n)}function yI(n=Zt()){return/iemobile/i.test(n)}function vI(n=Zt()){return/android/i.test(n)}function _I(n=Zt()){return/blackberry/i.test(n)}function wI(n=Zt()){return/webos/i.test(n)}function Gg(n=Zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function r2(n=Zt()){return Gg(n)&&!!window.navigator?.standalone}function s2(){return nD()&&document.documentMode===10}function EI(n=Zt()){return Gg(n)||vI(n)||wI(n)||_I(n)||/windows phone/i.test(n)||yI(n)}function TI(n,e=[]){let t;switch(n){case"Browser":t=Zw(Zt());break;case"Worker":t=`${Zw(Zt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Aa}/${r}`}class i2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function o2(n,e={}){return Da(n,"GET","/v2/passwordPolicy",_d(n,e))}const a2=6;class l2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??a2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class u2{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eE(this),this.idTokenSubscription=new eE(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $h(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(Xs(this));const t=e?Bt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o2(this),t=new l2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await n2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wd(n){return Bt(n)}class eE{constructor(e){this.auth=e,this.observer=null,this.addObserver=cD(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c2(n){Kg=n}function h2(n){return Kg.loadJS(n)}function d2(){return Kg.gapiScript}function f2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function p2(n,e){const t=sg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Yi(a,e??{}))return i;Zr(i,"already-initialized")}return t.initialize({options:e})}function m2(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function g2(n,e,t){const r=wd(n);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=SI(e),{host:u,port:d}=y2(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},y=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Yi(m,r.config.emulator)&&Yi(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Ia(u)?(fS(`${a}//${u}${f}`),pS("Auth",!0)):v2()}function SI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function y2(n){const e=SI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:tE(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:tE(u)}}}function tE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function v2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class xI{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,t){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function da(n,e){return cI(n,"POST","/v1/accounts:signInWithIdp",_d(n,e))}const _2="http://localhost";class no extends xI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const u=new no(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return da(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,da(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,da(e,t)}buildRequest(){const e={requestUri:_2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tu(t)}return e}}class II{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ku extends II{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ls extends ku{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Os extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return no._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Os.credential(t,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";class Fs extends ku{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Us extends ku{constructor(){super("twitter.com")}static credential(e,t){return no._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Us.credential(t,r)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";async function w2(n,e){return cI(n,"POST","/v1/accounts:signUp",_d(n,e))}class ai{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await Xn._fromIdTokenResponse(e,r,i),u=nE(r);return new ai({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=nE(r);return new ai({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function nE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function E2(n){if(Yn(n.app))return Promise.reject(Xs(n));const e=wd(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ai({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await w2(e,{returnSecureToken:!0}),r=await ai._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class Hh extends ts{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Hh(e,t,r,i)}}function AI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(n,a,e,r):a})}async function T2(n,e,t=!1){const r=await pu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ai._forOperation(n,"link",r)}async function S2(n,e,t=!1){const{auth:r}=n;if(Yn(r.app))return Promise.reject(Xs(r));const i="reauthenticate";try{const a=await pu(n,AI(r,i,e,n),t);xe(a.idToken,r,"internal-error");const u=qg(a.idToken);xe(u,r,"internal-error");const{sub:d}=u;return xe(n.uid===d,r,"user-mismatch"),ai._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Zr(r,"user-mismatch"),a}}async function x2(n,e,t=!1){if(Yn(n.app))return Promise.reject(Xs(n));const r="signIn",i=await AI(n,r,e),a=await ai._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}function I2(n,e,t,r){return Bt(n).onIdTokenChanged(e,t,r)}function A2(n,e,t){return Bt(n).beforeAuthStateChanged(e,t)}function C2(n,e,t,r){return Bt(n).onAuthStateChanged(e,t,r)}const qh="__sak";class CI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qh,"1"),this.storage.removeItem(qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const P2=1e3,R2=10;class PI extends CI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);s2()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,R2):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PI.type="LOCAL";const N2=PI;class RI extends CI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RI.type="SESSION";const NI=RI;function k2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await k2(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];function Qg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class D2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Qg("",20);i.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Ir(){return window}function V2(n){Ir().location.href=n}function kI(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function b2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j2(){return navigator?.serviceWorker?.controller||null}function M2(){return kI()?self:null}const DI="firebaseLocalStorageDb",L2=1,Gh="firebaseLocalStorage",VI="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(n,e){return n.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function O2(){const n=indexedDB.deleteDatabase(DI);return new Du(n).toPromise()}function mm(){const n=indexedDB.open(DI,L2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Gh,{keyPath:VI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),await O2(),e(await mm()))})})}async function rE(n,e,t){const r=Td(n,!0).put({[VI]:e,value:t});return new Du(r).toPromise()}async function F2(n,e){const t=Td(n,!1).get(e),r=await new Du(t).toPromise();return r===void 0?null:r.value}function sE(n,e){const t=Td(n,!0).delete(e);return new Du(t).toPromise()}const U2=800,B2=3;class bI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>B2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(M2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new D2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await rE(e,qh,"1"),await sE(e,qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>rE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>F2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Td(i,!1).getAll();return new Du(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bI.type="LOCAL";const z2=bI;new Nu(3e4,6e4);function $2(n,e){return e?qr(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Yg extends xI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return da(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function W2(n){return x2(n.auth,new Yg(n),n.bypassAuthState)}function H2(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),S2(t,new Yg(n),n.bypassAuthState)}async function q2(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),T2(t,new Yg(n),n.bypassAuthState)}class jI{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W2;case"linkViaPopup":case"linkViaRedirect":return q2;case"reauthViaPopup":case"reauthViaRedirect":return H2;default:Zr(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const G2=new Nu(2e3,1e4);class aa extends jI{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G2.get())};e()}}aa.currentPopupAction=null;const K2="pendingRedirect",vh=new Map;class Q2 extends jI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await Y2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y2(n,e){const t=Z2(e),r=J2(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function X2(n,e){vh.set(n._key(),e)}function J2(n){return qr(n._redirectPersistence)}function Z2(n){return yh(K2,n.config.apiKey,n.name)}async function eL(n,e,t=!1){if(Yn(n.app))return Promise.reject(Xs(n));const r=wd(n),i=$2(r,e),u=await new Q2(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const tL=600*1e3;class nL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!MI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(xr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tL&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(e))}saveEventToCache(e){this.cachedEventUids.add(iE(e)),this.lastProcessedEventTime=Date.now()}}function iE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function rL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MI(n);default:return!1}}async function sL(n,e={}){return Da(n,"GET","/v1/projects",e)}const iL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oL=/^https?/;async function aL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sL(n);for(const t of e)try{if(lL(t))return}catch{}Zr(n,"unauthorized-domain")}function lL(n){const e=fm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!oL.test(t))return!1;if(iL.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const uL=new Nu(3e4,6e4);function oE(){const n=Ir().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function cL(n){return new Promise((e,t)=>{function r(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),t(xr(n,"network-request-failed"))},timeout:uL.get()})}if(Ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ir().gapi?.load)r();else{const i=f2("iframefcb");return Ir()[i]=()=>{gapi.load?r():t(xr(n,"network-request-failed"))},h2(`${d2()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw _h=null,e})}let _h=null;function hL(n){return _h=_h||cL(n),_h}const dL=new Nu(5e3,15e3),fL="__/auth/iframe",pL="emulator/auth/iframe",mL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yL(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hg(e,pL):`https://${n.config.authDomain}/${fL}`,r={apiKey:e.apiKey,appName:n.name,v:Aa},i=gL.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Tu(r).slice(1)}`}async function vL(n){const e=await hL(n),t=Ir().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:yL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mL,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=xr(n,"network-request-failed"),d=Ir().setTimeout(()=>{a(u)},dL.get());function f(){Ir().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{a(u)})}))}const _L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wL=500,EL=600,TL="_blank",SL="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xL(n,e,t,r=wL,i=EL){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={..._L,width:r.toString(),height:i.toString(),top:a,left:u},m=Zt().toLowerCase();t&&(d=gI(m)?TL:t),pI(m)&&(e=e||SL,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[A,j])=>`${T}${A}=${j},`,"");if(r2(m)&&d!=="_self")return IL(e||"",d),new aE(null);const w=window.open(e||"",d,y);xe(w,n,"popup-blocked");try{w.focus()}catch{}return new aE(w)}function IL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const AL="__/auth/handler",CL="emulator/auth/handler",PL=encodeURIComponent("fac");async function lE(n,e,t,r,i,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Aa,eventId:i};if(e instanceof II){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",uD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof ku){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await n._getAppCheckToken(),m=f?`#${PL}=${encodeURIComponent(f)}`:"";return`${RL(n)}?${Tu(d).slice(1)}${m}`}function RL({config:n}){return n.emulator?Hg(n,CL):`https://${n.authDomain}/${AL}`}const xp="webStorageSupport";class NL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NI,this._completeRedirectFn=eL,this._overrideRedirectResult=X2}async _openPopup(e,t,r,i){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await lE(e,t,r,fm(),i);return xL(e,a,Qg())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await lE(e,t,r,fm(),i);return V2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(es(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await vL(e),r=new nL(e);return t.register("authEvent",i=>(xe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xp,{type:xp},i=>{const a=i?.[0]?.[xp];a!==void 0&&t(!!a),Zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EI()||mI()||Gg()}}const kL=NL;var uE="@firebase/auth",cE="1.12.0";class DL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bL(n){ga(new Xi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TI(n)},m=new u2(r,i,a,f);return m2(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ga(new Xi("auth-internal",e=>{const t=wd(e.getProvider("auth").getImmediate());return(r=>new DL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(uE,cE,VL(n)),Gs(uE,cE,"esm2020")}const jL=300,ML=dS("authIdTokenMaxAge")||jL;let hE=null;const LL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ML)return;const i=t?.token;hE!==i&&(hE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function OL(n=vS()){const e=sg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=p2(n,{popupRedirectResolver:kL,persistence:[z2,N2,NI]}),r=dS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=LL(a.toString());A2(t,u,()=>u(t.currentUser)),I2(t,d=>u(d))}}const i=cS("auth");return i&&g2(t,`http://${i}`),t}function FL(){return document.getElementsByTagName("head")?.[0]??document}c2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=xr("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",FL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bL("Browser");const UL={apiKey:"AIzaSyDvRoWoEBdqdS85YJApVdKG5KcPOYzOg6k",authDomain:"studio-6082148059-d1fec.firebaseapp.com",projectId:"studio-6082148059-d1fec",storageBucket:"studio-6082148059-d1fec.appspot.com",messagingSenderId:"144415804580",appId:"1:144415804580:web:7e6465f633e54e8e186a31"},LI=yS(UL),tt=CM(LI),dE=OL(LI),BL=({message:n,type:e,onClose:t})=>p.jsxs(De.div,{className:`notification ${e}`,initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:20,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},transition:{duration:.3},children:[p.jsxs("span",{className:"notification-icon",children:[e==="success"&&"",e==="error"&&"",e==="info"&&""]}),p.jsx("span",{className:"notification-message",children:n}),p.jsx("button",{className:"notification-close",onClick:t,children:""})]}),zL=({comment:n,onLike:e})=>p.jsxs(De.div,{className:"comment-item",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2},children:[p.jsx(Se,{to:"/profile",className:"comment-avatar",children:n.avatar}),p.jsxs("div",{className:"comment-content",children:[p.jsxs("div",{className:"comment-bubble",children:[p.jsx(Se,{to:"/profile",className:"comment-author",children:n.user}),p.jsx("p",{children:n.text})]}),p.jsxs("div",{className:"comment-actions",children:[p.jsx("button",{onClick:e,className:"comment-like",children:" Like"}),p.jsx("span",{className:"comment-time",children:n.time})]})]})]}),$L=({post:n,user:e,onLike:t,onDelete:r,onShare:i})=>{const[a,u]=O.useState(!1),[d,f]=O.useState(""),[m,y]=O.useState([]),[w,T]=O.useState(!1),[A,j]=O.useState(!1);O.useEffect(()=>{if(!n.id)return;const W=zi(Qn(tt,"posts",n.id,"comments"),Ql("timestamp","desc"),limit(10)),Q=Bh(W,Y=>{const re=Y.docs.map(K=>({id:K.id,...K.data(),time:fE(K.data().timestamp?.toDate())}));y(re)});return()=>Q()},[n.id]);const M=async()=>{!d.trim()||!e||(await $g(Qn(tt,"posts",n.id,"comments"),{text:d,user:"U0_A242",avatar:"",timestamp:Ms()}),await $i(rn(tt,"posts",n.id),{comments:Zx(1)}),f(""),ce("transmit"))},k=async()=>{w||(T(!0),await t(n.id))};return p.jsxs(De.article,{className:"post-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},layout:!0,children:[p.jsxs("div",{className:"post-header",children:[p.jsxs(Se,{to:"/profile",className:"post-author",children:[p.jsx(De.span,{className:"author-avatar",whileHover:{scale:1.1,rotate:5},children:n.avatar}),p.jsxs("div",{className:"author-info",children:[p.jsx("h4",{className:"author-name",children:n.user}),p.jsx("span",{className:"author-handle",children:n.handle||"@unknown"}),p.jsxs("span",{className:"post-time",children:[" ",fE(n.timestamp)]})]})]}),p.jsxs("div",{className:"post-menu-container",children:[p.jsx("button",{className:"post-menu",onClick:()=>j(!A),onMouseEnter:()=>ce("hover"),children:""}),p.jsx(Eh,{children:A&&p.jsxs(De.div,{className:"post-menu-dropdown",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[p.jsx("button",{onClick:()=>{i(n),j(!1)},children:" Share"}),n.userId===e?.uid&&p.jsx("button",{onClick:()=>{r(n.id),j(!1)},className:"delete",children:" Delete"})]})})]})]}),p.jsxs("div",{className:"post-content",children:[p.jsx("p",{children:n.content}),n.image&&p.jsx(De.div,{className:"post-image",whileHover:{scale:1.02},transition:{duration:.2},children:p.jsx("img",{src:n.image,alt:"Post content"})})]}),p.jsxs("div",{className:"post-stats",children:[p.jsx("div",{className:"stat-left",children:p.jsxs(De.span,{className:"likes-count",animate:w?{scale:[1,1.3,1]}:{},children:[" ",n.likes||0]})}),p.jsxs("div",{className:"stat-right",children:[p.jsxs("span",{onClick:()=>u(!a),children:[n.comments||0," comments"]}),p.jsxs("span",{children:[n.shares||0," shares"]})]})]}),p.jsxs("div",{className:"post-actions-bar",children:[p.jsxs(De.button,{className:`action-btn like ${w?"liked":""}`,onClick:k,onMouseEnter:()=>ce("hover"),whileTap:{scale:.95},children:[p.jsx("span",{className:"action-icon",children:""}),p.jsx("span",{children:"Power Up"})]}),p.jsxs(De.button,{className:`action-btn ${a?"active":""}`,onClick:()=>u(!a),onMouseEnter:()=>ce("hover"),whileTap:{scale:.95},children:[p.jsx("span",{className:"action-icon",children:""}),p.jsx("span",{children:"Comment"})]}),p.jsxs(De.button,{className:"action-btn",onClick:()=>i(n),onMouseEnter:()=>ce("hover"),whileTap:{scale:.95},children:[p.jsx("span",{className:"action-icon",children:""}),p.jsx("span",{children:"Share"})]})]}),p.jsx(Eh,{children:a&&p.jsxs(De.div,{className:"comments-section",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[p.jsx("div",{className:"comments-list",children:m.map(W=>p.jsx(zL,{comment:W,onLike:()=>{}},W.id))}),p.jsxs("div",{className:"comment-input-area",children:[p.jsx(Se,{to:"/profile",className:"comment-input-avatar",children:""}),p.jsx("input",{type:"text",placeholder:"Write a comment...",value:d,onChange:W=>f(W.target.value),onKeyPress:W=>W.key==="Enter"&&M()}),p.jsx("button",{onClick:M,children:""})]})]})})]})},fE=n=>{if(!n)return"just now";const t=Math.floor((new Date-n)/1e3/60);if(t<1)return"just now";if(t<60)return`${t}m`;const r=Math.floor(t/60);return r<24?`${r}h`:`${Math.floor(r/24)}d`};function WL(){const n=AE(),[e,t]=O.useState([]),[r,i]=O.useState(""),[a,u]=O.useState(null),[d,f]=O.useState(!0),[m,y]=O.useState("all"),[w,T]=O.useState([]),[A,j]=O.useState([{id:1,user:"U0_A242",avatar:"",viewed:!1},{id:2,user:"Bot_01",avatar:"",viewed:!0},{id:3,user:"Ghost_X",avatar:"",viewed:!0},{id:4,user:"Cyborg_7",avatar:"",viewed:!1}]);O.useEffect(()=>{const K=C2(dE,G=>{G?u(G):E2(dE).catch(console.error)});return()=>K()},[]),O.useEffect(()=>{const K=zi(Qn(tt,"posts"),Ql("timestamp","desc")),G=Bh(K,async N=>{const I=N.docs.map(V=>({id:V.id,...V.data(),timestamp:V.data().timestamp?.toDate()})),P=m==="following"?await oS.generateFeedRecommendations(a?.uid,I):I;t(P),f(!1)});return()=>G()},[m,a]);const M=(K,G="info")=>{const N=Date.now();T(I=>[...I,{id:N,message:K,type:G}]),setTimeout(()=>{T(I=>I.filter(P=>P.id!==N))},3e3)},k=async()=>{if(!(!r.trim()||!a)){ce("transmit");try{await $g(Qn(tt,"posts"),{content:r,userId:a.uid,user:"U0_A242",avatar:"",handle:"@fallenangel",timestamp:Ms(),likes:0,comments:0,shares:0,tags:["cyberpunk","grid"]}),i(""),M("Post transmitted successfully!","success")}catch(K){console.error("Error posting:",K),M("Transmission failed.","error")}}},W=async K=>{ce("click");try{const G=rn(tt,"posts",K);await $i(G,{likes:Zx(1)})}catch(G){console.error("Error liking:",G)}},Q=async K=>{if(window.confirm("Delete this transmission?"))try{await sI(rn(tt,"posts",K)),M("Post deleted","info")}catch(G){console.error("Error deleting:",G)}},Y=K=>{navigator.clipboard.writeText(`Check out this post from ${K.user}: "${K.content}"`),M("Link copied to clipboard!","success")},re=K=>{i(K.target.value),K.target.value.length%3===0&&ce("typing")};return p.jsxs("div",{className:"feed-page",children:[p.jsx(Qi,{}),p.jsx("div",{className:"notifications-container",children:p.jsx(Eh,{children:w.map(K=>p.jsx(BL,{message:K.message,type:K.type,onClose:()=>T(G=>G.filter(N=>N.id!==K.id))},K.id))})}),p.jsxs("nav",{className:"feed-nav",children:[p.jsxs("div",{className:"nav-left",children:[p.jsx(Se,{to:"/",className:"logo",onMouseEnter:()=>ce("hover"),children:"L1T.GRID"}),p.jsxs("div",{className:"search-box",children:[p.jsx("span",{className:"search-icon",children:""}),p.jsx("input",{type:"text",placeholder:"Search the grid..."})]})]}),p.jsxs("div",{className:"nav-center",children:[p.jsx(Se,{to:"/",className:"nav-tab",onMouseEnter:()=>ce("hover"),title:"Home",children:""}),p.jsx(Se,{to:"/feed",className:"nav-tab active",onMouseEnter:()=>ce("hover"),title:"Feed",children:""}),p.jsx(Se,{to:"/media",className:"nav-tab",onMouseEnter:()=>ce("hover"),title:"Media",children:""}),p.jsx(Se,{to:"/live",className:"nav-tab",onMouseEnter:()=>ce("hover"),title:"Live",children:""})]}),p.jsx("div",{className:"nav-right",children:p.jsxs(Se,{to:"/profile",className:"user-badge",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"avatar-small",children:""}),p.jsx("span",{className:"username",children:"U0_A242"})]})})]}),p.jsxs("div",{className:"feed-layout",children:[p.jsxs("aside",{className:"feed-sidebar left",children:[p.jsxs(Se,{to:"/profile",className:"sidebar-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"sidebar-icon",children:""}),p.jsx("span",{className:"sidebar-label",children:"U0_A242"})]}),p.jsxs(Se,{to:"/feed",className:"sidebar-item active",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"sidebar-icon",children:""}),p.jsx("span",{className:"sidebar-label",children:"Live Feed"})]}),p.jsxs(Se,{to:"/projects",className:"sidebar-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"sidebar-icon",children:""}),p.jsx("span",{className:"sidebar-label",children:"Projects"})]}),p.jsxs(Se,{to:"/media",className:"sidebar-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"sidebar-icon",children:""}),p.jsx("span",{className:"sidebar-label",children:"Media Stream"})]}),p.jsxs(Se,{to:"/live",className:"sidebar-item",onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"sidebar-icon",children:""}),p.jsx("span",{className:"sidebar-label",children:"Live Stream"})]}),p.jsx("div",{className:"sidebar-divider"}),p.jsxs("div",{className:"sidebar-section",children:[p.jsx("h4",{children:"YOUR SHORTCUTS"}),p.jsxs("div",{className:"sidebar-item",children:[p.jsx("span",{className:"sidebar-icon",children:""}),p.jsx("span",{className:"sidebar-label",children:"System Logs"})]}),p.jsxs("div",{className:"sidebar-item",children:[p.jsx("span",{className:"sidebar-icon",children:""}),p.jsx("span",{className:"sidebar-label",children:"Grid Nodes"})]}),p.jsxs("div",{className:"sidebar-item",children:[p.jsx("span",{className:"sidebar-icon",children:""}),p.jsx("span",{className:"sidebar-label",children:"Darknet"})]})]})]}),p.jsxs("main",{className:"feed-main",children:[p.jsxs("div",{className:"stories-container",children:[p.jsxs(De.div,{className:"story-item create",whileHover:{scale:1.05},onClick:()=>n("/profile"),children:[p.jsx("div",{className:"story-avatar",children:""}),p.jsx("span",{className:"story-label",children:"Create"})]}),A.map(K=>p.jsxs(De.div,{className:`story-item ${K.viewed?"viewed":""}`,whileHover:{scale:1.05},onClick:()=>n("/profile"),children:[p.jsx("div",{className:"story-avatar",children:K.avatar}),p.jsx("span",{className:"story-label",children:K.user})]},K.id))]}),p.jsxs(De.div,{className:"create-post-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsxs("div",{className:"create-post-top",children:[p.jsx(Se,{to:"/profile",className:"user-avatar-link",children:p.jsx(De.span,{className:"user-avatar",whileHover:{scale:1.1},children:""})}),p.jsx("div",{className:"post-input-trigger",onClick:()=>document.getElementById("post-textarea").focus(),children:"What's on your mind, U0_A242?"})]}),p.jsx("textarea",{id:"post-textarea",placeholder:"Broadcast to the grid...",value:r,onChange:re,disabled:!a,className:"post-textarea",rows:3}),p.jsxs("div",{className:"create-post-actions",children:[p.jsxs("div",{className:"post-options",children:[p.jsxs(De.button,{className:"post-option",onMouseEnter:()=>ce("hover"),whileHover:{scale:1.05},children:[p.jsx("span",{className:"option-icon",children:""}),p.jsx("span",{children:"Photo"})]}),p.jsxs(De.button,{className:"post-option",onMouseEnter:()=>ce("hover"),whileHover:{scale:1.05},children:[p.jsx("span",{className:"option-icon",children:""}),p.jsx("span",{children:"Video"})]}),p.jsxs(De.button,{className:"post-option",onMouseEnter:()=>ce("hover"),whileHover:{scale:1.05},children:[p.jsx("span",{className:"option-icon",children:""}),p.jsx("span",{children:"Code"})]})]}),p.jsx(De.button,{onClick:k,disabled:!a||!r.trim(),className:"post-btn",onMouseEnter:()=>ce("hover"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"TRANSMIT"})]})]}),p.jsxs("div",{className:"feed-tabs",children:[p.jsx(De.button,{className:`feed-tab ${m==="all"?"active":""}`,onClick:()=>y("all"),whileHover:{scale:1.02},children:"All Updates"}),p.jsx(De.button,{className:`feed-tab ${m==="following"?"active":""}`,onClick:()=>y("following"),whileHover:{scale:1.02},children:"Following"})]}),d?p.jsxs("div",{className:"loading-state",children:[p.jsx(De.div,{className:"loading-spinner",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),p.jsx("p",{children:"Initializing U0 Protocol..."})]}):p.jsx("div",{className:"posts-stream",children:e.length===0?p.jsxs(De.div,{className:"empty-state",initial:{opacity:0},animate:{opacity:1},children:[p.jsx("span",{className:"empty-icon",children:""}),p.jsx("p",{children:"No signals detected yet."}),p.jsx("p",{children:"Be the first to broadcast to the grid."})]}):p.jsx(Eh,{children:e.map((K,G)=>p.jsx($L,{post:K,user:a,onLike:W,onDelete:Q,onShare:Y},K.id))})})]}),p.jsxs("aside",{className:"feed-sidebar right",children:[p.jsxs("div",{className:"sidebar-card sponsored",children:[p.jsx("h4",{children:"SPONSORED"}),p.jsxs("div",{className:"sponsored-item",onClick:()=>window.open("https://github.com","_blank"),children:[p.jsx("span",{className:"sponsored-icon",children:""}),p.jsxs("div",{children:[p.jsx("span",{className:"sponsored-title",children:"GitHub Pro"}),p.jsx("span",{className:"sponsored-link",children:"github.com"})]})]})]}),p.jsxs("div",{className:"sidebar-card",children:[p.jsx("h4",{children:"GRID STATUS"}),p.jsxs("div",{className:"status-item",children:[p.jsx("span",{className:"status-dot online"}),p.jsx("span",{children:"Node: ONLINE"})]}),p.jsxs("div",{className:"status-item",children:[p.jsx("span",{className:"status-dot online"}),p.jsx("span",{children:"Protocol: ACTIVE"})]}),p.jsxs("div",{className:"status-item",children:[p.jsx("span",{className:"status-dot warning"}),p.jsx("span",{children:"Latency: 12ms"})]})]}),p.jsxs("div",{className:"sidebar-card",children:[p.jsx("h4",{children:"TRENDING"}),p.jsxs("div",{className:"trending-item",children:[p.jsx("span",{className:"trend-rank",children:"1"}),p.jsx("span",{className:"trend-tag",children:"#Cyberpunk"})]}),p.jsxs("div",{className:"trending-item",children:[p.jsx("span",{className:"trend-rank",children:"2"}),p.jsx("span",{className:"trend-tag",children:"#Matrix"})]}),p.jsxs("div",{className:"trending-item",children:[p.jsx("span",{className:"trend-rank",children:"3"}),p.jsx("span",{className:"trend-tag",children:"#Terminal"})]})]}),p.jsxs("div",{className:"sidebar-card",children:[p.jsx("h4",{children:"ACTIVE NODES"}),p.jsxs("div",{className:"node-item",children:[p.jsx("span",{className:"node-avatar",children:""}),p.jsx("span",{className:"node-name",children:"Bot_01"}),p.jsx("span",{className:"node-status online",children:""})]}),p.jsxs("div",{className:"node-item",children:[p.jsx("span",{className:"node-avatar",children:""}),p.jsx("span",{className:"node-name",children:"Ghost_X"}),p.jsx("span",{className:"node-status online",children:""})]}),p.jsxs("div",{className:"node-item",children:[p.jsx("span",{className:"node-avatar",children:""}),p.jsx("span",{className:"node-name",children:"Cyborg_7"}),p.jsx("span",{className:"node-status away",children:""})]})]}),p.jsxs("div",{className:"sidebar-footer",children:[p.jsx(Se,{to:"/profile",children:"Privacy"})," ",p.jsx(Se,{to:"/profile",children:"Terms"})," ",p.jsx(Se,{to:"/profile",children:"Cookies"}),p.jsx("p",{children:"L1T.GRID  2025"})]})]})]})]})}const kl=({label:n,value:e,icon:t,color:r})=>p.jsxs(De.div,{className:"stat-card",whileHover:{scale:1.05,y:-5},transition:{duration:.2},children:[p.jsx("span",{className:"stat-icon",style:{color:r},children:t}),p.jsx("span",{className:"stat-value",style:{color:r},children:e}),p.jsx("span",{className:"stat-label",children:n})]}),HL=({type:n,content:e,time:t})=>{const r={post:"",like:"",comment:"",share:"",login:"",project:""};return p.jsxs(De.div,{className:"activity-item",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[p.jsx("span",{className:"activity-icon",children:r[n]||""}),p.jsxs("div",{className:"activity-content",children:[p.jsx("p",{children:e}),p.jsx("span",{className:"activity-time",children:t})]})]})},qL=({skill:n,level:e,color:t})=>p.jsxs("div",{className:"skill-bar-container",children:[p.jsxs("div",{className:"skill-header",children:[p.jsx("span",{className:"skill-name",children:n}),p.jsxs("span",{className:"skill-level",children:[e,"%"]})]}),p.jsx("div",{className:"skill-track",children:p.jsx(De.div,{className:"skill-fill",style:{background:t},initial:{width:0},animate:{width:`${e}%`},transition:{duration:1,delay:.2}})})]});function GL(){const[n,e]=O.useState("overview"),[t,r]=O.useState({posts:0,likes:0,comments:0,projects:0,followers:1337,following:420}),[i,a]=O.useState([{type:"login",content:"System access granted from Node TERMINUX",time:"2 mins ago"},{type:"post",content:"Transmitted new signal to the grid",time:"1 hour ago"},{type:"like",content:"Powered up 5 transmissions",time:"3 hours ago"},{type:"project",content:"Updated L1T.GRID core systems",time:"1 day ago"},{type:"comment",content:"Commented on Bot_01's transmission",time:"2 days ago"}]),u=["02:24:15 - U0_A242 ACCESS GRANTED","02:24:18 - FIREWALL BYPASS COMPLETE","02:24:22 - NODE: TERMINUX CONNECTED","02:24:25 - GRID SYNC SUCCESSFUL","02:24:30 - ENCRYPTION KEYS ROTATED","02:24:35 - BACKUP SYSTEMS VERIFIED"],d=[{skill:"React/Node.js",level:98,color:"#00ff88"},{skill:"Cybersecurity",level:95,color:"#ff0040"},{skill:"System Architecture",level:92,color:"#ff8c00"},{skill:"Terminal Mastery",level:100,color:"#00ccff"}];O.useEffect(()=>{(async()=>{try{const w=(await Fl(Qn(tt,"posts"))).docs.filter(T=>T.data().user==="U0_A242");r(T=>({...T,posts:w.length,likes:w.reduce((A,j)=>A+(j.data().likes||0),0)}))}catch(y){console.error("Failed to load stats:",y)}})()},[]);const f=[{id:"overview",label:"OVERVIEW",icon:""},{id:"posts",label:"POSTS",icon:""},{id:"projects",label:"PROJECTS",icon:""},{id:"media",label:"MEDIA",icon:""}];return p.jsxs("div",{className:"profile-page",children:[p.jsx(Qi,{}),p.jsxs("nav",{className:"profile-nav",children:[p.jsx(Se,{to:"/",className:"nav-logo",onMouseEnter:()=>ce("hover"),children:"L1T.GRID"}),p.jsxs("div",{className:"nav-links",children:[p.jsx(Se,{to:"/feed",onMouseEnter:()=>ce("hover"),children:" FEED"}),p.jsx(Se,{to:"/media",onMouseEnter:()=>ce("hover"),children:" MEDIA"}),p.jsx(Se,{to:"/live",onMouseEnter:()=>ce("hover"),children:" LIVE"})]})]}),p.jsxs("div",{className:"profile-cover",children:[p.jsx("div",{className:"cover-gradient"}),p.jsx("div",{className:"cover-pattern"})]}),p.jsxs("div",{className:"profile-header",children:[p.jsxs("div",{className:"profile-avatar-section",children:[p.jsxs(De.div,{className:"profile-avatar-wrapper",whileHover:{scale:1.05},transition:{duration:.2},children:[p.jsx("div",{className:"profile-avatar-ring"}),p.jsx("span",{className:"profile-avatar",children:""}),p.jsx("div",{className:"online-indicator",title:"Online"})]}),p.jsxs("div",{className:"profile-titles",children:[p.jsx("h1",{className:"profile-name",children:p.jsx("span",{className:"glitch-text","data-text":"U0_A242",children:"U0_A242"})}),p.jsx("p",{className:"profile-handle",children:"@fallenangel"}),p.jsxs("div",{className:"profile-badges",children:[p.jsx("span",{className:"badge architect",children:" ARCHITECT"}),p.jsx("span",{className:"badge verified",children:" VERIFIED"}),p.jsx("span",{className:"badge admin",children:" ADMIN"})]})]})]}),p.jsxs("div",{className:"profile-actions",children:[p.jsx(De.button,{className:"btn-primary",onMouseEnter:()=>ce("hover"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"+ FOLLOW"}),p.jsx(De.button,{className:"btn-secondary",onMouseEnter:()=>ce("hover"),whileHover:{scale:1.05},whileTap:{scale:.95},children:" MESSAGE"})]})]}),p.jsxs("div",{className:"profile-stats-bar",children:[p.jsx(kl,{label:"POSTS",value:t.posts,icon:"",color:"#00ff88"}),p.jsx(kl,{label:"FOLLOWERS",value:t.followers,icon:"",color:"#ff8c00"}),p.jsx(kl,{label:"FOLLOWING",value:t.following,icon:"",color:"#00ccff"}),p.jsx(kl,{label:"LIKES",value:t.likes,icon:"",color:"#ff0040"}),p.jsx(kl,{label:"PROJECTS",value:t.projects,icon:"",color:"#aa00ff"})]}),p.jsxs("div",{className:"profile-content",children:[p.jsxs("aside",{className:"profile-sidebar left",children:[p.jsxs("div",{className:"profile-card",children:[p.jsx("h3",{children:" BIO"}),p.jsxs("p",{className:"bio-text",children:["System Architect | Code God | Terminal Master",p.jsx("br",{}),p.jsx("br",{}),"Building the future, one line at a time. Welcome to L1T.GRID - the cyberpunk social network."]}),p.jsxs("div",{className:"bio-meta",children:[p.jsx("span",{children:" Node: TERMINUX"}),p.jsx("span",{children:" github.com/fallenangel"}),p.jsx("span",{children:" Joined: 2024"})]})]}),p.jsxs("div",{className:"profile-card",children:[p.jsx("h3",{children:" SKILLS"}),d.map((m,y)=>p.jsx(qL,{...m},y))]}),p.jsxs("div",{className:"profile-card",children:[p.jsx("h3",{children:" LINKS"}),p.jsxs(Se,{to:"/feed",className:"quick-link",children:[p.jsx("span",{children:""})," View Feed"]}),p.jsxs(Se,{to:"/media",className:"quick-link",children:[p.jsx("span",{children:""})," Media Center"]}),p.jsxs(Se,{to:"/projects",className:"quick-link",children:[p.jsx("span",{children:""})," Projects"]}),p.jsxs("a",{href:"https://github.com/fallenangel",target:"_blank",rel:"noopener noreferrer",className:"quick-link",children:[p.jsx("span",{children:""})," GitHub"]})]})]}),p.jsxs("main",{className:"profile-main",children:[p.jsx("div",{className:"profile-tabs",children:f.map(m=>p.jsxs(De.button,{className:`profile-tab ${n===m.id?"active":""}`,onClick:()=>e(m.id),onMouseEnter:()=>ce("hover"),whileHover:{scale:1.02},children:[p.jsx("span",{children:m.icon}),m.label]},m.id))}),p.jsxs("div",{className:"tab-content",children:[n==="overview"&&p.jsxs("div",{className:"overview-section",children:[p.jsxs("div",{className:"terminal-card",children:[p.jsxs("div",{className:"terminal-header-bar",children:[p.jsxs("div",{className:"terminal-buttons",children:[p.jsx("span",{}),p.jsx("span",{}),p.jsx("span",{})]}),p.jsx("span",{children:"root@U0_A242:~"})]}),p.jsxs("div",{className:"terminal-body",children:[p.jsxs("p",{children:[p.jsx("span",{className:"prompt",children:"$"})," whoami"]}),p.jsx("p",{className:"output",children:"FALLEN_ANGEL - System Architect"}),p.jsxs("p",{children:[p.jsx("span",{className:"prompt",children:"$"})," uptime"]}),p.jsx("p",{className:"output",children:"99.9% - 1337 days online"}),p.jsxs("p",{children:[p.jsx("span",{className:"prompt",children:"$"})," status"]}),p.jsx("p",{className:"output success",children:" ONLINE - All systems operational"}),p.jsxs("p",{children:[p.jsx("span",{className:"prompt",children:"$"})," ",p.jsx("span",{className:"cursor",children:"_"})]})]})]}),p.jsxs("div",{className:"activity-card",children:[p.jsx("h3",{children:" RECENT ACTIVITY"}),p.jsx("div",{className:"activity-list",children:i.map((m,y)=>p.jsx(HL,{...m},y))})]})]}),n==="posts"&&p.jsx("div",{className:"posts-section",children:p.jsxs("div",{className:"empty-state",children:[p.jsx("span",{className:"empty-icon",children:""}),p.jsx("p",{children:"Your transmissions will appear here"}),p.jsx(Se,{to:"/feed",className:"btn-link",children:p.jsx("button",{className:"btn-primary",children:"GO TO FEED"})})]})}),n==="projects"&&p.jsx("div",{className:"projects-section",children:p.jsxs("div",{className:"project-grid",children:[p.jsxs(De.div,{className:"project-card",whileHover:{scale:1.02},children:[p.jsx("h4",{children:" L1T.GRID"}),p.jsx("p",{children:"Cyberpunk social network platform"}),p.jsx("span",{className:"project-tech",children:"React  Firebase  Node.js"})]}),p.jsxs(De.div,{className:"project-card",whileHover:{scale:1.02},children:[p.jsx("h4",{children:" U0_STREAM"}),p.jsx("p",{children:"Live streaming infrastructure"}),p.jsx("span",{className:"project-tech",children:"WebRTC  HLS  React"})]})]})}),n==="media"&&p.jsx("div",{className:"media-section",children:p.jsxs(Se,{to:"/media",className:"media-link",children:[p.jsxs("div",{className:"media-preview",children:[p.jsx("span",{className:"media-icon",children:""}),p.jsx("span",{className:"media-count",children:"1,337 TITLES"})]}),p.jsx("span",{children:"Access Media Center "})]})})]})]}),p.jsxs("aside",{className:"profile-sidebar right",children:[p.jsxs("div",{className:"profile-card system-card",children:[p.jsx("h3",{children:" SYSTEM STATUS"}),p.jsxs("div",{className:"system-status-list",children:[p.jsxs("div",{className:"status-row",children:[p.jsx("span",{children:"INTEGRITY"}),p.jsx("div",{className:"status-bar",children:p.jsx("div",{className:"status-fill",style:{width:"100%"}})}),p.jsx("span",{children:"100%"})]}),p.jsxs("div",{className:"status-row",children:[p.jsx("span",{children:"UPTIME"}),p.jsx("span",{className:"status-value",children:"99.9%"})]}),p.jsxs("div",{className:"status-row",children:[p.jsx("span",{children:"NODE"}),p.jsx("span",{className:"status-value online",children:"TERMINUX"})]}),p.jsxs("div",{className:"status-row",children:[p.jsx("span",{children:"PROTOCOL"}),p.jsx("span",{className:"status-value online",children:"ACTIVE"})]})]})]}),p.jsxs("div",{className:"profile-card logs-card",children:[p.jsx("h3",{children:" SYSTEM LOGS"}),p.jsxs("div",{className:"logs-content",children:[u.map((m,y)=>p.jsxs("p",{className:"log-line",children:["> ",m]},y)),p.jsx("p",{className:"log-line blink",children:"> _"})]})]}),p.jsxs("div",{className:"profile-card actions-card",children:[p.jsx("h3",{children:" ACTIONS"}),p.jsx("button",{className:"action-btn",onClick:()=>ce("click"),children:" SYSTEM LOGS"}),p.jsx("button",{className:"action-btn",onClick:()=>ce("click"),children:" USER MANAGEMENT"}),p.jsx("button",{className:"action-btn danger",onClick:()=>ce("glitch"),children:" KILL SWITCH"})]})]})]}),p.jsxs("footer",{className:"profile-footer",children:[p.jsx("span",{children:"L1T.GRID v2.0.0"}),p.jsx("span",{className:"separator",children:"|"}),p.jsx("span",{className:"protocol-id blink",children:"U0_A242"}),p.jsx("span",{className:"separator",children:"|"}),p.jsx("span",{children:" NODE: ONLINE"})]})]})}const Ip=(n,e)=>[...Array(e)].map((t,r)=>({id:`${n}-${r}`,type:n,title:`${n.charAt(0).toUpperCase()+n.slice(1)} Title ${r+1}`,description:`Description for ${n} ${r+1}`,thumbnail:`https://picsum.photos/seed/${n}${r}/300/168`,duration:Math.floor(Math.random()*3600)+60,size:Math.floor(Math.random()*1e9)+5e5,addedAt:new Date,encrypted:Math.random()>.5})),OI=()=>[{id:"v-1",name:"GRID_SURVEILLANCE_01",type:"video",status:"ENCRYPTED",size:123456789},{id:"v-2",name:"VOICE_LOG_A242",type:"audio",status:"DECRYPTED",size:1234567},{id:"v-3",name:"CORE_DUMP_0224",type:"data",status:"LOCKED",size:987654321},{id:"v-4",name:"blueprint.pdf",type:"document",status:"SECURE",size:543210}],KL=()=>OI().map(n=>({...n,displayType:`[${n.type.toUpperCase()}]`})),Xo={getMediaLibrary:async()=>[...Ip("video",12),...Ip("audio",5),...Ip("image",20)],getVaultContents:async()=>OI(),getRecentTransmissions:async()=>KL(),getStats:async()=>({total:1337,video:890,audio:420,image:27,document:0,encrypted:69}),searchYouTube:async n=>[],searchSpotify:async n=>[]},gm=n=>{const e=Math.floor(n/3600).toString().padStart(2,"0"),t=Math.floor(n%3600/60).toString().padStart(2,"0"),r=Math.floor(n%60).toString().padStart(2,"0");return e>0?`${e}:${t}:${r}`:`${t}:${r}`},FI=n=>{if(n===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,r)).toFixed(2))+" "+t[r]},QL=({item:n,onClose:e})=>{const[t,r]=O.useState(!1),[i,a]=O.useState(0),[u,d]=O.useState(80);return O.useEffect(()=>{if(t){const f=setInterval(()=>{a(m=>m>=100?0:m+.5)},1e3);return()=>clearInterval(f)}},[t]),p.jsx("div",{className:"media-player-overlay",children:p.jsxs("div",{className:"media-player",children:[p.jsxs("div",{className:"player-header",children:[p.jsx("span",{className:"player-title",children:n.title}),p.jsx("button",{className:"player-close",onClick:e,children:""})]}),p.jsx("div",{className:"player-screen",children:n.type==="video"?p.jsxs("div",{className:"video-display",children:[p.jsx("div",{className:"video-placeholder",children:p.jsx("span",{className:"play-icon",children:t?"":""})}),p.jsxs("div",{className:"video-overlay",children:[p.jsx("span",{className:"video-quality",children:"1080p"}),p.jsx("span",{className:"video-status",children:n.encrypted?" ENCRYPTED":" DECRYPTED"})]})]}):p.jsx("div",{className:"audio-visualizer",children:[...Array(20)].map((f,m)=>p.jsx("div",{className:"viz-bar",style:{height:t?`${Math.random()*80+20}%`:"10%",animationDelay:`${m*.05}s`}},m))})}),p.jsxs("div",{className:"player-controls",children:[p.jsxs("div",{className:"control-buttons",children:[p.jsx("button",{className:"ctrl-btn",onClick:()=>a(0),children:""}),p.jsx("button",{className:"ctrl-btn play",onClick:()=>r(!t),children:t?"":""}),p.jsx("button",{className:"ctrl-btn",onClick:()=>a(100),children:""})]}),p.jsxs("div",{className:"progress-bar",children:[p.jsx("span",{className:"time",children:gm(i/100*(n.duration||180))}),p.jsx("div",{className:"progress-track",children:p.jsx("div",{className:"progress-fill",style:{width:`${i}%`}})}),p.jsx("span",{className:"time",children:gm(n.duration||180)})]}),p.jsxs("div",{className:"volume-control",children:[p.jsx("span",{children:""}),p.jsx("input",{type:"range",min:"0",max:"100",value:u,onChange:f=>d(f.target.value)}),p.jsxs("span",{children:[u,"%"]})]})]})]})})},YL=({item:n,onClick:e})=>p.jsxs("div",{className:`vault-item ${n.status.toLowerCase()}`,onClick:()=>e(n),onMouseEnter:()=>ce("hover"),children:[p.jsxs("div",{className:"vault-icon",children:[n.type==="video"&&"",n.type==="audio"&&"",n.type==="image"&&"",n.type==="document"&&"",n.type==="data"&&""]}),p.jsxs("div",{className:"vault-info",children:[p.jsx("span",{className:"vault-name",children:n.name}),p.jsxs("span",{className:"vault-meta",children:[n.status,"  ",FI(n.size||0)]})]}),p.jsxs("div",{className:"vault-status",children:[n.status==="ENCRYPTED"&&"",n.status==="DECRYPTED"&&"",n.status==="LOCKED"&&"",n.status==="SECURE"&&""]})]}),pE=({item:n,onPlay:e})=>p.jsxs("div",{className:"external-card",onMouseEnter:()=>ce("hover"),children:[p.jsxs("div",{className:"external-thumb",children:[p.jsx("img",{src:n.thumbnail||n.image,alt:n.title||n.name}),p.jsx("button",{className:"external-play",onClick:e,children:""}),p.jsx("span",{className:"external-source",children:n.source})]}),p.jsxs("div",{className:"external-info",children:[p.jsx("h4",{children:n.title||n.name}),p.jsx("p",{children:n.channel||n.artist}),n.duration&&p.jsx("span",{className:"duration",children:n.duration})]})]});function XL(){const[n,e]=O.useState("library"),[t,r]=O.useState([]),[i,a]=O.useState([]),[u,d]=O.useState([]),[f,m]=O.useState({}),[y,w]=O.useState(null),[T,A]=O.useState(""),[j,M]=O.useState({youtube:[],spotify:[]}),[k,W]=O.useState(!1);O.useEffect(()=>{Q()},[]);const Q=async()=>{const G=await Xo.getMediaLibrary("user123"),N=await Xo.getVaultContents("user123"),I=await Xo.getRecentTransmissions(10),P=await Xo.getStats("user123");r(G),a(N),d(I),m(P)},Y=O.useCallback(async G=>{if(!G.trim())return;W(!0);const[N,I]=await Promise.all([Xo.searchYouTube(G),Xo.searchSpotify(G)]);M({youtube:N,spotify:I}),W(!1)},[]),re=[{id:"all",label:"ALL MEDIA",icon:""},{id:"video",label:"VIDEO",icon:"",count:f.video},{id:"audio",label:"AUDIO",icon:"",count:f.audio},{id:"image",label:"IMAGES",icon:"",count:f.image},{id:"document",label:"DOCS",icon:"",count:f.document}],K=t.filter(G=>T?oS.smartSearch(T,[G]).length>0:!0);return p.jsxs("div",{className:"media-center",children:[p.jsx(Qi,{}),p.jsxs("header",{className:"media-header",children:[p.jsx(Se,{to:"/",className:"media-logo",onMouseEnter:()=>ce("hover"),children:"L1T.GRID MEDIA"}),p.jsxs("div",{className:"media-search",children:[p.jsx("input",{type:"text",placeholder:"Search media, YouTube, Spotify...",value:T,onChange:G=>{A(G.target.value),G.target.value.length>2&&Y(G.target.value)}}),p.jsx("button",{onClick:()=>Y(T),children:""})]}),p.jsxs("div",{className:"media-stats",children:[p.jsxs("span",{className:"stat-item",children:[p.jsx("span",{className:"stat-icon",children:""}),p.jsx("span",{className:"stat-value",children:f.total||0}),p.jsx("span",{className:"stat-label",children:"TITLES"})]}),p.jsxs("span",{className:"stat-item",children:[p.jsx("span",{className:"stat-icon",children:""}),p.jsx("span",{className:"stat-value",children:f.encrypted||0}),p.jsx("span",{className:"stat-label",children:"SECURE"})]})]})]}),p.jsxs("div",{className:"media-layout",children:[p.jsxs("aside",{className:"media-sidebar",children:[p.jsx("nav",{className:"media-nav",children:re.map(G=>p.jsxs("button",{className:`nav-item ${n===G.id?"active":""}`,onClick:()=>e(G.id),onMouseEnter:()=>ce("hover"),children:[p.jsx("span",{className:"nav-icon",children:G.icon}),p.jsx("span",{className:"nav-label",children:G.label}),G.count!==void 0&&p.jsx("span",{className:"nav-count",children:G.count})]},G.id))}),p.jsxs("div",{className:"vault-section",children:[p.jsx("h3",{children:" SECURE VAULT"}),p.jsx("div",{className:"vault-list",children:i.slice(0,5).map(G=>p.jsx(YL,{item:G,onClick:w},G.id))}),p.jsx("button",{className:"vault-access",onMouseEnter:()=>ce("hover"),children:"ACCESS VAULT "})]})]}),p.jsxs("main",{className:"media-content",children:[p.jsxs("section",{className:"transmissions-section",children:[p.jsx("h2",{children:" RECENT TRANSMISSIONS"}),p.jsx("div",{className:"transmission-list",children:u.map(G=>p.jsxs("div",{className:"transmission-item",children:[p.jsx("span",{className:"tx-type",children:G.displayType}),p.jsx("span",{className:"tx-name",children:G.name}),p.jsx("span",{className:`tx-status ${G.status.toLowerCase()}`,children:G.status})]},G.id))})]}),p.jsxs("section",{className:"media-grid-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{children:" MEDIA LIBRARY"}),p.jsxs("div",{className:"view-toggle",children:[p.jsx("button",{className:"active",children:""}),p.jsx("button",{children:""})]})]}),p.jsx("div",{className:"media-grid",children:K.map(G=>p.jsxs("div",{className:"media-card",onClick:()=>w(G),onMouseEnter:()=>ce("hover"),children:[p.jsxs("div",{className:"media-thumb",children:[G.thumbnail?p.jsx("img",{src:G.thumbnail,alt:G.title}):p.jsxs("div",{className:"media-placeholder",children:[G.type==="video"&&"",G.type==="audio"&&"",G.type==="image"&&"",G.type==="document"&&""]}),p.jsx("span",{className:"media-type",children:G.type}),G.duration&&p.jsx("span",{className:"duration",children:gm(G.duration)})]}),p.jsxs("div",{className:"media-info",children:[p.jsx("h4",{children:G.title}),p.jsxs("p",{children:[G.description?.substring(0,50),"..."]}),p.jsxs("div",{className:"media-meta",children:[p.jsx("span",{children:FI(G.size||0)}),p.jsx("span",{children:G.addedAt?.toLocaleDateString()})]})]})]},G.id))})]}),T&&p.jsxs("section",{className:"external-section",children:[p.jsx("h2",{children:" EXTERNAL SOURCES"}),k?p.jsx("div",{className:"searching",children:"Searching external grids..."}):p.jsxs(p.Fragment,{children:[j.youtube.length>0&&p.jsxs("div",{className:"external-category",children:[p.jsx("h3",{children:" YouTube"}),p.jsx("div",{className:"external-grid",children:j.youtube.map(G=>p.jsx(pE,{item:G,onPlay:()=>window.open(`https://youtube.com/watch?v=${G.id}`,"_blank")},G.id))})]}),j.spotify.length>0&&p.jsxs("div",{className:"external-category",children:[p.jsx("h3",{children:" Spotify"}),p.jsx("div",{className:"external-grid",children:j.spotify.map(G=>p.jsx(pE,{item:G,onPlay:()=>{}},G.id))})]})]})]})]})]}),y&&p.jsx(QL,{item:y,onClose:()=>w(null)}),p.jsxs("footer",{className:"media-footer",children:[p.jsx("span",{children:"L1T.GRID MEDIA CENTER v2.0"}),p.jsx("span",{className:"separator",children:"|"}),p.jsxs("span",{children:[" ",f.total||0," TITLES INDEXED"]}),p.jsx("span",{className:"separator",children:"|"}),p.jsxs("span",{children:[" ",f.encrypted||0," SECURE"]}),p.jsx("span",{className:"separator",children:"|"}),p.jsx("span",{className:"blink",children:"SYSTEM OPERATIONAL"})]})]})}class JL{constructor(){this.activeStreams=new Map,this.chatListeners=new Map,this.viewerCounts=new Map}async createStream(e){const t=`stream_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r=rn(tt,"streams",t),i={id:t,title:e.title,description:e.description,hostId:e.hostId,hostName:e.hostName,status:"live",startedAt:Ms(),viewerCount:0,likes:0,tags:e.tags||[],thumbnail:e.thumbnail||null,rtmpUrl:e.rtmpUrl||null,playbackUrl:e.playbackUrl||null};return await ih(r,i),await this.createChatRoom(t),t}async createChatRoom(e){const t=rn(tt,"chats",e);await ih(t,{streamId:e,createdAt:Ms(),messageCount:0})}async joinStream(e,t,r){const i=rn(tt,"streams",e,"viewers",t);await ih(i,{userId:t,userName:r,joinedAt:Ms()});const a=rn(tt,"streams",e);return await $i(a,{viewerCount:this.incrementViewerCount(e,1)}),()=>this.leaveStream(e,t)}async leaveStream(e,t){const r=rn(tt,"streams",e,"viewers",t);await sI(r);const i=rn(tt,"streams",e);await $i(i,{viewerCount:this.incrementViewerCount(e,-1)})}incrementViewerCount(e,t){const r=this.viewerCounts.get(e)||0,i=Math.max(0,r+t);return this.viewerCounts.set(e,i),i}async sendChatMessage(e,t,r,i,a={}){const u=Qn(tt,"chats",e,"messages"),d={userId:t,userName:r,message:i,timestamp:Ms(),type:a.type||"text",replyTo:a.replyTo||null};await $g(u,d);const f=rn(tt,"chats",e);await $i(f,{messageCount:this.increment(1)})}subscribeToChat(e,t){const r=Qn(tt,"chats",e,"messages"),i=zi(r,Ql("timestamp","desc"),Nl(100)),a=Bh(i,u=>{const d=u.docs.map(f=>({id:f.id,...f.data(),timestamp:f.data().timestamp?.toDate()})).reverse();t(d)});return this.chatListeners.set(e,a),a}async getActiveStreams(e=10){const t=Qn(tt,"streams"),r=zi(t,Tp("status","==","live"),Ql("viewerCount","desc"),Nl(e));return(await Fl(r)).docs.map(a=>({id:a.id,...a.data(),startedAt:a.data().startedAt?.toDate()}))}async getUpcomingStreams(e=5){const t=Qn(tt,"streams"),r=zi(t,Tp("status","==","scheduled"),Ql("scheduledFor","asc"),Nl(e));return(await Fl(r)).docs.map(a=>({id:a.id,...a.data(),scheduledFor:a.data().scheduledFor?.toDate()}))}async endStream(e){const t=rn(tt,"streams",e);await $i(t,{status:"ended",endedAt:Ms()});const r=this.chatListeners.get(e);r&&(r(),this.chatListeners.delete(e))}async likeStream(e,t){const r=rn(tt,"streams",e,"likes",t);await ih(r,{userId:t,timestamp:Ms()});const i=rn(tt,"streams",e);await $i(i,{likes:this.increment(1)})}subscribeToStream(e,t){const r=rn(tt,"streams",e);return Bh(r,i=>{i.exists()&&t({id:i.id,...i.data()})})}async getRecommendedStreams(e,t=5){const r=Qn(tt,"users",e,"streamHistory"),a=(await Fl(zi(r,Nl(10)))).docs.flatMap(y=>y.data().tags||[]),u=Qn(tt,"streams"),d=zi(u,Tp("status","==","live"),Nl(t*2));return(await Fl(d)).docs.map(y=>({id:y.id,...y.data(),matchScore:this.calculateTagMatch(y.data().tags,a)})).sort((y,w)=>w.matchScore-y.matchScore).slice(0,t)}calculateTagMatch(e,t){return!e||!t.length?0:e.filter(i=>t.includes(i)).length/e.length}increment(e){return e}}const $s=new JL,ym={bannedWords:["spam","scam","fake"],checkMessage:n=>{const e=n.toLowerCase();return!ym.bannedWords.some(t=>e.includes(t))},formatMessage:n=>n.length>10&&n===n.toUpperCase()?n.toLowerCase():n},ZL=({msg:n,isOwn:e})=>p.jsxs("div",{className:`chat-message ${e?"own":""}`,children:[p.jsx("span",{className:"chat-user",children:n.userName}),p.jsx("span",{className:"chat-text",children:n.message}),p.jsx("span",{className:"chat-time",children:n.timestamp?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),mE=({stream:n,onClick:e})=>p.jsxs("div",{className:"stream-card",onClick:()=>e(n),onMouseEnter:()=>ce("hover"),children:[p.jsx("div",{className:"stream-thumbnail",children:p.jsxs("div",{className:"stream-preview",children:[n.thumbnail?p.jsx("img",{src:n.thumbnail,alt:n.title}):p.jsx("div",{className:"preview-placeholder",children:p.jsx("span",{className:"preview-icon",children:""})}),p.jsx("span",{className:"live-badge",children:"LIVE"}),p.jsxs("span",{className:"viewer-count",children:[" ",n.viewerCount||0]})]})}),p.jsxs("div",{className:"stream-info",children:[p.jsx("h4",{children:n.title}),p.jsx("p",{children:n.hostName}),p.jsx("div",{className:"stream-tags",children:n.tags?.map((t,r)=>p.jsxs("span",{className:"stream-tag",children:["#",t]},r))})]})]}),eO=({stream:n,onClose:e,user:t})=>{const[r,i]=O.useState([]),[a,u]=O.useState(""),[d,f]=O.useState(!1),m=O.useRef(null);O.useEffect(()=>{const T=$s.joinStream(n.id,t.id,t.name),A=$s.subscribeToChat(n.id,j=>{i(j)});return()=>{T(),A()}},[n.id,t]),O.useEffect(()=>{m.current?.scrollIntoView({behavior:"smooth"})},[r]);const y=T=>{if(T.preventDefault(),!a.trim())return;if(!ym.checkMessage(a)){alert("Message blocked by moderation");return}const A=ym.formatMessage(a);$s.sendChatMessage(n.id,t.id,t.name,A),u(""),ce("transmit")},w=()=>{d||($s.likeStream(n.id,t.id),f(!0),ce("click"))};return p.jsx("div",{className:"active-stream-overlay",children:p.jsxs("div",{className:"active-stream",children:[p.jsxs("div",{className:"stream-header-bar",children:[p.jsxs("div",{className:"stream-title-bar",children:[p.jsx("span",{className:"live-indicator",children:" LIVE"}),p.jsx("h3",{children:n.title})]}),p.jsxs("div",{className:"stream-actions",children:[p.jsxs("button",{className:`like-btn ${d?"liked":""}`,onClick:w,children:[" ",n.likes+(d?1:0)]}),p.jsx("button",{className:"close-btn",onClick:e,children:""})]})]}),p.jsxs("div",{className:"stream-content",children:[p.jsxs("div",{className:"stream-video-area",children:[p.jsxs("div",{className:"stream-video",children:[p.jsxs("div",{className:"video-placeholder-large",children:[p.jsx("span",{className:"broadcast-icon",children:""}),p.jsxs("p",{children:["BROADCASTING FROM NODE: ",n.hostName]}),p.jsx("span",{className:"stream-quality",children:"1080p60  H.264  AAC"})]}),p.jsxs("div",{className:"stream-overlay-info",children:[p.jsxs("span",{className:"overlay-item",children:[" ",n.viewerCount," VIEWERS"]}),p.jsxs("span",{className:"overlay-item",children:[" ",n.likes," POWER"]}),p.jsx("span",{className:"overlay-item",children:" STABLE"})]})]}),p.jsxs("div",{className:"stream-details",children:[p.jsxs("div",{className:"host-info",children:[p.jsx("span",{className:"host-avatar",children:""}),p.jsxs("div",{children:[p.jsx("h4",{children:n.hostName}),p.jsx("p",{children:n.description})]})]}),p.jsxs("div",{className:"stream-meta",children:[p.jsxs("span",{children:["Started: ",n.startedAt?.toLocaleTimeString()]}),p.jsxs("span",{children:["Stream ID: ",n.id]})]})]})]}),p.jsxs("div",{className:"stream-chat",children:[p.jsxs("div",{className:"chat-header",children:[p.jsx("span",{children:" LIVE CHAT"}),p.jsxs("span",{className:"chat-count",children:[r.length," messages"]})]}),p.jsxs("div",{className:"chat-messages",children:[r.map((T,A)=>p.jsx(ZL,{msg:T,isOwn:T.userId===t.id},A)),p.jsx("div",{ref:m})]}),p.jsxs("form",{className:"chat-input-area",onSubmit:y,children:[p.jsx("input",{type:"text",placeholder:"Type a message...",value:a,onChange:T=>u(T.target.value),maxLength:200}),p.jsx("button",{type:"submit",children:""})]})]})]})]})})},tO=({onClose:n,onCreate:e,user:t})=>{const[r,i]=O.useState(""),[a,u]=O.useState(""),[d,f]=O.useState(""),m=y=>{y.preventDefault(),e({title:r,description:a,tags:d.split(",").map(w=>w.trim()).filter(Boolean),hostId:t.id,hostName:t.name}),n()};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"create-stream-modal",children:[p.jsx("h3",{children:" START BROADCAST"}),p.jsxs("form",{onSubmit:m,children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Stream Title"}),p.jsx("input",{type:"text",value:r,onChange:y=>i(y.target.value),placeholder:"Enter stream title...",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Description"}),p.jsx("textarea",{value:a,onChange:y=>u(y.target.value),placeholder:"What's this stream about?",rows:3})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Tags (comma separated)"}),p.jsx("input",{type:"text",value:d,onChange:y=>f(y.target.value),placeholder:"coding, hacking, live..."})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"button",className:"btn-secondary",onClick:n,children:"CANCEL"}),p.jsx("button",{type:"submit",className:"btn-primary",children:"GO LIVE"})]})]})]})})};function nO(){const[n,e]=O.useState([]),[t,r]=O.useState([]),[i,a]=O.useState([]),[u,d]=O.useState(null),[f,m]=O.useState(!1),[y]=O.useState({id:"u0_a242",name:"U0_A242"});O.useEffect(()=>{w();const A=setInterval(w,3e4);return()=>clearInterval(A)},[]);const w=async()=>{const[A,j,M]=await Promise.all([$s.getActiveStreams(10),$s.getUpcomingStreams(5),$s.getRecommendedStreams(y.id,5)]);e(A),r(j),a(M)},T=async A=>{await $s.createStream(A),ce("transmit"),w()};return p.jsxs("div",{className:"live-page",children:[p.jsx(Qi,{}),p.jsxs("header",{className:"live-header",children:[p.jsx(Se,{to:"/",className:"live-logo",onMouseEnter:()=>ce("hover"),children:" L1T.GRID LIVE"}),p.jsxs("div",{className:"live-nav",children:[p.jsx(Se,{to:"/feed",onMouseEnter:()=>ce("hover"),children:"FEED"}),p.jsx(Se,{to:"/media",onMouseEnter:()=>ce("hover"),children:"MEDIA"}),p.jsx(Se,{to:"/profile",onMouseEnter:()=>ce("hover"),children:"PROFILE"})]}),p.jsx("button",{className:"go-live-btn",onClick:()=>m(!0),onMouseEnter:()=>ce("hover"),children:" GO LIVE"})]}),p.jsxs("main",{className:"live-content",children:[n.length>0&&!u&&p.jsx("section",{className:"featured-stream",children:p.jsxs("div",{className:"featured-banner",onClick:()=>d(n[0]),onMouseEnter:()=>ce("hover"),children:[p.jsxs("div",{className:"featured-preview",children:[p.jsx("span",{className:"featured-icon",children:""}),p.jsx("span",{className:"featured-live",children:"LIVE NOW"})]}),p.jsxs("div",{className:"featured-info",children:[p.jsx("h2",{children:n[0].title}),p.jsxs("p",{children:[n[0].hostName,"  ",n[0].viewerCount," viewers"]}),p.jsx("button",{className:"watch-now-btn",children:"WATCH NOW "})]})]})}),p.jsxs("section",{className:"streams-section",children:[p.jsxs("div",{className:"section-header",children:[p.jsx("h2",{children:" LIVE NOW"}),p.jsxs("span",{className:"stream-count",children:[n.length," active broadcasts"]})]}),n.length===0?p.jsxs("div",{className:"no-streams",children:[p.jsx("span",{className:"no-icon",children:""}),p.jsx("p",{children:"No active broadcasts"}),p.jsx("p",{children:"Be the first to go live!"})]}):p.jsx("div",{className:"streams-grid",children:n.map(A=>p.jsx(mE,{stream:A,onClick:d},A.id))})]}),i.length>0&&p.jsxs("section",{className:"streams-section",children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{children:" RECOMMENDED FOR YOU"})}),p.jsx("div",{className:"streams-grid",children:i.map(A=>p.jsx(mE,{stream:A,onClick:d},A.id))})]}),t.length>0&&p.jsxs("section",{className:"streams-section",children:[p.jsx("div",{className:"section-header",children:p.jsx("h2",{children:" UPCOMING"})}),p.jsx("div",{className:"upcoming-list",children:t.map(A=>p.jsxs("div",{className:"upcoming-item",children:[p.jsx("span",{className:"upcoming-time",children:A.scheduledFor?.toLocaleString()}),p.jsx("span",{className:"upcoming-title",children:A.title}),p.jsx("span",{className:"upcoming-host",children:A.hostName}),p.jsx("button",{className:"remind-btn",children:" REMIND ME"})]},A.id))})]})]}),u&&p.jsx(eO,{stream:u,onClose:()=>d(null),user:y}),f&&p.jsx(tO,{onClose:()=>m(!1),onCreate:T,user:y}),p.jsxs("footer",{className:"live-footer",children:[p.jsx("span",{children:"L1T.GRID LIVE STREAMING"}),p.jsx("span",{className:"separator",children:"|"}),p.jsxs("span",{children:[n.length," ACTIVE BROADCASTS"]}),p.jsx("span",{className:"separator",children:"|"}),p.jsx("span",{className:"blink",children:"SYSTEM ONLINE"})]})]})}const rO=()=>p.jsxs("div",{className:"not-found-page",children:[p.jsx(Qi,{}),p.jsxs("div",{className:"not-found-content",children:[p.jsx("h1",{className:"glitch","data-text":"404",children:"404"}),p.jsx("p",{className:"sub-text",children:"SIGNAL LOST /// CONNECTION TERMINATED"}),p.jsx("p",{className:"description",children:"The node you are trying to reach does not exist or has been absorbed by the grid."}),p.jsx(Se,{to:"/",className:"return-link",children:"> RETURN TO SAFE NODE"})]})]});function sO(){return p.jsxs("div",{className:"app",children:[p.jsx(iC,{}),p.jsxs(K1,{children:[p.jsx(bs,{path:"/",element:p.jsx(bk,{})}),p.jsx(bs,{path:"/projects",element:p.jsx(Mk,{})}),p.jsx(bs,{path:"/feed",element:p.jsx(WL,{})}),p.jsx(bs,{path:"/profile",element:p.jsx(GL,{})}),p.jsx(bs,{path:"/media",element:p.jsx(XL,{})}),p.jsx(bs,{path:"/live",element:p.jsx(nO,{})}),p.jsx(bs,{path:"*",element:p.jsx(rO,{})})]})]})}n1.createRoot(document.getElementById("root")).render(p.jsx(yE.StrictMode,{children:p.jsx(tC,{children:p.jsx(sO,{})})}));
