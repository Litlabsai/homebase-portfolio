import{j as S,A as Oa,m as W}from"./motion-K6OG_hvw.js";import{a as U1,b as j1,g as P1,r as rt,N as z1,c as q1,d as Ra,e as B1,L as H1,R as F1,B as G1}from"./router-CmIGl_H7.js";import{L as Bv,g as Hv,i as Q1,a as K1,_ as kd,C as Ld,r as vo,b as Y1,S as Jr,E as im,c as Gn,d as Ve,e as X1,f as Qn,h as rn,F as $c,j as J1,q as Co,k as xo,l as sm,m as Z1,n as Fv,o as Oc,p as Gv,u as Qv,s as W1,t as $1,v as tA,w as eA,x as nA,y as iA,z as sA,A as aA,B as rA}from"./firebase-BpffuuSi.js";import{G as ce}from"./icons-ibm69z4q.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ed={exports:{}},lo={},Ad={exports:{}},Sd={};var p_;function lA(){return p_||(p_=1,(function(r){function t(G,tt){var ut=G.length;G.push(tt);t:for(;0<ut;){var kt=ut-1>>>1,Gt=G[kt];if(0<o(Gt,tt))G[kt]=tt,G[ut]=Gt,ut=kt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var tt=G[0],ut=G.pop();if(ut!==tt){G[0]=ut;t:for(var kt=0,Gt=G.length,Ie=Gt>>>1;kt<Ie;){var Kt=2*(kt+1)-1,Nt=G[Kt],te=Kt+1,Xe=G[te];if(0>o(Nt,ut))te<Gt&&0>o(Xe,Nt)?(G[kt]=Xe,G[te]=ut,kt=te):(G[kt]=Nt,G[Kt]=ut,kt=Kt);else if(te<Gt&&0>o(Xe,ut))G[kt]=Xe,G[te]=ut,kt=te;else break t}}return tt}function o(G,tt){var ut=G.sortIndex-tt.sortIndex;return ut!==0?ut:G.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,b=null,V=3,H=!1,X=!1,Z=!1,$=!1,mt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,Tt=typeof setImmediate<"u"?setImmediate:null;function Ut(G){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=G)a(v),tt.sortIndex=tt.expirationTime,t(_,tt);else break;tt=i(v)}}function at(G){if(Z=!1,Ut(G),!X)if(i(_)!==null)X=!0,Et||(Et=!0,k());else{var tt=i(v);tt!==null&&Oe(at,tt.startTime-G)}}var Et=!1,N=-1,w=5,C=-1;function O(){return $?!0:!(r.unstable_now()-C<w)}function D(){if($=!1,Et){var G=r.unstable_now();C=G;var tt=!0;try{t:{X=!1,Z&&(Z=!1,_t(N),N=-1),H=!0;var ut=V;try{e:{for(Ut(G),b=i(_);b!==null&&!(b.expirationTime>G&&O());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,V=b.priorityLevel;var Gt=kt(b.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){b.callback=Gt,Ut(G),tt=!0;break e}b===i(_)&&a(_),Ut(G)}else a(_);b=i(_)}if(b!==null)tt=!0;else{var Ie=i(v);Ie!==null&&Oe(at,Ie.startTime-G),tt=!1}}break t}finally{b=null,V=ut,H=!1}tt=void 0}}finally{tt?k():Et=!1}}}var k;if(typeof Tt=="function")k=function(){Tt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,he=I.port2;I.port1.onmessage=D,k=function(){he.postMessage(null)}}else k=function(){mt(D,0)};function Oe(G,tt){N=mt(function(){G(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G||(w=0<G?Math.floor(1e3/G):5)},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ut=V;V=tt;try{return G()}finally{V=ut}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return tt()}finally{V=ut}},r.unstable_scheduleCallback=function(G,tt,ut){var kt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?kt+ut:kt):ut=kt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ut+Gt,G={id:A++,callback:tt,priorityLevel:G,startTime:ut,expirationTime:Gt,sortIndex:-1},ut>kt?(G.sortIndex=ut,t(v,G),i(_)===null&&G===i(v)&&(Z?(_t(N),N=-1):Z=!0,Oe(at,ut-kt))):(G.sortIndex=Gt,t(_,G),X||H||(X=!0,Et||(Et=!0,k()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var tt=V;return function(){var ut=V;V=tt;try{return G.apply(this,arguments)}finally{V=ut}}}})(Sd)),Sd}var y_;function oA(){return y_||(y_=1,Ad.exports=lA()),Ad.exports}var __;function uA(){if(__)return lo;__=1;var r=oA(),t=U1(),i=j1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,l=f;break}if(T===l){p=!0,l=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,l=h;break}if(T===l){p=!0,l=f,s=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),_t=Symbol.for("react.consumer"),Tt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),at=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case mt:return"Profiler";case $:return"StrictMode";case at:return"Suspense";case Et:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case Tt:return e.displayName||"Context";case _t:return(e._context.displayName||"Context")+".Consumer";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}var Oe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},kt=[],Gt=-1;function Ie(e){return{current:e}}function Kt(e){0>Gt||(e.current=kt[Gt],kt[Gt]=null,Gt--)}function Nt(e,n){Gt++,kt[Gt]=e.current,e.current=n}var te=Ie(null),Xe=Ie(null),yn=Ie(null),ts=Ie(null);function es(e,n){switch(Nt(yn,n),Nt(Xe,e),Nt(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Kt(te),Nt(te,e)}function Ii(){Kt(te),Kt(Xe),Kt(yn)}function nl(e){e.memoizedState!==null&&Nt(ts,e);var n=te.current,s=zy(n,e.type);n!==s&&(Nt(Xe,e),Nt(te,s))}function Ba(e){Xe.current===e&&(Kt(te),Kt(Xe)),ts.current===e&&(Kt(ts),io._currentValue=ut)}var Ha,Fa;function Zn(e){if(Ha===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ha=n&&n[1]||"",Fa=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ha+e+Fa}var il=!1;function Js(e,n){if(!e||il)return"";il=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var P=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){P=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){P=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),j=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===j.length)for(l=R.length-1,h=j.length-1;1<=l&&0<=h&&R[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==j[h]){var B=`
`+R[l].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=l&&0<=h);break}}}finally{il=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Zn(s):""}function sl(e,n){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==n&&n!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return Zn("Activity");default:return""}}function al(e){try{var n="",s=null;do n+=sl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fe=Object.prototype.hasOwnProperty,be=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,Ah=r.unstable_shouldYield,qo=r.unstable_requestPaint,Qe=r.unstable_now,Zs=r.unstable_getCurrentPriorityLevel,rl=r.unstable_ImmediatePriority,ll=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,Sh=r.unstable_LowPriority,Bo=r.unstable_IdlePriority,Ho=r.log,Fo=r.unstable_setDisableYieldValue,On=null,Me=null;function _n(e){if(typeof Ho=="function"&&Fo(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(On,e)}catch{}}var se=Math.clz32?Math.clz32:Qo,Go=Math.log,Ga=Math.LN2;function Qo(e){return e>>>=0,e===0?32:31-(Go(e)/Ga|0)|0}var Wn=256,Ws=262144,de=4194304;function $n(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=$n(l):(p&=T,p!==0?h=$n(p):s||(s=T&~e,s!==0&&(h=$n(s))))):(T=l&~f,T!==0?h=$n(T):p!==0?h=$n(p):s||(s=l&~e,s!==0&&(h=$n(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Mn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var e=de;return de<<=1,(de&62914560)===0&&(de=4194304),e}function ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function $s(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var B=31-se(s),Q=1<<B;T[B]=0,R[B]=-1;var P=j[B];if(P!==null)for(j[B]=null,B=0;B<P.length;B++){var q=P[B];q!==null&&(q.lane&=-536870913)}s&=~Q}l!==0&&ta(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ta(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-se(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function ol(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-se(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function ul(e,n){var s=n&-n;return s=(s&42)!==0?1:ea(s),(s&(e.suspendedLanes|n))!==0?0:s}function ea(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yo(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:u_(e.type))}function kn(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Ln=Math.random().toString(36).slice(2),me="__reactFiber$"+Ln,Ce="__reactProps$"+Ln,ni="__reactContainer$"+Ln,Qa="__reactEvents$"+Ln,Rh="__reactListeners$"+Ln,Xo="__reactHandles$"+Ln,Jo="__reactResources$"+Ln,ii="__reactMarker$"+Ln;function Ka(e){delete e[me],delete e[Ce],delete e[Qa],delete e[Rh],delete e[Xo]}function si(e){var n=e[me];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ni]||s[me]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Ky(e);e!==null;){if(s=e[me])return s;e=Ky(e)}return n}e=s,s=e.parentNode}return null}function vn(e){if(e=e[me]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ln(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[Jo];return n||(n=e[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ge(e){e[ii]=!0}var cl=new Set,hl={};function ri(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(hl[e]=n,e=0;e<n.length;e++)cl.add(n[e])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dl={},ml={};function Zo(e){return fe.call(ml,e)?!0:fe.call(dl,e)?!1:fl.test(e)?ml[e]=!0:(dl[e]=!0,!1)}function Ya(e,n,s){if(Zo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function on(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function pe(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function jt(e){if(!e._valueTracker){var n=ss(e)?"checked":"value";e._valueTracker=gl(e,n,""+e[n])}}function na(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ss(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ia=/[\n"\\]/g;function Je(e){return e.replace(ia,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xa(e,n,s,l,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+xe(n)):e.value!==""+xe(n)&&(e.value=""+xe(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?pl(e,p,xe(n)):s!=null?pl(e,p,xe(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+xe(T):e.removeAttribute("name")}function Wo(e,n,s,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){jt(e);return}s=s!=null?""+xe(s):"",n=n!=null?""+xe(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),jt(e)}function pl(e,n,s){n==="number"&&oi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function as(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function $o(e,n,s){if(n!=null&&(n=""+xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+xe(s):""}function rs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Oe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=xe(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),jt(e)}function Ze(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||tu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function _l(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&yl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&yl(e,f,n[f])}function Ja(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Un(){}var vl=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,ui=null;function sa(e){var n=vn(e);if(n&&(e=n.stateNode)){var s=e[Ce]||null;t:switch(e=n.stateNode,n.type){case"input":if(Xa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Je(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ce]||null;if(!h)throw Error(a(90));Xa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&na(l)}break t;case"textarea":$o(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&as(e,!!s.multiple,n,!1)}}}var Wa=!1;function us(e,n,s){if(Wa)return e(n,s);Wa=!0;try{var l=e(n);return l}finally{if(Wa=!1,(os!==null||ui!==null)&&(Yu(),os&&(n=os,e=ui,ui=os=null,sa(n),e)))for(n=0;n<e.length;n++)sa(e[n])}}function jn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ce]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(En)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){aa=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{aa=!1}var ci=null,Tl=null,ra=null;function El(){if(ra)return ra;var e,n=Tl,s=n.length,l,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return ra=h.slice(e,1<l?1-l:void 0)}function la(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Pn(){return!1}function ke(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Pn,this.isPropagationStopped=Pn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ke(Ni),cs=b({},Ni,{view:0,detail:0}),Al=ke(cs),hs,$a,fi,tr=b({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hs=e.screenX-fi.screenX,$a=e.screenY-fi.screenY):$a=hs=0,fi=e),hs)},movementY:function(e){return"movementY"in e?e.movementY:$a}}),Sl=ke(tr),oa=b({},tr,{dataTransfer:0}),nu=ke(oa),iu=b({},cs,{relatedTarget:0}),ua=ke(iu),bl=b({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),su=ke(bl),er=b({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),au=ke(er),ru=b({},Ni,{data:0}),di=ke(ru),lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function fs(){return cu}var Ke=b({},cs,{key:function(e){if(e.key){var n=lu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=la(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?la(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?la(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hu=ke(Ke),fu=b({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=ke(fu),u=b({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),m=ke(u),y=b({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=ke(y),L=b({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z=ke(L),J=b({},Ni,{newState:0,oldState:0}),pt=ke(J),ae=[9,13,27,32],Ot=En&&"CompositionEvent"in window,Wt=null;En&&"documentMode"in document&&(Wt=document.documentMode);var An=En&&"TextEvent"in window&&!Wt,mi=En&&(!Ot||Wt&&8<Wt&&11>=Wt),zn=" ",qn=!1;function ca(e,n){switch(e){case"keyup":return ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ir=!1;function lE(e,n){switch(e){case"compositionend":return nr(n);case"keypress":return n.which!==32?null:(qn=!0,zn);case"textInput":return e=n.data,e===zn&&qn?null:e;default:return null}}function oE(e,n){if(ir)return e==="compositionend"||!Ot&&ca(e,n)?(e=El(),ra=Tl=ci=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var uE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!uE[e.type]:n==="textarea"}function Zm(e,n,s,l){os?ui?ui.push(l):ui=[l]:os=l,n=ec(n,"onChange"),0<n.length&&(s=new hi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var wl=null,Rl=null;function cE(e){Oy(e,0)}function du(e){var n=ln(e);if(na(n))return e}function Wm(e,n){if(e==="change")return n}var $m=!1;if(En){var Ih;if(En){var Ch="oninput"in document;if(!Ch){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),Ch=typeof tg.oninput=="function"}Ih=Ch}else Ih=!1;$m=Ih&&(!document.documentMode||9<document.documentMode)}function eg(){wl&&(wl.detachEvent("onpropertychange",ng),Rl=wl=null)}function ng(e){if(e.propertyName==="value"&&du(Rl)){var n=[];Zm(n,Rl,e,Tn(e)),us(cE,n)}}function hE(e,n,s){e==="focusin"?(eg(),wl=n,Rl=s,wl.attachEvent("onpropertychange",ng)):e==="focusout"&&eg()}function fE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Rl)}function dE(e,n){if(e==="click")return du(n)}function mE(e,n){if(e==="input"||e==="change")return du(n)}function gE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:gE;function Il(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!fe.call(n,h)||!un(e[h],n[h]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sg(e,n){var s=ig(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ig(s)}}function ag(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ag(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function rg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=oi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=oi(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var pE=En&&"documentMode"in document&&11>=document.documentMode,sr=null,Nh=null,Cl=null,Dh=!1;function lg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Dh||sr==null||sr!==oi(l)||(l=sr,"selectionStart"in l&&xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Il(Cl,l)||(Cl=l,l=ec(Nh,"onSelect"),0<l.length&&(n=new hi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=sr)))}function ha(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ar={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Vh={},og={};En&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function fa(e){if(Vh[e])return Vh[e];if(!ar[e])return e;var n=ar[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in og)return Vh[e]=n[s];return e}var ug=fa("animationend"),cg=fa("animationiteration"),hg=fa("animationstart"),yE=fa("transitionrun"),_E=fa("transitionstart"),vE=fa("transitioncancel"),fg=fa("transitionend"),dg=new Map,Oh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oh.push("scrollEnd");function Bn(e,n){dg.set(e,n),ri(n,[e])}var mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}},Sn=[],rr=0,Mh=0;function gu(){for(var e=rr,n=Mh=rr=0;n<e;){var s=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&mg(s,h,f)}}function pu(e,n,s,l){Sn[rr++]=e,Sn[rr++]=n,Sn[rr++]=s,Sn[rr++]=l,Mh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function kh(e,n,s,l){return pu(e,n,s,l),yu(e)}function da(e,n){return pu(e,null,null,n),yu(e)}function mg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-se(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function yu(e){if(50<Jl)throw Jl=0,Gf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var lr={};function TE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,s,l){return new TE(e,n,s,l)}function Lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var s=e.alternate;return s===null?(s=cn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function gg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")Lh(e)&&(p=1);else if(typeof e=="string")p=w1(e,s,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=cn(31,s,n,h),e.elementType=C,e.lanes=f,e;case Z:return ma(s.children,h,f,n);case $:p=8,h|=24;break;case mt:return e=cn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case at:return e=cn(13,s,n,h),e.elementType=at,e.lanes=f,e;case Et:return e=cn(19,s,n,h),e.elementType=Et,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:p=10;break t;case _t:p=9;break t;case Ut:p=11;break t;case N:p=14;break t;case w:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=cn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function ma(e,n,s,l){return e=cn(7,e,l,n),e.lanes=s,e}function Uh(e,n,s){return e=cn(6,e,null,n),e.lanes=s,e}function pg(e){var n=cn(18,null,null,0);return n.stateNode=e,n}function jh(e,n,s){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var yg=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var s=yg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:al(n)},yg.set(e,n),n)}return{value:e,source:n,stack:al(n)}}var or=[],ur=0,vu=null,xl=0,wn=[],Rn=0,ds=null,gi=1,pi="";function Oi(e,n){or[ur++]=xl,or[ur++]=vu,vu=e,xl=n}function _g(e,n,s){wn[Rn++]=gi,wn[Rn++]=pi,wn[Rn++]=ds,ds=e;var l=gi;e=pi;var h=32-se(l)-1;l&=~(1<<h),s+=1;var f=32-se(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,gi=1<<32-se(n)+h|s<<h|l,pi=f+e}else gi=1<<f|s<<h|l,pi=e}function Ph(e){e.return!==null&&(Oi(e,1),_g(e,1,0))}function zh(e){for(;e===vu;)vu=or[--ur],or[ur]=null,xl=or[--ur],or[ur]=null;for(;e===ds;)ds=wn[--Rn],wn[Rn]=null,pi=wn[--Rn],wn[Rn]=null,gi=wn[--Rn],wn[Rn]=null}function vg(e,n){wn[Rn++]=gi,wn[Rn++]=pi,wn[Rn++]=ds,gi=n.id,pi=n.overflow,ds=e}var Le=null,Xt=null,Ct=!1,ms=null,In=!1,qh=Error(a(519));function gs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(bn(n,e)),qh}function Tg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[me]=e,n[Ce]=l,s){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(s=0;s<Wl.length;s++)St(Wl[s],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":St("invalid",n),Wo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":St("invalid",n);break;case"textarea":St("invalid",n),rs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Uy(n.textContent,s)?(l.popover!=null&&(St("beforetoggle",n),St("toggle",n)),l.onScroll!=null&&St("scroll",n),l.onScrollEnd!=null&&St("scrollend",n),l.onClick!=null&&(n.onclick=Un),n=!0):n=!1,n||gs(e,!0)}function Eg(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Le=Le.return}}function cr(e){if(e!==Le)return!1;if(!Ct)return Eg(e),Ct=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rd(e.type,e.memoizedProps)),s=!s),s&&Xt&&gs(e),Eg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Xt=Qy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Xt=Qy(e)}else n===27?(n=Xt,xs(e.type)?(e=hd,hd=null,Xt=e):Xt=n):Xt=Le?xn(e.stateNode.nextSibling):null;return!0}function ga(){Xt=Le=null,Ct=!1}function Bh(){var e=ms;return e!==null&&(en===null?en=e:en.push.apply(en,e),ms=null),e}function Nl(e){ms===null?ms=[e]:ms.push(e)}var Hh=Ie(null),pa=null,Mi=null;function ps(e,n,s){Nt(Hh,n._currentValue),n._currentValue=s}function ki(e){e._currentValue=Hh.current,Kt(Hh)}function Fh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Gh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Fh(f.return,s,e),l||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Fh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function hr(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;un(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===ts.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(io):e=[io])}h=h.return}e!==null&&Gh(n,e,s,l),n.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ya(e){pa=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ue(e){return Ag(pa,e)}function Eu(e,n){return pa===null&&ya(e),Ag(e,n)}function Ag(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Mi===null){if(e===null)throw Error(a(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return s}var EE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},AE=r.unstable_scheduleCallback,SE=r.unstable_NormalPriority,ye={$$typeof:Tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qh(){return{controller:new EE,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&AE(SE,function(){e.controller.abort()})}var Vl=null,Kh=0,fr=0,dr=null;function bE(e,n){if(Vl===null){var s=Vl=[];Kh=0,fr=Zf(),dr={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Kh++,n.then(Sg,Sg),n}function Sg(){if(--Kh===0&&Vl!==null){dr!==null&&(dr.status="fulfilled");var e=Vl;Vl=null,fr=0,dr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function wE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var bg=G.S;G.S=function(e,n){ly=Qe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bE(e,n),bg!==null&&bg(e,n)};var _a=Ie(null);function Yh(){var e=_a.current;return e!==null?e:Qt.pooledCache}function Au(e,n){n===null?Nt(_a,_a.current):Nt(_a,n.pool)}function wg(){var e=Yh();return e===null?null:{parent:ye._currentValue,pool:e}}var mr=Error(a(460)),Xh=Error(a(474)),Su=Error(a(542)),bu={then:function(){}};function Rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Un,Un),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xg(e),e;default:if(typeof n.status=="string")n.then(Un,Un);else{if(e=Qt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,xg(e),e}throw Ta=n,mr}}function va(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ta=s,mr):s}}var Ta=null;function Cg(){if(Ta===null)throw Error(a(459));var e=Ta;return Ta=null,e}function xg(e){if(e===mr||e===Su)throw Error(a(483))}var gr=null,Ol=0;function wu(e){var n=Ol;return Ol+=1,gr===null&&(gr=[]),Ig(gr,e,n)}function Ml(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ru(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ng(e){function n(M,x){if(e){var U=M.deletions;U===null?(M.deletions=[x],M.flags|=16):U.push(x)}}function s(M,x){if(!e)return null;for(;x!==null;)n(M,x),x=x.sibling;return null}function l(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function h(M,x){return M=Vi(M,x),M.index=0,M.sibling=null,M}function f(M,x,U){return M.index=U,e?(U=M.alternate,U!==null?(U=U.index,U<x?(M.flags|=67108866,x):U):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,x,U,F){return x===null||x.tag!==6?(x=Uh(U,M.mode,F),x.return=M,x):(x=h(x,U),x.return=M,x)}function R(M,x,U,F){var lt=U.type;return lt===Z?B(M,x,U.props.children,F,U.key):x!==null&&(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&va(lt)===x.type)?(x=h(x,U.props),Ml(x,U),x.return=M,x):(x=_u(U.type,U.key,U.props,null,M.mode,F),Ml(x,U),x.return=M,x)}function j(M,x,U,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=jh(U,M.mode,F),x.return=M,x):(x=h(x,U.children||[]),x.return=M,x)}function B(M,x,U,F,lt){return x===null||x.tag!==7?(x=ma(U,M.mode,F,lt),x.return=M,x):(x=h(x,U),x.return=M,x)}function Q(M,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Uh(""+x,M.mode,U),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case H:return U=_u(x.type,x.key,x.props,null,M.mode,U),Ml(U,x),U.return=M,U;case X:return x=jh(x,M.mode,U),x.return=M,x;case w:return x=va(x),Q(M,x,U)}if(Oe(x)||k(x))return x=ma(x,M.mode,U,null),x.return=M,x;if(typeof x.then=="function")return Q(M,wu(x),U);if(x.$$typeof===Tt)return Q(M,Eu(M,x),U);Ru(M,x)}return null}function P(M,x,U,F){var lt=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return lt!==null?null:T(M,x,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case H:return U.key===lt?R(M,x,U,F):null;case X:return U.key===lt?j(M,x,U,F):null;case w:return U=va(U),P(M,x,U,F)}if(Oe(U)||k(U))return lt!==null?null:B(M,x,U,F,null);if(typeof U.then=="function")return P(M,x,wu(U),F);if(U.$$typeof===Tt)return P(M,x,Eu(M,U),F);Ru(M,U)}return null}function q(M,x,U,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(U)||null,T(x,M,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case H:return M=M.get(F.key===null?U:F.key)||null,R(x,M,F,lt);case X:return M=M.get(F.key===null?U:F.key)||null,j(x,M,F,lt);case w:return F=va(F),q(M,x,U,F,lt)}if(Oe(F)||k(F))return M=M.get(U)||null,B(x,M,F,lt,null);if(typeof F.then=="function")return q(M,x,U,wu(F),lt);if(F.$$typeof===Tt)return q(M,x,U,Eu(x,F),lt);Ru(x,F)}return null}function it(M,x,U,F){for(var lt=null,Dt=null,st=x,vt=x=0,wt=null;st!==null&&vt<U.length;vt++){st.index>vt?(wt=st,st=null):wt=st.sibling;var Vt=P(M,st,U[vt],F);if(Vt===null){st===null&&(st=wt);break}e&&st&&Vt.alternate===null&&n(M,st),x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt,st=wt}if(vt===U.length)return s(M,st),Ct&&Oi(M,vt),lt;if(st===null){for(;vt<U.length;vt++)st=Q(M,U[vt],F),st!==null&&(x=f(st,x,vt),Dt===null?lt=st:Dt.sibling=st,Dt=st);return Ct&&Oi(M,vt),lt}for(st=l(st);vt<U.length;vt++)wt=q(st,M,vt,U[vt],F),wt!==null&&(e&&wt.alternate!==null&&st.delete(wt.key===null?vt:wt.key),x=f(wt,x,vt),Dt===null?lt=wt:Dt.sibling=wt,Dt=wt);return e&&st.forEach(function(Ms){return n(M,Ms)}),Ct&&Oi(M,vt),lt}function ct(M,x,U,F){if(U==null)throw Error(a(151));for(var lt=null,Dt=null,st=x,vt=x=0,wt=null,Vt=U.next();st!==null&&!Vt.done;vt++,Vt=U.next()){st.index>vt?(wt=st,st=null):wt=st.sibling;var Ms=P(M,st,Vt.value,F);if(Ms===null){st===null&&(st=wt);break}e&&st&&Ms.alternate===null&&n(M,st),x=f(Ms,x,vt),Dt===null?lt=Ms:Dt.sibling=Ms,Dt=Ms,st=wt}if(Vt.done)return s(M,st),Ct&&Oi(M,vt),lt;if(st===null){for(;!Vt.done;vt++,Vt=U.next())Vt=Q(M,Vt.value,F),Vt!==null&&(x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt);return Ct&&Oi(M,vt),lt}for(st=l(st);!Vt.done;vt++,Vt=U.next())Vt=q(st,M,vt,Vt.value,F),Vt!==null&&(e&&Vt.alternate!==null&&st.delete(Vt.key===null?vt:Vt.key),x=f(Vt,x,vt),Dt===null?lt=Vt:Dt.sibling=Vt,Dt=Vt);return e&&st.forEach(function(L1){return n(M,L1)}),Ct&&Oi(M,vt),lt}function Ft(M,x,U,F){if(typeof U=="object"&&U!==null&&U.type===Z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case H:t:{for(var lt=U.key;x!==null;){if(x.key===lt){if(lt=U.type,lt===Z){if(x.tag===7){s(M,x.sibling),F=h(x,U.props.children),F.return=M,M=F;break t}}else if(x.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===w&&va(lt)===x.type){s(M,x.sibling),F=h(x,U.props),Ml(F,U),F.return=M,M=F;break t}s(M,x);break}else n(M,x);x=x.sibling}U.type===Z?(F=ma(U.props.children,M.mode,F,U.key),F.return=M,M=F):(F=_u(U.type,U.key,U.props,null,M.mode,F),Ml(F,U),F.return=M,M=F)}return p(M);case X:t:{for(lt=U.key;x!==null;){if(x.key===lt)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){s(M,x.sibling),F=h(x,U.children||[]),F.return=M,M=F;break t}else{s(M,x);break}else n(M,x);x=x.sibling}F=jh(U,M.mode,F),F.return=M,M=F}return p(M);case w:return U=va(U),Ft(M,x,U,F)}if(Oe(U))return it(M,x,U,F);if(k(U)){if(lt=k(U),typeof lt!="function")throw Error(a(150));return U=lt.call(U),ct(M,x,U,F)}if(typeof U.then=="function")return Ft(M,x,wu(U),F);if(U.$$typeof===Tt)return Ft(M,x,Eu(M,U),F);Ru(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(s(M,x.sibling),F=h(x,U),F.return=M,M=F):(s(M,x),F=Uh(U,M.mode,F),F.return=M,M=F),p(M)):s(M,x)}return function(M,x,U,F){try{Ol=0;var lt=Ft(M,x,U,F);return gr=null,lt}catch(st){if(st===mr||st===Su)throw st;var Dt=cn(29,st,null,M.mode);return Dt.lanes=F,Dt.return=M,Dt}}}var Ea=Ng(!0),Dg=Ng(!1),ys=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _s(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Mt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=yu(e),mg(e,null,s),n}return pu(e,l,n,s),yu(e)}function kl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ol(e,s)}}function Wh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function Ll(){if($h){var e=dr;if(e!==null)throw e}}function Ul(e,n,s,l){$h=!1;var h=e.updateQueue;ys=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,j=R.next;R.next=null,p===null?f=j:p.next=j,p=R;var B=e.alternate;B!==null&&(B=B.updateQueue,T=B.lastBaseUpdate,T!==p&&(T===null?B.firstBaseUpdate=j:T.next=j,B.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,B=j=R=null,T=f;do{var P=T.lane&-536870913,q=P!==T.lane;if(q?(bt&P)===P:(l&P)===P){P!==0&&P===fr&&($h=!0),B!==null&&(B=B.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var it=e,ct=T;P=n;var Ft=s;switch(ct.tag){case 1:if(it=ct.payload,typeof it=="function"){Q=it.call(Ft,Q,P);break t}Q=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=ct.payload,P=typeof it=="function"?it.call(Ft,Q,P):it,P==null)break t;Q=b({},Q,P);break t;case 2:ys=!0}}P=T.callback,P!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[P]:q.push(P))}else q={lane:P,tag:T.tag,payload:T.payload,callback:T.callback,next:null},B===null?(j=B=q,R=Q):B=B.next=q,p|=P;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);B===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=B,f===null&&(h.shared.lanes=0),bs|=p,e.lanes=p,e.memoizedState=Q}}function Vg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Og(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Vg(s[e],n)}var pr=Ie(null),Iu=Ie(0);function Mg(e,n){e=Fi,Nt(Iu,e),Nt(pr,n),Fi=e|n.baseLanes}function tf(){Nt(Iu,Fi),Nt(pr,pr.current)}function ef(){Fi=Iu.current,Kt(pr),Kt(Iu)}var hn=Ie(null),Cn=null;function Ts(e){var n=e.alternate;Nt(re,re.current&1),Nt(hn,e),Cn===null&&(n===null||pr.current!==null||n.memoizedState!==null)&&(Cn=e)}function nf(e){Nt(re,re.current),Nt(hn,e),Cn===null&&(Cn=e)}function kg(e){e.tag===22?(Nt(re,re.current),Nt(hn,e),Cn===null&&(Cn=e)):Es()}function Es(){Nt(re,re.current),Nt(hn,hn.current)}function fn(e){Kt(hn),Cn===e&&(Cn=null),Kt(re)}var re=Ie(0);function Cu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ud(s)||cd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,yt=null,Bt=null,_e=null,xu=!1,yr=!1,Aa=!1,Nu=0,jl=0,_r=null,RE=0;function ne(){throw Error(a(321))}function sf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!un(e[s],n[s]))return!1;return!0}function af(e,n,s,l,h,f){return Li=f,yt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?_p:Tf,Aa=!1,f=s(l,h),Aa=!1,yr&&(f=Ug(n,s,l,h)),Lg(e),f}function Lg(e){G.H=ql;var n=Bt!==null&&Bt.next!==null;if(Li=0,_e=Bt=yt=null,xu=!1,jl=0,_r=null,n)throw Error(a(300));e===null||ve||(e=e.dependencies,e!==null&&Tu(e)&&(ve=!0))}function Ug(e,n,s,l){yt=e;var h=0;do{if(yr&&(_r=null),jl=0,yr=!1,25<=h)throw Error(a(301));if(h+=1,_e=Bt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=vp,f=n(s,l)}while(yr);return f}function IE(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Pl(n):n,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(yt.flags|=1024),n}function rf(){var e=Nu!==0;return Nu=0,e}function lf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function of(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}Li=0,_e=Bt=yt=null,yr=!1,jl=Nu=0,_r=null}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?yt.memoizedState=_e=e:_e=_e.next=e,_e}function le(){if(Bt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var n=_e===null?yt.memoizedState:_e.next;if(n!==null)_e=n,Bt=e;else{if(e===null)throw yt.alternate===null?Error(a(467)):Error(a(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},_e===null?yt.memoizedState=_e=e:_e=_e.next=e}return _e}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var n=jl;return jl+=1,_r===null&&(_r=[]),e=Ig(_r,e,n),n=yt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?_p:Tf),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===Tt)return Ue(e)}throw Error(a(438,String(e)))}function uf(e){var n=null,s=yt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Du(),yt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=O;return n.index++,s}function Ui(e,n){return typeof n=="function"?n(e):n}function Ou(e){var n=le();return cf(n,Bt,e)}function cf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,j=n,B=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(bt&Q)===Q:(Li&Q)===Q){var P=j.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===fr&&(B=!0);else if((Li&P)===P){j=j.next,P===fr&&(B=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=Q,p=f):R=R.next=Q,yt.lanes|=P,bs|=P;Q=j.action,Aa&&s(f,Q),f=j.hasEagerState?j.eagerState:s(f,Q)}else P={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(T=R=P,p=f):R=R.next=P,yt.lanes|=Q,bs|=Q;j=j.next}while(j!==null&&j!==n);if(R===null?p=f:R.next=T,!un(f,e.memoizedState)&&(ve=!0,B&&(s=dr,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function hf(e){var n=le(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);un(f,n.memoizedState)||(ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function jg(e,n,s){var l=yt,h=le(),f=Ct;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!un((Bt||h).memoizedState,s);if(p&&(h.memoizedState=s,ve=!0),h=h.queue,mf(qg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,vr(9,{destroy:void 0},zg.bind(null,l,h,s,n),null),Qt===null)throw Error(a(349));f||(Li&127)!==0||Pg(l,n,s)}return s}function Pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=yt.updateQueue,n===null?(n=Du(),yt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zg(e,n,s,l){n.value=s,n.getSnapshot=l,Bg(n)&&Hg(e)}function qg(e,n,s){return s(function(){Bg(n)&&Hg(e)})}function Bg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!un(e,s)}catch{return!0}}function Hg(e){var n=da(e,2);n!==null&&nn(n,e,2)}function ff(e){var n=Ye();if(typeof e=="function"){var s=e;if(e=s(),Aa){_n(!0);try{s()}finally{_n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n}function Fg(e,n,s,l){return e.baseState=s,cf(e,Bt,typeof l=="function"?l:Ui)}function CE(e,n,s,l,h){if(Lu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Gg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Gg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=s(h,l),R=G.S;R!==null&&R(p,T),Qg(e,n,T)}catch(j){df(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,l),Qg(e,n,f)}catch(j){df(e,n,j)}}function Qg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Kg(e,n,l)},function(l){return df(e,n,l)}):Kg(e,n,s)}function Kg(e,n,s){n.status="fulfilled",n.value=s,Yg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Gg(e,s)))}function df(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Yg(n),n=n.next;while(n!==l)}e.action=null}function Yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xg(e,n){return n}function Jg(e,n){if(Ct){var s=Qt.formState;if(s!==null){t:{var l=yt;if(Ct){if(Xt){e:{for(var h=Xt,f=In;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Xt=xn(h.nextSibling),l=h.data==="F!";break t}}gs(l)}l=!1}l&&(n=s[0])}}return s=Ye(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:n},s.queue=l,s=gp.bind(null,yt,l),l.dispatch=s,l=ff(!1),f=vf.bind(null,yt,!1,l.queue),l=Ye(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=CE.bind(null,yt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Zg(e){var n=le();return Wg(n,Bt,e)}function Wg(e,n,s){if(n=cf(e,n,Xg)[0],e=Ou(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Pl(n)}catch(p){throw p===mr?Su:p}else l=n;n=le();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(yt.flags|=2048,vr(9,{destroy:void 0},xE.bind(null,h,s),null)),[l,f,e]}function xE(e,n){e.action=n}function $g(e){var n=le(),s=Bt;if(s!==null)return Wg(n,s,e);le(),n=n.memoizedState,s=le();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function vr(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=yt.updateQueue,n===null&&(n=Du(),yt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function tp(){return le().memoizedState}function Mu(e,n,s,l){var h=Ye();yt.flags|=e,h.memoizedState=vr(1|n,{destroy:void 0},s,l===void 0?null:l)}function ku(e,n,s,l){var h=le();l=l===void 0?null:l;var f=h.memoizedState.inst;Bt!==null&&l!==null&&sf(l,Bt.memoizedState.deps)?h.memoizedState=vr(n,f,s,l):(yt.flags|=e,h.memoizedState=vr(1|n,f,s,l))}function ep(e,n){Mu(8390656,8,e,n)}function mf(e,n){ku(2048,8,e,n)}function NE(e){yt.flags|=4;var n=yt.updateQueue;if(n===null)n=Du(),yt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function np(e){var n=le().memoizedState;return NE({ref:n,nextImpl:e}),function(){if((Mt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function ip(e,n){return ku(4,2,e,n)}function sp(e,n){return ku(4,4,e,n)}function ap(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function rp(e,n,s){s=s!=null?s.concat([e]):null,ku(4,4,ap.bind(null,n,e),s)}function gf(){}function lp(e,n){var s=le();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&sf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function op(e,n){var s=le();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&sf(n,l[1]))return l[0];if(l=e(),Aa){_n(!0);try{e()}finally{_n(!1)}}return s.memoizedState=[l,n],l}function pf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(bt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=uy(),yt.lanes|=e,bs|=e,s)}function up(e,n,s,l){return un(s,n)?s:pr.current!==null?(e=pf(e,s,l),un(e,n)||(ve=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(bt&261930)===0?(ve=!0,e.memoizedState=s):(e=uy(),yt.lanes|=e,bs|=e,n)}function cp(e,n,s,l,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,vf(e,!1,n,s);try{var R=h(),j=G.S;if(j!==null&&j(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=wE(R,l);zl(e,n,B,gn(e))}else zl(e,n,l,gn(e))}catch(Q){zl(e,n,{then:function(){},status:"rejected",reason:Q},gn())}finally{tt.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function DE(){}function yf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=hp(e).queue;cp(e,h,n,ut,s===null?DE:function(){return fp(e),s(l)})}function hp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function fp(e){var n=hp(e);n.next===null&&(n=e.alternate.memoizedState),zl(e,n.next.queue,{},gn())}function _f(){return Ue(io)}function dp(){return le().memoizedState}function mp(){return le().memoizedState}function VE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=gn();e=_s(s);var l=vs(n,e,s);l!==null&&(nn(l,n,s),kl(l,n,s)),n={cache:Qh()},e.payload=n;return}n=n.return}}function OE(e,n,s){var l=gn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lu(e)?pp(n,s):(s=kh(e,n,s,l),s!==null&&(nn(s,e,l),yp(s,n,l)))}function gp(e,n,s){var l=gn();zl(e,n,s,l)}function zl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))pp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,un(T,p))return pu(e,n,h,0),Qt===null&&gu(),!1}catch{}if(s=kh(e,n,h,l),s!==null)return nn(s,e,l),yp(s,n,l),!0}return!1}function vf(e,n,s,l){if(l={lane:2,revertLane:Zf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(n)throw Error(a(479))}else n=kh(e,s,l,2),n!==null&&nn(n,e,2)}function Lu(e){var n=e.alternate;return e===yt||n!==null&&n===yt}function pp(e,n){yr=xu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function yp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ol(e,s)}}var ql={readContext:Ue,use:Vu,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne};ql.useEffectEvent=ne;var _p={readContext:Ue,use:Vu,useCallback:function(e,n){return Ye().memoizedState=[e,n===void 0?null:n],e},useContext:Ue,useEffect:ep,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Mu(4194308,4,ap.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var s=Ye();n=n===void 0?null:n;var l=e();if(Aa){_n(!0);try{e()}finally{_n(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Ye();if(s!==void 0){var h=s(n);if(Aa){_n(!0);try{s(n)}finally{_n(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=OE.bind(null,yt,e),[l.memoizedState,e]},useRef:function(e){var n=Ye();return e={current:e},n.memoizedState=e},useState:function(e){e=ff(e);var n=e.queue,s=gp.bind(null,yt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:gf,useDeferredValue:function(e,n){var s=Ye();return pf(s,e,n)},useTransition:function(){var e=ff(!1);return e=cp.bind(null,yt,e.queue,!0,!1),Ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=yt,h=Ye();if(Ct){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Qt===null)throw Error(a(349));(bt&127)!==0||Pg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,ep(qg.bind(null,l,f,e),[e]),l.flags|=2048,vr(9,{destroy:void 0},zg.bind(null,l,f,s,n),null),s},useId:function(){var e=Ye(),n=Qt.identifierPrefix;if(Ct){var s=pi,l=gi;s=(l&~(1<<32-se(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Nu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=RE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_f,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=Ye();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vf.bind(null,yt,!0,s),s.dispatch=n,[e,n]},useMemoCache:uf,useCacheRefresh:function(){return Ye().memoizedState=VE.bind(null,yt)},useEffectEvent:function(e){var n=Ye(),s={impl:e};return n.memoizedState=s,function(){if((Mt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Tf={readContext:Ue,use:Vu,useCallback:lp,useContext:Ue,useEffect:mf,useImperativeHandle:rp,useInsertionEffect:ip,useLayoutEffect:sp,useMemo:op,useReducer:Ou,useRef:tp,useState:function(){return Ou(Ui)},useDebugValue:gf,useDeferredValue:function(e,n){var s=le();return up(s,Bt.memoizedState,e,n)},useTransition:function(){var e=Ou(Ui)[0],n=le().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:jg,useId:dp,useHostTransitionStatus:_f,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var s=le();return Fg(s,Bt,e,n)},useMemoCache:uf,useCacheRefresh:mp};Tf.useEffectEvent=np;var vp={readContext:Ue,use:Vu,useCallback:lp,useContext:Ue,useEffect:mf,useImperativeHandle:rp,useInsertionEffect:ip,useLayoutEffect:sp,useMemo:op,useReducer:hf,useRef:tp,useState:function(){return hf(Ui)},useDebugValue:gf,useDeferredValue:function(e,n){var s=le();return Bt===null?pf(s,e,n):up(s,Bt.memoizedState,e,n)},useTransition:function(){var e=hf(Ui)[0],n=le().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:jg,useId:dp,useHostTransitionStatus:_f,useFormState:$g,useActionState:$g,useOptimistic:function(e,n){var s=le();return Bt!==null?Fg(s,Bt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:uf,useCacheRefresh:mp};vp.useEffectEvent=np;function Ef(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Af={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=gn(),h=_s(l);h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,l),n!==null&&(nn(n,e,l),kl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=gn(),h=_s(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=vs(e,h,l),n!==null&&(nn(n,e,l),kl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=gn(),l=_s(s);l.tag=2,n!=null&&(l.callback=n),n=vs(e,l,s),n!==null&&(nn(n,e,s),kl(n,e,s))}};function Tp(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Il(s,l)||!Il(h,f):!0}function Ep(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Af.enqueueReplaceState(n,n.state,null)}function Sa(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Ap(e){mu(e)}function Sp(e){}function bp(e){mu(e)}function Uu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,n,s){return s=_s(s),s.tag=3,s.payload={element:null},s.callback=function(){Uu(e,n)},s}function Rp(e){return e=_s(e),e.tag=3,e}function Ip(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){wp(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){wp(n,s,l),typeof h!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ME(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&hr(n,s,h,!0),s=hn.current,s!==null){switch(s.tag){case 31:case 13:return Cn===null?Xu():s.alternate===null&&ie===0&&(ie=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===bu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Yf(e,l,h)),!1;case 22:return s.flags|=65536,l===bu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Yf(e,l,h)),!1}throw Error(a(435,s.tag))}return Yf(e,l,h),Xu(),!1}if(Ct)return n=hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==qh&&(e=Error(a(422),{cause:l}),Nl(bn(e,s)))):(l!==qh&&(n=Error(a(423),{cause:l}),Nl(bn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,s),h=Sf(e.stateNode,l,h),Wh(e,h),ie!==4&&(ie=2)),!1;var f=Error(a(520),{cause:l});if(f=bn(f,s),Xl===null?Xl=[f]:Xl.push(f),ie!==4&&(ie=2),n===null)return!0;l=bn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Sf(s.stateNode,l,e),Wh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ws===null||!ws.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Rp(h),Ip(h,e,s,l),Wh(s,h),!1}s=s.return}while(s!==null);return!1}var bf=Error(a(461)),ve=!1;function je(e,n,s,l){n.child=e===null?Dg(n,null,s,l):Ea(n,e.child,s,l)}function Cp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return ya(n),l=af(e,n,s,p,f,h),T=rf(),e!==null&&!ve?(lf(e,n,h),ji(e,n,h)):(Ct&&T&&Ph(n),n.flags|=1,je(e,n,l,h),n.child)}function xp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Np(e,n,f,l,h)):(e=_u(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Vf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Il,s(p,l)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Np(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Il(f,l)&&e.ref===n.ref)if(ve=!1,n.pendingProps=l=f,Vf(e,h))(e.flags&131072)!==0&&(ve=!0);else return n.lanes=e.lanes,ji(e,n,h)}return wf(e,n,s,l,h)}function Dp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Vp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?Mg(n,f):tf(),kg(n);else return l=n.lanes=536870912,Vp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Au(n,f.cachePool),Mg(n,f),Es(),n.memoizedState=null):(e!==null&&Au(n,null),tf(),Es());return je(e,n,h,s),n.child}function Bl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vp(e,n,s,l,h){var f=Yh();return f=f===null?null:{parent:ye._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Au(n,null),tf(),kg(n),e!==null&&hr(e,n,l,!0),n.childLanes=h,null}function ju(e,n){return n=zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Op(e,n,s){return Ea(n,e.child,null,s),e=ju(n,n.pendingProps),e.flags|=2,fn(n),n.memoizedState=null,e}function kE(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ct){if(l.mode==="hidden")return e=ju(n,l),n.lanes=536870912,Bl(null,e);if(nf(n),(e=Xt)?(e=Gy(e,In),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=pg(e),s.return=n,n.child=s,Le=n,Xt=null)):e=null,e===null)throw gs(n);return n.lanes=536870912,null}return ju(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(nf(n),h)if(n.flags&256)n.flags&=-257,n=Op(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ve||hr(e,n,s,!1),h=(s&e.childLanes)!==0,ve||h){if(l=Qt,l!==null&&(p=ul(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,da(e,p),nn(l,e,p),bf;Xu(),n=Op(e,n,s)}else e=f.treeContext,Xt=xn(p.nextSibling),Le=n,Ct=!0,ms=null,In=!1,e!==null&&vg(n,e),n=ju(n,l),n.flags|=4096;return n}return e=Vi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Pu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function wf(e,n,s,l,h){return ya(n),s=af(e,n,s,l,void 0,h),l=rf(),e!==null&&!ve?(lf(e,n,h),ji(e,n,h)):(Ct&&l&&Ph(n),n.flags|=1,je(e,n,s,h),n.child)}function Mp(e,n,s,l,h,f){return ya(n),n.updateQueue=null,s=Ug(n,l,s,h),Lg(e),l=rf(),e!==null&&!ve?(lf(e,n,f),ji(e,n,f)):(Ct&&l&&Ph(n),n.flags|=1,je(e,n,s,f),n.child)}function kp(e,n,s,l,h){if(ya(n),n.stateNode===null){var f=lr,p=s.contextType;typeof p=="object"&&p!==null&&(f=Ue(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Jh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Ue(p):lr,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Ef(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Af.enqueueReplaceState(f,f.state,null),Ul(n,l,f,h),Ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=Sa(s,T);f.props=R;var j=f.context,B=s.contextType;p=lr,typeof B=="object"&&B!==null&&(p=Ue(B));var Q=s.getDerivedStateFromProps;B=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==p)&&Ep(n,f,l,p),ys=!1;var P=n.memoizedState;f.state=P,Ul(n,l,f,h),Ll(),j=n.memoizedState,T||P!==j||ys?(typeof Q=="function"&&(Ef(n,s,Q,l),j=n.memoizedState),(R=ys||Tp(n,s,R,l,P,j,p))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Zh(e,n),p=n.memoizedProps,B=Sa(s,p),f.props=B,Q=n.pendingProps,P=f.context,j=s.contextType,R=lr,typeof j=="object"&&j!==null&&(R=Ue(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||P!==R)&&Ep(n,f,l,R),ys=!1,P=n.memoizedState,f.state=P,Ul(n,l,f,h),Ll();var q=n.memoizedState;p!==Q||P!==q||ys||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof T=="function"&&(Ef(n,s,T,l),q=n.memoizedState),(B=ys||Tp(n,s,B,l,P,q,R)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=B):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Pu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ea(n,e.child,null,h),n.child=Ea(n,null,s,h)):je(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Lp(e,n,s,l){return ga(),n.flags|=256,je(e,n,s,l),n.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(e){return{baseLanes:e,cachePool:wg()}}function Cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=mn),e}function Up(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(re.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ct){if(h?Ts(n):Es(),(e=Xt)?(e=Gy(e,In),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ds!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},s=pg(e),s.return=n,n.child=s,Le=n,Xt=null)):e=null,e===null)throw gs(n);return cd(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Es(),h=n.mode,T=zu({mode:"hidden",children:T},h),l=ma(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=If(s),l.childLanes=Cf(e,p,s),n.memoizedState=Rf,Bl(null,l)):(Ts(n),xf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Nf(e,n,s)):n.memoizedState!==null?(Es(),n.child=e.child,n.flags|=128,n=null):(Es(),T=l.fallback,h=n.mode,l=zu({mode:"visible",children:l.children},h),T=ma(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Ea(n,e.child,null,s),l=n.child,l.memoizedState=If(s),l.childLanes=Cf(e,p,s),n.memoizedState=Rf,n=Bl(null,l));else if(Ts(n),cd(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var j=p.dgst;p=j,l=Error(a(419)),l.stack="",l.digest=p,Nl({value:l,source:null,stack:null}),n=Nf(e,n,s)}else if(ve||hr(e,n,s,!1),p=(s&e.childLanes)!==0,ve||p){if(p=Qt,p!==null&&(l=ul(p,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,da(e,l),nn(p,e,l),bf;ud(T)||Xu(),n=Nf(e,n,s)}else ud(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Xt=xn(T.nextSibling),Le=n,Ct=!0,ms=null,In=!1,e!==null&&vg(n,e),n=xf(n,l.children),n.flags|=4096);return n}return h?(Es(),T=l.fallback,h=n.mode,R=e.child,j=R.sibling,l=Vi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?T=Vi(j,T):(T=ma(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,Bl(null,l),l=n.child,T=e.child.memoizedState,T===null?T=If(s):(h=T.cachePool,h!==null?(R=ye._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=wg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Cf(e,p,s),n.memoizedState=Rf,Bl(e.child,l)):(Ts(n),s=e.child,e=s.sibling,s=Vi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function xf(e,n){return n=zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function zu(e,n){return e=cn(22,e,null,n),e.lanes=0,e}function Nf(e,n,s){return Ea(n,e.child,null,s),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Fh(e.return,n,s)}function Df(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Pp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=re.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,Nt(re,p),je(e,n,l,s),l=Ct?xl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,s,n);else if(e.tag===19)jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Cu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Df(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Cu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Df(n,!0,s,null,f,l);break;case"together":Df(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),bs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(hr(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Vi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Vi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Vf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function LE(e,n,s){switch(n.tag){case 3:es(n,n.stateNode.containerInfo),ps(n,ye,e.memoizedState.cache),ga();break;case 27:case 5:nl(n);break;case 4:es(n,n.stateNode.containerInfo);break;case 10:ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ts(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Up(e,n,s):(Ts(n),e=ji(e,n,s),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(hr(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Pp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Nt(re,re.current),l)break;return null;case 22:return n.lanes=0,Dp(e,n,s,n.pendingProps);case 24:ps(n,ye,e.memoizedState.cache)}return ji(e,n,s)}function zp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ve=!0;else{if(!Vf(e,s)&&(n.flags&128)===0)return ve=!1,LE(e,n,s);ve=(e.flags&131072)!==0}else ve=!1,Ct&&(n.flags&1048576)!==0&&_g(n,xl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=va(n.elementType),n.type=e,typeof e=="function")Lh(e)?(l=Sa(e,l),n.tag=1,n=kp(null,n,e,l,s)):(n.tag=0,n=wf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Ut){n.tag=11,n=Cp(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=xp(null,n,e,l,s);break t}}throw n=he(e)||e,Error(a(306,n,""))}}return n;case 0:return wf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Sa(l,n.pendingProps),kp(e,n,l,h,s);case 3:t:{if(es(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Zh(e,n),Ul(n,l,null,s);var p=n.memoizedState;if(l=p.cache,ps(n,ye,l),l!==f.cache&&Gh(n,[ye],s,!0),Ll(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Lp(e,n,l,s);break t}else if(l!==h){h=bn(Error(a(424)),n),Nl(h),n=Lp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xt=xn(e.firstChild),Le=n,Ct=!0,ms=null,In=!0,s=Dg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ga(),l===h){n=ji(e,n,s);break t}je(e,n,l,s)}n=n.child}return n;case 26:return Pu(e,n),e===null?(s=Zy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ct||(s=n.type,e=n.pendingProps,l=nc(yn.current).createElement(s),l[me]=n,l[Ce]=e,Pe(l,s,e),ge(l),n.stateNode=l):n.memoizedState=Zy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nl(n),e===null&&Ct&&(l=n.stateNode=Yy(n.type,n.pendingProps,yn.current),Le=n,In=!0,h=Xt,xs(n.type)?(hd=h,Xt=xn(l.firstChild)):Xt=h),je(e,n,n.pendingProps.children,s),Pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ct&&((h=l=Xt)&&(l=f1(l,n.type,n.pendingProps,In),l!==null?(n.stateNode=l,Le=n,Xt=xn(l.firstChild),In=!1,h=!0):h=!1),h||gs(n)),nl(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,rd(h,f)?l=null:p!==null&&rd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=af(e,n,IE,null,null,s),io._currentValue=h),Pu(e,n),je(e,n,l,s),n.child;case 6:return e===null&&Ct&&((e=s=Xt)&&(s=d1(s,n.pendingProps,In),s!==null?(n.stateNode=s,Le=n,Xt=null,e=!0):e=!1),e||gs(n)),null;case 13:return Up(e,n,s);case 4:return es(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ea(n,null,l,s):je(e,n,l,s),n.child;case 11:return Cp(e,n,n.type,n.pendingProps,s);case 7:return je(e,n,n.pendingProps,s),n.child;case 8:return je(e,n,n.pendingProps.children,s),n.child;case 12:return je(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ps(n,n.type,l.value),je(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ya(n),h=Ue(h),l=l(h),n.flags|=1,je(e,n,l,s),n.child;case 14:return xp(e,n,n.type,n.pendingProps,s);case 15:return Np(e,n,n.type,n.pendingProps,s);case 19:return Pp(e,n,s);case 31:return kE(e,n,s);case 22:return Dp(e,n,s,n.pendingProps);case 24:return ya(n),l=Ue(ye),e===null?(h=Yh(),h===null&&(h=Qt,f=Qh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Jh(n),ps(n,ye,h)):((e.lanes&s)!==0&&(Zh(e,n),Ul(n,null,null,s),Ll()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ps(n,ye,l)):(l=f.cache,ps(n,ye,l),l!==h.cache&&Gh(n,[ye],s,!0))),je(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(e){e.flags|=4}function Of(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(dy())e.flags|=8192;else throw Ta=bu,Xh}else e.flags&=-16777217}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!n_(n))if(dy())e.flags|=8192;else throw Ta=bu,Xh}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ko():536870912,e.lanes|=n,Sr|=n)}function Hl(e,n){if(!Ct)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function UE(e,n,s){var l=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(ye),Ii(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(cr(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bh())),Jt(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Pi(n),f!==null?(Jt(n),qp(n,f)):(Jt(n),Of(n,h,null,l,s))):f?f!==e.memoizedState?(Pi(n),Jt(n),qp(n,f)):(Jt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Pi(n),Jt(n),Of(n,h,e,l,s)),null;case 27:if(Ba(n),s=yn.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}e=te.current,cr(n)?Tg(n):(e=Yy(h,l,s),n.stateNode=e,Pi(n))}return Jt(n),null;case 5:if(Ba(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}if(f=te.current,cr(n))Tg(n);else{var p=nc(yn.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[me]=n,f[Ce]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Pe(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Pi(n)}}return Jt(n),Of(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=yn.current,cr(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Le,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[me]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Uy(e.nodeValue,s)),e||gs(n,!0)}else e=nc(e).createTextNode(l),e[me]=n,n.stateNode=e}return Jt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=cr(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[me]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),e=!1}else s=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(fn(n),n):(fn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Jt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=cr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[me]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else h=Bh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(fn(n),n):(fn(n),null)}return fn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),qu(n,n.updateQueue),Jt(n),null);case 4:return Ii(),e===null&&ed(n.stateNode.containerInfo),Jt(n),null;case 10:return ki(n.type),Jt(n),null;case 19:if(Kt(re),l=n.memoizedState,l===null)return Jt(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Hl(l,!1);else{if(ie!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Cu(e),f!==null){for(n.flags|=128,Hl(l,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)gg(s,e),s=s.sibling;return Nt(re,re.current&1|2),Ct&&Oi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Qe()>Qu&&(n.flags|=128,h=!0,Hl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Cu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ct)return Jt(n),null}else 2*Qe()-l.renderingStartTime>Qu&&s!==536870912&&(n.flags|=128,h=!0,Hl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Qe(),e.sibling=null,s=re.current,Nt(re,h?s&1|2:s&1),Ct&&Oi(n,l.treeForkCount),e):(Jt(n),null);case 22:case 23:return fn(n),ef(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),s=n.updateQueue,s!==null&&qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Kt(_a),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ki(ye),Jt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jE(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(ye),Ii(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ba(n),null;case 31:if(n.memoizedState!==null){if(fn(n),n.alternate===null)throw Error(a(340));ga()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(fn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ga()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Kt(re),null;case 4:return Ii(),null;case 10:return ki(n.type),null;case 22:case 23:return fn(n),ef(),e!==null&&Kt(_a),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(ye),null;case 25:return null;default:return null}}function Bp(e,n){switch(zh(n),n.tag){case 3:ki(ye),Ii();break;case 26:case 27:case 5:Ba(n);break;case 4:Ii();break;case 31:n.memoizedState!==null&&fn(n);break;case 13:fn(n);break;case 19:Kt(re);break;case 10:ki(n.type);break;case 22:case 23:fn(n),ef(),e!==null&&Kt(_a);break;case 24:ki(ye)}}function Fl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(T){zt(n,n.return,T)}}function As(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=s,j=T;try{j()}catch(B){zt(h,R,B)}}}l=l.next}while(l!==f)}}catch(B){zt(n,n.return,B)}}function Hp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Og(n,s)}catch(l){zt(e,e.return,l)}}}function Fp(e,n,s){s.props=Sa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){zt(e,n,l)}}function Gl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){zt(e,n,h)}}function yi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){zt(e,n,h)}else s.current=null}function Gp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){zt(e,e.return,h)}}function Mf(e,n,s){try{var l=e.stateNode;r1(l,e.type,s,n),l[Ce]=n}catch(h){zt(e,e.return,h)}}function Qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function kf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Un));else if(l!==4&&(l===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Lf(e,n,s),e=e.sibling;e!==null;)Lf(e,n,s),e=e.sibling}function Bu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Bu(e,n,s),e=e.sibling;e!==null;)Bu(e,n,s),e=e.sibling}function Kp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Pe(n,l,s),n[me]=e,n[Ce]=s}catch(f){zt(e,e.return,f)}}var zi=!1,Te=!1,Uf=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function PE(e,n){if(e=e.containerInfo,sd=uc,e=rg(e),xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,T=-1,R=-1,j=0,B=0,Q=e,P=null;e:for(;;){for(var q;Q!==s||h!==0&&Q.nodeType!==3||(T=p+h),Q!==f||l!==0&&Q.nodeType!==3||(R=p+l),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)P=Q,Q=q;for(;;){if(Q===e)break e;if(P===s&&++j===h&&(T=p),P===f&&++B===l&&(R=p),(q=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ad={focusedElem:e,selectionRange:s},uc=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var it=Sa(s.type,h);e=l.getSnapshotBeforeUpdate(it,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(ct){zt(s,s.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}}function Xp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Bi(e,s),l&4&&Fl(5,s);break;case 1:if(Bi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){zt(s,s.return,p)}else{var h=Sa(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){zt(s,s.return,p)}}l&64&&Hp(s),l&512&&Gl(s,s.return);break;case 3:if(Bi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Og(e,n)}catch(p){zt(s,s.return,p)}}break;case 27:n===null&&l&4&&Kp(s);case 26:case 5:Bi(e,s),n===null&&l&4&&Gp(s),l&512&&Gl(s,s.return);break;case 12:Bi(e,s);break;case 31:Bi(e,s),l&4&&Wp(e,s);break;case 13:Bi(e,s),l&4&&$p(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=YE.bind(null,s),m1(e,s))));break;case 22:if(l=s.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Te,h=zi;var f=Te;zi=l,(Te=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):Bi(e,s),zi=h,Te=f}break;case 30:break;default:Bi(e,s)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ka(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,We=!1;function qi(e,n,s){for(s=s.child;s!==null;)Zp(e,n,s),s=s.sibling}function Zp(e,n,s){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(On,s)}catch{}switch(s.tag){case 26:Te||yi(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Te||yi(s,n);var l=$t,h=We;xs(s.type)&&($t=s.stateNode,We=!1),qi(e,n,s),to(s.stateNode),$t=l,We=h;break;case 5:Te||yi(s,n);case 6:if(l=$t,h=We,$t=null,qi(e,n,s),$t=l,We=h,$t!==null)if(We)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(s.stateNode)}catch(f){zt(s,n,f)}else try{$t.removeChild(s.stateNode)}catch(f){zt(s,n,f)}break;case 18:$t!==null&&(We?(e=$t,Hy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Dr(e)):Hy($t,s.stateNode));break;case 4:l=$t,h=We,$t=s.stateNode.containerInfo,We=!0,qi(e,n,s),$t=l,We=h;break;case 0:case 11:case 14:case 15:As(2,s,n),Te||As(4,s,n),qi(e,n,s);break;case 1:Te||(yi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fp(s,n,l)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:Te=(l=Te)||s.memoizedState!==null,qi(e,n,s),Te=l;break;default:qi(e,n,s)}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dr(e)}catch(s){zt(n,n.return,s)}}}function $p(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dr(e)}catch(s){zt(n,n.return,s)}}function zE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yp),n;default:throw Error(a(435,e.tag))}}function Hu(e,n){var s=zE(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=XE.bind(null,e,l);l.then(h,h)}})}function $e(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(xs(T.type)){$t=T.stateNode,We=!1;break t}break;case 5:$t=T.stateNode,We=!1;break t;case 3:case 4:$t=T.stateNode.containerInfo,We=!0;break t}T=T.return}if($t===null)throw Error(a(160));Zp(f,p,h),$t=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ty(n,e),n=n.sibling}var Hn=null;function ty(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$e(n,e),tn(e),l&4&&(As(3,e,e.return),Fl(3,e),As(5,e,e.return));break;case 1:$e(n,e),tn(e),l&512&&(Te||s===null||yi(s,s.return)),l&64&&zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Hn;if($e(n,e),tn(e),l&512&&(Te||s===null||yi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[me]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Pe(f,l,s),f[me]=e,ge(f),l=f;break t;case"link":var p=t_("link","href",h).get(l+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(l),Pe(f,l,s),h.head.appendChild(f);break;case"meta":if(p=t_("meta","content",h).get(l+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break e}}f=h.createElement(l),Pe(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[me]=e,ge(f),l=f}e.stateNode=l}else e_(h,e.type,e.stateNode);else e.stateNode=$y(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?e_(h,e.type,e.stateNode):$y(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,s.memoizedProps)}break;case 27:$e(n,e),tn(e),l&512&&(Te||s===null||yi(s,s.return)),s!==null&&l&4&&Mf(e,e.memoizedProps,s.memoizedProps);break;case 5:if($e(n,e),tn(e),l&512&&(Te||s===null||yi(s,s.return)),e.flags&32){h=e.stateNode;try{Ze(h,"")}catch(it){zt(e,e.return,it)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Uf=!0);break;case 6:if($e(n,e),tn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(it){zt(e,e.return,it)}}break;case 3:if(ac=null,h=Hn,Hn=ic(n.containerInfo),$e(n,e),Hn=h,tn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Dr(n.containerInfo)}catch(it){zt(e,e.return,it)}Uf&&(Uf=!1,ey(e));break;case 4:l=Hn,Hn=ic(e.stateNode.containerInfo),$e(n,e),tn(e),Hn=l;break;case 12:$e(n,e),tn(e);break;case 31:$e(n,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hu(e,l)));break;case 13:$e(n,e),tn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Gu=Qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hu(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,j=zi,B=Te;if(zi=j||h,Te=B||R,$e(n,e),Te=B,zi=j,tn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||zi||Te||ba(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var Q=R.memoizedProps.style,P=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(it){zt(R,R.return,it)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(it){zt(R,R.return,it)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?Fy(q,!0):Fy(R.stateNode,!1)}catch(it){zt(R,R.return,it)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Hu(e,s))));break;case 19:$e(n,e),tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Hu(e,l)));break;case 30:break;case 21:break;default:$e(n,e),tn(e)}}function tn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Qp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=kf(e);Bu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(Ze(p,""),s.flags&=-33);var T=kf(e);Bu(e,T,p);break;case 3:case 4:var R=s.stateNode.containerInfo,j=kf(e);Lf(e,j,R);break;default:throw Error(a(161))}}catch(B){zt(e,e.return,B)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Bi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xp(e,n.alternate,n),n=n.sibling}function ba(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),ba(n);break;case 1:yi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fp(n,n.return,s),ba(n);break;case 27:to(n.stateNode);case 26:case 5:yi(n,n.return),ba(n);break;case 22:n.memoizedState===null&&ba(n);break;case 30:ba(n);break;default:ba(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),Fl(4,f);break;case 1:if(Hi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){zt(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Vg(R[h],T)}catch(j){zt(l,l.return,j)}}s&&p&64&&Hp(f),Gl(f,f.return);break;case 27:Kp(f);case 26:case 5:Hi(h,f,s),s&&l===null&&p&4&&Gp(f),Gl(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&p&4&&Wp(h,f);break;case 13:Hi(h,f,s),s&&p&4&&$p(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Gl(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function jf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Dl(s))}function Pf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e))}function Fn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(e,n,s,l),n=n.sibling}function ny(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Fn(e,n,s,l),h&2048&&Fl(9,n);break;case 1:Fn(e,n,s,l);break;case 3:Fn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Dl(e)));break;case 12:if(h&2048){Fn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){zt(n,n.return,R)}}else Fn(e,n,s,l);break;case 31:Fn(e,n,s,l);break;case 13:Fn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Fn(e,n,s,l):Ql(e,n):f._visibility&2?Fn(e,n,s,l):(f._visibility|=2,Tr(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&jf(p,n);break;case 24:Fn(e,n,s,l),h&2048&&Pf(n.alternate,n);break;default:Fn(e,n,s,l)}}function Tr(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=s,R=l,j=p.flags;switch(p.tag){case 0:case 11:case 15:Tr(f,p,T,R,h),Fl(8,p);break;case 23:break;case 22:var B=p.stateNode;p.memoizedState!==null?B._visibility&2?Tr(f,p,T,R,h):Ql(f,p):(B._visibility|=2,Tr(f,p,T,R,h)),h&&j&2048&&jf(p.alternate,p);break;case 24:Tr(f,p,T,R,h),h&&j&2048&&Pf(p.alternate,p);break;default:Tr(f,p,T,R,h)}n=n.sibling}}function Ql(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Ql(s,l),h&2048&&jf(l.alternate,l);break;case 24:Ql(s,l),h&2048&&Pf(l.alternate,l);break;default:Ql(s,l)}n=n.sibling}}var Kl=8192;function Er(e,n,s){if(e.subtreeFlags&Kl)for(e=e.child;e!==null;)iy(e,n,s),e=e.sibling}function iy(e,n,s){switch(e.tag){case 26:Er(e,n,s),e.flags&Kl&&e.memoizedState!==null&&R1(s,Hn,e.memoizedState,e.memoizedProps);break;case 5:Er(e,n,s);break;case 3:case 4:var l=Hn;Hn=ic(e.stateNode.containerInfo),Er(e,n,s),Hn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Kl,Kl=16777216,Er(e,n,s),Kl=l):Er(e,n,s));break;default:Er(e,n,s)}}function sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ne=l,ry(l,e)}sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ay(e),e=e.sibling}function ay(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&As(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Yl(e);break;default:Yl(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ne=l,ry(l,e)}sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),Fu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function ry(e,n){for(;Ne!==null;){var s=Ne;switch(s.tag){case 0:case 11:case 15:As(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Dl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ne=l;else t:for(s=e;Ne!==null;){l=Ne;var h=l.sibling,f=l.return;if(Jp(l),l===s){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}var qE={getCacheForType:function(e){var n=Ue(ye),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ue(ye).controller.signal}},BE=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Qt=null,At=null,bt=0,Pt=0,dn=null,Ss=!1,Ar=!1,zf=!1,Fi=0,ie=0,bs=0,wa=0,qf=0,mn=0,Sr=0,Xl=null,en=null,Bf=!1,Gu=0,ly=0,Qu=1/0,Ku=null,ws=null,we=0,Rs=null,br=null,Gi=0,Hf=0,Ff=null,oy=null,Jl=0,Gf=null;function gn(){return(Mt&2)!==0&&bt!==0?bt&-bt:G.T!==null?Zf():Yo()}function uy(){if(mn===0)if((bt&536870912)===0||Ct){var e=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),mn=e}else mn=536870912;return e=hn.current,e!==null&&(e.flags|=32),mn}function nn(e,n,s){(e===Qt&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)&&(wr(e,0),Is(e,bt,mn,!1)),$s(e,s),((Mt&2)===0||e!==Qt)&&(e===Qt&&((Mt&2)===0&&(wa|=s),ie===4&&Is(e,bt,mn,!1)),_i(e))}function cy(e,n,s){if((Mt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Mn(e,n),h=l?GE(e,n):Kf(e,n,!0),f=l;do{if(h===0){Ar&&!l&&Is(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!HE(s)){h=Kf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=Xl;var R=T.current.memoizedState.isDehydrated;if(R&&(wr(T,p).flags|=256),p=Kf(T,p,!1),p!==2){if(zf&&!R){T.errorRecoveryDisabledLanes|=f,wa|=f,h=4;break t}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){wr(e,0),Is(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(l,n,mn,!Ss);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Gu+300-Qe(),10<h)){if(Is(l,n,mn,!Ss),ti(l,0,!0)!==0)break t;Gi=n,l.timeoutHandle=qy(hy.bind(null,l,s,en,Ku,Bf,n,mn,wa,Sr,Ss,f,"Throttled",-0,0),h);break t}hy(l,s,en,Ku,Bf,n,mn,wa,Sr,Ss,f,null,-0,0)}}break}while(!0);_i(e)}function hy(e,n,s,l,h,f,p,T,R,j,B,Q,P,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},iy(n,f,Q);var it=(f&62914560)===f?Gu-Qe():(f&4194048)===f?ly-Qe():0;if(it=I1(Q,it),it!==null){Gi=f,e.cancelPendingCommit=it(vy.bind(null,e,n,f,s,l,h,p,T,R,B,Q,null,P,q)),Is(e,f,p,!j);return}}vy(e,n,f,s,l,h,p,T,R)}function HE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(e,n,s,l){n&=~qf,n&=~wa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-se(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&ta(e,s,n)}function Yu(){return(Mt&6)===0?(Zl(0),!1):!0}function Qf(){if(At!==null){if(Pt===0)var e=At.return;else e=At,Mi=pa=null,of(e),gr=null,Ol=0,e=At;for(;e!==null;)Bp(e.alternate,e),e=e.return;At=null}}function wr(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,u1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Gi=0,Qf(),Qt=e,At=s=Vi(e.current,null),bt=n,Pt=0,dn=null,Ss=!1,Ar=Mn(e,n),zf=!1,Sr=mn=qf=wa=bs=ie=0,en=Xl=null,Bf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-se(l),f=1<<h;n|=e[h],l&=~f}return Fi=n,gu(),s}function fy(e,n){yt=null,G.H=ql,n===mr||n===Su?(n=Cg(),Pt=3):n===Xh?(n=Cg(),Pt=4):Pt=n===bf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,At===null&&(ie=1,Uu(e,bn(n,e.current)))}function dy(){var e=hn.current;return e===null?!0:(bt&4194048)===bt?Cn===null:(bt&62914560)===bt||(bt&536870912)!==0?e===Cn:!1}function my(){var e=G.H;return G.H=ql,e===null?ql:e}function gy(){var e=G.A;return G.A=qE,e}function Xu(){ie=4,Ss||(bt&4194048)!==bt&&hn.current!==null||(Ar=!0),(bs&134217727)===0&&(wa&134217727)===0||Qt===null||Is(Qt,bt,mn,!1)}function Kf(e,n,s){var l=Mt;Mt|=2;var h=my(),f=gy();(Qt!==e||bt!==n)&&(Ku=null,wr(e,n)),n=!1;var p=ie;t:do try{if(Pt!==0&&At!==null){var T=At,R=dn;switch(Pt){case 8:Qf(),p=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(n=!0);var j=Pt;if(Pt=0,dn=null,Rr(e,T,R,j),s&&Ar){p=0;break t}break;default:j=Pt,Pt=0,dn=null,Rr(e,T,R,j)}}FE(),p=ie;break}catch(B){fy(e,B)}while(!0);return n&&e.shellSuspendCounter++,Mi=pa=null,Mt=l,G.H=h,G.A=f,At===null&&(Qt=null,bt=0,gu()),p}function FE(){for(;At!==null;)py(At)}function GE(e,n){var s=Mt;Mt|=2;var l=my(),h=gy();Qt!==e||bt!==n?(Ku=null,Qu=Qe()+500,wr(e,n)):Ar=Mn(e,n);t:do try{if(Pt!==0&&At!==null){n=At;var f=dn;e:switch(Pt){case 1:Pt=0,dn=null,Rr(e,n,f,1);break;case 2:case 9:if(Rg(f)){Pt=0,dn=null,yy(n);break}n=function(){Pt!==2&&Pt!==9||Qt!==e||(Pt=7),_i(e)},f.then(n,n);break t;case 3:Pt=7;break t;case 4:Pt=5;break t;case 7:Rg(f)?(Pt=0,dn=null,yy(n)):(Pt=0,dn=null,Rr(e,n,f,7));break;case 5:var p=null;switch(At.tag){case 26:p=At.memoizedState;case 5:case 27:var T=At;if(p?n_(p):T.stateNode.complete){Pt=0,dn=null;var R=T.sibling;if(R!==null)At=R;else{var j=T.return;j!==null?(At=j,Ju(j)):At=null}break e}}Pt=0,dn=null,Rr(e,n,f,5);break;case 6:Pt=0,dn=null,Rr(e,n,f,6);break;case 8:Qf(),ie=6;break t;default:throw Error(a(462))}}QE();break}catch(B){fy(e,B)}while(!0);return Mi=pa=null,G.H=l,G.A=h,Mt=s,At!==null?0:(Qt=null,bt=0,gu(),ie)}function QE(){for(;At!==null&&!Ah();)py(At)}function py(e){var n=zp(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?Ju(e):At=n}function yy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Mp(s,n,n.pendingProps,n.type,void 0,bt);break;case 11:n=Mp(s,n,n.pendingProps,n.type.render,n.ref,bt);break;case 5:of(n);default:Bp(s,n),n=At=gg(n,Fi),n=zp(s,n,Fi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):At=n}function Rr(e,n,s,l){Mi=pa=null,of(n),gr=null,Ol=0;var h=n.return;try{if(ME(e,h,n,s,bt)){ie=1,Uu(e,bn(s,e.current)),At=null;return}}catch(f){if(h!==null)throw At=h,f;ie=1,Uu(e,bn(s,e.current)),At=null;return}n.flags&32768?(Ct||l===1?e=!0:Ar||(bt&536870912)!==0?e=!1:(Ss=e=!0,(l===2||l===9||l===3||l===6)&&(l=hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_y(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){_y(n,Ss);return}e=n.return;var s=UE(n.alternate,n,Fi);if(s!==null){At=s;return}if(n=n.sibling,n!==null){At=n;return}At=n=e}while(n!==null);ie===0&&(ie=5)}function _y(e,n){do{var s=jE(e.alternate,e);if(s!==null){s.flags&=32767,At=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){At=e;return}At=e=s}while(e!==null);ie=6,At=null}function vy(e,n,s,l,h,f,p,T,R){e.cancelPendingCommit=null;do Zu();while(we!==0);if((Mt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mh,wh(e,s,f,p,T,R),e===Qt&&(At=Qt=null,bt=0),br=n,Rs=e,Gi=s,Hf=f,Ff=h,oy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,JE(is,function(){return by(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=tt.p,tt.p=2,p=Mt,Mt|=4;try{PE(e,n,s)}finally{Mt=p,tt.p=h,G.T=l}}we=1,Ty(),Ey(),Ay()}}function Ty(){if(we===1){we=0;var e=Rs,n=br,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=tt.p;tt.p=2;var h=Mt;Mt|=4;try{ty(n,e);var f=ad,p=rg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&ag(T.ownerDocument.documentElement,T)){if(R!==null&&xh(T)){var j=R.start,B=R.end;if(B===void 0&&(B=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(B,T.value.length);else{var Q=T.ownerDocument||document,P=Q&&Q.defaultView||window;if(P.getSelection){var q=P.getSelection(),it=T.textContent.length,ct=Math.min(R.start,it),Ft=R.end===void 0?ct:Math.min(R.end,it);!q.extend&&ct>Ft&&(p=Ft,Ft=ct,ct=p);var M=sg(T,ct),x=sg(T,Ft);if(M&&x&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var U=Q.createRange();U.setStart(M.node,M.offset),q.removeAllRanges(),ct>Ft?(q.addRange(U),q.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),q.addRange(U))}}}}for(Q=[],q=T;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var F=Q[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!sd,ad=sd=null}finally{Mt=h,tt.p=l,G.T=s}}e.current=n,we=2}}function Ey(){if(we===2){we=0;var e=Rs,n=br,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=tt.p;tt.p=2;var h=Mt;Mt|=4;try{Xp(e,n.alternate,n)}finally{Mt=h,tt.p=l,G.T=s}}we=3}}function Ay(){if(we===4||we===3){we=0,qo();var e=Rs,n=br,s=Gi,l=oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?we=5:(we=0,br=Rs=null,Sy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ws=null),Ci(s),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=tt.p,tt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,tt.p=h}}(Gi&3)!==0&&Zu(),_i(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Gf?Jl++:(Jl=0,Gf=e):Jl=0,Zl(0)}}function Sy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Dl(n)))}function Zu(){return Ty(),Ey(),Ay(),by()}function by(){if(we!==5)return!1;var e=Rs,n=Hf;Hf=0;var s=Ci(Gi),l=G.T,h=tt.p;try{tt.p=32>s?32:s,G.T=null,s=Ff,Ff=null;var f=Rs,p=Gi;if(we=0,br=Rs=null,Gi=0,(Mt&6)!==0)throw Error(a(331));var T=Mt;if(Mt|=4,ay(f.current),ny(f,f.current,p,s),Mt=T,Zl(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{tt.p=h,G.T=l,Sy(e,n)}}function wy(e,n,s){n=bn(s,n),n=Sf(e.stateNode,n,2),e=vs(e,n,2),e!==null&&($s(e,2),_i(e))}function zt(e,n,s){if(e.tag===3)wy(e,e,s);else for(;n!==null;){if(n.tag===3){wy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ws===null||!ws.has(l))){e=bn(s,e),s=Rp(2),l=vs(n,s,2),l!==null&&(Ip(s,l,n,e),$s(l,2),_i(l));break}}n=n.return}}function Yf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new BE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(zf=!0,h.add(s),e=KE.bind(null,e,n,s),n.then(e,e))}function KE(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Qt===e&&(bt&s)===s&&(ie===4||ie===3&&(bt&62914560)===bt&&300>Qe()-Gu?(Mt&2)===0&&wr(e,0):qf|=s,Sr===bt&&(Sr=0)),_i(e)}function Ry(e,n){n===0&&(n=Ko()),e=da(e,n),e!==null&&($s(e,n),_i(e))}function YE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ry(e,s)}function XE(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ry(e,s)}function JE(e,n){return be(e,n)}var Wu=null,Ir=null,Xf=!1,$u=!1,Jf=!1,Cs=0;function _i(e){e!==Ir&&e.next===null&&(Ir===null?Wu=Ir=e:Ir=Ir.next=e),$u=!0,Xf||(Xf=!0,WE())}function Zl(e,n){if(!Jf&&$u){Jf=!0;do for(var s=!1,l=Wu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-se(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ny(l,f))}else f=bt,f=ti(l,l===Qt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Mn(l,f)||(s=!0,Ny(l,f));l=l.next}while(s);Jf=!1}}function ZE(){Iy()}function Iy(){$u=Xf=!1;var e=0;Cs!==0&&o1()&&(e=Cs);for(var n=Qe(),s=null,l=Wu;l!==null;){var h=l.next,f=Cy(l,n);f===0?(l.next=null,s===null?Wu=h:s.next=h,h===null&&(Ir=s)):(s=l,(e!==0||(f&3)!==0)&&($u=!0)),l=h}we!==0&&we!==5||Zl(e),Cs!==0&&(Cs=0)}function Cy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-se(f),T=1<<p,R=h[p];R===-1?((T&s)===0||(T&l)!==0)&&(h[p]=bh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=Qt,s=bt,s=ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Pt===2||Pt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Mn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ns(l),Ci(s)){case 2:case 8:s=ll;break;case 32:s=is;break;case 268435456:s=Bo;break;default:s=is}return l=xy.bind(null,e),s=be(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ns(l),e.callbackPriority=2,e.callbackNode=null,2}function xy(e,n){if(we!==0&&we!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Zu()&&e.callbackNode!==s)return null;var l=bt;return l=ti(e,e===Qt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(cy(e,l,n),Cy(e,Qe()),e.callbackNode!=null&&e.callbackNode===s?xy.bind(null,e):null)}function Ny(e,n){if(Zu())return null;cy(e,n,!0)}function WE(){c1(function(){(Mt&6)!==0?be(rl,ZE):Iy()})}function Zf(){if(Cs===0){var e=fr;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Cs=e}return Cs}function Dy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Za(""+e)}function Vy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function $E(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Dy((h[Ce]||null).action),p=l.submitter;p&&(n=(n=p[Ce]||null)?Dy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new hi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var R=p?Vy(h,p):new FormData(h);yf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?Vy(h,p):new FormData(h),yf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Wf=0;Wf<Oh.length;Wf++){var $f=Oh[Wf],t1=$f.toLowerCase(),e1=$f[0].toUpperCase()+$f.slice(1);Bn(t1,"on"+e1)}Bn(ug,"onAnimationEnd"),Bn(cg,"onAnimationIteration"),Bn(hg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(yE,"onTransitionRun"),Bn(_E,"onTransitionStart"),Bn(vE,"onTransitionCancel"),Bn(fg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function Oy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],R=T.instance,j=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(B){mu(B)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(T=l[p],R=T.instance,j=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(B){mu(B)}h.currentTarget=null,f=R}}}}function St(e,n){var s=n[Qa];s===void 0&&(s=n[Qa]=new Set);var l=e+"__bubble";s.has(l)||(My(n,e,2,!1),s.add(l))}function td(e,n,s){var l=0;n&&(l|=4),My(s,e,l,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[tc]){e[tc]=!0,cl.forEach(function(s){s!=="selectionchange"&&(n1.has(s)||td(s,!1,e),td(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,td("selectionchange",!1,n))}}function My(e,n,s,l){switch(u_(n)){case 2:var h=N1;break;case 8:h=D1;break;default:h=pd}s=h.bind(null,n,s,e),h=void 0,!aa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function nd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=si(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue t}T=T.parentNode}}l=l.return}us(function(){var j=f,B=Tn(s),Q=[];t:{var P=dg.get(e);if(P!==void 0){var q=hi,it=e;switch(e){case"keypress":if(la(s)===0)break t;case"keydown":case"keyup":q=hu;break;case"focusin":it="focus",q=ua;break;case"focusout":it="blur",q=ua;break;case"beforeblur":case"afterblur":q=ua;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=nu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case ug:case cg:case hg:q=su;break;case fg:q=E;break;case"scroll":case"scrollend":q=Al;break;case"wheel":q=z;break;case"copy":case"cut":case"paste":q=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Di;break;case"toggle":case"beforetoggle":q=pt}var ct=(n&4)!==0,Ft=!ct&&(e==="scroll"||e==="scrollend"),M=ct?P!==null?P+"Capture":null:P;ct=[];for(var x=j,U;x!==null;){var F=x;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||M===null||(F=jn(x,M),F!=null&&ct.push($l(x,F,U))),Ft)break;x=x.return}0<ct.length&&(P=new q(P,it,null,s,B),Q.push({event:P,listeners:ct}))}}if((n&7)===0){t:{if(P=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",P&&s!==vl&&(it=s.relatedTarget||s.fromElement)&&(si(it)||it[ni]))break t;if((q||P)&&(P=B.window===B?B:(P=B.ownerDocument)?P.defaultView||P.parentWindow:window,q?(it=s.relatedTarget||s.toElement,q=j,it=it?si(it):null,it!==null&&(Ft=c(it),ct=it.tag,it!==Ft||ct!==5&&ct!==27&&ct!==6)&&(it=null)):(q=null,it=j),q!==it)){if(ct=Sl,F="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Di,F="onPointerLeave",M="onPointerEnter",x="pointer"),Ft=q==null?P:ln(q),U=it==null?P:ln(it),P=new ct(F,x+"leave",q,s,B),P.target=Ft,P.relatedTarget=U,F=null,si(B)===j&&(ct=new ct(M,x+"enter",it,s,B),ct.target=U,ct.relatedTarget=Ft,F=ct),Ft=F,q&&it)e:{for(ct=i1,M=q,x=it,U=0,F=M;F;F=ct(F))U++;F=0;for(var lt=x;lt;lt=ct(lt))F++;for(;0<U-F;)M=ct(M),U--;for(;0<F-U;)x=ct(x),F--;for(;U--;){if(M===x||x!==null&&M===x.alternate){ct=M;break e}M=ct(M),x=ct(x)}ct=null}else ct=null;q!==null&&ky(Q,P,q,ct,!1),it!==null&&Ft!==null&&ky(Q,Ft,it,ct,!0)}}t:{if(P=j?ln(j):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Dt=Wm;else if(Jm(P))if($m)Dt=mE;else{Dt=fE;var st=hE}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?j&&Ja(j.elementType)&&(Dt=Wm):Dt=dE;if(Dt&&(Dt=Dt(e,j))){Zm(Q,Dt,s,B);break t}st&&st(e,P,j),e==="focusout"&&j&&P.type==="number"&&j.memoizedProps.value!=null&&pl(P,"number",P.value)}switch(st=j?ln(j):window,e){case"focusin":(Jm(st)||st.contentEditable==="true")&&(sr=st,Nh=j,Cl=null);break;case"focusout":Cl=Nh=sr=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,lg(Q,s,B);break;case"selectionchange":if(pE)break;case"keydown":case"keyup":lg(Q,s,B)}var vt;if(Ot)t:{switch(e){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else ir?ca(e,s)&&(wt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(wt="onCompositionStart");wt&&(mi&&s.locale!=="ko"&&(ir||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ir&&(vt=El()):(ci=B,Tl="value"in ci?ci.value:ci.textContent,ir=!0)),st=ec(j,wt),0<st.length&&(wt=new di(wt,e,null,s,B),Q.push({event:wt,listeners:st}),vt?wt.data=vt:(vt=nr(s),vt!==null&&(wt.data=vt)))),(vt=An?lE(e,s):oE(e,s))&&(wt=ec(j,"onBeforeInput"),0<wt.length&&(st=new di("onBeforeInput","beforeinput",null,s,B),Q.push({event:st,listeners:wt}),st.data=vt)),$E(Q,e,j,s,B)}Oy(Q,n)})}function $l(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,s),h!=null&&l.unshift($l(e,h,f)),h=jn(e,n),h!=null&&l.push($l(e,h,f))),e.tag===3)return l;e=e.return}return[]}function i1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ky(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var T=s,R=T.alternate,j=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||j===null||(R=j,h?(j=jn(s,f),j!=null&&p.unshift($l(s,j,R))):h||(j=jn(s,f),j!=null&&p.push($l(s,j,R)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var s1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Ly(e){return(typeof e=="string"?e:""+e).replace(s1,`
`).replace(a1,"")}function Uy(e,n){return n=Ly(n),Ly(e)===n}function Ht(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ze(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ze(e,""+l);break;case"className":on(e,"class",l);break;case"tabIndex":on(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":on(e,s,l);break;case"style":_l(e,l,f);break;case"data":if(n!=="object"){on(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Za(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ht(e,n,"name",h.name,h,null),Ht(e,n,"formEncType",h.formEncType,h,null),Ht(e,n,"formMethod",h.formMethod,h,null),Ht(e,n,"formTarget",h.formTarget,h,null)):(Ht(e,n,"encType",h.encType,h,null),Ht(e,n,"method",h.method,h,null),Ht(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Za(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Un);break;case"onScroll":l!=null&&St("scroll",e);break;case"onScrollEnd":l!=null&&St("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Za(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":St("beforetoggle",e),St("toggle",e),Ya(e,"popover",l);break;case"xlinkActuate":pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":pe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":pe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":pe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":pe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ya(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=eu.get(s)||s,Ya(e,s,l))}}function id(e,n,s,l,h,f){switch(s){case"style":_l(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Ze(e,l):(typeof l=="number"||typeof l=="bigint")&&Ze(e,""+l);break;case"onScroll":l!=null&&St("scroll",e);break;case"onScrollEnd":l!=null&&St("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ce]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Ya(e,s,l)}}}function Pe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",e),St("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ht(e,n,f,p,s,null)}}h&&Ht(e,n,"srcSet",s.srcSet,s,null),l&&Ht(e,n,"src",s.src,s,null);return;case"input":St("invalid",e);var T=f=p=h=null,R=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var B=s[l];if(B!=null)switch(l){case"name":h=B;break;case"type":p=B;break;case"checked":R=B;break;case"defaultChecked":j=B;break;case"value":f=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ht(e,n,l,B,s,null)}}Wo(e,f,T,R,j,p,h,!1);return;case"select":St("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:Ht(e,n,h,T,s,null)}n=f,s=p,e.multiple=!!l,n!=null?as(e,!!l,n,!1):s!=null&&as(e,!!l,s,!0);return;case"textarea":St("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ht(e,n,p,T,s,null)}rs(e,l,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Ht(e,n,R,l,s,null));return;case"dialog":St("beforetoggle",e),St("toggle",e),St("cancel",e),St("close",e);break;case"iframe":case"object":St("load",e);break;case"video":case"audio":for(l=0;l<Wl.length;l++)St(Wl[l],e);break;case"image":St("error",e),St("load",e);break;case"details":St("toggle",e);break;case"embed":case"source":case"link":St("error",e),St("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ht(e,n,j,l,s,null)}return;default:if(Ja(n)){for(B in s)s.hasOwnProperty(B)&&(l=s[B],l!==void 0&&id(e,n,B,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Ht(e,n,T,l,s,null))}function r1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,j=null,B=null;for(q in s){var Q=s[q];if(s.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(q)||Ht(e,n,q,null,l,Q)}}for(var P in l){var q=l[P];if(Q=s[P],l.hasOwnProperty(P)&&(q!=null||Q!=null))switch(P){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":B=q;break;case"value":p=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&Ht(e,n,P,q,l,Q)}}Xa(e,p,T,R,j,B,f,h);return;case"select":q=p=T=P=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||Ht(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":P=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&Ht(e,n,h,f,l,R)}n=T,s=p,l=q,P!=null?as(e,!!s,P,!1):!!l!=!!s&&(n!=null?as(e,!!s,n,!0):as(e,!!s,s?[]:"",!1));return;case"textarea":q=P=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ht(e,n,T,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":P=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Ht(e,n,p,h,l,f)}$o(e,P,q);return;case"option":for(var it in s)P=s[it],s.hasOwnProperty(it)&&P!=null&&!l.hasOwnProperty(it)&&(it==="selected"?e.selected=!1:Ht(e,n,it,null,l,P));for(R in l)P=l[R],q=s[R],l.hasOwnProperty(R)&&P!==q&&(P!=null||q!=null)&&(R==="selected"?e.selected=P&&typeof P!="function"&&typeof P!="symbol":Ht(e,n,R,P,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in s)P=s[ct],s.hasOwnProperty(ct)&&P!=null&&!l.hasOwnProperty(ct)&&Ht(e,n,ct,null,l,P);for(j in l)if(P=l[j],q=s[j],l.hasOwnProperty(j)&&P!==q&&(P!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Ht(e,n,j,P,l,q)}return;default:if(Ja(n)){for(var Ft in s)P=s[Ft],s.hasOwnProperty(Ft)&&P!==void 0&&!l.hasOwnProperty(Ft)&&id(e,n,Ft,void 0,l,P);for(B in l)P=l[B],q=s[B],!l.hasOwnProperty(B)||P===q||P===void 0&&q===void 0||id(e,n,B,P,l,q);return}}for(var M in s)P=s[M],s.hasOwnProperty(M)&&P!=null&&!l.hasOwnProperty(M)&&Ht(e,n,M,null,l,P);for(Q in l)P=l[Q],q=s[Q],!l.hasOwnProperty(Q)||P===q||P==null&&q==null||Ht(e,n,Q,P,l,q)}function jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&jy(p)){for(p=0,T=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],j=R.startTime;if(j>T)break;var B=R.transferSize,Q=R.initiatorType;B&&jy(Q)&&(R=R.responseEnd,p+=B*(R<T?1:(T-j)/(R-j)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sd=null,ad=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ld=null;function o1(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(e){return By.resolve(null).then(e).catch(h1)}:qy;function h1(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function Hy(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Dr(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")to(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,to(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&to(e.ownerDocument.body);s=h}while(s);Dr(n)}function Fy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":od(s),Ka(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function f1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function d1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function Gy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function ud(e){return e.data==="$?"||e.data==="$~"}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function m1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var hd=null;function Qy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Ky(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Yy(e,n,s){switch(n=nc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function to(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ka(e)}var Nn=new Map,Xy=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=tt.d;tt.d={f:g1,r:p1,D:y1,C:_1,L:v1,m:T1,X:A1,S:E1,M:S1};function g1(){var e=Qi.f(),n=Yu();return e||n}function p1(e){var n=vn(e);n!==null&&n.tag===5&&n.type==="form"?fp(n):Qi.r(e)}var Cr=typeof document>"u"?null:document;function Jy(e,n,s){var l=Cr;if(l&&typeof n=="string"&&n){var h=Je(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Xy.has(h)||(Xy.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Pe(n,"link",e),ge(n),l.head.appendChild(n)))}}function y1(e){Qi.D(e),Jy("dns-prefetch",e,null)}function _1(e,n){Qi.C(e,n),Jy("preconnect",e,n)}function v1(e,n,s){Qi.L(e,n,s);var l=Cr;if(l&&e&&n){var h='link[rel="preload"][as="'+Je(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Je(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Je(s.imageSizes)+'"]')):h+='[href="'+Je(e)+'"]';var f=h;switch(n){case"style":f=xr(e);break;case"script":f=Nr(e)}Nn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Nn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(eo(f))||n==="script"&&l.querySelector(no(f))||(n=l.createElement("link"),Pe(n,"link",e),ge(n),l.head.appendChild(n)))}}function T1(e,n){Qi.m(e,n);var s=Cr;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Je(l)+'"][href="'+Je(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Nr(e)}if(!Nn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Nn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(no(f)))return}l=s.createElement("link"),Pe(l,"link",e),ge(l),s.head.appendChild(l)}}}function E1(e,n,s){Qi.S(e,n,s);var l=Cr;if(l&&e){var h=ai(l).hoistableStyles,f=xr(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(eo(f)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Nn.get(f))&&fd(e,s);var R=p=l.createElement("link");ge(R),Pe(R,"link",e),R._p=new Promise(function(j,B){R.onload=j,R.onerror=B}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,sc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function A1(e,n){Qi.X(e,n);var s=Cr;if(s&&e){var l=ai(s).hoistableScripts,h=Nr(e),f=l.get(h);f||(f=s.querySelector(no(h)),f||(e=b({src:e,async:!0},n),(n=Nn.get(h))&&dd(e,n),f=s.createElement("script"),ge(f),Pe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function S1(e,n){Qi.M(e,n);var s=Cr;if(s&&e){var l=ai(s).hoistableScripts,h=Nr(e),f=l.get(h);f||(f=s.querySelector(no(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Nn.get(h))&&dd(e,n),f=s.createElement("script"),ge(f),Pe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Zy(e,n,s,l){var h=(h=yn.current)?ic(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=xr(s.href),s=ai(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xr(s.href);var f=ai(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(eo(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Nn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Nn.set(e,s),f||b1(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Nr(s),s=ai(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function xr(e){return'href="'+Je(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function Wy(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function b1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",s),ge(n),e.head.appendChild(n))}function Nr(e){return'[src="'+Je(e)+'"]'}function no(e){return"script[async]"+e}function $y(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Je(s.href)+'"]');if(l)return n.instance=l,ge(l),l;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ge(l),Pe(l,"style",h),sc(l,s.precedence,e),n.instance=l;case"stylesheet":h=xr(s.href);var f=e.querySelector(eo(h));if(f)return n.state.loading|=4,n.instance=f,ge(f),f;l=Wy(s),(h=Nn.get(h))&&fd(l,h),f=(e.ownerDocument||e).createElement("link"),ge(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Pe(f,"link",l),n.state.loading|=4,sc(f,s.precedence,e),n.instance=f;case"script":return f=Nr(s.src),(h=e.querySelector(no(f)))?(n.instance=h,ge(h),h):(l=s,(h=Nn.get(f))&&(l=b({},s),dd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ge(h),Pe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,sc(l,s.precedence,e));return n.instance}function sc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ac=null;function t_(e,n,s){if(ac===null){var l=new Map,h=ac=new Map;h.set(s,l)}else h=ac,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ii]||f[me]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function e_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function w1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function n_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function R1(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=xr(l.href),f=n.querySelector(eo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=rc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ge(f);return}f=n.ownerDocument||n,l=Wy(l),(h=Nn.get(h))&&fd(l,h),f=f.createElement("link"),ge(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),Pe(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=rc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var md=0;function I1(e,n){return e.stylesheets&&e.count===0&&oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&md===0&&(md=62500*l1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>md?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function oc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,n.forEach(C1,e),lc=null,rc.call(e))}function C1(e,n){if(!(n.state.loading&4)){var s=lc.get(e);if(s)var l=s.get(null);else{s=new Map,lc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var io={$$typeof:Tt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function x1(e,n,s,l,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function i_(e,n,s,l,h,f,p,T,R,j,B,Q){return e=new x1(e,n,s,p,R,j,B,Q,T),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),e.current=f,f.stateNode=e,n=Qh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Jh(f),e}function s_(e){return e?(e=lr,e):lr}function a_(e,n,s,l,h,f){h=s_(h),l.context===null?l.context=h:l.pendingContext=h,l=_s(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=vs(e,l,n),s!==null&&(nn(s,e,n),kl(s,e,n))}function r_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function gd(e,n){r_(e,n),(e=e.alternate)&&r_(e,n)}function l_(e){if(e.tag===13||e.tag===31){var n=da(e,67108864);n!==null&&nn(n,e,67108864),gd(e,67108864)}}function o_(e){if(e.tag===13||e.tag===31){var n=gn();n=ea(n);var s=da(e,n);s!==null&&nn(s,e,n),gd(e,n)}}var uc=!0;function N1(e,n,s,l){var h=G.T;G.T=null;var f=tt.p;try{tt.p=2,pd(e,n,s,l)}finally{tt.p=f,G.T=h}}function D1(e,n,s,l){var h=G.T;G.T=null;var f=tt.p;try{tt.p=8,pd(e,n,s,l)}finally{tt.p=f,G.T=h}}function pd(e,n,s,l){if(uc){var h=yd(l);if(h===null)nd(e,n,l,cc,s),c_(e,l);else if(O1(h,e,n,s,l))l.stopPropagation();else if(c_(e,l),n&4&&-1<V1.indexOf(e)){for(;h!==null;){var f=vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=$n(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-se(p);T.entanglements[1]|=R,p&=~R}_i(f),(Mt&6)===0&&(Qu=Qe()+500,Zl(0))}}break;case 31:case 13:T=da(f,2),T!==null&&nn(T,f,2),Yu(),gd(f,2)}if(f=yd(l),f===null&&nd(e,n,l,cc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else nd(e,n,l,null,s)}}function yd(e){return e=Tn(e),_d(e)}var cc=null;function _d(e){if(cc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function u_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zs()){case rl:return 2;case ll:return 8;case is:case Sh:return 32;case Bo:return 268435456;default:return 32}default:return 32}}var vd=!1,Ns=null,Ds=null,Vs=null,so=new Map,ao=new Map,Os=[],V1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(e,n){switch(e){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":so.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function ro(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=vn(n),n!==null&&l_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function O1(e,n,s,l,h){switch(n){case"focusin":return Ns=ro(Ns,e,n,s,l,h),!0;case"dragenter":return Ds=ro(Ds,e,n,s,l,h),!0;case"mouseover":return Vs=ro(Vs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return so.set(f,ro(so.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ao.set(f,ro(ao.get(f)||null,e,n,s,l,h)),!0}return!1}function h_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,kn(e.priority,function(){o_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,kn(e.priority,function(){o_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=yd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);vl=l,s.target.dispatchEvent(l),vl=null}else return n=vn(s),n!==null&&l_(n),e.blockedOn=s,!1;n.shift()}return!0}function f_(e,n,s){hc(e)&&s.delete(n)}function M1(){vd=!1,Ns!==null&&hc(Ns)&&(Ns=null),Ds!==null&&hc(Ds)&&(Ds=null),Vs!==null&&hc(Vs)&&(Vs=null),so.forEach(f_),ao.forEach(f_)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,vd||(vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,M1)))}var dc=null;function d_(e){dc!==e&&(dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(_d(l||s)===null)continue;break}var f=vn(s);f!==null&&(e.splice(n,3),n-=3,yf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Dr(e){function n(R){return fc(R,e)}Ns!==null&&fc(Ns,e),Ds!==null&&fc(Ds,e),Vs!==null&&fc(Vs,e),so.forEach(n),ao.forEach(n);for(var s=0;s<Os.length;s++){var l=Os[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Os.length&&(s=Os[0],s.blockedOn===null);)h_(s),s.blockedOn===null&&Os.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Ce]||null;if(typeof f=="function")p||d_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ce]||null)T=p.formAction;else if(_d(h)!==null)continue}else T=p.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),d_(s)}}}function m_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Td(e){this._internalRoot=e}mc.prototype.render=Td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=gn();a_(s,l,e,n,null,null)},mc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;a_(e.current,2,null,e,null,null),Yu(),n[ni]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Os.length&&n!==0&&n<Os[s].priority;s++);Os.splice(s,0,e),s===0&&h_(e)}};var g_=t.version;if(g_!=="19.2.4")throw Error(a(527,g_,"19.2.4"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var k1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{On=gc.inject(k1),Me=gc}catch{}}return lo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Ap,f=Sp,p=bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=i_(e,1,!1,null,null,s,l,null,h,f,p,m_),e[ni]=n.current,ed(e),new Td(n)},lo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Ap,p=Sp,T=bp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=i_(e,1,!0,n,s??null,l,h,R,f,p,T,m_),n.context=s_(null),s=n.current,l=gn(),l=ea(l),h=_s(l),h.callback=null,vs(s,h,l),s=l,n.current.lanes=s,$s(n,s),_i(n),e[ni]=n.current,ed(e),new mc(n)},lo.version="19.2.4",lo}var v_;function cA(){if(v_)return Ed.exports;v_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch{}}return r(),Ed.exports=uA(),Ed.exports}var hA=cA();const fA=P1(hA);function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dA=Kv,Yv=new im("auth","Firebase",Kv());const Mc=new Bv("@firebase/auth");function mA(r,...t){Mc.logLevel<=Qn.WARN&&Mc.warn(`Auth (${Jr}): ${r}`,...t)}function Ac(r,...t){Mc.logLevel<=Qn.ERROR&&Mc.error(`Auth (${Jr}): ${r}`,...t)}function wi(r,...t){throw rm(r,...t)}function Yn(r,...t){return rm(r,...t)}function am(r,t,i){const a={...dA(),[t]:i};return new im("auth","Firebase",a).create(t,{appName:r.name})}function xa(r){return am(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gA(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&wi(r,"argument-error"),am(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Yv.create(r,...t)}function ft(r,t,...i){if(!r)throw rm(t,...i)}function Yi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Ac(t),new Error(t)}function Zi(r,t){r||Yi(t)}function Ud(){return typeof self<"u"&&self.location?.href||""}function pA(){return T_()==="http:"||T_()==="https:"}function T_(){return typeof self<"u"&&self.location?.protocol||null}function yA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pA()||Y1()||"connection"in navigator)?navigator.onLine:!0}function _A(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class No{constructor(t,i){this.shortDelay=t,this.longDelay=i,Zi(i>t,"Short delay should be less than long delay!"),this.isMobile=Q1()||K1()}get(){return yA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lm(r,t){Zi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Xv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EA=new No(3e4,6e4);function om(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Pa(r,t,i,a,o={}){return Jv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Co({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:_,...c};return tA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&xo(r.emulatorConfig.host)&&(v.credentials="include"),Xv.fetch()(await Zv(r,r.config.apiHost,i,g),v)})}async function Jv(r,t,i){r._canInitEmulator=!1;const a={...vA,...t};try{const o=new SA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw pc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw pc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw pc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw am(r,A,v);wi(r,A)}}catch(o){if(o instanceof $c)throw o;wi(r,"network-request-failed",{message:String(o)})}}async function AA(r,t,i,a,o={}){const c=await Pa(r,t,i,a,o);return"mfaPendingCredential"in c&&wi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?lm(r.config,o):`${r.config.apiScheme}://${o}`;return TA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class SA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Yn(this.auth,"network-request-failed")),EA.get())})}}function pc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Yn(r,t,a);return o.customData._tokenResponse=i,o}async function bA(r,t){return Pa(r,"POST","/v1/accounts:delete",t)}async function kc(r,t){return Pa(r,"POST","/v1/accounts:lookup",t)}function mo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wA(r,t=!1){const i=Ve(r),a=await i.getIdToken(t),o=um(a);ft(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:mo(bd(o.auth_time)),issuedAtTime:mo(bd(o.iat)),expirationTime:mo(bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function bd(r){return Number(r)*1e3}function um(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=J1(i);return o?JSON.parse(o):(Ac("Failed to decode base64 JWT payload"),null)}catch(o){return Ac("Caught error parsing JWT payload as JSON",o?.toString()),null}}function E_(r){const t=um(r);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Br(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof $c&&RA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function RA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class IA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=mo(this.lastLoginAt),this.creationTime=mo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lc(r){const t=r.auth,i=await r.getIdToken(),a=await Br(r,kc(t,{idToken:i}));ft(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?Wv(o.providerUserInfo):[],d=xA(r.providerData,c),g=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,v=g?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new jd(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,A)}async function CA(r){const t=Ve(r);await Lc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Wv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function NA(r,t){const i=await Jv(r,{},async()=>{const a=Co({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Zv(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&xo(r.emulatorConfig.host)&&(_.credentials="include"),Xv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DA(r,t){return Pa(r,"POST","/v2/accounts:revokeToken",om(r,t))}class Lr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):E_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ft(t.length!==0,"internal-error");const i=E_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await NA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Lr;return a&&(ft(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(ft(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(ft(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Lr,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function ks(r,t){ft(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Kn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new IA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Br(this,this.stsTokenManager.getToken(this.auth,t));return ft(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return wA(this,t)}reload(){return CA(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Kn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Lc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(xa(this.auth));const t=await this.getIdToken();return await Br(this,bA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:V,isAnonymous:H,providerData:X,stsTokenManager:Z}=i;ft(b&&Z,t,"internal-error");const $=Lr.fromJSON(this.name,Z);ft(typeof b=="string",t,"internal-error"),ks(a,t.name),ks(o,t.name),ft(typeof V=="boolean",t,"internal-error"),ft(typeof H=="boolean",t,"internal-error"),ks(c,t.name),ks(d,t.name),ks(g,t.name),ks(_,t.name),ks(v,t.name),ks(A,t.name);const mt=new Kn({uid:b,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:v,lastLoginAt:A});return X&&Array.isArray(X)&&(mt.providerData=X.map(_t=>({..._t}))),_&&(mt._redirectEventId=_),mt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Lr;o.updateFromServerResponse(i);const c=new Kn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Lc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];ft(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Wv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Lr;g.updateFromIdToken(a);const _=new Kn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const A_=new Map;function Xi(r){Zi(r instanceof Function,"Expected a class definition");let t=A_.get(r);return t?(Zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,A_.set(r,t),t)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}$v.type="NONE";const S_=$v;function Sc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ur{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Sc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Sc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await kc(this.auth,{idToken:t}).catch(()=>{});return i?Kn._fromGetAccountInfoResponse(this.auth,i,t):null}return Kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ur(Xi(S_),t,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||Xi(S_);const d=Sc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const V=await kc(t,{idToken:A}).catch(()=>{});if(!V)break;b=await Kn._fromGetAccountInfoResponse(t,V,A)}else b=Kn._fromJSON(t,A);v!==c&&(g=b),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ur(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Ur(c,t,a))}}function b_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(i0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(t0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(a0(t))return"Blackberry";if(r0(t))return"Webos";if(e0(t))return"Safari";if((t.includes("chrome/")||n0(t))&&!t.includes("edge/"))return"Chrome";if(s0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function t0(r=rn()){return/firefox\//i.test(r)}function e0(r=rn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function n0(r=rn()){return/crios\//i.test(r)}function i0(r=rn()){return/iemobile/i.test(r)}function s0(r=rn()){return/android/i.test(r)}function a0(r=rn()){return/blackberry/i.test(r)}function r0(r=rn()){return/webos/i.test(r)}function cm(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VA(r=rn()){return cm(r)&&!!window.navigator?.standalone}function OA(){return W1()&&document.documentMode===10}function l0(r=rn()){return cm(r)||s0(r)||r0(r)||a0(r)||/windows phone/i.test(r)||i0(r)}function o0(r,t=[]){let i;switch(r){case"Browser":i=b_(rn());break;case"Worker":i=`${b_(rn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Jr}/${a}`}class MA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function kA(r,t={}){return Pa(r,"GET","/v2/passwordPolicy",om(r,t))}const LA=6;class UA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class jA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w_(this),this.idTokenSubscription=new w_(this),this.beforeStateQueue=new MA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ur.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await kc(this,{idToken:t}),a=await Kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch{await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Lc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_A()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gn(this.app))return Promise.reject(xa(this));const i=t?Ve(t):null;return i&&ft(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gn(this.app)?Promise.reject(xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kA(this),i=new UA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new im("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await DA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;ft(i,this,"argument-error"),this.redirectPersistenceManager=await Ur.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&mA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function th(r){return Ve(r)}class w_{constructor(t){this.auth=t,this.observer=null,this.addObserver=X1(i=>this.observer=i)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PA(r){hm=r}function zA(r){return hm.loadJS(r)}function qA(){return hm.gapiScript}function BA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function HA(r,t){const i=sm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Oc(c,t??{}))return o;wi(o,"already-initialized")}return i.initialize({options:t})}function FA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function GA(r,t,i){const a=th(r);ft(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=u0(t),{host:d,port:g}=QA(t),_=g===null?"":`:${g}`,v={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ft(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ft(Oc(v,a.config.emulator)&&Oc(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,xo(d)?(Gv(`${c}//${d}${_}`),Qv("Auth",!0)):KA()}function u0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function QA(r){const t=u0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:R_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:R_(d)}}}function R_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function KA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class c0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function jr(r,t){return AA(r,"POST","/v1/accounts:signInWithIdp",om(r,t))}const YA="http://localhost";class Ma extends c0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ma(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Ma(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return jr(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,jr(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,jr(t,i)}buildRequest(){const t={requestUri:YA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Co(i)}return t}}class fm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Do extends fm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ls extends Do{constructor(){super("facebook.com")}static credential(t){return Ma._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ls.credentialFromTaggedObject(t)}static credentialFromError(t){return Ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ls.credential(t.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class Ki extends Do{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ma._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ki.credentialFromTaggedObject(t)}static credentialFromError(t){return Ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ki.credential(i,a)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";class Us extends Do{constructor(){super("github.com")}static credential(t){return Ma._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";class js extends Do{constructor(){super("twitter.com")}static credential(t,i){return Ma._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return js.credential(i,a)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";class Hr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Kn._fromIdTokenResponse(t,a,o),d=I_(a);return new Hr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=I_(a);return new Hr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function I_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Uc extends $c{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Uc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Uc(t,i,a,o)}}function h0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uc._fromErrorAndOperation(r,c,t,a):c})}async function XA(r,t,i=!1){const a=await Br(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Hr._forOperation(r,"link",a)}async function JA(r,t,i=!1){const{auth:a}=r;if(Gn(a.app))return Promise.reject(xa(a));const o="reauthenticate";try{const c=await Br(r,h0(a,o,t,r),i);ft(c.idToken,a,"internal-error");const d=um(c.idToken);ft(d,a,"internal-error");const{sub:g}=d;return ft(r.uid===g,a,"user-mismatch"),Hr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&wi(a,"user-mismatch"),c}}async function ZA(r,t,i=!1){if(Gn(r.app))return Promise.reject(xa(r));const a="signIn",o=await h0(r,a,t),c=await Hr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function WA(r,t){return Pa(r,"POST","/v1/accounts:update",t)}async function $A(r,{displayName:t,photoURL:i}){if(t===void 0&&i===void 0)return;const a=Ve(r),c={idToken:await a.getIdToken(),displayName:t,photoUrl:i,returnSecureToken:!0},d=await Br(a,WA(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const g=a.providerData.find(({providerId:_})=>_==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function tS(r,t,i,a){return Ve(r).onIdTokenChanged(t,i,a)}function eS(r,t,i){return Ve(r).beforeAuthStateChanged(t,i)}function nS(r,t,i,a){return Ve(r).onAuthStateChanged(t,i,a)}const jc="__sak";class f0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(jc,"1"),this.storage.removeItem(jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const iS=1e3,sS=10;class d0 extends f0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);OA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,sS):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},iS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}d0.type="LOCAL";const aS=d0;class m0 extends f0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}m0.type="SESSION";const g0=m0;function rS(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new eh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async v=>v(i.origin,c)),_=await rS(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];function dm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class lS{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const v=dm("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(b){const V=b;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ti(){return window}function oS(r){Ti().location.href=r}function p0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function uS(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cS(){return navigator?.serviceWorker?.controller||null}function hS(){return p0()?self:null}const y0="firebaseLocalStorageDb",fS=1,Pc="firebaseLocalStorage",_0="fbase_key";class Vo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function nh(r,t){return r.transaction([Pc],t?"readwrite":"readonly").objectStore(Pc)}function dS(){const r=indexedDB.deleteDatabase(y0);return new Vo(r).toPromise()}function Pd(){const r=indexedDB.open(y0,fS);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Pc,{keyPath:_0})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Pc)?t(a):(a.close(),await dS(),t(await Pd()))})})}async function C_(r,t,i){const a=nh(r,!0).put({[_0]:t,value:i});return new Vo(a).toPromise()}async function mS(r,t){const i=nh(r,!1).get(t),a=await new Vo(i).toPromise();return a===void 0?null:a.value}function x_(r,t){const i=nh(r,!0).delete(t);return new Vo(i).toPromise()}const gS=800,pS=3;class v0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>pS)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(hS()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uS(),!this.activeServiceWorker)return;this.sender=new lS(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Pd();return await C_(t,jc,"1"),await x_(t,jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>C_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>mS(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>x_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=nh(o,!1).getAll();return new Vo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v0.type="LOCAL";const yS=v0;new No(3e4,6e4);function T0(r,t){return t?Xi(t):(ft(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class mm extends c0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jr(t,this._buildIdpRequest())}_linkToIdToken(t,i){return jr(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return jr(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function _S(r){return ZA(r.auth,new mm(r),r.bypassAuthState)}function vS(r){const{auth:t,user:i}=r;return ft(i,t,"internal-error"),JA(i,new mm(r),r.bypassAuthState)}async function TS(r){const{auth:t,user:i}=r;return ft(i,t,"internal-error"),XA(i,new mm(r),r.bypassAuthState)}class E0{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _S;case"linkViaPopup":case"linkViaRedirect":return TS;case"reauthViaPopup":case"reauthViaRedirect":return vS;default:wi(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ES=new No(2e3,1e4);async function AS(r,t,i){if(Gn(r.app))return Promise.reject(Yn(r,"operation-not-supported-in-this-environment"));const a=th(r);gA(r,t,fm);const o=T0(a,i);return new Ia(a,"signInViaPopup",t,o).executeNotNull()}class Ia extends E0{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ES.get())};t()}}Ia.currentPopupAction=null;const SS="pendingRedirect",bc=new Map;class bS extends E0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const a=await wS(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wS(r,t){const i=CS(t),a=IS(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function RS(r,t){bc.set(r._key(),t)}function IS(r){return Xi(r._redirectPersistence)}function CS(r){return Sc(SS,r.config.apiKey,r.name)}async function xS(r,t,i=!1){if(Gn(r.app))return Promise.reject(xa(r));const a=th(r),o=T0(a,t),d=await new bS(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const NS=600*1e3;class DS{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VS(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!A0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Yn(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NS&&this.cachedEventUids.clear(),this.cachedEventUids.has(N_(t))}saveEventToCache(t){this.cachedEventUids.add(N_(t)),this.lastProcessedEventTime=Date.now()}}function N_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function A0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function VS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A0(r);default:return!1}}async function OS(r,t={}){return Pa(r,"GET","/v1/projects",t)}const MS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kS=/^https?/;async function LS(r){if(r.config.emulator)return;const{authorizedDomains:t}=await OS(r);for(const i of t)try{if(US(i))return}catch{}wi(r,"unauthorized-domain")}function US(r){const t=Ud(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!kS.test(i))return!1;if(MS.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const jS=new No(3e4,6e4);function D_(){const r=Ti().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function PS(r){return new Promise((t,i)=>{function a(){D_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{D_(),i(Yn(r,"network-request-failed"))},timeout:jS.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const o=BA("iframefcb");return Ti()[o]=()=>{gapi.load?a():i(Yn(r,"network-request-failed"))},zA(`${qA()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw wc=null,t})}let wc=null;function zS(r){return wc=wc||PS(r),wc}const qS=new No(5e3,15e3),BS="__/auth/iframe",HS="emulator/auth/iframe",FS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QS(r){const t=r.config;ft(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?lm(t,HS):`https://${r.config.authDomain}/${BS}`,a={apiKey:t.apiKey,appName:r.name,v:Jr},o=GS.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Co(a).slice(1)}`}async function KS(r){const t=await zS(r),i=Ti().gapi;return ft(i,r,"internal-error"),t.open({where:document.body,url:QS(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FS,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Yn(r,"network-request-failed"),g=Ti().setTimeout(()=>{c(d)},qS.get());function _(){Ti().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const YS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XS=500,JS=600,ZS="_blank",WS="http://localhost";class V_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $S(r,t,i,a=XS,o=JS){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...YS,width:a.toString(),height:o.toString(),top:c,left:d},v=rn().toLowerCase();i&&(g=n0(v)?ZS:i),t0(v)&&(t=t||WS,_.scrollbars="yes");const A=Object.entries(_).reduce((V,[H,X])=>`${V}${H}=${X},`,"");if(VA(v)&&g!=="_self")return t2(t||"",g),new V_(null);const b=window.open(t||"",g,A);ft(b,r,"popup-blocked");try{b.focus()}catch{}return new V_(b)}function t2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const e2="__/auth/handler",n2="emulator/auth/handler",i2=encodeURIComponent("fac");async function O_(r,t,i,a,o,c){ft(r.config.authDomain,r,"auth-domain-config-required"),ft(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Jr,eventId:o};if(t instanceof fm){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",$1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Do){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await r._getAppCheckToken(),v=_?`#${i2}=${encodeURIComponent(_)}`:"";return`${s2(r)}?${Co(g).slice(1)}${v}`}function s2({config:r}){return r.emulator?lm(r,n2):`https://${r.authDomain}/${e2}`}const wd="webStorageSupport";class a2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g0,this._completeRedirectFn=xS,this._overrideRedirectResult=RS}async _openPopup(t,i,a,o){Zi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await O_(t,i,a,Ud(),o);return $S(t,c,dm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await O_(t,i,a,Ud(),o);return oS(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Zi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await KS(t),a=new DS(t);return i.register("authEvent",o=>(ft(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(wd,{type:wd},o=>{const c=o?.[0]?.[wd];c!==void 0&&i(!!c),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=LS(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return l0()||e0()||cm()}}const r2=a2;var M_="@firebase/auth",k_="1.12.0";class l2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function o2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u2(r){kd(new Ld("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;ft(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(r)},v=new jA(a,o,c,_);return FA(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),kd(new Ld("auth-internal",t=>{const i=th(t.getProvider("auth").getImmediate());return(a=>new l2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vo(M_,k_,o2(r)),vo(M_,k_,"esm2020")}const c2=300,h2=Hv("authIdTokenMaxAge")||c2;let L_=null;const f2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>h2)return;const o=i?.token;L_!==o&&(L_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function d2(r=Fv()){const t=sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=HA(r,{popupRedirectResolver:r2,persistence:[yS,aS,g0]}),a=Hv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=f2(c.toString());eS(i,d,()=>d(i.currentUser)),tS(i,g=>d(g))}}const o=Z1("auth");return o&&GA(i,`http://${o}`),i}function m2(){return document.getElementsByTagName("head")?.[0]??document}PA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Yn("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",m2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u2("Browser");var g2="firebase",p2="12.9.0";vo(g2,p2,"app");var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zs,S0;(function(){var r;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(O,D,k){for(var I=Array(arguments.length-2),he=2;he<arguments.length;he++)I[he-2]=arguments[he];return w.prototype[D].apply(O,I)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const O=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)O[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let k=N.g[3],I;I=w+(k^C&(D^k))+O[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+O[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+O[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+O[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+O[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+O[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+O[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+O[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+O[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+O[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+O[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+O[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+O[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+O[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+O[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+O[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(D^k&(C^D))+O[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+O[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+O[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+O[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+O[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+O[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+O[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+O[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+O[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+O[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+O[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+O[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+O[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+O[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+O[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+O[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(C^D^k)+O[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+O[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+O[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+O[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+O[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+O[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+O[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+O[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+O[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+O[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+O[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+O[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+O[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+O[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+O[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+O[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(D^(C|~k))+O[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+O[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+O[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+O[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+O[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+O[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+O[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+O[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+O[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+O[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+O[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+O[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+O[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+O[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+O[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(O[D++]=N.charCodeAt(k++),D==this.blockSize){o(this,O),D=0;break}}else for(;k<w;)if(O[D++]=N[k++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)N[w++]=this.g[C]>>>O&255;return N};function c(N,w){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let O=!0;for(let D=N.length-1;D>=0;D--){const k=N[D]|0;O&&k==w||(C[D]=k,O=!1)}this.g=C}var g={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return $(v(-N));const w=[];let C=1;for(let O=0;N>=C;O++)w[O]=N/C|0,C*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return $(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(w,8));let O=b;for(let k=0;k<N.length;k+=8){var D=Math.min(8,N.length-k);const I=parseInt(N.substring(k,k+D),w);D<8?(D=v(Math.pow(w,D)),O=O.j(D).add(v(I))):(O=O.j(C),O=O.add(v(I)))}return O}var b=_(0),V=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(Z(this))return-$(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);N+=(O>=0?O:4294967296+O)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(X(this))return"0";if(Z(this))return"-"+$(this).toString(N);const w=v(Math.pow(N,6));var C=this;let O="";for(;;){const D=Ut(C,w).g;C=mt(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,X(C))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function X(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function Z(N){return N.h==-1}r.l=function(N){return N=mt(this,N),Z(N)?-1:X(N)?0:1};function $(N){const w=N.g.length,C=[];for(let O=0;O<w;O++)C[O]=~N.g[O];return new d(C,~N.h).add(V)}r.abs=function(){return Z(this)?$(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let O=0;for(let D=0;D<=w;D++){let k=O+(this.i(D)&65535)+(N.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);O=I>>>16,k&=65535,I&=65535,C[D]=I<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function mt(N,w){return N.add($(w))}r.j=function(N){if(X(this)||X(N))return b;if(Z(this))return Z(N)?$(this).j($(N)):$($(this).j(N));if(Z(N))return $(this.j($(N)));if(this.l(H)<0&&N.l(H)<0)return v(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<N.g.length;D++){const k=this.i(O)>>>16,I=this.i(O)&65535,he=N.i(D)>>>16,Oe=N.i(D)&65535;C[2*O+2*D]+=I*Oe,_t(C,2*O+2*D),C[2*O+2*D+1]+=k*Oe,_t(C,2*O+2*D+1),C[2*O+2*D+1]+=I*he,_t(C,2*O+2*D+1),C[2*O+2*D+2]+=k*he,_t(C,2*O+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function _t(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function Tt(N,w){this.g=N,this.h=w}function Ut(N,w){if(X(w))throw Error("division by zero");if(X(N))return new Tt(b,b);if(Z(N))return w=Ut($(N),w),new Tt($(w.g),$(w.h));if(Z(w))return w=Ut(N,$(w)),new Tt($(w.g),w.h);if(N.g.length>30){if(Z(N)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var C=V,O=w;O.l(N)<=0;)C=at(C),O=at(O);var D=Et(C,1),k=Et(O,1);for(O=Et(O,2),C=Et(C,2);!X(O);){var I=k.add(O);I.l(N)<=0&&(D=D.add(C),k=I),O=Et(O,1),C=Et(C,1)}return w=mt(N,D.j(w)),new Tt(D,w)}for(D=b;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=v(C),I=k.j(w);Z(I)||I.l(N)>0;)C-=O,k=v(C),I=k.j(w);X(k)&&(k=V),D=D.add(k),N=mt(N,I)}return new Tt(D,N)}r.B=function(N){return Ut(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)&N.i(O);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)|N.i(O);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)^N.i(O);return new d(C,this.h^N.h)};function at(N){const w=N.g.length+1,C=[];for(let O=0;O<w;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new d(C,N.h)}function Et(N,w){const C=w>>5;w%=32;const O=N.g.length-C,D=[];for(let k=0;k<O;k++)D[k]=w>0?N.i(k+C)>>>w|N.i(k+C+1)<<32-w:N.i(k+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,S0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,zs=d}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var b0,uo,w0,Rc,zd,R0,I0,C0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var y=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in y))break t;y=y[L]}u=u[u.length-1],E=y[u],m=m(E),m!=E&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&y.push([E,m[E]]);return y}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(E,L,z){for(var J=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)J[pt-2]=arguments[pt];return m.prototype[L].apply(E,J)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const y=Array(m);for(let E=0;E<m;E++)y[E]=u[E];return y}return[]}function X(u,m){for(let E=1;E<arguments.length;E++){const L=arguments[E];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const z=L.length||0;u.length=y+z;for(let J=0;J<z;J++)u[y+J]=L[J]}else u.push(L)}}class Z{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,y){const E=Tt.get();E.set(m,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Tt=new Z(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let at,Et=!1,N=new _t,w=()=>{const u=Promise.resolve(void 0);at=()=>{u.then(C)}};function C(){for(var u;u=mt();){try{u.h.call(u.g)}catch(y){$(y)}var m=Tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Et=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function he(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(he,D),he.prototype.init=function(u,m){const y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,y,E,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!E,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const E in u)m.call(y,u[E],E,u)}function Gt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function Ie(u){const m={};for(const y in u)m[y]=u[y];return m}const Kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nt(u,m){let y,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(y in E)u[y]=E[y];for(let z=0;z<Kt.length;z++)y=Kt[z],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function te(u){this.src=u,this.g={},this.h=0}te.prototype.add=function(u,m,y,E,L){const z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);const J=yn(u,m,E,L);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new tt(m,this.src,z,!!E,L),m.fa=y,u.push(m)),m};function Xe(u,m){const y=m.type;if(y in u.g){var E=u.g[y],L=Array.prototype.indexOf.call(E,m,void 0),z;(z=L>=0)&&Array.prototype.splice.call(E,L,1),z&&(ut(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function yn(u,m,y,E){for(let L=0;L<u.length;++L){const z=u[L];if(!z.da&&z.listener==m&&z.capture==!!y&&z.ha==E)return L}return-1}var ts="closure_lm_"+(Math.random()*1e6|0),es={};function Ii(u,m,y,E,L){if(Array.isArray(m)){for(let z=0;z<m.length;z++)Ii(u,m[z],y,E,L);return null}return y=al(y),u&&u[Oe]?u.J(m,y,g(E)?!!E.capture:!1,L):nl(u,m,y,!1,E,L)}function nl(u,m,y,E,L,z){if(!m)throw Error("Invalid event type");const J=g(L)?!!L.capture:!!L;let pt=Js(u);if(pt||(u[ts]=pt=new te(u)),y=pt.add(m,y,E,J,z),y.proxy)return y;if(E=Ba(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)k||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),E,L);else if(u.attachEvent)u.attachEvent(Zn(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ba(){function u(y){return m.call(u.src,u.listener,y)}const m=il;return u}function Ha(u,m,y,E,L){if(Array.isArray(m))for(var z=0;z<m.length;z++)Ha(u,m[z],y,E,L);else E=g(E)?!!E.capture:!!E,y=al(y),u&&u[Oe]?(u=u.i,z=String(m).toString(),z in u.g&&(m=u.g[z],y=yn(m,y,E,L),y>-1&&(ut(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[z],u.h--)))):u&&(u=Js(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yn(m,y,E,L)),(y=u>-1?m[u]:null)&&Fa(y))}function Fa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Oe])Xe(m.i,u);else{var y=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(y,E,u.capture):m.detachEvent?m.detachEvent(Zn(y),E):m.addListener&&m.removeListener&&m.removeListener(E),(y=Js(m))?(Xe(y,u),y.h==0&&(y.src=null,m[ts]=null)):ut(u)}}}function Zn(u){return u in es?es[u]:es[u]="on"+u}function il(u,m){if(u.da)u=!0;else{m=new he(m,this);const y=u.listener,E=u.ha||u.src;u.fa&&Fa(u),u=y.call(E,m)}return u}function Js(u){return u=u[ts],u instanceof te?u:null}var sl="__closure_events_fn_"+(Math.random()*1e9>>>0);function al(u){return typeof u=="function"?u:(u[sl]||(u[sl]=function(m){return u.handleEvent(m)}),u[sl])}function fe(){O.call(this),this.i=new te(this),this.M=this,this.G=null}b(fe,O),fe.prototype[Oe]=!0,fe.prototype.removeEventListener=function(u,m,y,E){Ha(this,u,m,y,E)};function be(u,m){var y,E=u.G;if(E)for(y=[];E;E=E.G)y.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(E,u),Nt(m,L)}L=!0;let z,J;if(y)for(J=y.length-1;J>=0;J--)z=m.g=y[J],L=ns(z,E,!0,m)&&L;if(z=m.g=u,L=ns(z,E,!0,m)&&L,L=ns(z,E,!1,m)&&L,y)for(J=0;J<y.length;J++)z=m.g=y[J],L=ns(z,E,!1,m)&&L}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let E=0;E<y.length;E++)ut(y[E]);delete u.g[m],u.h--}}this.G=null},fe.prototype.J=function(u,m,y,E){return this.i.add(String(u),m,!1,y,E)},fe.prototype.K=function(u,m,y,E){return this.i.add(String(u),m,!0,y,E)};function ns(u,m,y,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let z=0;z<m.length;++z){const J=m[z];if(J&&!J.da&&J.capture==y){const pt=J.listener,ae=J.ha||J.src;J.fa&&Xe(u.i,J),L=pt.call(ae,E)!==!1&&L}}return L&&!E.defaultPrevented}function Ah(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function qo(u){u.g=Ah(()=>{u.g=null,u.i&&(u.i=!1,qo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Qe extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(u){O.call(this),this.h=u,this.g={}}b(Zs,O);var rl=[];function ll(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Fa(m)},u),u.g={}}Zs.prototype.N=function(){Zs.Z.N.call(this),ll(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=d.JSON.stringify,Sh=d.JSON.parse,Bo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ho(){}function Fo(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){D.call(this,"d")}b(Me,D);function _n(){D.call(this,"c")}b(_n,D);var se={},Go=null;function Ga(){return Go=Go||new fe}se.Ia="serverreachability";function Qo(u){D.call(this,se.Ia,u)}b(Qo,D);function Wn(u){const m=Ga();be(m,new Qo(m))}se.STAT_EVENT="statevent";function Ws(u,m){D.call(this,se.STAT_EVENT,u),this.stat=m}b(Ws,D);function de(u){const m=Ga();be(m,new Ws(m,u))}se.Ja="timingevent";function $n(u,m){D.call(this,se.Ja,u),this.size=m}b($n,D);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function bh(u,m,y,E,L,z){u.info(function(){if(u.g)if(z){var J="",pt=z.split("&");for(let Ot=0;Ot<pt.length;Ot++){var ae=pt[Ot].split("=");if(ae.length>1){const Wt=ae[0];ae=ae[1];const An=Wt.split("_");J=An.length>=2&&An[1]=="type"?J+(Wt+"="+ae+"&"):J+(Wt+"=redacted&")}}}else J=null;else J=z;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+m+`
`+y+`
`+J})}function Ko(u,m,y,E,L,z,J){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+m+`
`+y+`
`+z+" "+J})}function ei(u,m,y,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+wh(u,y)+(E?" "+E:"")})}function $s(u,m){u.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function wh(u,m){if(!u.g)return m;if(!m)return null;try{const z=JSON.parse(m);if(z){for(u=0;u<z.length;u++)if(Array.isArray(z[u])){var y=z[u];if(!(y.length<2)){var E=y[1];if(Array.isArray(E)&&!(E.length<1)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(let J=1;J<E.length;J++)E[J]=""}}}}return is(z)}catch{return m}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ul;function ea(){}b(ea,Ho),ea.prototype.g=function(){return new XMLHttpRequest},ul=new ea;function Ci(u){return encodeURIComponent(String(u))}function Yo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function kn(u,m,y,E){this.j=u,this.i=m,this.l=y,this.S=E||1,this.V=new Zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var me={},Ce={};function ni(u,m,y){u.M=1,u.A=na(pe(m)),u.u=y,u.R=!0,Qa(u,null)}function Qa(u,m){u.F=Date.now(),ii(u),u.B=pe(u.A);var y=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),Ja(y.i,"t",E),u.C=0,y=u.j.L,u.h=new Ln,u.g=uu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Qe(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,E=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(rl[0]=L.toString()),L=rl);for(let z=0;z<L.length;z++){const J=Ii(y,L[z],E||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?Ie(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),bh(u.i,u.v,u.B,u.l,u.S,u.u)}kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Pn(u)==3?m.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)t:{const pt=Pn(this.g),ae=this.g.ya(),Ot=this.g.ca();if(!(pt<3)&&(pt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||pt!=4||ae==7||(ae==8||Ot<=0?Wn(3):Wn(2)),si(this);var m=this.g.ca();this.X=m;var y=Rh(this);if(this.o=m==200,Ko(this.i,this.v,this.B,this.l,this.S,pt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,L=this.g;if((E=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(E)){var z=E;break e}}z=null}if(u=z)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,de(12),ln(this),vn(this);break t}}if(this.R){u=!0;let Wt;for(;!this.K&&this.C<y.length;)if(Wt=Jo(this,y),Wt==Ce){pt==4&&(this.m=4,de(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==me){this.m=4,de(15),ei(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,Wt,null),ai(this,Wt);if(Xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||y.length!=0||this.h.h||(this.m=1,de(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,y,"[Invalid Chunked Response]"),ln(this),vn(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),bl(J),J.P=!0,de(11))}}else ei(this.i,this.l,y,null),ai(this,y);pt==4&&ln(this),this.o&&!this.K&&(pt==4?au(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),ln(this),vn(this)}}}catch{}};function Rh(u){if(!Xo(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let y="";const E=m.length,L=Pn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ln(u),vn(u),"";u.h.i=new d.TextDecoder}for(let z=0;z<E;z++)u.h.h=!0,y+=u.h.i.decode(m[z],{stream:!(L&&z==E-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Xo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Jo(u,m){var y=u.C,E=m.indexOf(`
`,y);return E==-1?Ce:(y=Number(m.substring(y,E)),isNaN(y)?me:(E+=1,E+y>m.length?Ce:(m=m.slice(E,E+y),u.C=E+y,m)))}kn.prototype.cancel=function(){this.K=!0,ln(this)};function ii(u){u.T=Date.now()+u.H,Ka(u,u.H)}function Ka(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(v(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?($s(this.i,this.B),this.M!=2&&(Wn(),de(17)),ln(this),this.m=2,vn(this)):Ka(this,this.T-u)};function vn(u){u.j.I==0||u.K||au(u.j,u)}function ln(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ll(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||li(y.h,u))){if(!u.L&&li(y.h,u)&&y.I==3){try{var E=y.Ba.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)er(y),hs(y);else break t;ua(y),de(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ti(v(y.Va,y),6e3));ri(y.h)<=1&&y.ta&&(y.ta=void 0)}else di(y,11)}else if((u.L||y.g==u)&&er(y),!I(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];const Wt=Ot[0];if(!(Wt<=y.K))if(y.K=Wt,Ot=Ot[1],y.I==2)if(Ot[0]=="c"){y.M=Ot[1],y.ba=Ot[2];const An=Ot[3];An!=null&&(y.ka=An,y.j.info("VER="+y.ka));const mi=Ot[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const zn=Ot[5];zn!=null&&typeof zn=="number"&&zn>0&&(E=1.5*zn,y.O=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const qn=u.g;if(qn){const ca=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var z=E.h;z.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(fl(z,z.h),z.h=null))}if(E.G){const nr=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;nr&&(E.wa=nr,jt(E.J,E.G,nr))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),E=y;var J=u;if(E.na=ou(E,E.L?E.ba:null,E.W),J.L){dl(E.h,J);var pt=J,ae=E.O;ae&&(pt.H=ae),pt.D&&(si(pt),ii(pt)),E.g=J}else iu(E);y.i.length>0&&fi(y)}else Ot[0]!="stop"&&Ot[0]!="close"||di(y,7);else y.I==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?di(y,7):Al(y):Ot[0]!="noop"&&y.l&&y.l.qa(Ot),y.A=0)}}Wn(4)}catch{}}var ge=class{constructor(u,m){this.g=u,this.map=m}};function cl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function fl(u,m){u.g?u.g.add(m):u.h=m}function dl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}cl.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ml(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return H(u.i)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ya(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const E=u[y].indexOf("=");let L,z=null;E>=0?(L=u[y].substring(0,E),z=u[y].substring(E+1)):L=u[y],m(L,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function on(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof on?(this.l=u.l,xe(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.u),this.h=u.h,gl(this,eu(u.i)),this.m=u.m):u&&(m=String(u).match(Zo))?(this.l=!1,xe(this,m[1]||"",!0),this.o=oi(m[2]||""),this.g=oi(m[3]||"",!0),ss(this,m[4]),this.h=oi(m[5]||"",!0),gl(this,m[6]||"",!0),this.m=oi(m[7]||"")):(this.l=!1,this.i=new rs(null,this.l))}on.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ia(m,Xa,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ia(m,Xa,!0),"@"),u.push(Ci(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ia(y,y.charAt(0)=="/"?pl:Wo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ia(y,$o)),u.join("")},on.prototype.resolve=function(u){const m=pe(this);let y=!!u.j;y?xe(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var E=u.h;if(y)ss(m,u.u);else if(y=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var L=m.h.lastIndexOf("/");L!=-1&&(E=m.h.slice(0,L+1)+E)}if(L=E,L==".."||L==".")E="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){E=L.lastIndexOf("/",0)==0,L=L.split("/");const z=[];for(let J=0;J<L.length;){const pt=L[J++];pt=="."?E&&J==L.length&&z.push(""):pt==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),E&&J==L.length&&z.push("")):(z.push(pt),E=!0)}E=z.join("/")}else E=L}return y?m.h=E:y=u.i.toString()!=="",y?gl(m,eu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function pe(u){return new on(u)}function xe(u,m,y){u.j=y?oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function gl(u,m,y){m instanceof rs?(u.i=m,Za(u.i,u.l)):(y||(m=ia(m,as)),u.i=new rs(m,u.l))}function jt(u,m,y){u.i.set(m,y)}function na(u){return jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ia(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Je),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Je(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xa=/[#\/\?@]/g,Wo=/[#\?:]/g,pl=/[#\?]/g,as=/[#\?@]/g,$o=/#/g;function rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ze(u){u.g||(u.g=new Map,u.h=0,u.i&&Ya(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=rs.prototype,r.add=function(u,m){Ze(this),this.i=null,u=ls(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function tu(u,m){Ze(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yl(u,m){return Ze(u),m=ls(u,m),u.g.has(m)}r.forEach=function(u,m){Ze(this),this.g.forEach(function(y,E){y.forEach(function(L){u.call(m,L,E,this)},this)},this)};function _l(u,m){Ze(u);let y=[];if(typeof m=="string")yl(u,m)&&(y=y.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return Ze(this),this.i=null,u=ls(this,u),yl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=_l(this,u),u.length>0?String(u[0]):m):m};function Ja(u,m,y){tu(u,m),y.length>0&&(u.i=null,u.g.set(ls(u,m),H(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var y=m[E];const L=Ci(y);y=_l(this,y);for(let z=0;z<y.length;z++){let J=L;y[z]!==""&&(J+="="+Ci(y[z])),u.push(J)}}return this.i=u.join("&")};function eu(u){const m=new rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Za(u,m){m&&!u.j&&(Ze(u),u.i=null,u.g.forEach(function(y,E){const L=E.toLowerCase();E!=L&&(tu(this,E),Ja(this,L,y))},u)),u.j=m}function Un(u,m){const y=new Mn;if(d.Image){const E=new Image;E.onload=A(Tn,y,"TestLoadImage: loaded",!0,m,E),E.onerror=A(Tn,y,"TestLoadImage: error",!1,m,E),E.onabort=A(Tn,y,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(Tn,y,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function vl(u,m){const y=new Mn,E=new AbortController,L=setTimeout(()=>{E.abort(),Tn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(z=>{clearTimeout(L),z.ok?Tn(y,"TestPingServer: ok",!0,m):Tn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(y,"TestPingServer: error",!1,m)})}function Tn(u,m,y,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(y)}catch{}}function os(){this.g=new Bo}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ui,Ho),ui.prototype.g=function(){return new sa(this.i,this.h)};function sa(u,m){fe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(sa,fe),r=sa.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,us(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?us(this):jn(this),this.readyState==3&&Wa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,us(this))},r.Na=function(u){this.g&&(this.response=u,us(this))},r.ga=function(){this.g&&us(this)};function us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function En(u){let m="";return kt(u,function(y,E){m+=E,m+=":",m+=y,m+=`\r
`}),m}function aa(u,m,y){t:{for(E in y){var E=!1;break t}E=!0}E||(y=En(y),typeof u=="string"?y!=null&&Ci(y):jt(u,m,y))}function qt(u){fe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(qt,fe);var ci=/^https?$/i,Tl=["POST","PUT"];r=qt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ul.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(z){ra(this,z);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)y.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const z of E.keys())y.set(z,E.get(z));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Tl,m,void 0)>=0)||E||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,J]of y)this.g.setRequestHeader(z,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(z){ra(this,z)}};function ra(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,El(u),xi(u)}function El(u){u.A||(u.A=!0,be(u,"complete"),be(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,be(this,"complete"),be(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),qt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},r.Xa=function(){la(this)};function la(u){if(u.h&&typeof c<"u"){if(u.v&&Pn(u)==4)setTimeout(u.Ca.bind(u),0);else if(be(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const z=u.ca();t:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var E;if(E=z===0){let J=String(u.D).match(Zo)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),E=!ci.test(J?J.toLowerCase():"")}y=E}if(y)be(u,"complete"),be(u,"success");else{u.o=6;try{var L=Pn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",El(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||be(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&Pn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(I(u[E]))continue;var y=Yo(u[E]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=m[L]||[];m[L]=z,z.push(y)}Gt(m,function(E){return E.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function cs(u){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(u&&u.concurrentRequestLimit),this.Ba=new os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=cs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,E){de(0),this.W=u,this.H=m||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.J=ou(this,null,this.W),fi(this)};function Al(u){if($a(u),u.I==3){var m=u.V++,y=pe(u.J);if(jt(y,"SID",u.M),jt(y,"RID",m),jt(y,"TYPE","terminate"),oa(u,y),m=new kn(u,u.j,m),m.M=2,m.A=na(pe(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=uu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}lu(u)}function hs(u){u.g&&(bl(u),u.g.cancel(),u.g=null)}function $a(u){hs(u),u.v&&(d.clearTimeout(u.v),u.v=null),er(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!hl(u.h)&&!u.m){u.m=!0;var m=u.Ea;at||w(),Et||(at(),Et=!0),N.add(m,u),u.D=0}}function tr(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(v(u.Ea,u,m),ru(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new kn(this,this.j,u);let z=this.o;if(this.U&&(z?(z=Ie(z),Nt(z,this.U)):z=this.U),this.u!==null||this.R||(L.J=z,z=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=nu(this,L,m),y=pe(this.J),jt(y,"RID",u),jt(y,"CVER",22),this.G&&jt(y,"X-HTTP-Session-Id",this.G),oa(this,y),z&&(this.R?m="headers="+Ci(En(z))+"&"+m:this.u&&aa(y,this.u,z)),fl(this.h,L),this.Ra&&jt(y,"TYPE","init"),this.S?(jt(y,"$req",m),jt(y,"SID","null"),L.U=!0,ni(L,y,null)):ni(L,y,m),this.I=2}}else this.I==3&&(u?Sl(this,u):this.i.length==0||hl(this.h)||Sl(this))};function Sl(u,m){var y;m?y=m.l:y=u.V++;const E=pe(u.J);jt(E,"SID",u.M),jt(E,"RID",y),jt(E,"AID",u.K),oa(u,E),u.u&&u.o&&aa(E,u.u,u.o),y=new kn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=nu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),fl(u.h,y),ni(y,E,m)}function oa(u,m){u.H&&kt(u.H,function(y,E){jt(m,E,y)}),u.l&&kt({},function(y,E){jt(m,E,y)})}function nu(u,m,y){y=Math.min(u.i.length,y);const E=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let pt=-1;for(;;){const ae=["count="+y];pt==-1?y>0?(pt=L[0].g,ae.push("ofs="+pt)):pt=0:ae.push("ofs="+pt);let Ot=!0;for(let Wt=0;Wt<y;Wt++){var z=L[Wt].g;const An=L[Wt].map;if(z-=pt,z<0)pt=Math.max(0,L[Wt].g-100),Ot=!1;else try{z="req"+z+"_"||"";try{var J=An instanceof Map?An:Object.entries(An);for(const[mi,zn]of J){let qn=zn;g(zn)&&(qn=is(zn)),ae.push(z+mi+"="+encodeURIComponent(qn))}}catch(mi){throw ae.push(z+"type="+encodeURIComponent("_badmap")),mi}}catch{E&&E(An)}}if(Ot){J=ae.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function iu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;at||w(),Et||(at(),Et=!0),N.add(m,u),u.A=0}}function ua(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(v(u.Da,u),ru(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,su(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),hs(this),su(this))};function bl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function su(u){u.g=new kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=pe(u.na);jt(m,"RID","rpc"),jt(m,"SID",u.M),jt(m,"AID",u.K),jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&jt(m,"TO",u.ia),jt(m,"TYPE","xmlhttp"),oa(u,m),u.u&&u.o&&aa(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=na(pe(m)),y.u=null,y.R=!0,Qa(y,u)}r.Va=function(){this.C!=null&&(this.C=null,hs(this),ua(this),de(19))};function er(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function au(u,m){var y=null;if(u.g==m){er(u),bl(u),u.g=null;var E=2}else if(li(u.h,m))y=m.G,dl(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;E=Ga(),be(E,new $n(E,y)),fi(u)}else iu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(E==1&&tr(u,m)||E==2&&ua(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function ru(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),E=u.Ua;const L=!E;E=new on(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xe(E,"https"),na(E),L?Un(E.toString(),y):vl(E.toString(),y)}else de(2);u.I=0,u.l&&u.l.pa(m),lu(u),$a(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function lu(u){if(u.I=0,u.ja=[],u.l){const m=ml(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function ou(u,m,y){var E=y instanceof on?pe(y):new on(y);if(E.g!="")m&&(E.g=m+"."+E.g),ss(E,E.u);else{var L=d.location;E=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const z=new on(null);E&&xe(z,E),m&&(z.g=m),L&&ss(z,L),y&&(z.h=y),E=z}return y=u.G,m=u.wa,y&&m&&jt(E,y,m),jt(E,"VER",u.ka),oa(u,E),E}function uu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new qt(new ui({ab:y})):new qt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fs(){}fs.prototype.g=function(u,m){return new Ke(u,m)};function Ke(u,m){fe.call(this),this.g=new cs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Di(this)}b(Ke,fe),Ke.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Al(this.g)},Ke.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=is(u),u=y);m.i.push(new ge(m.Ya++,u)),m.I==3&&fi(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,Ke.Z.N.call(this)};function hu(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(hu,Me);function fu(){_n.call(this),this.status=1}b(fu,_n);function Di(u){this.g=u}b(Di,cu),Di.prototype.ra=function(){be(this.g,"a")},Di.prototype.qa=function(u){be(this.g,new hu(u))},Di.prototype.pa=function(u){be(this.g,new fu)},Di.prototype.oa=function(){be(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,C0=function(){return new fs},I0=function(){return Ga()},R0=se,zd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,Rc=ta,ol.COMPLETE="complete",w0=ol,Fo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",fe.prototype.listen=fe.prototype.J,uo=Fo,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,b0=qt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");let Zr="12.9.0";function y2(r){Zr=r}const ka=new Bv("@firebase/firestore");function Vr(){return ka.logLevel}function et(r,...t){if(ka.logLevel<=Qn.DEBUG){const i=t.map(gm);ka.debug(`Firestore (${Zr}): ${r}`,...i)}}function Wi(r,...t){if(ka.logLevel<=Qn.ERROR){const i=t.map(gm);ka.error(`Firestore (${Zr}): ${r}`,...i)}}function La(r,...t){if(ka.logLevel<=Qn.WARN){const i=t.map(gm);ka.warn(`Firestore (${Zr}): ${r}`,...i)}}function gm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ht(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,x0(r,a,i)}function x0(r,t,i){let a=`FIRESTORE (${Zr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function Lt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||x0(t,o,a)}function gt(r,t){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends $c{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Na{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class N0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class v2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class T2{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Lt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Na,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Na)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Lt(typeof a.accessToken=="string",31837,{l:a}),new N0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Lt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class E2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new E2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Lt(this.o===void 0,3512);const a=c=>{c.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function b2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=b2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Rt(r,t){return r<t?-1:r>t?1:0}function qd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Rd(o)===Rd(c)?Rt(o,c):Rd(o)?1:-1}return Rt(r.length,t.length)}const w2=55296,R2=57343;function Rd(r){const t=r.charCodeAt(0);return t>=w2&&t<=R2}function Fr(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const P_="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&ht(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&ht(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=vi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Rt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),o=vi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?vi.extractNumericId(t).compare(vi.extractNumericId(i)):qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zs.fromString(t.substring(4,t.length-2))}}class Yt extends vi{construct(t,i,a){return new Yt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new nt(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Yt(i)}static emptyPath(){return new Yt([])}}const I2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends vi{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return I2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new qe([P_])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new nt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new nt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new nt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(Yt.fromString(t))}static fromName(t){return new ot(Yt.fromString(t).popFirst(5))}static empty(){return new ot(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Yt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new Yt(t.slice()))}}function D0(r,t,i){if(!i)throw new nt(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function C2(r,t,i,a){if(t===!0&&a===!0)throw new nt(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function z_(r){if(!ot.isDocumentKey(r))throw new nt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q_(r){if(ot.isDocumentKey(r))throw new nt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function V0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ih(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":ht(12329,{type:typeof r})}function Ei(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new nt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ih(r);throw new nt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Se(r,t){const i={typeString:r};return t&&(i.value=t),i}function Oo(r,t){if(!V0(r))throw new nt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new nt(K.INVALID_ARGUMENT,i);return!0}const B_=-62135596800,H_=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*H_);return new Zt(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<B_)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Oo(t,Zt._jsonSchema))return new Zt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-B_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Se("string",Zt._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};class dt{static fromTimestamp(t){return new dt(t)}static min(){return new dt(new Zt(0,0))}static max(){return new dt(new Zt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const To=-1;function x2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=dt.fromTimestamp(a===1e9?new Zt(i+1,0):new Zt(i,a));return new Bs(o,ot.empty(),t)}function N2(r){return new Bs(r.readTime,r.key,To)}class Bs{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Bs(dt.min(),ot.empty(),To)}static max(){return new Bs(dt.max(),ot.empty(),To)}}function D2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ot.comparator(r.documentKey,t.documentKey),i!==0?i:Rt(r.largestBatchId,t.largestBatchId))}const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Wr(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==V2)throw r;et("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((o=>o?Y.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const v=_;i(t[v]).next((A=>{d[v]=A,++g,g===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new Y(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function M2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $r(r){return r.name==="IndexedDbTransactionError"}class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sh.ce=-1;const ym=-1;function ah(r){return r==null}function zc(r){return r===0&&1/r==-1/0}function k2(r){return typeof r=="number"&&Number.isInteger(r)&&!zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const O0="";function L2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=F_(t)),t=U2(r.get(i),t);return F_(t)}function U2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case O0:i+="";break;default:i+=c}}return i}function F_(r){return r+O0+""}function G_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ys(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function M0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ee{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new ee(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new ze(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ht(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Re{constructor(t){this.comparator=t,this.data=new ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(t){return new Q_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class Q_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new pn([])}unionWith(t){let i=new Re(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fr(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class k0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new k0("Invalid base64 string: "+c):c}})(t);return new Be(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(r){if(Lt(!!r,39018),typeof r=="string"){let t=0;const i=j2.exec(r);if(Lt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:oe(r.seconds),nanos:oe(r.nanos)}}function oe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fs(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}const L0="server_timestamp",U0="__type__",j0="__previous_value__",P0="__local_write_time__";function _m(r){return(r?.mapValue?.fields||{})[U0]?.stringValue===L0}function rh(r){const t=r.mapValue.fields[j0];return _m(t)?rh(t):t}function Eo(r){const t=Hs(r.mapValue.fields[P0].timestampValue);return new Zt(t.seconds,t.nanos)}class P2{constructor(t,i,a,o,c,d,g,_,v,A,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A,this.apiKey=b}}const qc="(default)";class Ao{constructor(t,i){this.projectId=t,this.database=i||qc}static empty(){return new Ao("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Ao&&t.projectId===this.projectId&&t.database===this.database}}function z2(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new nt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(r.options.projectId,t)}const z0="__type__",q2="__max__",vc={mapValue:{}},q0="__vector__",Bc="value";function Gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_m(r)?4:H2(r)?9007199254740991:B2(r)?10:11:ht(28295,{value:r})}function Ri(r,t){if(r===t)return!0;const i=Gs(r);if(i!==Gs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Eo(r).isEqual(Eo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Hs(o.timestampValue),g=Hs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Fs(o.bytesValue).isEqual(Fs(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return oe(o.geoPointValue.latitude)===oe(c.geoPointValue.latitude)&&oe(o.geoPointValue.longitude)===oe(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return oe(o.integerValue)===oe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=oe(o.doubleValue),g=oe(c.doubleValue);return d===g?zc(d)===zc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Fr(r.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(G_(d)!==G_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ri(d[_],g[_])))return!1;return!0})(r,t);default:return ht(52216,{left:r})}}function So(r,t){return(r.values||[]).find((i=>Ri(i,t)))!==void 0}function Gr(r,t){if(r===t)return 0;const i=Gs(r),a=Gs(t);if(i!==a)return Rt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=oe(c.integerValue||c.doubleValue),_=oe(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return K_(r.timestampValue,t.timestampValue);case 4:return K_(Eo(r),Eo(t));case 5:return qd(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Fs(c),_=Fs(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Rt(g[v],_[v]);if(A!==0)return A}return Rt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Rt(oe(c.latitude),oe(d.latitude));return g!==0?g:Rt(oe(c.longitude),oe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Y_(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},v=g[Bc]?.arrayValue,A=_[Bc]?.arrayValue,b=Rt(v?.values?.length||0,A?.values?.length||0);return b!==0?b:Y_(v,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===vc.mapValue&&d===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(d===vc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const V=qd(_[b],A[b]);if(V!==0)return V;const H=Gr(g[_[b]],v[A[b]]);if(H!==0)return H}return Rt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw ht(23264,{he:i})}}function K_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Rt(r,t);const i=Hs(r),a=Hs(t),o=Rt(i.seconds,a.seconds);return o!==0?o:Rt(i.nanos,a.nanos)}function Y_(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Gr(i[o],a[o]);if(c)return c}return Rt(i.length,a.length)}function Qr(r){return Bd(r)}function Bd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Hs(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Fs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ot.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Bd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Bd(i.fields[d])}`;return o+"}"})(r.mapValue):ht(61005,{value:r})}function Ic(r){switch(Gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rh(r);return t?16+Ic(t):16;case 5:return 2*r.stringValue.length;case 6:return Fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Ic(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ys(a.fields,((c,d)=>{o+=c.length+Ic(d)})),o})(r.mapValue);default:throw ht(13486,{value:r})}}function X_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Hd(r){return!!r&&"integerValue"in r}function vm(r){return!!r&&"arrayValue"in r}function J_(r){return!!r&&"nullValue"in r}function Z_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cc(r){return!!r&&"mapValue"in r}function B2(r){return(r?.mapValue?.fields||{})[z0]?.stringValue===q0}function go(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ys(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=go(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=go(r.arrayValue.values[i]);return t}return{...r}}function H2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===q2}class an{constructor(t){this.value=t}static empty(){return new an({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=go(i)}setAll(t){let i=qe.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=go(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Ys(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new an(go(this.value))}}function B0(r){const t=[];return Ys(r.fields,((i,a)=>{const o=new qe([i]);if(Cc(a)){const c=B0(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new pn(t)}class Ge{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ge(t,0,dt.min(),dt.min(),dt.min(),an.empty(),0)}static newFoundDocument(t,i,a,o){return new Ge(t,1,i,dt.min(),a,o,0)}static newNoDocument(t,i){return new Ge(t,2,i,dt.min(),dt.min(),an.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,dt.min(),dt.min(),an.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(t,i){this.position=t,this.inclusive=i}}function W_(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=Gr(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function $_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],t.position[i]))return!1;return!0}class Fc{constructor(t,i="asc"){this.field=t,this.dir=i}}function F2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class H0{}class Ae extends H0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Q2(t,i,a):i==="array-contains"?new X2(t,a):i==="in"?new J2(t,a):i==="not-in"?new Z2(t,a):i==="array-contains-any"?new W2(t,a):new Ae(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new K2(t,a):new Y2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Gr(i,this.value)):i!==null&&Gs(this.value)===Gs(i)&&this.matchesComparison(Gr(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends H0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Jn(t,i)}matches(t){return F0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function F0(r){return r.op==="and"}function G0(r){return G2(r)&&F0(r)}function G2(r){for(const t of r.filters)if(t instanceof Jn)return!1;return!0}function Fd(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+Qr(r.value);if(G0(r))return r.filters.map((t=>Fd(t))).join(",");{const t=r.filters.map((i=>Fd(i))).join(",");return`${r.op}(${t})`}}function Q0(r,t){return r instanceof Ae?(function(a,o){return o instanceof Ae&&a.op===o.op&&a.field.isEqual(o.field)&&Ri(a.value,o.value)})(r,t):r instanceof Jn?(function(a,o){return o instanceof Jn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&Q0(d,o.filters[g])),!0):!1})(r,t):void ht(19439)}function K0(r){return r instanceof Ae?(function(i){return`${i.field.canonicalString()} ${i.op} ${Qr(i.value)}`})(r):r instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(K0).join(" ,")+"}"})(r):"Filter"}class Q2 extends Ae{constructor(t,i,a){super(t,i,a),this.key=ot.fromName(a.referenceValue)}matches(t){const i=ot.comparator(t.key,this.key);return this.matchesComparison(i)}}class K2 extends Ae{constructor(t,i){super(t,"in",i),this.keys=Y0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Y2 extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=Y0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Y0(r,t){return(t.arrayValue?.values||[]).map((i=>ot.fromName(i.referenceValue)))}class X2 extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return vm(i)&&So(i.arrayValue,this.value)}}class J2 extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&So(this.value.arrayValue,i)}}class Z2 extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!So(this.value.arrayValue,i)}}class W2 extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>So(this.value.arrayValue,a)))}}class $2{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function tv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new $2(r,t,i,a,o,c,d)}function Tm(r){const t=gt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Fd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Qr(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Qr(a))).join(",")),t.Te=i}return t.Te}function Em(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!F2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Q0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!$_(r.startAt,t.startAt)&&$_(r.endAt,t.endAt)}function Gd(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Mo{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tb(r,t,i,a,o,c,d,g){return new Mo(r,t,i,a,o,c,d,g)}function Am(r){return new Mo(r)}function ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eb(r){return ot.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function X0(r){return r.collectionGroup!==null}function po(r){const t=gt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Fc(c,a))})),i.has(qe.keyField().canonicalString())||t.Ie.push(new Fc(qe.keyField(),a))}return t.Ie}function Ai(r){const t=gt(r);return t.Ee||(t.Ee=nb(t,po(r))),t.Ee}function nb(r,t){if(r.limitType==="F")return tv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Fc(o.field,c)}));const i=r.endAt?new Hc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Hc(r.startAt.position,r.startAt.inclusive):null;return tv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Qd(r,t){const i=r.filters.concat([t]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Kd(r,t,i){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function lh(r,t){return Em(Ai(r),Ai(t))&&r.limitType===t.limitType}function J0(r){return`${Tm(Ai(r))}|lt:${r.limitType}`}function Or(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>K0(o))).join(", ")}]`),ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Qr(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Qr(o))).join(",")),`Target(${a})`})(Ai(r))}; limitType=${r.limitType})`}function oh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ot.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of po(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const v=W_(d,g,_);return d.inclusive?v<=0:v<0})(a.startAt,po(a),o)||a.endAt&&!(function(d,g,_){const v=W_(d,g,_);return d.inclusive?v>=0:v>0})(a.endAt,po(a),o))})(r,t)}function ib(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Z0(r){return(t,i)=>{let a=!1;for(const o of po(r)){const c=sb(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function sb(r,t,i){const a=r.field.isKeyField()?ot.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),v=g.data.field(c);return _!==null&&v!==null?Gr(_,v):ht(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ht(19790,{direction:r.dir})}}class za{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ys(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return M0(this.inner)}size(){return this.innerSize}}const ab=new ee(ot.comparator);function $i(){return ab}const W0=new ee(ot.comparator);function co(...r){let t=W0;for(const i of r)t=t.insert(i.key,i);return t}function $0(r){let t=W0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ca(){return yo()}function tT(){return yo()}function yo(){return new za((r=>r.toString()),((r,t)=>r.isEqual(t)))}const rb=new ee(ot.comparator),lb=new Re(ot.comparator);function It(...r){let t=lb;for(const i of r)t=t.add(i);return t}const ob=new Re(Rt);function ub(){return ob}function Sm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function eT(r){return{integerValue:""+r}}function cb(r,t){return k2(t)?eT(t):Sm(r,t)}class uh{constructor(){this._=void 0}}function hb(r,t,i){return r instanceof bo?(function(o,c){const d={fields:{[U0]:{stringValue:L0},[P0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&_m(c)&&(c=rh(c)),c&&(d.fields[j0]=c),{mapValue:d}})(i,t):r instanceof wo?iT(r,t):r instanceof Ro?sT(r,t):(function(o,c){const d=nT(o,c),g=nv(d)+nv(o.Ae);return Hd(d)&&Hd(o.Ae)?eT(g):Sm(o.serializer,g)})(r,t)}function fb(r,t,i){return r instanceof wo?iT(r,t):r instanceof Ro?sT(r,t):i}function nT(r,t){return r instanceof Gc?(function(a){return Hd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class bo extends uh{}class wo extends uh{constructor(t){super(),this.elements=t}}function iT(r,t){const i=aT(t);for(const a of r.elements)i.some((o=>Ri(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Ro extends uh{constructor(t){super(),this.elements=t}}function sT(r,t){let i=aT(t);for(const a of r.elements)i=i.filter((o=>!Ri(o,a)));return{arrayValue:{values:i}}}class Gc extends uh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function nv(r){return oe(r.integerValue||r.doubleValue)}function aT(r){return vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class db{constructor(t,i){this.field=t,this.transform=i}}function mb(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof wo&&o instanceof wo||a instanceof Ro&&o instanceof Ro?Fr(a.elements,o.elements,Ri):a instanceof Gc&&o instanceof Gc?Ri(a.Ae,o.Ae):a instanceof bo&&o instanceof bo})(r.transform,t.transform)}class gb{constructor(t,i){this.version=t,this.transformResults=i}}class Vn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ch{}function rT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new bm(r.key,Vn.none()):new ko(r.key,r.data,Vn.none());{const i=r.data,a=an.empty();let o=new Re(qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Xs(r.key,a,new pn(o.toArray()),Vn.none())}}function pb(r,t,i){r instanceof ko?(function(o,c,d){const g=o.value.clone(),_=sv(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Xs?(function(o,c,d){if(!xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=sv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(lT(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function _o(r,t,i,a){return r instanceof ko?(function(c,d,g,_){if(!xc(c.precondition,d))return g;const v=c.value.clone(),A=av(c.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof Xs?(function(c,d,g,_){if(!xc(c.precondition,d))return g;const v=av(c.fieldTransforms,_,d),A=d.data;return A.setAll(lT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,g){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function yb(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=nT(a.transform,o||null);c!=null&&(i===null&&(i=an.empty()),i.set(a.field,c))}return i||null}function iv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Fr(a,o,((c,d)=>mb(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ko extends ch{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xs extends ch{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function lT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function sv(r,t,i){const a=new Map;Lt(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,fb(d,g,i[o]))}return a}function av(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,hb(c,d,t))}return a}class bm extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _b extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vb{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&pb(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=_o(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=_o(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=tT();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=rT(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(dt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),It())}isEqual(t){return this.batchId===t.batchId&&Fr(this.mutations,t.mutations,((i,a)=>iv(i,a)))&&Fr(this.baseMutations,t.baseMutations,((i,a)=>iv(i,a)))}}class wm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Lt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return rb})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new wm(t,i,a,o)}}class Tb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Eb{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ee,xt;function Ab(r){switch(r){case K.OK:return ht(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ht(15467,{code:r})}}function oT(r){if(r===void 0)return Wi("GRPC error has no .code"),K.UNKNOWN;switch(r){case Ee.OK:return K.OK;case Ee.CANCELLED:return K.CANCELLED;case Ee.UNKNOWN:return K.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return K.INTERNAL;case Ee.UNAVAILABLE:return K.UNAVAILABLE;case Ee.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ee.NOT_FOUND:return K.NOT_FOUND;case Ee.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ee.ABORTED:return K.ABORTED;case Ee.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ee.DATA_LOSS:return K.DATA_LOSS;default:return ht(39323,{code:r})}}(xt=Ee||(Ee={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";function Sb(){return new TextEncoder}const bb=new zs([4294967295,4294967295],0);function rv(r){const t=Sb().encode(r),i=new S0;return i.update(t),new Uint8Array(i.digest())}function lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new zs([i,a],0),new zs([o,c],0)]}class Rm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ho(`Invalid padding: ${i}`);if(a<0)throw new ho(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ho(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=zs.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(zs.fromNumber(a)));return o.compare(bb)===1&&(o=new zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=rv(t),[a,o]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Rm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=rv(t),[a,o]=lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Lo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new hh(dt.min(),o,new ee(Rt),$i(),It())}}class Lo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Lo(a,i,It(),It(),It())}}class Nc{constructor(t,i,a,o){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=o}}class uT{constructor(t,i){this.targetId=t,this.Ce=i}}class cT{constructor(t,i,a=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class ov{constructor(){this.ve=0,this.Fe=uv(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=It(),i=It(),a=It();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:ht(38017,{changeType:c})}})),new Lo(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=uv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wb{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.He=Tc(),this.Je=Tc(),this.Ze=new ee(Rt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:ht(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Gd(c))if(a===0){const d=new ot(c.path);this.et(i,d,Ge.newNoDocument(d,dt.min()))}else Lt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Fs(a).toUint8Array()}catch(_){if(_ instanceof k0)return La("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Rm(d,o,c)}catch(_){return La(_ instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Gd(g.target)){const _=new ot(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ge.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=It();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new hh(t,i,this.Ze,this.je,a);return this.je=$i(),this.He=Tc(),this.Je=Tc(),this.Ze=new ee(Rt),o}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new ov,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Re(Rt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Re(Rt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||et("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new ov),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Tc(){return new ee(ot.comparator)}function uv(){return new ee(ot.comparator)}const Rb={asc:"ASCENDING",desc:"DESCENDING"},Ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cb={and:"AND",or:"OR"};class xb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Yd(r,t){return r.useProto3Json||ah(t)?t:{value:t}}function Qc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Nb(r,t){return Qc(r,t.toTimestamp())}function Si(r){return Lt(!!r,49232),dt.fromTimestamp((function(i){const a=Hs(i);return new Zt(a.seconds,a.nanos)})(r))}function Im(r,t){return Xd(r,t).canonicalString()}function Xd(r,t){const i=(function(o){return new Yt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function fT(r){const t=Yt.fromString(r);return Lt(yT(t),10190,{key:t.toString()}),t}function Jd(r,t){return Im(r.databaseId,t.path)}function Id(r,t){const i=fT(t);if(i.get(1)!==r.databaseId.projectId)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ot(mT(i))}function dT(r,t){return Im(r.databaseId,t)}function Db(r){const t=fT(r);return t.length===4?Yt.emptyPath():mT(t)}function Zd(r){return new Yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mT(r){return Lt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cv(r,t,i){return{name:Jd(r,t),fields:i.value.mapValue.fields}}function Vb(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ht(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(Lt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(Lt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?K.UNKNOWN:oT(v.code);return new nt(A,v.message||"")})(d);i=new cT(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Id(r,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):dt.min(),g=new an({mapValue:{fields:a.document.fields}}),_=Ge.newFoundDocument(o,c,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Nc(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Id(r,a.document),c=a.readTime?Si(a.readTime):dt.min(),d=Ge.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Nc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Id(r,a.document),c=a.removedTargetIds||[];i=new Nc([],c,o,null)}else{if(!("filter"in t))return ht(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Eb(o,c),g=a.targetId;i=new uT(g,d)}}return i}function Ob(r,t){let i;if(t instanceof ko)i={update:cv(r,t.key,t.value)};else if(t instanceof bm)i={delete:Jd(r,t.key)};else if(t instanceof Xs)i={update:cv(r,t.key,t.data),updateMask:Bb(t.fieldMask)};else{if(!(t instanceof _b))return ht(16599,{dt:t.type});i={verify:Jd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof bo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Gc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ht(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Nb(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ht(27497)})(r,t.precondition)),i}function Mb(r,t){return r&&r.length>0?(Lt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Si(o.updateTime):Si(c);return d.isEqual(dt.min())&&(d=Si(c)),new gb(d,o.transformResults||[])})(i,t)))):[]}function kb(r,t){return{documents:[dT(r,t.path)]}}function Lb(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=dT(r,o);const c=(function(v){if(v.length!==0)return pT(Jn.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(V){return{field:Mr(V.field),direction:Pb(V.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Yd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function Ub(r){let t=Db(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Lt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const V=gT(b);return V instanceof Jn&&G0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((V=>(function(X){return new Fc(kr(X.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let V;return V=typeof b=="object"?b.value:b,ah(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(b){const V=!!b.before,H=b.values||[];return new Hc(H,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const V=!b.before,H=b.values||[];return new Hc(H,V)})(i.endAt)),tb(t,o,d,c,g,"F",_,v)}function jb(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=kr(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=kr(i.unaryFilter.field);return Ae.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=kr(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=kr(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ae.create(kr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((a=>gT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ht(1026)}})(i.compositeFilter.op))})(r):ht(30097,{filter:r})}function Pb(r){return Rb[r]}function zb(r){return Ib[r]}function qb(r){return Cb[r]}function Mr(r){return{fieldPath:r.canonicalString()}}function kr(r){return qe.fromServerFormat(r.fieldPath)}function pT(r){return r instanceof Ae?(function(i){if(i.op==="=="){if(Z_(i.value))return{unaryFilter:{field:Mr(i.field),op:"IS_NAN"}};if(J_(i.value))return{unaryFilter:{field:Mr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Z_(i.value))return{unaryFilter:{field:Mr(i.field),op:"IS_NOT_NAN"}};if(J_(i.value))return{unaryFilter:{field:Mr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mr(i.field),op:zb(i.op),value:i.value}}})(r):r instanceof Jn?(function(i){const a=i.getFilters().map((o=>pT(o)));return a.length===1?a[0]:{compositeFilter:{op:qb(i.op),filters:a}}})(r):ht(54877,{filter:r})}function Bb(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function yT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function _T(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ps{constructor(t,i,a,o,c=dt.min(),d=dt.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Ps(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Hb{constructor(t){this.yt=t}}function Fb(r){const t=Ub({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kd(t,t.limit,"L"):t}class Gb{constructor(){this.Sn=new Qb}addToCollectionParentIndex(t,i){return this.Sn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Bs.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Bs.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Qb{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Re(Yt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Re(Yt.comparator)).toArray()}}const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vT=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(vT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);class Kr{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Kr(0)}static ar(){return new Kr(-1)}}const fv="LruGarbageCollector",Kb=1048576;function dv([r,t],[i,a]){const o=Rt(r,i);return o===0?Rt(t,a):o}class Yb{constructor(t){this.Pr=t,this.buffer=new Re(dv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();dv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xb{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){et(fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$r(i)?et(fv,"Ignoring IndexedDB error during garbage collection: ",i):await Wr(i)}await this.Ar(3e5)}))}}class Jb{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(sh.ce);const a=new Yb(i);return this.Vr.forEachTarget(t,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(hv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,o,c,d,g,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(a=b,g=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(v=Date.now(),Vr()<=Qn.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${b} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function Zb(r,t){return new Jb(r,t)}class Wb{constructor(){this.changes=new za((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $b{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tw{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&_o(a.mutation,o,pn.empty(),Zt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,It()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=It()){const o=Ca();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=co();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ca();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,It())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=$i();const d=yo(),g=(function(){return yo()})();return i.forEach(((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Xs)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),_o(A.mutation,v,A.mutation.getFieldMask(),Zt.now())):d.set(v.key,pn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>g.set(v,new $b(A,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=yo();let o=new ee(((d,g)=>d-g)),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||pn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const b=(o.get(g.batchId)||It()).add(_);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,b=tT();A.forEach((V=>{if(!c.has(V)){const H=rT(i.get(V),a.get(V));H!==null&&b.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return eb(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):X0(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Y.resolve(Ca());let g=To,_=c;return d.next((v=>Y.forEach(v,((A,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((V=>{_=_.insert(A,V)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,_,v,It()))).next((A=>({batchId:g,changes:$0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ot(i)).next((a=>{let o=co();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=co();return this.indexManager.getCollectionParents(t,c).next((g=>Y.forEach(g,(_=>{const v=(function(b,V){return new Mo(V,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,o).next((A=>{A.forEach(((b,V)=>{d=d.insert(b,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ge.newInvalidDocument(A)))}));let g=co();return d.forEach(((_,v)=>{const A=c.get(_);A!==void 0&&_o(A.mutation,v,pn.empty(),Zt.now()),oh(i,v)&&(g=g.insert(_,v))})),g}))}}class ew{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Y.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Fb(o.bundledQuery),readTime:Si(o.readTime)}})(i)),Y.resolve()}}class nw{constructor(){this.overlays=new ee(ot.comparator),this.Lr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ca();return Y.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.bt(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const o=Ca(),c=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ee(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=Ca(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Ca(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=o)););return Y.resolve(g)}bt(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Tb(i,a));let c=this.Lr.get(i);c===void 0&&(c=It(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class iw{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class Cm{constructor(){this.kr=new Re(De.Kr),this.qr=new Re(De.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new De(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new De(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new ot(new Yt([])),a=new De(i,t),o=new De(i,t+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new ot(new Yt([])),a=new De(i,t),o=new De(i,t+1);let c=It();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new De(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class De{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return ot.comparator(t.key,i.key)||Rt(t.Hr,i.Hr)}static Ur(t,i){return Rt(t.Hr,i.Hr)||ot.comparator(t.key,i.key)}}class sw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Re(De.Kr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vb(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new De(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?ym:this.Yn-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Re(Rt);return i.forEach((o=>{const c=new De(o,0),d=new De(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),Y.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ot.isDocumentKey(c)||(c=c.child(""));const d=new De(new ot(c),0);let g=new Re(Rt);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Hr)),!0)}),d),Y.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Lt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Y.forEach(i.mutations,(o=>{const c=new De(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new De(i,0),o=this.Jr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class aw{constructor(t){this.ti=t,this.docs=(function(){return new ee(ot.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let a=$i();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Ge.newInvalidDocument(o))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=$i();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||D2(N2(A),a)<=0||(o.has(A.key)||oh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,o){ht(9500)}ni(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new rw(this)}getSize(t){return Y.resolve(this.size)}}class rw extends Wb{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class lw{constructor(t){this.persistence=t,this.ri=new za((i=>Tm(i)),Em),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.ii=0,this.si=new Cm,this.targetCount=0,this.oi=Kr._r()}forEachTarget(t,i){return this.ri.forEach(((a,o)=>i(o))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Y.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new Kr(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.lr(i),Y.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),Y.waitFor(c).next((()=>o))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this.si.containsKey(i))}}class TT{constructor(t,i){this._i={},this.overlays={},this.ai=new sh(0),this.ui=!1,this.ui=!0,this.ci=new iw,this.referenceDelegate=t(this),this.li=new lw(this),this.indexManager=new Gb,this.remoteDocumentCache=(function(o){return new aw(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Hb(i),this.Pi=new ew(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new sw(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){et("MemoryPersistence","Starting transaction:",t);const o=new ow(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(t,i){return Y.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class ow extends O2{constructor(t){super(),this.currentSequenceNumber=t}}class xm{constructor(t){this.persistence=t,this.Ri=new Cm,this.Ai=null}static Vi(t){return new xm(t)}get di(){if(this.Ai)return this.Ai;throw ht(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(a=>{const o=ot.fromPath(a);return this.mi(t,o).next((c=>{c||i.removeEntry(o,dt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class Kc{constructor(t,i){this.persistence=t,this.fi=new za((a=>L2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Zb(this,i)}static Vi(t,i){return new Kc(t,i)}Ti(){}Ii(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return Y.forEach(this.fi,((a,o)=>this.wr(t,a,o).next((c=>c?Y.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,dt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ic(t.data.value)),i}wr(t,i,a){return Y.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.fi.get(i);return Y.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Nm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=o}static Es(t,i){let a=It(),o=It();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Nm(t,i.fromCache,a,o)}}class uw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cw{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return iA()?8:M2(rn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uw;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,o){return a.documentReadCount<this.Vs?(Vr()<=Qn.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Or(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Vr()<=Qn.DEBUG&&et("QueryEngine","Query:",Or(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(Vr()<=Qn.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Or(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):Y.resolve())}gs(t,i){if(ev(i))return Y.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Kd(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=It(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const v=this.bs(i,g);return this.Ss(i,v,d,_.readTime)?this.gs(t,Kd(i,null,"F")):this.Ds(t,v,i,_)}))))})))))}ps(t,i,a,o){return ev(i)||o.isEqual(dt.min())?Y.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?Y.resolve(null):(Vr()<=Qn.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Or(i)),this.Ds(t,d,i,x2(o,To)).next((g=>g)))}))}bs(t,i){let a=new Re(Z0(t));return i.forEach(((o,c)=>{oh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(t,i,a){return Vr()<=Qn.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Or(i)),this.fs.getDocumentsMatchingQuery(t,i,Bs.min(),a)}Ds(t,i,a,o){return this.fs.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Dm="LocalStore",hw=3e8;class fw{constructor(t,i,a,o){this.persistence=t,this.Cs=i,this.serializer=o,this.vs=new ee(Rt),this.Fs=new za((c=>Tm(c)),Em),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tw(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function dw(r,t,i,a){return new fw(r,t,i,a)}async function ET(r,t){const i=gt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=It();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ns:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function mw(r,t){const i=gt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,A){const b=v.batch,V=b.keys();let H=Y.resolve();return V.forEach((X=>{H=H.next((()=>A.getEntry(_,X))).next((Z=>{const $=v.docVersions.get(X);Lt($!==null,48541),Z.version.compareTo($)<0&&(b.applyToRemoteDocument(Z,v),Z.isValidDocument()&&(Z.setReadTime(v.commitVersion),A.addEntry(Z)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=It();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function AT(r){const t=gt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function gw(r,t){const i=gt(r),a=t.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];t.targetChanges.forEach(((A,b)=>{const V=o.get(b);if(!V)return;g.push(i.li.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,b))));let H=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Be.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),o=o.insert(b,H),(function(Z,$,mt){return Z.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=hw?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(V,H,A)&&g.push(i.li.updateTargetData(c,H))}));let _=$i(),v=It();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(pw(c,d,t.documentUpdates).next((A=>{_=A.Bs,v=A.Ls}))),!a.isEqual(dt.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((b=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return Y.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=o,c)))}function pw(r,t,i){let a=It(),o=It();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=$i();return i.forEach(((g,_)=>{const v=c.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(dt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):et(Dm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function yw(r,t){const i=gt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=ym),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _w(r,t){const i=gt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,t).next((c=>c?(o=c,Y.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new Ps(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function Wd(r,t,i){const a=gt(r),o=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!$r(d))throw d;et(Dm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(o.target)}function mv(r,t,i){const a=gt(r);let o=dt.min(),c=It();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const b=gt(_),V=b.Fs.get(A);return V!==void 0?Y.resolve(b.vs.get(V)):b.li.getTargetData(v,A)})(a,d,Ai(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?o:dt.min(),i?c:It()))).next((g=>(vw(a,ib(t),g),{documents:g,ks:c})))))}function vw(r,t,i){let a=r.Ms.get(t)||dt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class gv{constructor(){this.activeTargetIds=ub()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Tw{constructor(){this.vo=new gv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ew{Mo(t){}shutdown(){}}const pv="ConnectivityMonitor";class yv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){et(pv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){et(pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ec=null;function $d(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}const Cd="RestConnection",Aw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Sw{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===qc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(t,i,a,o,c){const d=$d(),g=this.Qo(t,i.toUriEncodedString());et(Cd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:v}=new URL(g),A=xo(v);return this.zo(t,g,_,a,A).then((b=>(et(Cd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw La(Cd,`RPC '${t}' ${d} failed with error: `,b,"url: ",g,"request:",a),b}))}jo(t,i,a,o,c,d){return this.Wo(t,i,a,o,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zr})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}Qo(t,i){const a=Aw[t];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class bw{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const He="WebChannelConnection",oo=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Pr extends Sw{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Pr.c_){const t=I0();oo(t,R0.STAT_EVENT,(i=>{i.stat===zd.PROXY?et(He,"STAT_EVENT: detected buffering proxy"):i.stat===zd.NOPROXY&&et(He,"STAT_EVENT: detected no buffering proxy")})),Pr.c_=!0}}zo(t,i,a,o,c){const d=$d();return new Promise(((g,_)=>{const v=new b0;v.setWithCredentials(!0),v.listenOnce(w0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Rc.NO_ERROR:const b=v.getResponseJson();et(He,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),g(b);break;case Rc.TIMEOUT:et(He,`RPC '${t}' ${d} timed out`),_(new nt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const V=v.getStatus();if(et(He,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let H=v.getResponseJson();Array.isArray(H)&&(H=H[0]);const X=H?.error;if(X&&X.status&&X.message){const Z=(function(mt){const _t=mt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(_t)>=0?_t:K.UNKNOWN})(X.status);_(new nt(Z,X.message))}else _(new nt(K.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new nt(K.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{et(He,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);et(He,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=$d(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const v=c.join("");et(He,`Creating RPC '${t}' stream ${o}: ${v}`,g);const A=d.createWebChannel(v,g);this.I_(A);let b=!1,V=!1;const H=new bw({Ho:X=>{V?et(He,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(b||(et(He,`Opening RPC '${t}' stream ${o} transport.`),A.open(),b=!0),et(He,`RPC '${t}' stream ${o} sending:`,X),A.send(X))},Jo:()=>A.close()});return oo(A,uo.EventType.OPEN,(()=>{V||(et(He,`RPC '${t}' stream ${o} transport opened.`),H.i_())})),oo(A,uo.EventType.CLOSE,(()=>{V||(V=!0,et(He,`RPC '${t}' stream ${o} transport closed`),H.o_(),this.E_(A))})),oo(A,uo.EventType.ERROR,(X=>{V||(V=!0,La(He,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),H.o_(new nt(K.UNAVAILABLE,"The operation could not be completed")))})),oo(A,uo.EventType.MESSAGE,(X=>{if(!V){const Z=X.data[0];Lt(!!Z,16349);const $=Z,mt=$?.error||$[0]?.error;if(mt){et(He,`RPC '${t}' stream ${o} received error:`,mt);const _t=mt.status;let Tt=(function(Et){const N=Ee[Et];if(N!==void 0)return oT(N)})(_t),Ut=mt.message;_t==="NOT_FOUND"&&Ut.includes("database")&&Ut.includes("does not exist")&&Ut.includes(this.databaseId.database)&&La(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Tt===void 0&&(Tt=K.INTERNAL,Ut="Unknown error status: "+_t+" with message "+mt.message),V=!0,H.o_(new nt(Tt,Ut)),A.close()}else et(He,`RPC '${t}' stream ${o} received:`,Z),H.__(Z)}})),Pr.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return C0()}}function ww(r){return new Pr(r)}function xd(){return typeof document<"u"?document:null}function fh(r){return new xb(r,!0)}Pr.c_=!1;class ST{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&et("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _v="PersistentStream";class bT{constructor(t,i,a,o,c,d,g,_){this.Ci=t,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ST(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new nt(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return et(_v,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(et(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rw extends bT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Vb(this.serializer,t),a=(function(c){if(!("targetChange"in c))return dt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?dt.min():d.readTime?Si(d.readTime):dt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=Zd(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=Gd(_)?{documents:kb(c,_)}:{query:Lb(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=hT(c,d.resumeToken);const v=Yd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(dt.min())>0){g.readTime=Qc(c,d.snapshotVersion.toTimestamp());const v=Yd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const a=jb(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=Zd(this.serializer),i.removeTarget=t,this.K_(i)}}class Iw extends bT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Lt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Lt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Lt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Mb(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Zd(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Ob(this.serializer,a)))};this.K_(i)}}class Cw{}class xw extends Cw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,Xd(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(K.UNKNOWN,c.toString())}))}jo(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,Xd(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Nw(r,t,i,a){return new xw(r,t,i,a)}class Dw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):et("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ua="RemoteStore";class Vw{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{qa(this)&&(et(Ua,"Restarting streams for network reachability change."),await(async function(_){const v=gt(_);v.Ea.add(4),await Uo(v),v.Va.set("Unknown"),v.Ea.delete(4),await dh(v)})(this))}))})),this.Va=new Dw(a,o)}}async function dh(r){if(qa(r))for(const t of r.Ra)await t(!0)}async function Uo(r){for(const t of r.Ra)await t(!1)}function wT(r,t){const i=gt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),km(i)?Mm(i):tl(i).O_()&&Om(i,t))}function Vm(r,t){const i=gt(r),a=tl(i);i.Ia.delete(t),a.O_()&&RT(i,t),i.Ia.size===0&&(a.O_()?a.L_():qa(i)&&i.Va.set("Unknown"))}function Om(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(dt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}tl(r).Z_(t)}function RT(r,t){r.da.$e(t),tl(r).X_(t)}function Mm(r){r.da=new wb({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),tl(r).start(),r.Va.ua()}function km(r){return qa(r)&&!tl(r).x_()&&r.Ia.size>0}function qa(r){return gt(r).Ea.size===0}function IT(r){r.da=void 0}async function Ow(r){r.Va.set("Online")}async function Mw(r){r.Ia.forEach(((t,i)=>{Om(r,t)}))}async function kw(r,t){IT(r),km(r)?(r.Va.ha(t),Mm(r)):r.Va.set("Unknown")}async function Lw(r,t,i){if(r.Va.set("Online"),t instanceof cT&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(r,t)}catch(a){et(Ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Yc(r,a)}else if(t instanceof Nc?r.da.Xe(t):t instanceof uT?r.da.st(t):r.da.tt(t),!i.isEqual(dt.min()))try{const a=await AT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),RT(c,_);const b=new Ps(A.target,_,v,A.sequenceNumber);Om(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){et(Ua,"Failed to raise snapshot:",a),await Yc(r,a)}}async function Yc(r,t,i){if(!$r(t))throw t;r.Ea.add(1),await Uo(r),r.Va.set("Offline"),i||(i=()=>AT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{et(Ua,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await dh(r)}))}function CT(r,t){return t().catch((i=>Yc(r,i,t)))}async function mh(r){const t=gt(r),i=Qs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ym;for(;Uw(t);)try{const o=await yw(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,jw(t,o)}catch(o){await Yc(t,o)}xT(t)&&NT(t)}function Uw(r){return qa(r)&&r.Ta.length<10}function jw(r,t){r.Ta.push(t);const i=Qs(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function xT(r){return qa(r)&&!Qs(r).x_()&&r.Ta.length>0}function NT(r){Qs(r).start()}async function Pw(r){Qs(r).ra()}async function zw(r){const t=Qs(r);for(const i of r.Ta)t.ea(i.mutations)}async function qw(r,t,i){const a=r.Ta.shift(),o=wm.from(a,t,i);await CT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await mh(r)}async function Bw(r,t){t&&Qs(r).Y_&&await(async function(a,o){if((function(d){return Ab(d)&&d!==K.ABORTED})(o.code)){const c=a.Ta.shift();Qs(a).B_(),await CT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await mh(a)}})(r,t),xT(r)&&NT(r)}async function vv(r,t){const i=gt(r);i.asyncQueue.verifyOperationInProgress(),et(Ua,"RemoteStore received new credentials");const a=qa(i);i.Ea.add(3),await Uo(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await dh(i)}async function Hw(r,t){const i=gt(r);t?(i.Ea.delete(2),await dh(i)):t||(i.Ea.add(2),await Uo(i),i.Va.set("Unknown"))}function tl(r){return r.ma||(r.ma=(function(i,a,o){const c=gt(i);return c.sa(),new Rw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:Ow.bind(null,r),Yo:Mw.bind(null,r),t_:kw.bind(null,r),J_:Lw.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),km(r)?Mm(r):r.Va.set("Unknown")):(await r.ma.stop(),IT(r))}))),r.ma}function Qs(r){return r.fa||(r.fa=(function(i,a,o){const c=gt(i);return c.sa(),new Iw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Pw.bind(null,r),t_:Bw.bind(null,r),ta:zw.bind(null,r),na:qw.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await mh(r)):(await r.fa.stop(),r.Ta.length>0&&(et(Ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Lm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Lm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Um(r,t){if(Wi("AsyncQueue",`${t}: ${r}`),$r(r))return new nt(K.UNAVAILABLE,`${t}: ${r}`);throw r}class zr{static emptySet(t){return new zr(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=co(),this.sortedSet=new ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof zr)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new zr;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Tv{constructor(){this.ga=new ee(ot.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ht(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Yr{constructor(t,i,a,o,c,d,g,_,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Yr(t,i,zr.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Fw{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class Gw{constructor(){this.queries=Ev(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=gt(i),c=o.queries;o.queries=Ev(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new nt(K.ABORTED,"Firestore shutting down"))}}function Ev(){return new za((r=>J0(r)),lh)}async function Qw(r,t){const i=gt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.Sa()&&t.Da()&&(a=2):(c=new Fw,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Um(d,`Initialization of query '${Or(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&jm(i)}async function Kw(r,t){const i=gt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=t.Da()?0:1:!c.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Yw(r,t){const i=gt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&jm(i)}function Xw(r,t,i){const a=gt(r),o=a.queries.get(t);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(t)}function jm(r){r.Ca.forEach((t=>{t.next()}))}var tm,Av;(Av=tm||(tm={})).Ma="default",Av.Cache="cache";class Jw{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Yr(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Yr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==tm.Cache}}class DT{constructor(t){this.key=t}}class VT{constructor(t){this.key=t}}class Zw{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=It(),this.mutatedKeys=It(),this.eu=Z0(t),this.tu=new zr(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new Tv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,b)=>{const V=o.get(A),H=oh(this.query,b)?b:null,X=!!V&&this.mutatedKeys.has(V.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;V&&H?V.data.isEqual(H.data)?X!==Z&&(a.track({type:3,doc:H}),$=!0):this.su(V,H)||(a.track({type:2,doc:H}),$=!0,(_&&this.eu(H,_)>0||v&&this.eu(H,v)<0)&&(g=!0)):!V&&H?(a.track({type:0,doc:H}),$=!0):V&&!H&&(a.track({type:1,doc:V}),$=!0,(_||v)&&(g=!0)),$&&(H?(d=d.add(H),c=Z?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(H,X){const Z=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Vt:$})}};return Z(H)-Z(X)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Xa;return this.Xa=_,d.length!==0||v?{snapshot:new Yr(this.query,t.tu,c,d,t.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Tv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=It(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new VT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new DT(a))})),i}cu(t){this.Za=t.ks,this.Ya=It();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Yr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pm="SyncEngine";class Ww{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $w{constructor(t){this.key=t,this.hu=!1}}class tR{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new za((g=>J0(g)),lh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ee(ot.comparator),this.Au=new Map,this.Vu=new Cm,this.du={},this.mu=new Map,this.fu=Kr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eR(r,t,i=!0){const a=jT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await OT(a,t,i,!0),o}async function nR(r,t){const i=jT(r);await OT(i,t,!0,!1)}async function OT(r,t,i,a){const o=await _w(r.localStore,Ai(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await iR(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&wT(r.remoteStore,o),g}async function iR(r,t,i,a,o){r.pu=(b,V,H)=>(async function(Z,$,mt,_t){let Tt=$.view.ru(mt);Tt.Ss&&(Tt=await mv(Z.localStore,$.query,!1).then((({documents:N})=>$.view.ru(N,Tt))));const Ut=_t&&_t.targetChanges.get($.targetId),at=_t&&_t.targetMismatches.get($.targetId)!=null,Et=$.view.applyChanges(Tt,Z.isPrimaryClient,Ut,at);return bv(Z,$.targetId,Et.au),Et.snapshot})(r,b,V,H);const c=await mv(r.localStore,t,!0),d=new Zw(t,c.ks),g=d.ru(c.documents),_=Lo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);bv(r,i,v.au);const A=new Ww(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),v.snapshot}async function sR(r,t,i){const a=gt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!lh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Wd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Vm(a.remoteStore,o.targetId),em(a,o.targetId)})).catch(Wr)):(em(a,o.targetId),await Wd(a.localStore,o.targetId,!0))}async function aR(r,t){const i=gt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Vm(i.remoteStore,a.targetId))}async function rR(r,t,i){const a=dR(r);try{const o=await(function(d,g){const _=gt(d),v=Zt.now(),A=g.reduce(((H,X)=>H.add(X.key)),It());let b,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let X=$i(),Z=It();return _.xs.getEntries(H,A).next(($=>{X=$,X.forEach(((mt,_t)=>{_t.isValidDocument()||(Z=Z.add(mt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,X))).next(($=>{b=$;const mt=[];for(const _t of g){const Tt=yb(_t,b.get(_t.key).overlayedDocument);Tt!=null&&mt.push(new Xs(_t.key,Tt,B0(Tt.value.mapValue),Vn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,mt,g)})).next(($=>{V=$;const mt=$.applyToLocalDocumentSet(b,Z);return _.documentOverlayCache.saveOverlays(H,$.batchId,mt)}))})).then((()=>({batchId:V.batchId,changes:$0(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let v=d.du[d.currentUser.toKey()];v||(v=new ee(Rt)),v=v.insert(g,_),d.du[d.currentUser.toKey()]=v})(a,o.batchId,i),await jo(a,o.changes),await mh(a.remoteStore)}catch(o){const c=Um(o,"Failed to persist write");i.reject(c)}}async function MT(r,t){const i=gt(r);try{const a=await gw(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Lt(d.hu,14607):o.removedDocuments.size>0&&(Lt(d.hu,42227),d.hu=!1))})),await jo(i,a,t)}catch(a){await Wr(a)}}function Sv(r,t,i){const a=gt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=gt(d);_.onlineState=g;let v=!1;_.queries.forEach(((A,b)=>{for(const V of b.ba)V.va(g)&&(v=!0)})),v&&jm(_)})(a.eventManager,t),o.length&&a.Pu.J_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function lR(r,t,i){const a=gt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ee(ot.comparator);d=d.insert(c,Ge.newNoDocument(c,dt.min()));const g=It().add(c),_=new hh(dt.min(),new Map,new ee(Rt),d,g);await MT(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),zm(a)}else await Wd(a.localStore,t,!1).then((()=>em(a,t,i))).catch(Wr)}async function oR(r,t){const i=gt(r),a=t.batch.batchId;try{const o=await mw(i.localStore,t);LT(i,a,null),kT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await jo(i,o)}catch(o){await Wr(o)}}async function uR(r,t,i){const a=gt(r);try{const o=await(function(d,g){const _=gt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next((b=>(Lt(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(v,b)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);LT(a,t,i),kT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await jo(a,o)}catch(o){await Wr(o)}}function kT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function LT(r,t,i){const a=gt(r);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.du[a.currentUser.toKey()]=o}}function em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||UT(r,a)}))}function UT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Vm(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),zm(r))}function bv(r,t,i){for(const a of i)a instanceof DT?(r.Vu.addReference(a.key,t),cR(r,a)):a instanceof VT?(et(Pm,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||UT(r,a.key)):ht(19791,{wu:a})}function cR(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(et(Pm,"New document in limbo: "+i),r.Eu.add(a),zm(r))}function zm(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ot(Yt.fromString(t)),a=r.fu.next();r.Au.set(a,new $w(i)),r.Ru=r.Ru.insert(i,a),wT(r.remoteStore,new Ps(Ai(Am(i.path)),a,"TargetPurposeLimboResolution",sh.ce))}}async function jo(r,t,i){const a=gt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){o.push(v);const A=Nm.Es(_.targetId,v);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(_,v){const A=gt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(v,(V=>Y.forEach(V.Ts,(H=>A.persistence.referenceDelegate.addReference(b,V.targetId,H))).next((()=>Y.forEach(V.Is,(H=>A.persistence.referenceDelegate.removeReference(b,V.targetId,H)))))))))}catch(b){if(!$r(b))throw b;et(Dm,"Failed to update sequence numbers: "+b)}for(const b of v){const V=b.targetId;if(!b.fromCache){const H=A.vs.get(V),X=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(X);A.vs=A.vs.insert(V,Z)}}})(a.localStore,c))}async function hR(r,t){const i=gt(r);if(!i.currentUser.isEqual(t)){et(Pm,"User change. New user:",t.toKey());const a=await ET(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new nt(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await jo(i,a.Ns)}}function fR(r,t){const i=gt(r),a=i.Au.get(t);if(a&&a.hu)return It().add(a.key);{let o=It();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function jT(r){const t=gt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lR.bind(null,t),t.Pu.J_=Yw.bind(null,t.eventManager),t.Pu.yu=Xw.bind(null,t.eventManager),t}function dR(r){const t=gt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uR.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dw(this.persistence,new cw,t.initialUser,this.serializer)}Cu(t){return new TT(xm.Vi,this.serializer)}Du(t){return new Tw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class mR extends Xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Lt(this.persistence.referenceDelegate instanceof Kc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Xb(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new TT((a=>Kc.Vi(a,i)),this.serializer)}}class nm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hR.bind(null,this.syncEngine),await Hw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Gw})()}createDatastore(t){const i=fh(t.databaseInfo.databaseId),a=ww(t.databaseInfo);return Nw(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new Vw(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Sv(this.syncEngine,i,0)),(function(){return yv.v()?new yv:new Ew})())}createSyncEngine(t,i){return(function(o,c,d,g,_,v,A){const b=new tR(o,c,d,g,_,v);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=gt(i);et(Ua,"RemoteStore shutting down."),a.Ea.add(5),await Uo(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nm.provider={build:()=>new nm};class gR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ks="FirestoreClient";class pR{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{et(Ks,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(et(Ks,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Um(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Nd(r,t){r.asyncQueue.verifyOperationInProgress(),et(Ks,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await ET(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function wv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await yR(r);et(Ks,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>vv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>vv(t.remoteStore,o))),r._onlineComponents=t}async function yR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){et(Ks,"Using user provided OfflineComponentProvider");try{await Nd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;La("Error using user provided cache. Falling back to memory cache: "+i),await Nd(r,new Xc)}}else et(Ks,"Using default OfflineComponentProvider"),await Nd(r,new mR(void 0));return r._offlineComponents}async function PT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(et(Ks,"Using user provided OnlineComponentProvider"),await wv(r,r._uninitializedComponentsProvider._online)):(et(Ks,"Using default OnlineComponentProvider"),await wv(r,new nm))),r._onlineComponents}function _R(r){return PT(r).then((t=>t.syncEngine))}async function Rv(r){const t=await PT(r),i=t.eventManager;return i.onListen=eR.bind(null,t.syncEngine),i.onUnlisten=sR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aR.bind(null,t.syncEngine),i}function vR(r,t,i,a){const o=new gR(a),c=new Jw(t,o,i);return r.asyncQueue.enqueueAndForget((async()=>Qw(await Rv(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Kw(await Rv(r),c)))}}function TR(r,t){const i=new Na;return r.asyncQueue.enqueueAndForget((async()=>rR(await _R(r),t,i))),i.promise}function zT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const ER="ComponentProvider",Iv=new Map;function AR(r,t,i,a,o){return new P2(r,t,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,zT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const qT="firestore.googleapis.com",Cv=!0;class xv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=Cv}else this.host=t.host,this.ssl=t.ssl??Cv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Kb)throw new nt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new _2;switch(a.type){case"firstParty":return new A2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new nt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Iv.get(i);a&&(et(ER,"Removing Datastore"),Iv.delete(i),a.terminate())})(this),Promise.resolve()}}function SR(r,t,i,a={}){r=Ei(r,gh);const o=xo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(Gv(`https://${g}`),Qv("Firestore",!0)),c.host!==qT&&c.host!==g&&La("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!Oc(_,d)&&(r._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Fe.MOCK_USER;else{v=nA(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new nt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(b)}r._authCredentials=new v2(new N0(v,A))}}class el{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new el(this.firestore,t,this._query)}}class ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ue(this.firestore,t,this._key)}toJSON(){return{type:ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Oo(i,ue._jsonSchema))return new ue(t,a||null,new ot(Yt.fromString(i.referencePath)))}}ue._jsonSchemaVersion="firestore/documentReference/1.0",ue._jsonSchema={type:Se("string",ue._jsonSchemaVersion),referencePath:Se("string")};class qs extends el{constructor(t,i,a){super(t,i,Am(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ue(this.firestore,null,new ot(t))}withConverter(t){return new qs(this.firestore,t,this._path)}}function Jc(r,t,...i){if(r=Ve(r),D0("collection","path",t),r instanceof gh){const a=Yt.fromString(t,...i);return q_(a),new qs(r,null,a)}{if(!(r instanceof ue||r instanceof qs))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Yt.fromString(t,...i));return q_(a),new qs(r.firestore,null,a)}}function Zc(r,t,...i){if(r=Ve(r),arguments.length===1&&(t=pm.newId()),D0("doc","path",t),r instanceof gh){const a=Yt.fromString(t,...i);return z_(a),new ue(r,null,new ot(a))}{if(!(r instanceof ue||r instanceof qs))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Yt.fromString(t,...i));return z_(a),new ue(r.firestore,r instanceof qs?r.converter:null,new ot(a))}}const Nv="AsyncQueue";class Dv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ST(this,"async_queue_retry"),this._c=()=>{const a=xd();a&&et(Nv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!$r(t))throw t;et(Nv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Vv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Lm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&ht(47125,{Pc:Vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Vv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class ja extends gh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Dv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Dv(t),this._firestoreClient=void 0,await t}}}function bR(r,t){const i=typeof r=="object"?r:Fv(),a=typeof r=="string"?r:qc,o=sm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=eA("firestore");c&&SR(o,...c)}return o}function BT(r){if(r._terminated)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wR(r),r._firestoreClient}function wR(r){const t=r._freezeSettings(),i=AR(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new pR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn(Be.fromBase64String(t))}catch(i){throw new nt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Dn(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Oo(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:Se("string",Dn._jsonSchemaVersion),bytes:Se("string")};class qm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ph{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Oo(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Se("string",bi._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};class Xn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Oo(t,Xn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Xn(t.vectorValues);throw new nt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xn._jsonSchemaVersion="firestore/vectorValue/1.0",Xn._jsonSchema={type:Se("string",Xn._jsonSchemaVersion),vectorValues:Se("object")};const RR=/^__.*__$/;class IR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Xs(t,this.data,this.fieldMask,i,this.fieldTransforms):new ko(t,this.data,i,this.fieldTransforms)}}class HT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Xs(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function FT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{dataSource:r})}}class Bm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Bm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Wc(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(FT(this.dataSource)&&RR.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class CR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||fh(t)}createContext(t,i,a,o=!1){return new Bm({dataSource:t,methodName:i,targetDoc:a,path:qe.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(r){const t=r._freezeSettings(),i=fh(r._databaseId);return new CR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function GT(r,t,i,a,o,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,o);Fm("Data must be an object, but it was:",d,a);const g=QT(a,d);let _,v;if(c.merge)_=new pn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const V=Xr(t,b,i);if(!d.contains(V))throw new nt(K.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);XT(A,V)||A.push(V)}_=new pn(A),v=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,v=d.fieldTransforms;return new IR(new an(g),_,v)}class _h extends ph{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _h}}class Hm extends ph{_toFieldTransform(t){return new db(t.path,new bo)}isEqual(t){return t instanceof Hm}}function xR(r,t,i,a){const o=r.createContext(1,t,i);Fm("Data must be an object, but it was:",o,a);const c=[],d=an.empty();Ys(a,((_,v)=>{const A=YT(t,_,i);v=Ve(v);const b=o.childContextForFieldPath(A);if(v instanceof _h)c.push(A);else{const V=Po(v,b);V!=null&&(c.push(A),d.set(A,V))}}));const g=new pn(c);return new HT(d,g,o.fieldTransforms)}function NR(r,t,i,a,o,c){const d=r.createContext(1,t,i),g=[Xr(t,a,i)],_=[o];if(c.length%2!=0)throw new nt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Xr(t,c[V])),_.push(c[V+1]);const v=[],A=an.empty();for(let V=g.length-1;V>=0;--V)if(!XT(v,g[V])){const H=g[V];let X=_[V];X=Ve(X);const Z=d.childContextForFieldPath(H);if(X instanceof _h)v.push(H);else{const $=Po(X,Z);$!=null&&(v.push(H),A.set(H,$))}}const b=new pn(v);return new HT(A,b,d.fieldTransforms)}function DR(r,t,i,a=!1){return Po(i,r.createContext(a?4:3,t))}function Po(r,t){if(KT(r=Ve(r)))return Fm("Unsupported field value:",t,r),QT(r,t);if(r instanceof ph)return(function(a,o){if(!FT(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=Po(g,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=Ve(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return cb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Zt.fromDate(a);return{timestampValue:Qc(o.serializer,c)}}if(a instanceof Zt){const c=new Zt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qc(o.serializer,c)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Dn)return{bytesValue:hT(o.serializer,a._byteString)};if(a instanceof ue){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Im(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Xn)return(function(d,g){const _=d instanceof Xn?d.toArray():d;return{mapValue:{fields:{[z0]:{stringValue:q0},[Bc]:{arrayValue:{values:_.map((A=>{if(typeof A!="number")throw g.createError("VectorValues must only contain numeric values.");return Sm(g.serializer,A)}))}}}}}})(a,o);if(_T(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${ih(a)}`)})(r,t)}function QT(r,t){const i={};return M0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ys(r,((a,o)=>{const c=Po(o,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function KT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Zt||r instanceof bi||r instanceof Dn||r instanceof ue||r instanceof ph||r instanceof Xn||_T(r))}function Fm(r,t,i){if(!KT(i)||!V0(i)){const a=ih(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function Xr(r,t,i){if((t=Ve(t))instanceof qm)return t._internalPath;if(typeof t=="string")return YT(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const VR=new RegExp("[~\\*/\\[\\]]");function YT(r,t,i){if(t.search(VR)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new qm(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new nt(K.INVALID_ARGUMENT,g+r+_)}function XT(r,t){return r.some((i=>i.isEqual(t)))}class OR{convertValue(t,i="none"){switch(Gs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ht(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ys(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Bc].arrayValue?.values?.map((a=>oe(a.doubleValue)));return new Xn(i)}convertGeoPoint(t){return new bi(oe(t.latitude),oe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=rh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Eo(t));default:return null}}convertTimestamp(t){const i=Hs(t);return new Zt(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Yt.fromString(t);Lt(yT(a),9688,{name:t});const o=new Ao(a.get(1),a.get(3)),c=new ot(a.popFirst(5));return o.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class JT extends OR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ue(this.firestore,null,i)}}function Io(){return new Hm("serverTimestamp")}const Ov="@firebase/firestore",Mv="4.11.0";function kv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ZT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Xr("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MR extends ZT{data(){return super.data()}}function kR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new nt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gm{}class LR extends Gm{}function WT(r,t,...i){let a=[];t instanceof Gm&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((_=>_ instanceof Qm)).length,g=c.filter((_=>_ instanceof vh)).length;if(d>1||d>0&&g>0)throw new nt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class vh extends LR{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new vh(t,i,a)}_apply(t){const i=this._parse(t);return tE(t._query,i),new el(t.firestore,t.converter,Qd(t._query,i))}_parse(t){const i=yh(t.firestore);return(function(c,d,g,_,v,A,b){let V;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Uv(b,A);const X=[];for(const Z of b)X.push(Lv(_,c,Z));V={arrayValue:{values:X}}}else V=Lv(_,c,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Uv(b,A),V=DR(g,d,b,A==="in"||A==="not-in");return Ae.create(v,A,V)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function $T(r,t,i){const a=t,o=Xr("where",r);return vh._create(o,a,i)}class Qm extends Gm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Qm(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,c){let d=o;const g=c.getFlattenedFilters();for(const _ of g)tE(d,_),d=Qd(d,_)})(t._query,i),new el(t.firestore,t.converter,Qd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Lv(r,t,i){if(typeof(i=Ve(i))=="string"){if(i==="")throw new nt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X0(t)&&i.indexOf("/")!==-1)throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Yt.fromString(i));if(!ot.isDocumentKey(a))throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return X_(r,new ot(a))}if(i instanceof ue)return X_(r,i._key);throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(i)}.`)}function Uv(r,t){if(!Array.isArray(r)||r.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tE(r,t){const i=(function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}function eE(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class fo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Da extends ZT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Xr("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Se("string",Da._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class Dc extends Da{data(t={}){return super.data(t)}}class qr{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new fo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Dc(this._firestore,this._userDataWriter,a.key,a,new fo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Dc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new fo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Dc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new fo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:UR(g.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:r})}}qr._jsonSchemaVersion="firestore/querySnapshot/1.0",qr._jsonSchema={type:Se("string",qr._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};function jR(r,t,i){r=Ei(r,ue);const a=Ei(r.firestore,ja),o=eE(r.converter,t),c=yh(a);return Th(a,[GT(c,"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Vn.none())])}function PR(r,t,i,...a){r=Ei(r,ue);const o=Ei(r.firestore,ja),c=yh(o);let d;return d=typeof(t=Ve(t))=="string"||t instanceof qm?NR(c,"updateDoc",r._key,t,i,a):xR(c,"updateDoc",r._key,t),Th(o,[d.toMutation(r._key,Vn.exists(!0))])}function zR(r){return Th(Ei(r.firestore,ja),[new bm(r._key,Vn.none())])}function nE(r,t){const i=Ei(r.firestore,ja),a=Zc(r),o=eE(r.converter,t),c=yh(r.firestore);return Th(i,[GT(c,"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Vn.exists(!1))]).then((()=>a))}function Km(r,...t){r=Ve(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||kv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof ue)d=Ei(r.firestore,ja),g=Am(r._key.path),c={next:v=>{t[a]&&t[a](qR(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=Ei(r,el);d=Ei(v.firestore,ja),g=v._query;const A=new JT(d);c={next:b=>{t[a]&&t[a](new qr(d,A,v,b))},error:t[a+1],complete:t[a+2]},kR(r._query)}const _=BT(d);return vR(_,g,o,c)}function Th(r,t){const i=BT(r);return TR(i,t)}function qR(r,t,i){const a=i.docs.get(t._key),o=new JT(r);return new Da(r,o,t._key,a,new fo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){y2(Jr),kd(new Ld("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ja(new T2(a.getProvider("auth-internal")),new S2(d,a.getProvider("app-check-internal")),z2(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),vo(Ov,Mv,t),vo(Ov,Mv,"esm2020")})();const BR={apiKey:"AIzaSyDvRoWoEBdqdS85YJApVdKG5KcPOYzOg6k",authDomain:"studio-6082148059-d1fec.web.app",projectId:"studio-6082148059-d1fec",storageBucket:"studio-6082148059-d1fec.appspot.com",messagingSenderId:"144415804580",appId:"1:144415804580:web:7e6465f633e54e8e186a31"},iE=sA(BR),Ji=d2(iE),HR=new Ki,Va=bR(iE),Eh=()=>{const[r,t]=rt.useState(null),[i,a]=rt.useState(!0);return rt.useEffect(()=>{const o=nS(Ji,c=>{t(c),a(!1)});return()=>o()},[]),{user:r,loading:i}},sE=rt.createContext(),Ym=()=>rt.useContext(sE),FR=({message:r,onDismiss:t})=>S.jsx(W.div,{className:"aurora-card notification",initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},onClick:t,children:r}),GR=({children:r})=>{const[t,i]=rt.useState([]),a=rt.useCallback(c=>{const d=Date.now();i(g=>[...g,{id:d,message:c}])},[]);rt.useEffect(()=>{if(t.length===0)return;const c=t.map(d=>setTimeout(()=>{i(g=>g.filter(_=>_.id!==d.id))},5e3));return()=>c.forEach(clearTimeout)},[t]);const o=c=>{i(d=>d.filter(g=>g.id!==c))};return S.jsxs(sE.Provider,{value:{notify:a},children:[r,S.jsx("div",{className:"notification-container",children:S.jsx(Oa,{children:t.map(({id:c,message:d})=>S.jsx(FR,{message:d,onDismiss:()=>o(c)},c))})})]})};function QR(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(r)}function KR(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(r)}function YR(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(r)}function XR(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(r)}function JR(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(r)}function aE(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(r)}function ZR(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(r)}function WR(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function jv(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(r)}function $R(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function Dd(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Pv(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(r)}function tI(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function eI(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function nI(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(r)}function iI(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"},child:[]},{tag:"line",attr:{x1:"12",y1:"19",x2:"20",y2:"19"},child:[]}]})(r)}function sI(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function aI(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"},child:[]}]})(r)}function Vc(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function rI(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}function lI(r){return ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(r)}const oI=()=>{const{notify:r}=Ym(),[t,i]=rt.useState(!1),a=async()=>{i(!0);try{await AS(Ji,HR),r("Welcome to HomeBase Pro! ")}catch{r("Sign-in failed. Please try again.")}finally{i(!1)}},o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return S.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",padding:"20px",position:"relative",overflow:"hidden"},children:[S.jsx(W.div,{style:{position:"absolute",width:"300px",height:"300px",borderRadius:"50%",background:"radial-gradient(circle, var(--accent-primary) 0%, transparent 70%)",filter:"blur(60px)",opacity:.3},animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),S.jsx(W.div,{style:{position:"absolute",width:"400px",height:"400px",borderRadius:"50%",background:"radial-gradient(circle, var(--accent-secondary) 0%, transparent 70%)",filter:"blur(80px)",opacity:.2,right:"10%",bottom:"10%"},animate:{x:[0,-80,0],y:[0,80,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),S.jsxs(W.div,{className:"aurora-card",style:{padding:"3rem",textAlign:"center",maxWidth:"420px",width:"100%",position:"relative",zIndex:1},variants:o,initial:"hidden",animate:"visible",children:[S.jsx(W.div,{variants:c,children:S.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 1.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)"},children:""})}),S.jsx(W.h1,{variants:c,style:{fontSize:"2rem",fontWeight:700,marginBottom:"0.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"HomeBase Pro"}),S.jsx(W.p,{variants:c,style:{color:"var(--text-secondary)",marginBottom:"2rem",fontSize:"1rem"},children:"The Future of Portfolio Management"}),S.jsxs(W.button,{variants:c,className:"aurora-button",onClick:a,disabled:t,whileHover:{scale:1.02},whileTap:{scale:.98},style:{width:"100%",padding:"14px 24px",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",marginBottom:"1.5rem",opacity:t?.7:1,cursor:t?"wait":"pointer"},children:[t?S.jsx(W.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:""}):S.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[S.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),S.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),S.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),S.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t?"Signing in...":"Sign in with Google"]}),S.jsxs(W.div,{variants:c,style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem",color:"var(--text-secondary)",fontSize:"0.875rem"},children:[S.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}}),S.jsx("span",{children:"or"}),S.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}})]}),S.jsx(W.p,{variants:c,style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"2rem"},children:"Secure, fast, and easy portfolio management"}),S.jsx(W.div,{variants:c,style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",padding:"1rem",background:"rgba(127, 90, 240, 0.1)",borderRadius:"12px"},children:[{icon:"",label:"Analytics"},{icon:"",label:"Deploy"},{icon:"",label:"Secure"}].map((d,g)=>S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"4px"},children:d.icon}),S.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:d.label})]},g))}),S.jsxs(W.div,{variants:c,style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"2rem",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[S.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[S.jsx(JR,{size:12})," Website"]}),S.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[S.jsx(XR,{size:12})," GitHub"]}),S.jsxs("a",{href:"#",style:{display:"flex",alignItems:"center",gap:"4px"},children:[S.jsx(aI,{size:12})," Twitter"]})]}),S.jsx(W.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},style:{fontSize:"0.625rem",color:"var(--text-secondary)",marginTop:"1rem",opacity:.5},children:" Try the Konami code for a surprise..."})]})]})},uI=()=>{const r=Ji.currentUser,[t,i]=rt.useState(!1),a=[{to:"/",text:"Dashboard",icon:S.jsx(aE,{}),color:"#7F5AF0"},{to:"/projects",text:"Projects",icon:S.jsx(KR,{}),color:"#2CB67D"},{to:"/analytics",text:"Analytics",icon:S.jsx(QR,{}),color:"#F2B900"},{to:"/termux",text:"Termux",icon:S.jsx(iI,{}),color:"#00D4AA"},{to:"/profile",text:"Profile",icon:S.jsx(Vc,{}),color:"#E91E63"},{to:"/settings",text:"Settings",icon:S.jsx(eI,{}),color:"#FF6B6B"}],o=()=>{Ji.signOut(),i(!1)},c={hidden:{x:-100,opacity:0},visible:{x:0,opacity:1,transition:{duration:.5,ease:[.4,0,.2,1],staggerChildren:.1,delayChildren:.2}}},d={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{duration:.3}}};return S.jsxs(S.Fragment,{children:[S.jsx(W.button,{className:"mobile-menu-btn",onClick:()=>i(!t),"aria-label":"Toggle menu",whileTap:{scale:.95},children:S.jsx(Oa,{mode:"wait",children:t?S.jsx(W.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:S.jsx(rI,{size:24})},"close"):S.jsx(W.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:S.jsx($R,{size:24})},"menu")})}),S.jsx(Oa,{children:t&&S.jsx(W.div,{className:"mobile-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1)})}),S.jsxs(W.aside,{className:`sidebar-container ${t?"mobile-open":""}`,variants:c,initial:"hidden",animate:"visible",children:[S.jsxs(W.div,{className:"sidebar-header",variants:d,children:[S.jsx(W.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:S.jsx("h1",{className:"sidebar-logo",children:"HomeBase"})}),S.jsx(W.span,{className:"sidebar-version",whileHover:{scale:1.1},animate:{boxShadow:["0 0 0 rgba(127, 90, 240, 0)","0 0 20px rgba(127, 90, 240, 0.5)","0 0 0 rgba(127, 90, 240, 0)"]},transition:{duration:2,repeat:1/0},children:"Pro"})]}),S.jsx("nav",{className:"sidebar-nav",children:a.map((g,_)=>S.jsx(W.div,{variants:d,custom:_,children:S.jsx(z1,{to:g.to,className:"nav-link",onClick:()=>i(!1),children:({isActive:v})=>S.jsxs(W.div,{style:{display:"flex",alignItems:"center",gap:"12px",width:"100%"},whileHover:{x:4},whileTap:{scale:.98},children:[S.jsx(W.span,{className:"nav-icon",animate:v?{color:g.color,scale:[1,1.2,1]}:{},transition:{duration:.3},style:{color:v?g.color:void 0},children:g.icon}),S.jsx("span",{className:"nav-text",children:g.text}),v&&S.jsx(W.div,{layoutId:"activeIndicator",className:"active-indicator",style:{background:g.color},transition:{type:"spring",stiffness:500,damping:30}})]})})},g.to))}),S.jsxs(W.div,{className:"sidebar-footer",variants:d,children:[S.jsxs(W.div,{className:"user-profile",whileHover:{scale:1.02},children:[S.jsx(W.div,{className:"user-avatar",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5},children:r?.photoURL?S.jsx("img",{src:r.photoURL,alt:r.displayName}):r?.displayName?.[0]||"?"}),S.jsxs("div",{className:"user-info",children:[S.jsx(W.span,{className:"user-name",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.5},children:r?.displayName||"Guest"}),S.jsx("span",{className:"user-email",children:r?.email})]})]}),S.jsxs(W.button,{className:"aurora-button secondary sign-out-btn",onClick:o,whileHover:{scale:1.02},whileTap:{scale:.98},children:[S.jsx(WR,{}),S.jsx("span",{children:"Sign Out"})]})]}),S.jsx(W.div,{className:"sidebar-credits",variants:d,initial:{opacity:0},animate:{opacity:1},transition:{delay:1},children:S.jsx("span",{children:"v2.0  Made with "})})]})]})},cI=({children:r})=>S.jsxs("div",{className:"dashboard-layout",children:[S.jsx(uI,{}),S.jsx("main",{className:"dashboard-main",children:r})]}),Xm=()=>{const[r,t]=rt.useState([]),[i,a]=rt.useState(!0),o=Ji.currentUser;return rt.useEffect(()=>{if(!o){a(!1);return}const g=WT(Jc(Va,"projects"),$T("userId","==",o.uid)),_=Km(g,v=>{const A=[];v.forEach(b=>{A.push({...b.data(),id:b.id})}),t(A),a(!1)});return()=>_()},[o]),{projects:r,loading:i,addProject:async g=>{o&&await nE(Jc(Va,"projects"),{...g,userId:o.uid,createdAt:Io(),lastUpdated:Io()})},deleteProject:async g=>{await zR(Zc(Va,"projects",g))}}},zo=()=>S.jsx("div",{className:"loader-container",children:S.jsx("div",{className:"loader-spinner"})}),hI=()=>{const{projects:r,loading:t,addProject:i,deleteProject:a}=Xm(),[o,c]=rt.useState("All"),[d,g]=rt.useState(""),[_,v]=rt.useState("grid"),[A,b]=rt.useState(!1),[V,H]=rt.useState({title:"",tags:"",description:""}),{notify:X}=Ym(),Z=async at=>{if(at.preventDefault(),!V.title.trim()){X("Project title is required");return}await i({...V,tags:V.tags.split(",").map(Et=>Et.trim()).filter(Et=>Et),status:"Active"}),H({title:"",tags:"",description:""}),b(!1),X("Project added successfully! ")},$=async(at,Et)=>{window.confirm(`Delete "${Et}"? This cannot be undone.`)&&(await a(at),X("Project deleted"))};if(t)return S.jsx(zo,{});const mt=r.filter(at=>{const Et=o==="All"||at.status===o,N=!d||at.title?.toLowerCase().includes(d.toLowerCase())||at.tags?.some(w=>w.toLowerCase().includes(d.toLowerCase()));return Et&&N}),_t={Active:"#2CB67D",Pending:"#F2B900",Completed:"#7F5AF0"},Tt={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},Ut={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return S.jsxs("div",{className:"projects-container",children:[S.jsxs(W.header,{className:"page-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[S.jsxs("div",{children:[S.jsx(W.h1,{className:"page-title",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:"Projects"}),S.jsx(W.p,{className:"page-subtitle",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Manage and track your portfolio projects"})]}),S.jsxs(W.div,{className:"stats-badge",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30,delay:.3},children:[S.jsx("span",{children:r.length})," Projects"]})]}),S.jsxs(W.div,{className:"toolbar",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[S.jsx("div",{className:"filter-tabs",children:["All","Active","Pending","Completed"].map(at=>S.jsx(W.button,{className:`filter-tab ${o===at?"active":""}`,onClick:()=>c(at),whileHover:{scale:1.05},whileTap:{scale:.95},style:o===at?{background:_t[at]||"var(--accent-primary)"}:{},children:at},at))}),S.jsxs("div",{className:"toolbar-actions",children:[S.jsxs("div",{className:"search-box",children:[S.jsx(tI,{className:"search-icon"}),S.jsx("input",{type:"text",placeholder:"Search projects...",value:d,onChange:at=>g(at.target.value),className:"search-input"})]}),S.jsxs("div",{className:"view-toggle",children:[S.jsx(W.button,{className:_==="grid"?"active":"",onClick:()=>v("grid"),whileHover:{scale:1.1},whileTap:{scale:.9},children:S.jsx(aE,{})}),S.jsx(W.button,{className:_==="list"?"active":"",onClick:()=>v("list"),whileHover:{scale:1.1},whileTap:{scale:.9},children:S.jsx(ZR,{})})]}),S.jsxs(W.button,{className:"aurora-button",onClick:()=>b(!0),whileHover:{scale:1.05},whileTap:{scale:.95},children:[S.jsx(Dd,{})," Add Project"]})]})]}),S.jsx(W.div,{layout:!0,className:`project-grid ${_}`,variants:Tt,initial:"hidden",animate:"visible",children:S.jsx(Oa,{mode:"popLayout",children:mt.length>0?mt.map((at,Et)=>S.jsxs(W.div,{layout:!0,variants:Ut,initial:"hidden",animate:"visible",exit:{opacity:0,scale:.8},transition:{duration:.3},className:"aurora-card project-card",whileHover:{y:-5,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[S.jsxs("div",{className:"project-card-header",children:[S.jsx("h3",{className:"project-card-title",children:at.title}),S.jsx(W.div,{className:"status-dot",style:{backgroundColor:_t[at.status]||"#888"},title:at.status,whileHover:{scale:1.5},animate:{boxShadow:[`0 0 0 ${_t[at.status]||"#888"}`,`0 0 10px ${_t[at.status]||"#888"}`,`0 0 0 ${_t[at.status]||"#888"}`]},transition:{duration:2,repeat:1/0}})]}),at.description&&S.jsx("p",{className:"project-description",children:at.description}),S.jsxs("p",{className:"project-meta",children:["Updated ",at.lastUpdated?.toDate?new Date(at.lastUpdated.toDate()).toLocaleDateString():"Recently"]}),S.jsx("div",{className:"project-card-tags",children:at.tags?.map((N,w)=>S.jsx(W.span,{className:"tech-tag",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:w*.1},whileHover:{scale:1.1},children:N},N))}),S.jsxs("div",{className:"project-card-footer",children:[S.jsx("div",{className:"project-stats",children:S.jsxs("span",{children:["#",String(Et+1).padStart(3,"0")]})}),S.jsx(W.button,{className:"delete-btn",onClick:()=>$(at.id,at.title),title:"Delete Project",whileHover:{scale:1.2,color:"#E53E3E"},whileTap:{scale:.9},children:S.jsx(sI,{})})]})]},at.id)):S.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},className:"empty-state aurora-card",children:[S.jsx(W.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),S.jsxs("p",{children:["No projects found",d?` for "${d}"`:"","."]}),S.jsx("p",{style:{fontSize:"0.875rem",opacity:.7},children:d?"Try a different search term":"Add one to get started!"})]})})}),S.jsx(Oa,{children:A&&S.jsx(W.div,{className:"modal-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>b(!1),children:S.jsx(W.div,{className:"aurora-card modal-content",initial:{y:-50,opacity:0,scale:.9},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.9},onClick:at=>at.stopPropagation(),children:S.jsxs("form",{onSubmit:Z,className:"add-project-form",children:[S.jsxs("h2",{className:"modal-title",children:[S.jsx(Dd,{style:{verticalAlign:"middle",marginRight:"8px"}}),"Add New Project"]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"project-title",children:"Project Title *"}),S.jsx("input",{id:"project-title",type:"text",className:"aurora-input",value:V.title,onChange:at=>H({...V,title:at.target.value}),placeholder:"e.g., My Awesome App",required:!0,autoFocus:!0})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"project-description",children:"Description"}),S.jsx("textarea",{id:"project-description",className:"aurora-input",value:V.description,onChange:at=>H({...V,description:at.target.value}),placeholder:"Brief description of your project...",rows:3,style:{resize:"vertical"}})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"project-tags",children:"Tags (comma-separated)"}),S.jsx("input",{id:"project-tags",type:"text",className:"aurora-input",value:V.tags,onChange:at=>H({...V,tags:at.target.value}),placeholder:"e.g., React, Node.js, AI"})]}),S.jsxs("div",{className:"form-actions",children:[S.jsx(W.button,{type:"button",className:"aurora-button secondary",onClick:()=>b(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),S.jsxs(W.button,{type:"submit",className:"aurora-button",whileHover:{scale:1.02},whileTap:{scale:.98},children:[S.jsx(Dd,{style:{marginRight:"4px"}})," Add Project"]})]})]})})})})]})},fI=()=>{const{projects:r,loading:t}=Xm(),[i,a]=rt.useState({totalProjects:0,activeProjects:0,completedProjects:0,projectsByTag:{}});return rt.useEffect(()=>{if(!t){const o=r.length,c=r.filter(_=>_.status==="Active").length,d=r.filter(_=>_.status==="Completed").length,g=r.reduce((_,v)=>(v.tags?.forEach(A=>{_[A]=(_[A]||0)+1}),_),{});a({totalProjects:o,activeProjects:c,completedProjects:d,projectsByTag:g})}},[r,t]),{stats:i,loading:t}},dI=()=>{const{stats:r,loading:t}=fI();return t?S.jsx(zo,{}):S.jsxs("div",{className:"analytics-container",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h1",{className:"page-title",children:"Analytics"}),S.jsx("p",{className:"page-subtitle",children:"An overview of your project landscape"})]}),S.jsxs("div",{className:"stats-grid",children:[S.jsxs(W.div,{className:"aurora-card stat-card",children:[S.jsx("h3",{children:"Total Projects"}),S.jsx("p",{children:r.totalProjects})]}),S.jsxs(W.div,{className:"aurora-card stat-card",children:[S.jsx("h3",{children:"Active Projects"}),S.jsx("p",{children:r.activeProjects})]}),S.jsxs(W.div,{className:"aurora-card stat-card",children:[S.jsx("h3",{children:"Completed Projects"}),S.jsx("p",{children:r.completedProjects})]})]}),S.jsxs("div",{className:"aurora-card chart-card",children:[S.jsx("h3",{children:"Projects by Tag"}),Object.entries(r.projectsByTag).map(([i,a])=>S.jsxs("div",{className:"chart-bar",children:[S.jsx("span",{className:"chart-label",children:i}),S.jsx("div",{className:"chart-value",style:{width:`${r.totalProjects>0?a/r.totalProjects*100:0}%`},children:a})]},i))]})]})},mI=()=>{const[r,t]=rt.useState(null),[i,a]=rt.useState(!0),{user:o}=Eh();return rt.useEffect(()=>{if(!o){t(null),a(!1);return}a(!0);const d=Zc(Va,"users",o.uid),g=Km(d,_=>{if(_.exists())t(_.data());else{const v={displayName:o.displayName,email:o.email,photoURL:o.photoURL,createdAt:Io()};jR(d,v).catch(()=>{}),t(v)}a(!1)},()=>{a(!1)});return()=>g()},[o]),{userProfile:r,loading:i,updateUserProfile:async d=>{if(!o)return;const g=Zc(Va,"users",o.uid);await PR(g,{...d,updatedAt:Io()})},user:o}},gI=()=>{const{userProfile:r,loading:t,updateUserProfile:i}=mI(),[a,o]=rt.useState(""),{notify:c}=Ym();rt.useEffect(()=>{r&&o(r.displayName||"")},[r]);const d=async g=>{g.preventDefault(),await i({displayName:a}),c("Settings saved successfully!")};return t?S.jsx(zo,{}):S.jsxs("div",{className:"settings-container",children:[S.jsxs("header",{className:"page-header",children:[S.jsx("h1",{className:"page-title",children:"Settings"}),S.jsx("p",{className:"page-subtitle",children:"Manage your profile and application settings"})]}),S.jsx(W.div,{className:"aurora-card",children:S.jsxs("form",{onSubmit:d,style:{padding:"var(--space-5)"},children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Display Name"}),S.jsx("input",{type:"text",className:"form-input",value:a,onChange:g=>o(g.target.value)})]}),S.jsx("div",{className:"form-actions",children:S.jsx("button",{type:"submit",className:"aurora-button",children:"Save Changes"})})]})})]})},zv={ls:"eza",ll:"eza -l --icons --git --header",la:"eza -la --icons --git",cat:"bat",gs:"git status",ga:"git add .",gc:"git commit -m",gp:"git push",gpl:"git pull",gpp:"git push",nv:"nvim",h:"cd ~",u:"cd /storage/emulated/0/Download",up:"pkg update && pkg upgrade -y",cl:"pkg autoclean && rm -rf ~/.cache/*","savage-clean":"up && cl","backup-config":"cp ~/.zshrc ~/.zshrc.bak",py:"python"},pI=r=>{const[t]=r.split(" ");return zv[t]?zv[t]+r.substring(t.length):r},rE=(r,t)=>{const i=r.toLowerCase().trim();if(i.startsWith("eza")){if(!t||t.length===0)return"No projects found.";let a=`Projects:
`;return i.includes("-l")?a+=t.map(o=>`drwxr-xr-x  - staff ${new Date(o.createdAt?.toDate()).toLocaleDateString()}  ${o.title}`).join(`
`):a+=t.map(o=>` ${o.title}`).join("  "),a}if(i.startsWith("bat")){const a=r.split(" ").slice(1).join(" "),o=t.find(c=>c.title.toLowerCase()===a.toLowerCase());return o?`--- Project: ${o.title} ---
Status: ${o.status}
Description: ${o.description||"N/A"}
Tags: ${o.tags?.join(", ")||"N/A"}`:`File not found: ${a}`}if(i.startsWith("git"))return"Git commands are not fully functional in this simulated environment. Use the Projects page to manage your portfolio.";if(/^(hello|hi|hey|greetings)/.test(i)){const a=["Greetings, human. I'm Online and ready to assist.","Hello! The matrix has you... just kidding. How can I help?"];return a[Math.floor(Math.random()*a.length)]}if(i==="help"||i==="?")return`HomeBase Pro - Savage Edition Help:

  CORE COMMANDS:
   projects      - List all your projects (alias: ls)
   bat <project> - Show details for a specific project (alias: cat)
   stats         - Show project statistics
   ai <prompt>   - Ask Gemini AI anything (powered by Firebase AI)
   clear         - Clear terminal screen
   whoami        - Show current user info
   date          - Show current date/time
   uptime        - Show simulated system uptime

  SAVAGE ALIASES:
   ll, la        - Detailed project listings
   gs, ga, gp    - Simulated Git commands
   up, cl        - Simulated system maintenance
   h             - Go to 'home' (simulated)
   nv            - Open Neovim (simulated)
    `;if(i==="whoami")return Ji.currentUser?`Logged in as: ${Ji.currentUser.displayName} (${Ji.currentUser.email})`:"Not logged in";if(i==="date")return new Date().toLocaleString();if(i==="stats"){if(!t||t.length===0)return"No project data to analyze.";const a=t.filter(c=>c.status==="Active").length,o=t.filter(c=>c.status==="Completed").length;return`Project Stats:
   Total Projects: ${t.length}
   Active: ${a}
   Completed: ${o}`}return i==="projects"?rE("eza -l",t):i==="clear"?"__CLEAR__":i==="uptime"?`System uptime: ${Math.floor(Math.random()*999)} days...`:["nvim","cd ~","pkg update && pkg upgrade -y","pkg autoclean && rm -rf ~/.cache/*"].includes(i)?`Simulating command: ${i}`:`Command not found: ${r}. Type "help" for a list of commands.`},yI=()=>{const[r,t]=rt.useState([{type:"response",text:"Welcome to HomeBase Pro - Savage Edition. Type 'help' for commands."}]),[i,a]=rt.useState(!0),[o,c]=rt.useState([]),d=Ji.currentUser;rt.useEffect(()=>{if(!d){a(!1);return}const v=WT(Jc(Va,"projects"),$T("userId","==",d.uid)),A=Km(v,b=>{const V=[];b.forEach(H=>{V.push({...H.data(),id:H.id})}),c(V),a(!1)});return()=>A()},[d]);const g=rt.useCallback(async v=>{if(!d)return;const A=v.trim(),b=pI(A),V={type:"command",text:A};if(b.startsWith("ai ")){const H=b.slice(3);t(X=>[...X,V]);try{const X=aA(),$=await rA(X,{model:"gemini-1.5-flash"}).generateContentStream(H);let mt="";for await(const _t of $.stream)mt+=_t.text(),t(Tt=>{const Ut=[...Tt];return Ut[Ut.length-1]={type:"response",text:mt},Ut})}catch(X){t(Z=>[...Z,{type:"response",text:`AI Error: ${X.message}`}])}}else{const H=rE(b,o);t(H==="__CLEAR__"?[{type:"response",text:'Terminal cleared. Type "help" for commands.'}]:X=>[...X,V,{type:"response",text:H}])}try{await nE(Jc(Va,"terminal-history"),{type:"command",text:A,userId:d.uid,createdAt:Io()})}catch{}},[d,o]),_=rt.useCallback(()=>{t([{type:"response",text:'Terminal cleared. Type "help" for commands.'}])},[]);return{history:r,loading:i,executeCommand:g,clear:_,projects:o}},_I=()=>{const[r,t]=rt.useState(""),{history:i,loading:a,executeCommand:o,clear:c}=yI(),d=rt.useRef(null),g=rt.useRef(null),_=b=>{t(b.target.value)},v=async b=>{b.preventDefault(),r.trim()&&(await o(r),t(""))};rt.useEffect(()=>{d.current?.scrollIntoView({behavior:"smooth"})},[i]),rt.useEffect(()=>{g.current?.focus()},[]);const A=()=>{g.current?.focus()};return rt.useEffect(()=>{const b=V=>{(V.ctrlKey||V.metaKey)&&V.key==="l"&&(V.preventDefault(),c()),V.key==="Escape"&&g.current?.focus()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[c]),S.jsxs(W.div,{className:"terminal-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onClick:A,children:[S.jsxs("div",{className:"terminal-header",children:[S.jsxs("div",{className:"terminal-buttons",children:[S.jsx("span",{className:"button red"}),S.jsx("span",{className:"button yellow"}),S.jsx("span",{className:"button green"})]}),S.jsx("div",{className:"terminal-title",children:"Termux"})]}),S.jsxs("div",{className:"terminal-body",children:[S.jsxs("div",{className:"output-area",children:[a&&S.jsx("div",{children:"Loading terminal history..."}),S.jsx(Oa,{children:i.map((b,V)=>S.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:`output-line ${b.type}`,children:[b.type==="command"&&S.jsx("span",{className:"prompt-symbol",children:"$ "}),S.jsx("span",{className:"output-text",children:b.text})]},V))}),S.jsx("div",{ref:d})]}),S.jsxs("form",{onSubmit:v,className:"terminal-input-form",children:[S.jsxs("span",{className:"prompt",children:[S.jsx("span",{className:"prompt-user",children:"homebase"}),S.jsx("span",{className:"prompt-at",children:"@"}),S.jsx("span",{className:"prompt-host",children:"pro"}),S.jsx("span",{className:"prompt-symbol",children:":$ "})]}),S.jsx("input",{ref:g,type:"text",value:r,onChange:_,className:"terminal-input",autoFocus:!0,autoComplete:"off",spellCheck:"false"}),S.jsx(W.span,{className:"cursor",animate:{opacity:[1,0]},transition:{duration:.5,repeat:1/0},children:""})]})]}),S.jsx("div",{className:"terminal-footer",children:S.jsxs("span",{className:"terminal-hint",children:[S.jsx("kbd",{children:"Ctrl"})," + ",S.jsx("kbd",{children:"L"})," to clear  Type ",S.jsx("code",{children:"help"})," for commands"]})})]})},vI=()=>{const{projects:r,loading:t}=Xm();return t?S.jsx(zo,{}):S.jsx("div",{children:S.jsx(_I,{projects:r})})};function TI(){const{user:r}=Eh(),[t,i]=rt.useState(""),[a,o]=rt.useState(""),[c,d]=rt.useState(!1),[g,_]=rt.useState(""),[v,A]=rt.useState(!1);rt.useEffect(()=>{r&&(i(r.displayName||""),o(r.email||""))},[r]);const b=async X=>{X.preventDefault(),d(!0),_("");try{r&&(await $A(r,{displayName:t.trim()||null}),_("Profile updated successfully! "),A(!1))}catch(Z){_("Error: "+Z.message)}finally{d(!1)}};if(!r)return S.jsx("div",{className:"aurora-card",style:{padding:"2rem",textAlign:"center"},children:S.jsx("h2",{children:"Please sign in to view your profile."})});const V={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{staggerChildren:.1}}},H={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};return S.jsxs(W.div,{className:"profile-container",variants:V,initial:"hidden",animate:"visible",children:[S.jsxs(W.header,{className:"page-header",variants:H,children:[S.jsx("h1",{className:"page-title",children:"litreelabmeta Profile"}),S.jsx("p",{className:"page-subtitle",children:"Manage your HomeBase Pro identity"})]}),S.jsx(W.div,{className:"aurora-card",variants:H,style:{padding:"2rem",marginBottom:"2rem",background:"linear-gradient(135deg, rgba(127, 90, 240, 0.1), rgba(44, 182, 125, 0.1))"},children:S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem",flexWrap:"wrap"},children:[S.jsxs(W.div,{style:{width:"100px",height:"100px",borderRadius:"50%",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem",fontWeight:"bold",color:"white",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)",position:"relative"},whileHover:{scale:1.05},animate:{boxShadow:["0 10px 40px rgba(127, 90, 240, 0.4)","0 10px 60px rgba(127, 90, 240, 0.6)","0 10px 40px rgba(127, 90, 240, 0.4)"]},transition:{duration:2,repeat:1/0},children:[r.photoURL?S.jsx("img",{src:r.photoURL,alt:t,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):t?.charAt(0)?.toUpperCase()||S.jsx(Vc,{}),S.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",background:"#2CB67D",borderRadius:"50%",border:"3px solid var(--background-primary)"}})]}),S.jsxs("div",{style:{flex:1},children:[S.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"0.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:t||"litreelabmeta"}),S.jsxs("p",{style:{color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[S.jsx(jv,{size:16})," ",a]}),S.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",fontFamily:"var(--font-mono)"},children:["ID: ",r.uid?.slice(0,8),"...",r.uid?.slice(-8)]})]}),S.jsxs(W.button,{className:"aurora-button secondary",onClick:()=>A(!v),whileHover:{scale:1.05},whileTap:{scale:.95},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[v?S.jsx(Pv,{}):S.jsx(YR,{}),v?"Cancel":"Edit Profile"]})]})}),S.jsx(W.div,{variants:H,style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[{icon:S.jsx(nI,{}),label:"Status",value:r.emailVerified?"Verified ":"Unverified",color:r.emailVerified?"#2CB67D":"#F2B900"},{icon:S.jsx(lI,{}),label:"Provider",value:r.providerData[0]?.providerId?.split(".")[0]||"Google",color:"#7F5AF0"},{icon:S.jsx(Vc,{}),label:"Member Since",value:r.metadata?.creationTime?new Date(r.metadata.creationTime).toLocaleDateString():"N/A",color:"#00D4AA"}].map((X,Z)=>S.jsxs(W.div,{className:"aurora-card",style:{padding:"1.5rem",textAlign:"center",borderLeft:`4px solid ${X.color}`},whileHover:{y:-5},children:[S.jsx("div",{style:{fontSize:"2rem",color:X.color,marginBottom:"0.5rem"},children:X.icon}),S.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:X.label}),S.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:X.value})]},Z))}),S.jsx(Oa,{children:v&&S.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"aurora-card",style:{padding:"2rem"},children:[S.jsx("h3",{style:{marginBottom:"1.5rem"},children:"Edit Profile"}),S.jsxs("form",{onSubmit:b,children:[S.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[S.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[S.jsx(Vc,{size:16})," Display Name"]}),S.jsx("input",{type:"text",className:"aurora-input",value:t,onChange:X=>i(X.target.value),placeholder:"Enter your display name"})]}),S.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[S.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[S.jsx(jv,{size:16})," Email (Read-only)"]}),S.jsx("input",{type:"email",className:"aurora-input",value:a,disabled:!0,style:{opacity:.6}})]}),g&&S.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"1rem",background:g.includes("Error")?"rgba(229, 62, 62, 0.1)":"rgba(44, 182, 125, 0.1)",borderRadius:"8px",marginBottom:"1rem",color:g.includes("Error")?"var(--color-error)":"var(--color-success)"},children:g}),S.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[S.jsx(W.button,{type:"button",className:"aurora-button secondary",onClick:()=>A(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),S.jsx(W.button,{type:"submit",className:"aurora-button",disabled:c,whileHover:{scale:1.02},whileTap:{scale:.98},style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:c?"Saving...":S.jsxs(S.Fragment,{children:[S.jsx(Pv,{})," Save Changes"]})})]})]})]})})]})}const EI=()=>{const{user:r}=Eh(),t=r?.displayName||r?.email?.split("@")[0]||"Guest";return S.jsxs(W.div,{className:"aurora-card",style:{padding:"var(--space-5)",textAlign:"center"},initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[S.jsx(W.div,{style:{width:"80px",height:"80px",margin:"0 auto 1.5rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",borderRadius:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"40px",boxShadow:"0 10px 40px rgba(127, 90, 240, 0.4)"},animate:{rotate:[0,10,-10,0]},transition:{duration:5,repeat:1/0},children:""}),S.jsxs("h1",{style:{fontSize:"2.5rem",marginBottom:"1rem",background:"linear-gradient(135deg, var(--accent-primary), var(--accent-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Welcome, ",t]}),S.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.125rem",marginBottom:"2rem"},children:"Your HomeBase Pro command center is ready"}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",maxWidth:"600px",margin:"0 auto"},children:[{icon:"",label:"Projects",path:"/projects"},{icon:"",label:"Analytics",path:"/analytics"},{icon:"",label:"Termux",path:"/termux"},{icon:"",label:"Profile",path:"/profile"}].map((i,a)=>S.jsx(W.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:S.jsxs(H1,{to:i.path,className:"aurora-card",style:{padding:"1.5rem",textDecoration:"none",color:"var(--text-primary)",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[S.jsx("span",{style:{fontSize:"2rem"},children:i.icon}),S.jsx("span",{style:{fontWeight:600},children:i.label})]})},a))})]})};function AI(){const{user:r,loading:t}=Eh();return t?S.jsx(zo,{}):r?S.jsx(cI,{children:S.jsxs(q1,{children:[S.jsx(Ra,{path:"/",element:S.jsx(EI,{})}),S.jsx(Ra,{path:"/projects",element:S.jsx(hI,{})}),S.jsx(Ra,{path:"/analytics",element:S.jsx(dI,{})}),S.jsx(Ra,{path:"/settings",element:S.jsx(gI,{})}),S.jsx(Ra,{path:"/termux",element:S.jsx(vI,{})}),S.jsx(Ra,{path:"/profile",element:S.jsx(TI,{})}),S.jsx(Ra,{path:"*",element:S.jsx(B1,{to:"/"})})]})}):S.jsx(oI,{})}const qv=()=>{const r=rt.useRef(null),t=rt.useRef(null);return rt.useEffect(()=>{const i=r.current,a=i.getContext("2d"),o=()=>{i.width=window.innerWidth,i.height=window.innerHeight};o(),window.addEventListener("resize",o);const d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),g=14,_=i.width/g,v=[];for(let V=0;V<_;V++)v[V]=Math.random()*-100;let A=0;const b=()=>{if(A++,A%2!==0){t.current=requestAnimationFrame(b);return}a.fillStyle="rgba(10, 10, 16, 0.05)",a.fillRect(0,0,i.width,i.height),a.fillStyle="#0F0",a.font=`${g}px monospace`;for(let V=0;V<v.length;V++){const H=d[Math.floor(Math.random()*d.length)],X=Math.floor(Math.random()*155+100);a.fillStyle=`rgba(0, ${X}, 0, ${Math.random()*.5+.3})`,a.fillText(H,V*g,v[V]*g),v[V]*g>i.height&&Math.random()>.975&&(v[V]=0),v[V]++}t.current=requestAnimationFrame(b)};return b(),()=>{window.removeEventListener("resize",o),t.current&&cancelAnimationFrame(t.current)}},[]),S.jsx("canvas",{ref:r,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,opacity:.15,pointerEvents:"none"}})};class SI{constructor(t,i){this.x=Math.random()*t,this.y=Math.random()*i,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.size=Math.random()*2+1,this.color=Math.random()>.5?"#7F5AF0":"#2CB67D"}update(t,i,a){if(this.x+=this.vx,this.y+=this.vy,(this.x<0||this.x>t)&&(this.vx*=-1),(this.y<0||this.y>i)&&(this.vy*=-1),a.x!==null){const o=a.x-this.x,c=a.y-this.y,d=Math.sqrt(o*o+c*c);if(d<100){const g=(100-d)/100;this.vx+=o/d*g*.02,this.vy+=c/d*g*.02}}}draw(t){t.beginPath(),t.arc(this.x,this.y,this.size,0,Math.PI*2),t.fillStyle=this.color,t.fill()}}const Vd=()=>{const r=rt.useRef(null),t=rt.useRef(null),i=rt.useRef({x:null,y:null});return rt.useEffect(()=>{const a=r.current,o=a.getContext("2d"),c=()=>{a.width=window.innerWidth,a.height=window.innerHeight};c(),window.addEventListener("resize",c);const d=A=>{i.current={x:A.clientX,y:A.clientY}};window.addEventListener("mousemove",d);const g=[];for(let A=0;A<50;A++)g.push(new SI(a.width,a.height));let _=0;const v=()=>{if(_++,_%2!==0){t.current=requestAnimationFrame(v);return}o.clearRect(0,0,a.width,a.height),g.forEach((A,b)=>{A.update(a.width,a.height,i.current),A.draw(o),g.slice(b+1).forEach(V=>{const H=A.x-V.x,X=A.y-V.y,Z=Math.sqrt(H*H+X*X);Z<150&&(o.beginPath(),o.strokeStyle=`rgba(127, 90, 240, ${.2*(1-Z/150)})`,o.lineWidth=.5,o.moveTo(A.x,A.y),o.lineTo(V.x,V.y),o.stroke())})}),t.current=requestAnimationFrame(v)};return v(),()=>{window.removeEventListener("resize",c),window.removeEventListener("mousemove",d),t.current&&cancelAnimationFrame(t.current)}},[]),S.jsx("canvas",{ref:r,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,pointerEvents:"none"}})},Od=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"],bI=r=>{const[t,i]=rt.useState([]),[a,o]=rt.useState(!1);return rt.useEffect(()=>{const c=d=>{const g=[...t,d.key];g.length>Od.length&&g.shift(),i(g),g.length===Od.length&&g.every((v,A)=>v===Od[A])&&!a&&(o(!0),r?.())};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,r,a]),{activated:a,reset:()=>{o(!1),i([])}}},Md=(r,t)=>{const[i,a]=rt.useState([]),o=typeof r=="string"?r.split(""):r;rt.useEffect(()=>{const c=d=>{const g=[...i,d.key.toLowerCase()];g.length>o.length&&g.shift(),a(g),g.length===o.length&&g.every((v,A)=>v===o[A].toLowerCase())&&(t?.(),a([]))};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[i,o,t])},wI=()=>{const[r,t]=rt.useState("normal"),[i,a]=rt.useState("");return bI(()=>{t("god");const o=new Audio;o.volume=.3;const c=new(window.AudioContext||window.webkitAudioContext),d=c.createOscillator(),g=c.createGain();d.connect(g),g.connect(c.destination),d.frequency.setValueAtTime(440,c.currentTime),d.frequency.exponentialRampToValueAtTime(880,c.currentTime+.1),g.gain.setValueAtTime(.3,c.currentTime),g.gain.exponentialRampToValueAtTime(.01,c.currentTime+.5),d.start(c.currentTime),d.stop(c.currentTime+.5)}),Md("matrix",()=>t(o=>o==="matrix"?"normal":"matrix")),Md("hacker",()=>t(o=>o==="hacker"?"normal":"hacker")),Md("particles",()=>t(o=>o==="particles"?"normal":"particles")),rt.useEffect(()=>{if(r==="hacker"){const o="01",c=setInterval(()=>{a(o[Math.floor(Math.random()*o.length)])},50);return()=>clearInterval(c)}},[r]),S.jsxs(S.Fragment,{children:[r==="normal"&&S.jsx(Vd,{}),r==="matrix"&&S.jsx(qv,{}),r==="particles"&&S.jsx(Vd,{}),r==="god"&&S.jsxs(S.Fragment,{children:[S.jsx(qv,{}),S.jsx(Vd,{})]}),r==="hacker"&&S.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 255, 0, 0.05)",zIndex:9999,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"monospace",fontSize:"20vw",color:"rgba(0, 255, 0, 0.1)",fontWeight:"bold"},children:i}),r!=="normal"&&S.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"8px 16px",background:r==="god"?"linear-gradient(135deg, #FFD700, #FF6B35)":"var(--accent-primary)",borderRadius:"8px",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",zIndex:1e4,animation:"pulse 2s infinite",boxShadow:r==="god"?"0 0 30px rgba(255, 215, 0, 0.5)":void 0},children:r==="god"?" GOD MODE ":`${r} mode`})]})};fA.createRoot(document.getElementById("root")).render(S.jsx(F1.StrictMode,{children:S.jsx(G1,{children:S.jsxs(GR,{children:[S.jsx(wI,{}),S.jsx(AI,{})]})})}));
